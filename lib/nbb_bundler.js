import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
import "./nbb_goog_string.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";
var kY=function(){return"@logseq/nbb-logseq"},KOa=function(a){if(a instanceof $APP.t)return new $APP.k(null,1,[$APP.S,a],null);if($APP.me(a)){a=$APP.z.h($APP.Zj,$APP.v(a))?$APP.Kd(a):a;var b=$APP.u(a);a=$APP.v(b);b=$APP.y(b);a=new $APP.k(null,1,[$APP.S,a],null);for(b=$APP.u(b);;)if(b){var c=$APP.v(b);switch(c instanceof $APP.F?c.S:null){case "as":a=$APP.Zh.j(a,$APP.on,$APP.Kd(b));b=$APP.Od(b);continue;case "refer":c=$APP.Kd(b);$APP.me(c)?(a=$APP.Zh.j(a,$APP.Rq,$APP.Kd(b)),b=$APP.Od(b)):b=$APP.Od(b);
continue;default:b=$APP.Od(b)}}else return a}else return null},LOa=function(a){var b=$APP.xf(a);a=$APP.C.h(b,$APP.S);b=$APP.C.h(b,$APP.on);return new $APP.H(null,3,5,$APP.I,[a,$APP.on,b],null)},MOa=function(a){return $APP.Rm.h(function(b){if($APP.me(b)){var c=$APP.v(b);return $APP.z.h($APP.Bm,c)?(b=$APP.Rm.h(KOa,$APP.nd(b)),b=$APP.Gi.h(LOa,b),$APP.Jr.h($APP.Bm,b)):null}return b},a)},NOa=function(a){return $APP.Rm.h(function(b){return $APP.le(b)&&$APP.z.h($APP.Zj,$APP.v(b))?$APP.Kd(b):null},a)},OOa=
function(a){a=NOa($APP.nd(a));a=$APP.Gi.h(KOa,a);return $APP.Jr.h($APP.lD,$APP.Gi.h(function(b){return new $APP.E(null,$APP.Zj,new $APP.E(null,LOa(b),null,1,null),2,null)},a))},POa=function(a){a=NOa($APP.nd(a));a=$APP.Gi.h(function(b){return new $APP.E(null,$APP.Zj,new $APP.E(null,b,null,1,null),2,null)},a);return $APP.u(a)?$APP.Jr.h($APP.YL,a):null},lY=function(a){var b=$APP.q($APP.zp);return[$APP.l(b)?[$APP.p.g(b),":"].join(""):null,$APP.p.g($APP.Xk(a)),":",$APP.p.g($APP.Yk(a))].join("")},QOa=function(a){var b=
$APP.xf(a);a=$APP.C.h(b,$APP.gr);b=$APP.C.h(b,mY);a=$APP.Zh.j(a,$APP.cr,!0);var c=$APP.vf([$APP.Np,$APP.q($APP.Np),$APP.zp,$APP.q($APP.zp),$APP.UM,$APP.Ee]);$APP.bp(c);try{var d=$APP.u(b);b=null;for(var e=c=0;;)if(e<c){for(var f=b.ea(null,e),h=$APP.Bo(f);;){try{var m=$APP.Qt.j(a,h,new $APP.k(null,1,[$APP.Mn,new $APP.bi(null,new $APP.k(null,2,[$APP.Rt,null,$APP.St,null],null),null)],null))}catch(ea){console.log($APP.Ij(ea)),m=console.error("[babashka]","Ignoring read error while assembling uberscript near",
lY(h))}if($APP.z.h($APP.OE,m))break;else if($APP.le(m)){var r=$APP.v(m),n=$APP.z.h($APP.Sj,r)?MOa(m):$APP.z.h($APP.lD,r)?OOa(m):$APP.z.h($APP.YL,r)?POa(m):null;if($APP.l(n))try{$APP.jt(a,n)}catch(ea){console.log(ea),console.error("[babashka]","Ignoring read error while assembling uberscript near",lY(h))}}}e+=1}else{var w=$APP.u(d);if(w){var x=w;if($APP.he(x)){var D=$APP.Kc(x),G=$APP.Lc(x);x=D;var M=$APP.Fd(D);d=G;b=x;c=M}else{f=$APP.v(x);for(var U=$APP.Bo(f);;){try{var Y=$APP.Qt.j(a,U,new $APP.k(null,
1,[$APP.Mn,new $APP.bi(null,new $APP.k(null,2,[$APP.Rt,null,$APP.St,null],null),null)],null))}catch(ea){console.log($APP.Ij(ea)),Y=console.error("[babashka]","Ignoring read error while assembling uberscript near",lY(U))}if($APP.z.h($APP.OE,Y))break;else if($APP.le(Y)){var ba=$APP.v(Y),ca=$APP.z.h($APP.Sj,ba)?MOa(Y):$APP.z.h($APP.lD,ba)?OOa(Y):$APP.z.h($APP.YL,ba)?POa(Y):null;if($APP.l(ca))try{$APP.jt(a,ca)}catch(ea){console.log(ea),console.error("[babashka]","Ignoring read error while assembling uberscript near",
lY(U))}}}d=$APP.y(x);b=null;c=0}e=0}else break}}finally{$APP.dp()}},mY=new $APP.F(null,"expressions","expressions",255689909);(function(){function a(qb){return $APP.dj.h(n,function(vb){return[$APP.p.g(vb),$APP.Yh.h("",vb)?"\n":null,$APP.p.g(qb)].join("")})}var b=$APP.q($APP.JO);b=$APP.xf(b);b=$APP.C.h(b,$APP.cI);var c=$APP.xf(b);b=$APP.C.h(c,$APP.hr);var d=$APP.C.h(c,$APP.eD),e=$APP.C.h(c,$APP.Em);c=$APP.sz.g(b);var f=function(){var qb=$APP.v(d);return $APP.l(qb)?qb:$APP.v(e)}(),h=$APP.cj.g($APP.md),m=$APP.cj.g($APP.pg),r=$APP.cj.g($APP.md),n=$APP.cj.g(""),w=$APP.Et(),x=$APP.ht(w,"(set (map ns-name (all-ns)))");w=$APP.ft(w,
new $APP.k(null,1,[$APP.er,function(qb){qb=$APP.xf(qb);var vb=$APP.C.h(qb,$APP.fr);qb=$APP.C.h(qb,$APP.gr);var Qb=$APP.C.h($APP.oAa,vb);"string"===typeof vb?$APP.dj.j(h,$APP.Ve,$APP.v($APP.Hk.j(vb,/\$/,2))):$APP.z.h($APP.HF,vb)?($APP.dj.j(m,$APP.Ve,"./nbb_reagent.js"),$APP.dj.j(h,$APP.Ve,"react")):$APP.z.h($APP.nK,vb)?$APP.dj.j(m,$APP.Ve,"./nbb_reagent.js"):$APP.z.h($APP.$C,vb)?($APP.dj.j(m,$APP.Ve,"./nbb_reagent_dom_server.js"),$APP.dj.G(h,$APP.Ve,"react","react-dom/server")):$APP.l(Qb)?$APP.dj.j(m,
$APP.Ve,Qb):vb instanceof $APP.t&&!$APP.re(x,vb)&&(vb=$APP.Bk($APP.Bk($APP.p.g(vb),".","/"),"-","_"),vb=$APP.Dka(vb),vb=esm_import$fs.readFileSync(vb,"utf-8"),$APP.dj.j(r,$APP.Ve,vb),QOa(new $APP.k(null,2,[$APP.gr,qb,mY,new $APP.H(null,1,5,$APP.I,[vb],null)],null)));return $APP.wf}],null));if($APP.l(c))return $APP.Ov.l($APP.B(["\nBundle: produce single JS file for usage with bundlers.\n\nUsage:\n\n  nbb bundle \x3cinput.cljs\x3e [opts]\n\nOptions:\n\n -o, --out [file]  Write to file instead of stdout"]));
c=$APP.PO;$APP.PO=!0;try{var D=esm_import$fs.readFileSync(f,"utf-8");$APP.dj.j(r,$APP.Ve,D);QOa(new $APP.k(null,2,[$APP.gr,w,mY,new $APP.H(null,1,5,$APP.I,[D],null)],null));a($APP.VU("import { loadFile, loadString, registerModule } from '%s'",kY()));var G=$APP.u($APP.Cv.g($APP.q(h)));D=null;for(w=f=0;;)if(w<f){var M=D.ea(null,w),U=$APP.kk(M),Y=$APP.Bk($APP.p.g(U),".","_dot_");a($APP.VU("import * as %s from '%s'",Y,M));a($APP.VU("registerModule(%s, '%s')",Y,M));w+=1}else{var ba=$APP.u(G);if(ba){var ca=
ba;if($APP.he(ca)){var ea=$APP.Kc(ca),ma=$APP.Lc(ca);ca=ea;var ta=$APP.Fd(ea);G=ma;D=ca;f=ta}else{var pa=$APP.v(ca),V=$APP.kk(pa),P=$APP.Bk($APP.p.g(V),".","_dot_");a($APP.VU("import * as %s from '%s'",P,pa));a($APP.VU("registerModule(%s, '%s')",P,pa));G=$APP.y(ca);D=null;f=0}w=0}else break}var X=$APP.u($APP.Cv.g($APP.q(m)));G=null;for(U=M=0;;)if(U<M){var Q=G.ea(null,U);a($APP.VU("import '%s/lib/%s'",kY(),Q));U+=1}else{var W=$APP.u(X);if(W){Y=W;if($APP.he(Y)){var ja=$APP.Kc(Y),na=$APP.Lc(Y);Y=ja;
var oa=$APP.Fd(ja);X=na;G=Y;M=oa}else{var Ba=$APP.v(Y);a($APP.VU("import '%s/lib/%s'",kY(),Ba));X=$APP.y(Y);G=null;M=0}U=0}else break}var Fa=$APP.u($APP.Cv.g($APP.q(r)));X=null;for(W=Q=0;;)if(W<Q){var La=X.ea(null,W);a($APP.VU("await loadString(%s)",$APP.aj.l($APP.B([La]))));W+=1}else{var Ra=$APP.u(Fa);if(Ra){ja=Ra;if($APP.he(ja)){var Za=$APP.Kc(ja),ab=$APP.Lc(ja);ja=Za;var nb=$APP.Fd(Za);Fa=ab;X=ja;Q=nb}else{var hb=$APP.v(ja);a($APP.VU("await loadString(%s)",$APP.aj.l($APP.B([hb]))));Fa=$APP.y(ja);
X=null;Q=0}W=0}else break}var ib=$APP.vua.g(b);return $APP.l(ib)?esm_import$fs.writeFileSync(ib,$APP.q(n),"utf-8"):$APP.Ov.l($APP.B([$APP.q(n)]))}finally{$APP.PO=c}})();