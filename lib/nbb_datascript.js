import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var Kbb,Mbb,$_,Obb,Nbb,a0,b0,c0,d0,Pbb,Qbb,Rbb,Sbb,f0,g0,h0,Tbb,i0,j0,k0,l0,m0,Xbb,Ybb,Zbb,$bb,n0,o0,acb,p0,bcb,q0,r0,s0,t0,u0,v0,w0,ccb,y0,z0,A0,C0,B0,dcb,D0,F0,G0,H0,I0,K0,ecb,N0,fcb,O0,M0,P0,gcb,hcb,icb,kcb,R0,S0,T0,lcb,W0,mcb,ncb,qcb,rcb,a1,scb,tcb,ucb,vcb,wcb,h1,i1,j1,k1,xcb,ycb,zcb,Acb,Bcb,l1,m1,n1,o1,p1,q1,t1,u1,v1,w1,Fcb,H1,Gcb,Icb,Jcb,R1,U1,X1,Y1,Ocb,$1,Qcb,c2,Rcb,i2,j2,k2,l2,m2,Scb,n2,p2,Tcb,s2,Ucb,t2,e0,u2,v2,w2,Xcb,y2,Zcb,$cb,adb,edb,fdb,C2,gdb,jdb,kdb,ldb,I2,ndb,pdb,qdb,rdb,sdb,vdb,wdb,
O2,P2,xdb,Q2,ydb,R2,S2,V2,Fdb,Hdb,Idb,X2,Y2,Jdb,$2,a3,Kdb,b3,Ldb,f3,Ndb,Odb,g3,Qdb,Rdb,h3,j3,k3,Pdb,Sdb,l3,Tdb,Udb,Vdb,i3,Wdb,Xdb,Ydb,m3,Zdb,v3,$db,C3,deb,eeb,geb,D3,heb,ieb,E3,F3,G3,meb,neb,H3,oeb,peb,qeb,I3,J3,K3,L3,M3,reb,O3,N3,P3,R3,S3,T3,U3,teb,ueb,veb,web,zeb,V3,Aeb,Beb,W3,X3,Z3,Y3,$3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,Deb,k4,Eeb,l4,Feb,Geb,m4,Ieb,o4,Jeb,p4,q4,r4,s4,Keb,Leb,Neb,t4,u4,v4,w4,x4,y4,z4,A4,B4,Oeb,Peb,C4,Ueb,D4,Veb,Web,Yeb,E4,F4,G4,H4,I4,J4,K4,Zeb,L4,$eb,afb,bfb,cfb,dfb,ffb,O4,gfb,R4,
S4,hfb,jfb,kfb,U4,lfb,mfb,nfb,rfb,ufb,b5,c5,vfb,wfb,xfb,d5,e5,yfb,zfb,Afb,Bfb,f5,Cfb,Ffb,Gfb,l5,Hfb,n5,Ifb,o5,Jfb,Kfb,Lfb,Mfb,Nfb,Ofb,p5,Pfb,Qfb,Rfb,Sfb,Tfb,Ufb,Vfb,Xfb,Yfb,Zfb,u5,$fb,bgb,cgb,B5,C5,D5,dgb,egb,fgb,ggb,agb,A5,hgb,igb,F5,jgb,kgb,lgb,mgb,ngb,ogb,pgb,qgb,rgb,sgb,tgb,G5,ugb,J1,L2,vgb,wgb,xgb,ygb,qfb,Ncb,E2,X4,tdb,zgb,Agb,Bgb,H5,Cgb,T4,Dgb,Egb,e3,Fgb,Seb,Ggb,A3,H2,Hgb,Igb,Jgb,$4,Kgb,y3,idb,Lgb,Mgb,Ngb,o3,Ogb,M1,Pgb,Qgb,Rgb,Sgb,F2,Tgb,Ugb,Vgb,Wgb,Xgb,Ygb,Zgb,I5,$gb,ahb,f2,y5,bhb,chb,dhb,
Z4,Q1,g2,V4,ehb,x5,fhb,L1,B2,ghb,hhb,e2,M4,ihb,J5,jhb,Hcb,khb,odb,K5,lhb,mhb,nhb,Q4,ohb,phb,qhb,tfb,rhb,shb,thb,uhb,r1,L5,udb,vhb,whb,Xeb,Pcb,xhb,X0,G1,yhb,s3,aeb,M5,zhb,d3,Ahb,N4,V1,Ycb,A1,Bhb,O5,Chb,P5,hdb,Qeb,Y0,Dhb,Ehb,Q5,Fhb,t5,N1,R5,Ghb,S5,Hhb,O1,p3,Ihb,Jhb,z5,Khb,Cdb,ofb,Lhb,m5,Mhb,T5,Nhb,U5,Ohb,Phb,Qhb,Rhb,B1,Shb,Thb,Uhb,Vhb,T1,Whb,Xhb,Yhb,Zhb,$hb,V5,leb,yeb,P1,aib,K1,Adb,xeb,bib,Mdb,cib,dib,ocb,I1,eib,Ddb,h5,fib,W5,Bdb,h2,gib,hib,iib,jib,Ceb,J2,kib,lib,Dcb,mib,nib,z2,oib,pib,qib,C1,rib,x3,
t3,sib,X5,Q3,Y5,tib,r5,uib,D2,vib,wib,xib,i5,yib,d2,zib,N2,cdb,pcb,bdb,Aib,Bib,Cib,Dib,Z2,Eib,seb,E1,Fib,Gib,Hib,Iib,g5,Jib,Kib,Lcb,u3,Reb,Teb,G2,F1,Gdb,Meb,Lib,Mib,Z5,Nib,$5,Oib,x2,Pib,a6,w3,Ecb,V0,Qib,$0,Rib,Sib,r3,efb,W4,sfb,Tib,Heb,Uib,Vib,z3,S1,Efb,b6,q3,Dfb,W1,Wib,Xib,Yib,Zib,c6,$ib,ajb,bjb,cjb,d6,djb,w5,ejb,fjb,gjb,Wcb,hjb,ijb,jjb,kjb,Ccb,ljb,Y4,e6,a5,mjb,B3,njb,M2,D1,ojb,f6,pjb,qjb,rjb,sjb,tjb,Z1,o2,g6,pfb,A2,ujb,keb,n4,vjb,Z0,wjb,ifb,xjb,yjb,zjb,Ajb,Bjb,Cjb,n3,Djb,Ejb,h6;
Kbb=function(a,b){a=a.split(".");var c=$APP.Iu;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};Mbb=function(a){return $APP.og(function(b){return $APP.Se(a,b)},Lbb)};$_=function(a,b,c,d,e){this.lg=a;this.ik=b;this.jk=c;this.Nf=d;this.Gb=e;this.J=2147484416;this.M=0};
Obb=function(a,b,c){var d=a.lg,e=a.ik,f=a.jk,l=a.Nf;a=a.Gb;var p=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(p))return new $_(d,$APP.ui.j($APP.Ol.h(e,p),l,b),$APP.ui.j(f,b,l),l+1,a);b=new $_($APP.ui.j(d,b,c),$APP.ui.j(e,l,b),$APP.ui.j(f,b,l),l+1,a);return Nbb.g?Nbb.g(b):Nbb.call(null,b)};Nbb=function(a){if($APP.be(a.lg)>a.Gb){var b=a.lg,c=a.ik,d=a.jk,e=a.Nf;a=a.Gb;var f=$APP.v(c),l=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return new $_($APP.Ol.h(b,f),$APP.Ol.h(c,l),$APP.Ol.h(d,f),e,a)}return a};
a0=function(a,b,c){if(null!=a&&null!=a.ek)a=a.ek(a,b,c);else{var d=a0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=a0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ICache.-get",a);}return a};b0=function(a,b,c){this.Gb=a;this.wg=b;this.Km=c;this.J=393216;this.M=0};c0=function(){var a=new $_($APP.Xf,$APP.Cy(),$APP.Xf,0,100);return new b0(100,$APP.yg(a),$APP.Xf)};
d0=function(a,b){a=a.toString(16);var c=$APP.be(a);return c>b?$APP.Yi.j(a,0,b):c<b?[$APP.m.g($APP.qg.h($APP.m,$APP.jn.h(b-c,"0"))),$APP.m.g(a)].join(""):a};Pbb=function(a,b){return $APP.Vc($APP.ge($APP.af.j(function(c,d){var e=$APP.y.j(c,0,null),f=$APP.y.j(c,1,null),l=a.g?a.g(d):a.call(null,d);return $APP.Se(e,l)?c:new $APP.H(null,2,5,$APP.I,[$APP.Rg.h(e,l),$APP.Rg.h(f,d)],null)},new $APP.H(null,2,5,$APP.I,[$APP.Tc($APP.Ai),$APP.Tc($APP.Sg)],null),b)))};
Qbb=function(a,b){return $APP.af.j(function(c,d){return $APP.k(a.g?a.g(d):a.call(null,d))?$APP.Sd(d):null},null,b)};Rbb=function(a){var b=e0;return $APP.Vc($APP.df(function(c,d,e){return $APP.k(b.g?b.g(d):b.call(null,d))?c:$APP.Ih.j(c,d,e)},$APP.Tc($APP.ne(a)),a))};
Sbb=function(a,b,c){return $APP.v($APP.af.j(function(d,e){var f=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Ud(e)?$APP.Sd(new $APP.H(null,2,5,$APP.I,[e,d],null)):new $APP.H(null,2,5,$APP.I,[e,d+1],null)},new $APP.H(null,2,5,$APP.I,[b,0],null),c))};f0=function(a){return $APP.af.j(function(b,c){b.push(c);return b},[],a)};g0=function(a){return a instanceof Array};
h0=function(a,b){if(null!=a&&null!=a.nk)a=a.nk(a,b);else{var c=h0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=h0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.restore",a);}return a};Tbb=function(a,b){if(null==a||null==a.nm){var c=Tbb[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=Tbb._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.accessed",a);}};
i0=function(a,b,c){if(null!=a&&null!=a.pk)a=a.pk(a,b,c);else{var d=i0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=i0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.store",a);}return a};j0=function(a,b){if(null!=a&&null!=a.mk)a.mk(a,b);else{var c=j0[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=j0._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.delete",a);}};
k0=function(a,b){return 6>b?a>>>5*b&Ubb:Math.floor(a/Vbb[b])&Ubb};l0=function(a,b,c){var d=a<Wbb&&6>b,e=k0(a,b);return a-(d?e<<5*b:e*Vbb[b])+(d?c<<5*b:c*Vbb[b])};m0=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0>(a.h?a.h(l,d):a.call(null,l,d))?e=c+1:f=c-1}else return e};Xbb=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0<(a.h?a.h(l,d):a.call(null,l,d))?f=c-1:e=c+1}else return e};
Ybb=function(a,b,c){var d=b.length,e=m0(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};Zbb=function(a,b,c){var d=b.length;a=m0(a,b,d-1,c);return a===d?-1:a};$bb=function(a,b,c,d,e,f){var l=f.length,p=d-b,u=p+l,t=Array(p+l+(c-e));d-=b;for(var A=0;;)if(A<d)t[A+0]=a[A+b],A+=1;else break;b=l-0;for(l=0;;)if(l<b)t[l+p]=f[l+0],l+=1;else break;c-=e;for(f=0;;)if(f<c)t[f+u]=a[f+e],f+=1;else break;return t};n0=function(a,b,c,d){return $bb(a,0,a.length,b,c,d)};
o0=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,l=Array(f);e=Array(e-f);if(c<=f){for(var p=c-0,u=0;;)if(u<p)l[u+0]=a[u+0],u+=1;else break;a=f-c;for(p=0;;)if(p<a)l[p+c]=b[p+0],p+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{p=f-0;for(u=0;;)if(u<p)l[u+0]=a[u+0],u+=1;else break;p=c-f;for(u=0;;)if(u<p)e[u+0]=a[u+f],u+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[l,e]};
acb=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var l=b[f+c],p=e[f+0];if(0!==(a.h?a.h(l,p):a.call(null,l,p)))return!1;f+=1}else return f};p0=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};bcb=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
q0=function(a){if(null!=a&&null!=a.lj)a=a.lj(a);else{var b=q0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=q0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-lim-key",a);}return a};r0=function(a){if(null!=a&&null!=a.lk)a=a.keys.length;else{var b=r0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=r0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-len",a);}return a};
s0=function(a,b,c){if(null!=a&&null!=a.nj)a=a.nj(a,b,c);else{var d=s0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=s0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("INode.node-merge",a);}return a};t0=function(a,b){if(null!=a&&null!=a.oj)a=a.oj(a,b);else{var c=t0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=t0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("INode.node-merge-n-split",a);}return a};
u0=function(a,b,c,d){if(null!=a&&null!=a.mj)a=a.mj(a,b,c,d);else{var e=u0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=u0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-lookup",a);}return a};
v0=function(a,b,c,d){if(null!=a&&null!=a.jj)a=a.jj(a,b,c,d);else{var e=v0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=v0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-conj",a);}return a};
w0=function(a,b,c,d,e,f,l){if(null!=a&&null!=a.kj)a=a.kj(a,b,c,d,e,f,l);else{var p=w0[$APP.fa(null==a?null:a)];if(null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,l):p.call(null,a,b,c,d,e,f,l);else if(p=w0._,null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,l):p.call(null,a,b,c,d,e,f,l);else throw $APP.Lb("INode.node-disj",a);}return a};
ccb=function(a,b,c,d,e){if($APP.k(b))return[a];if(r0(a)>x0)return bcb(c,a,d);if($APP.k($APP.k(c)?r0(c)<=x0:c))return p0(s0(c,a,e),d);if($APP.k($APP.k(d)?r0(d)<=x0:d))return p0(c,s0(a,d,e));if($APP.k($APP.k(c)?null==d||r0(c)<r0(d):c))return a=t0(c,a),bcb(a[0],a[1],d);a=t0(a,d);return bcb(c,a[0],a[1])};
y0=function(a,b){if(null!=a&&null!=a.og)a=a.og(a,b);else{var c=y0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=y0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStore.store-aux",a);}return a};z0=function(a){a=$APP.ej.h(function(b){return b.yb},a);return f0(a)};A0=function(a,b){$APP.ve(a.vd)&&(b=$APP.r(a.children)?z0(a.children):Array(b),a.vd=b)};C0=function(a,b,c,d,e){c=null==c?$APP.r(b)?z0(b):Array(a.length):c;return new B0(a,b,c,d,e)};
B0=function(a,b,c,d,e){this.keys=a;this.children=b;this.vd=c;this.yb=d;this.Og=e};dcb=function(a,b,c){this.keys=a;this.yb=b;this.Og=c};D0=function(a){if(null!=a&&null!=a.mf)a=a.mf(a);else{var b=D0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=D0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IRoot.-ensure-root-node",a);}return a};
$APP.E0=function(a,b,c,d,e,f,l,p){this.storage=a;this.root=b;this.shift=c;this.S=d;this.pd=e;this.O=f;this.wd=l;this.yb=p;this.J=2297303311;this.M=8332};F0=function(a,b,c){return a instanceof B0?a.Pf(b,c):null};G0=function(a,b){for(var c=a.shift,d=D0(a);;)if(0<c){var e=c-1;d=F0(d,k0(b,c),a.storage);c=e}else return d.keys};H0=function(a,b,c,d){return new $APP.E0(a.storage,b,c,d,a.pd,a.O,null,null)};
I0=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.k(f)?f:F0(a,e,d);b=l0(b,c,e);--c}else return $APP.k(a)?l0(b,0,a.keys.length-1):null};K0=function(a,b){if(0>b)return 0;b=J0(a,D0(a),b,a.shift);return $APP.k(b)?b:I0(D0(a),0,a.shift,a.storage)+1};ecb=function(a,b){if(0<k0(b,a.shift+1))return I0(D0(a),b,a.shift,a.storage);a=L0(a,D0(a),b,a.shift);return $APP.k(a)?a:-1};
N0=function(a){if(0<r0(D0(a))){var b=I0(D0(a),0,a.shift,a.storage);b=K0(a,b);return M0.j?M0.j(a,0,b):M0.call(null,a,0,b)}return null};fcb=function(a,b,c){this.I=a;this.Bb=b;this.end=c;this.J=524306;this.M=0};O0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};M0=function(a,b,c){return new O0(a,b,c,G0(a,b),k0(b,0))};P0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
gcb=function(a,b,c){return new P0(a,b,c,G0(a,c),k0(c,0))};
hcb=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.mf(null),f=0,l=a.shift;;)if($APP.k(e)){var p=r0(e);if(0===l){var u=e.keys;u=m0(d,u,p-1,b);b=p===u?null:l0(f,0,u);break a}u=e.keys;u=m0(d,u,p-2,b);e=F0(e,u,a.storage);f=l0(f,l,u);--l}else{b=null;break a}if(null==b)return null;a:if(null==c)c=I0(a.mf(null),0,a.shift,a.storage)+1;else for(e=a.mf(null),l=0,f=a.shift;;)if($APP.k(e)){p=r0(e);if(0===f){u=e.keys;p=Xbb(d,u,p-1,c);c=l=l0(l,0,p);break a}u=e.keys;p=Xbb(d,u,p-2,c);l=l0(l,f,p);e=F0(e,p,a.storage);
--f}else{c=null;break a}return b<c?new O0(a,b,c,G0(a,b),k0(b,0)):null};icb=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};kcb=function(a){var b=a.length,c=$APP.Tc($APP.Sg);if(0<b)for(var d=0;;){var e=b-d;if(e<=Q0){$APP.Rg.h(c,a.slice(d));break}else e>=jcb+x0?($APP.Rg.h(c,a.slice(d,d+jcb)),d+=jcb):(e>>>=1,$APP.Rg.h(c,a.slice(d,d+e)),d+=e)}return $APP.bf($APP.Vc(c))};
R0=function(a,b,c){b=v0(a.mf(null),c,b,a.storage);if(null!=b)if(1===b.length)a=H0(a,b[0],a.shift,a.S+1);else{c=b.map(q0);var d=z0(b);b=C0(c,b,d,null,!0);a=H0(a,b,a.shift+1,a.S+1)}return a};S0=function(a,b,c){b=w0(a.mf(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof B0&&1===b.children.length?H0(a,b.children[0],a.shift-1,a.S-1):H0(a,b,a.shift,a.S-1)};T0=function(a,b,c){return hcb(a,b,c,a.pd)};lcb=function(a,b,c){a=hcb(a,c,b,a.pd);return null==a?null:$APP.Fc(a)};
W0=function(a,b,c){var d=icb(U0,kcb(b));c=V0.g(c);for(var e=d,f=0;;){var l=$APP.be(e);switch(l){case 0:return new $APP.E0(c,U0.g([]),0,0,a,null,null,null);case 1:return new $APP.E0(c,$APP.v(e),f,b.length,a,null,null,null);default:e=icb(function(){return function(p){var u=p.map(q0);return C0(u,p,null,null,!0)}}(e,f,l,d,c),kcb(e)),f+=1}}};mcb=function(a){var b=V0.g(a),c=U0.g([]),d=X0.g(a);return new $APP.E0(b,c,0,0,$APP.k(d)?d:$APP.We,$APP.nb.g(a),null,null)};
ncb=function(a,b,c,d){d=$APP.Yf(d);d=$APP.C.h(d,Y0);return new $APP.E0(c,null,Z0.g(d),$APP.YJ.g(d),a,null,null,b)};qcb=function(){return new $APP.h(null,2,[$0,Q0,ocb,pcb],null)};rcb=function(a){return"string"!==typeof a&&($APP.Ke(a)||g0(a))};a1=function(a,b){return $APP.zd(a,b)};
$APP.b1=function(a){if(null!=a&&null!=a.ob)a=a.ob(a);else{var b=$APP.b1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.b1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-tx",a);}return a};$APP.c1=function(a){if(null!=a&&null!=a.Md)a=a.Md(a);else{var b=$APP.c1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.c1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-added",a);}return a};
$APP.d1=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.wd=f;this.J=2162164496;this.M=0};scb=function(a){return a instanceof $APP.d1};$APP.f1=function(a){return $APP.qg.h(e1,a)};tcb=function(a,b){return null==a?0:null==b?0:$APP.jf($APP.We(a,b))};ucb=function(a,b){return $APP.Ra($APP.Mb($APP.Jb(a)),$APP.Mb($APP.Jb(b)))};
vcb=function(a,b){var c=$APP.be(a),d=$APP.be(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.ve(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.w(a),b=$APP.w(b);else{if(null==c)return-1;if(null==d)return 1;c=g1(c,d);if($APP.x.h(c,0))a=$APP.w(a),b=$APP.w(b);else return c}}};wcb=function(a,b){return null==a?0:null==b?0:g1(a,b)};h1=function(a,b){var c=a.e-b.e;return 0===c?(c=tcb(a.a,b.a),0===c?(c=wcb(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};
i1=function(a,b){var c=tcb(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=wcb(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};j1=function(a,b){var c=tcb(a.a,b.a);return 0===c?(c=wcb(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};k1=function(a,b){return a instanceof $APP.F?$APP.ad(a,b):$APP.Ra(a,b)};xcb=function(a,b){var c=a.e-b.e;return 0===c?(c=k1(a.a,b.a),0===c?(a=g1(a.v,b.v),0===a?0:a):c):c};
ycb=function(a,b){var c=a.e-b.e;return 0===c?(c=k1(a.a,b.a),0===c?(c=g1(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};zcb=function(a,b){var c=k1(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=g1(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};Acb=function(a,b){var c=k1(a.a,b.a);return 0===c?(c=g1(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};Bcb=function(){};
l1=function(a,b){if(null!=a&&null!=a.cj)a=a.cj(a,b);else{var c=l1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=l1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ISearch.-search",a);}return a};m1=function(a,b){return $APP.v(l1(a,b))};
n1=function(a,b,c,d,e,f){if(null!=a&&null!=a.Zi)a=a.Zi(a,b,c,d,e,f);else{var l=n1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=n1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-datoms",a);}return a};
o1=function(a,b,c,d,e,f){if(null!=a&&null!=a.bj)a=a.bj(a,b,c,d,e,f);else{var l=o1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=o1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-seek-datoms",a);}return a};
p1=function(a,b,c,d,e,f){if(null!=a&&null!=a.aj)a=a.aj(a,b,c,d,e,f);else{var l=p1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=p1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-rseek-datoms",a);}return a};
q1=function(a,b,c,d){if(null!=a&&null!=a.$i)a=a.$i(a,b,c,d);else{var e=q1[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=q1._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("IIndexAccess.-index-range",a);}return a};
t1=function(a,b,c,d,e,f){if($APP.x.h(b,r1)&&null!=c&&!s1(a,c))throw $APP.Yl.h(["Attribute ",$APP.yj.l($APP.z([c]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.Kn,Ccb,Dcb,r1,Ecb,new $APP.H(null,4,5,$APP.I,[c,d,e,f],null)],null));};u1=function(){};v1=function(a){if(null!=a&&null!=a.Yi)a=a.Yi(a);else{var b=v1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=v1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDB.-schema",a);}return a};
w1=function(a,b){if(null!=a&&null!=a.Xi)a=a.Xi(a,b);else{var c=w1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=w1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IDB.-attrs-by",a);}return a};$APP.x1=function(a,b,c,d,e,f,l,p,u,t,A,B,E){this.Gc=a;this.ec=b;this.Ic=c;this.qc=d;this.ad=e;this.bd=f;this.Jc=l;this.Pc=p;this.Oc=u;this.hash=t;this.A=A;this.o=B;this.C=E;this.J=2230716170;this.M=139264};
Fcb=function(a){var b=$APP.Ol.l(a,$APP.y1,$APP.z([$APP.z1,A1,r1,B1,C1,D1,E1,F1,G1]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new $APP.x1($APP.y1.g(a),$APP.z1.g(a),A1.g(a),r1.g(a),B1.g(a),C1.g(a),D1.g(a),E1.g(a),F1.g(a),G1.g(a),null,$APP.Zf(b),null)};H1=function(a,b,c,d,e,f){this.Kc=a;this.gb=b;this.hash=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};Gcb=function(a){return a instanceof H1?a.Kc:a};
Icb=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.I,[I1,J1,K1],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.I,[I1,Hcb,K1],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.I,[L1],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.I,[M1,K1],null);default:return $APP.x.h(N1,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[N1],null):$APP.x.h(K1,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[K1],null):$APP.x.h(O1,a)?new $APP.H(null,
2,5,$APP.I,[P1,K1],null):$APP.Sg}};Jcb=function(a,b){return $APP.af.j(function(c,d){return Sbb(function(e,f,l){return $APP.an.P(e,f,$APP.ui,d,l)},c,O1.g($APP.C.h(a,d)))},$APP.Xf,P1.g(b))};R1=function(a){var b=$APP.df(function(c,d,e){return e instanceof $APP.F?c:$APP.df(function(f,l,p){return $APP.af.j(function(u,t){return $APP.an.F(u,t,Kcb,d)},f,Icb(l,p))},$APP.an.j(c,Q1,function(f){return $APP.k(f)?$APP.vf.h(f,d):$APP.Bi([d])}),e)},$APP.Xf,a);return $APP.ui.j(b,Lcb,Jcb(a,b))};
U1=function(a,b,c,d){if(null!=c&&!$APP.Se(d,c))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([$APP.Wf([a,$APP.Wf([b,c])])])),", expected one of ",$APP.m.g(d)].join(""),new $APP.h(null,4,[$APP.Kn,S1,T1,a,$APP.sF,b,$APP.kK,c],null));};
X1=function(a){for(var b=$APP.r(a),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),l=$APP.y.j(f,0,null),p=$APP.y.j(f,1,null),u=N1.h(p,!1);U1(l,N1,N1.g(p),new $APP.zi(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=u;return $APP.k(Z)?$APP.ti.h(V1.g(p),M1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,N1],null));
U1(l,I1,I1.g(p),new $APP.zi(null,new $APP.h(null,2,[J1,null,Hcb,null],null),null));U1(l,V1,V1.g(p),Mcb);U1(l,W1,W1.g(p),new $APP.zi(null,new $APP.h(null,2,[L1,null,Ncb,null],null),null));if($APP.x.h(P1,V1.g(p))&&!$APP.Se(p,O1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,V1],null));if($APP.Se(p,O1)){f=new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,O1],null);
if($APP.x.h(L1,W1.g(p)))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var t=O1.g(p);if(!$APP.Ae(t))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yj.l($APP.z([t]))].join(""),f);if($APP.ve(t))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t be empty"].join(""),f);t=$APP.r(t);for(var A=null,B=0,E=0;;)if(E<B){var G=A.ea(null,E),O=$APP.ui.j(f,$APP.kK,G);if($APP.Se($APP.C.h(a,
G),O1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([G]))].join(""),O);if($APP.x.h(L1,W1.g($APP.C.h(a,G))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([G]))].join(""),O);E+=1}else if(t=$APP.r(t)){if($APP.Ee(t))B=$APP.cd(t),t=$APP.dd(t),A=B,B=$APP.be(B);else{A=$APP.v(t);B=$APP.ui.j(f,$APP.kK,A);if($APP.Se($APP.C.h(a,A),O1))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);if($APP.x.h(L1,W1.g($APP.C.h(a,A))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);t=$APP.w(t);A=null;B=0}E=0}else break}e+=1}else if(l=$APP.r(b)){b=l;if($APP.Ee(b))c=$APP.cd(b),b=$APP.dd(b),l=c,d=$APP.be(c),c=l;else{c=$APP.v(b);l=$APP.y.j(c,0,null);p=$APP.y.j(c,1,null);var T=N1.h(p,!1);U1(l,N1,N1.g(p),new $APP.zi(null,
new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=T;return $APP.k(Z)?$APP.ti.h(V1.g(p),M1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,N1],null));U1(l,I1,I1.g(p),new $APP.zi(null,new $APP.h(null,2,[J1,null,Hcb,null],null),null));U1(l,V1,V1.g(p),Mcb);U1(l,W1,W1.g(p),new $APP.zi(null,new $APP.h(null,2,[L1,null,Ncb,
null],null),null));if($APP.x.h(P1,V1.g(p))&&!$APP.Se(p,O1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,V1],null));if($APP.Se(p,O1)){c=new $APP.h(null,3,[$APP.Kn,S1,T1,l,$APP.sF,O1],null);if($APP.x.h(L1,W1.g(p)))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=O1.g(p);if(!$APP.Ae(d))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.yj.l($APP.z([d]))].join(""),c);if($APP.ve(d))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.r(d);e=null;for(t=f=0;;)if(t<f){A=e.ea(null,t);B=$APP.ui.j(c,$APP.kK,A);if($APP.Se($APP.C.h(a,A),O1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);if($APP.x.h(L1,W1.g($APP.C.h(a,A))))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);t+=1}else if(d=$APP.r(d)){if($APP.Ee(d))f=$APP.cd(d),d=$APP.dd(d),e=f,f=$APP.be(f);else{e=$APP.v(d);f=$APP.ui.j(c,$APP.kK,e);if($APP.Se($APP.C.h(a,e),O1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([e]))].join(""),f);if($APP.x.h(L1,W1.g($APP.C.h(a,e))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.yj.l($APP.z([e]))].join(""),f);d=$APP.w(d);e=null;f=0}t=0}else break}b=$APP.w(b);c=null;d=0}e=0}else return null};Y1=function(a,b){X1(a);return Fcb($APP.gi([$APP.y1,C1,G1,A1,r1,B1,$APP.z1,F1,E1,D1],[a,536870912,$APP.Aj.g(0),mcb($APP.ui.j(b,X0,i1)),mcb($APP.ui.j(b,X0,j1)),0,mcb($APP.ui.j(b,X0,h1)),c0(),c0(),R1($APP.Nl.l($APP.z([new $APP.h(null,1,[Q1,new $APP.h(null,1,[I1,J1],null)],null),a])))]))};
Ocb=function(a,b,c){var d=function(){var e=lcb(b,e1.F(536870911,null,null,2147483647),e1.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.yL.g(e)}();d=$APP.k($APP.k(d)?0<d:d)?d:0;a=M1.g(a);return $APP.af.j(function(e,f){f=lcb(c,e1.F(536870911,f,536870911,2147483647),e1.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:Z1.g(f);return $APP.k($APP.k(f)?f>e:f)?f:e},d,a)};
$1=function(a,b,c){var d=$APP.v($APP.Oi.h(scb,a));if(null!=d)throw $APP.Yl.h(["init-db expects list of Datoms, got ",$APP.yj.l($APP.z([$APP.Jb(d)]))].join(""),new $APP.h(null,1,[$APP.Kn,Pcb],null));X1(b);d=R1($APP.Nl.l($APP.z([new $APP.h(null,1,[Q1,new $APP.h(null,1,[I1,J1],null)],null),b])));var e=K1.g(d),f=g0(a)?a:f0(a);f.sort(ycb);var l=W0(h1,f,c);f.sort(zcb);f=W0(i1,f,c);a=$APP.Pg.h(function(u){return $APP.Se(e,u.a)},a);a=$APP.bf(a);a.sort(Acb);c=W0(j1,a,c);a=Ocb(d,l,c);var p=$APP.Lx.F($APP.ej.g(function(u){return u.ob(null)}),
$APP.kn,536870912,l);return Fcb($APP.gi([$APP.y1,C1,G1,A1,r1,B1,$APP.z1,F1,E1,D1],[b,p,$APP.Aj.g(0),f,c,a,l,c0(),c0(),d]))};Qcb=function(a,b){return $APP.ui.l(a,$APP.y1,b,$APP.z([D1,R1($APP.Nl.l($APP.z([new $APP.h(null,1,[Q1,new $APP.h(null,1,[I1,J1],null)],null),b]))),E1,c0(),F1,c0(),G1,$APP.Aj.g(0)]))};
$APP.b2=function(a){var b=$APP.Yf(a);a=$APP.C.h(b,$APP.y1);b=$APP.C.h(b,$APP.a2);return $1($APP.ej.h(function(c){var d=$APP.y.j(c,0,null),e=$APP.y.j(c,1,null),f=$APP.y.j(c,2,null);c=$APP.y.j(c,3,null);return e1.F(d,e,f,c)},b),a,$APP.Xf)};c2=function(a,b,c,d,e,f,l,p){this.ce=a;this.be=b;this.ge=c;this.ee=d;this.he=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
Rcb=function(a){var b=$APP.Ol.l(a,d2,$APP.z([e2,f2,g2,h2]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new c2(d2.g(a),e2.g(a),f2.g(a),g2.g(a),h2.g(a),null,$APP.Zf(b),null)};i2=function(){return null};j2=function(){return null};k2=function(){return null};l2=function(){return null};m2=function(){return null};Scb=function(){return null};n2=function(){return null};
p2=function(a){if(a instanceof $APP.F)return n2(a)?$APP.fj.h($APP.Bf(a),$APP.Yi.h($APP.Fi(a),1)):$APP.fj.h($APP.Bf(a),["_",$APP.Fi(a)].join(""));if("string"===typeof a){var b=$APP.Ui(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.y.j(b,0,null);a=$APP.y.j(b,1,null);b=$APP.y.j(b,2,null);return $APP.x.h("_",$APP.y.h(b,0))?$APP.k(a)?[$APP.m.g(a),"/",$APP.Yi.h(b,1)].join(""):$APP.Yi.h(b,1):$APP.k(a)?[$APP.m.g(a),"/_",$APP.m.g(b)].join(""):["_",$APP.m.g(b)].join("")}throw $APP.Yl.h(["Bad attribute type: ",$APP.yj.l($APP.z([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,o2,T1,a],null));};Tcb=function(a,b,c){return $APP.on.j(function(d,e){return q2(a,d)&&$APP.Ae(e)?r2(a,e):e},O1.g($APP.C.h(v1(a),b)),c)};s2=function(){return null};Ucb=function(){return null};t2=function(){this.id=$APP.Bj.h(Vcb,$APP.Pd);this.J=2147483648;this.M=0};e0=function(){return null};u2=function(a){return $APP.jf(C1.g(d2.g(a)))+1};
v2=function(a){return $APP.x.h(a,Wcb)||$APP.x.h(a,":db/current-tx")||$APP.x.h(a,"datomic.tx")||$APP.x.h(a,"datascript.tx")};w2=function(a){return"number"===typeof a&&0>a||"string"===typeof a||e0(a)};Xcb=function(a,b){return b>B1.g(a)&&536870912>b?$APP.ui.j(a,B1,b):a};
y2=function(a,b,c){var d=v2(b)?$APP.an.ja($APP.an.P(a,g2,$APP.ui,b,c),x2,$APP.an,c,Kcb,b):a;d=w2(b)?$APP.an.ja($APP.an.P(d,g2,$APP.ui,b,c),x2,$APP.an,c,Kcb,b):d;if(b=!w2(b))a=e2.g(a),b=c>B1.g(a)&&536870912>c;a=b?$APP.an.P(d,g2,$APP.ui,c,c):d;return $APP.an.F(a,e2,Xcb,c)};
Zcb=function(a,b){var c=$APP.y1.g(a),d=b.e,e=b.a,f=b.v;if($APP.x.h(e,Q1)){if($APP.Cb(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.m.g(f)," does not exist"].join(""),d=new $APP.h(null,2,[$APP.Kn,Ycb,T1,f],null),$APP.Yl.h(a,d);return $APP.Ll.j($APP.Jq(a,new $APP.H(null,2,5,$APP.I,[$APP.y1,d],null),$APP.Ol.h(c.g?c.g(f):c.call(null,f),e)),new $APP.H(null,1,5,$APP.I,[$APP.y1],null),function(l){return $APP.Ol.h(l,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.k(b))return $APP.k(c.g?c.g(b):
c.call(null,b))?$APP.Ll.j(a,new $APP.H(null,2,5,$APP.I,[$APP.y1,b],null),function(l){return $APP.Ol.h(l,e)}):$APP.Ll.j(a,new $APP.H(null,2,5,$APP.I,[$APP.y1,d],null),function(l){return $APP.Ol.l(l,e,$APP.z([f]))});a=["Schema with entity id ",$APP.m.g(d)," does not exist"].join("");d=new $APP.h(null,4,[$APP.Kn,Ycb,z2,d,T1,e,$APP.kK,d],null);throw $APP.Yl.h(a,d);};$cb=function(a){a=$APP.y1.g(a);return $APP.k(a)?a:$APP.Xf};
adb=function(a){return $APP.ui.j(a,D1,R1($APP.Nl.l($APP.z([new $APP.h(null,1,[Q1,new $APP.h(null,1,[I1,J1],null)],null),$cb(a)]))))};
edb=function(a,b){var c=b.Md(null);c=$APP.k(c)?i2(a,b.a,I1):c;if($APP.k(c)&&(c=$APP.Zf(n1(a,r1,b.a,b.v,null,null)),null!=c))throw $APP.Yl.h(["Cannot add ",$APP.yj.l($APP.z([b]))," because of unique constraint: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,bdb,T1,b.a,cdb,b],null));var d=s1(a,b.a);c=b.a;c=ddb.g?ddb.g(c):ddb.call(null,c);if($APP.k(b.Md(null))){a=$APP.an.P(a,$APP.z1,R0,b,ycb);a=$APP.an.P(a,A1,R0,b,zcb);d=d?$APP.an.P(a,r1,R0,b,Acb):a;d=Xcb(d,b.e);d=$APP.ui.j(d,G1,$APP.Aj.g(0));
if($APP.k(c)){var e=$cb(d);c=b.e;a=b.a;b=b.v;if($APP.x.h(a,Q1)){var f=new $APP.H(null,2,5,$APP.I,[$APP.y1,b],null),l=$APP.Nl.l,p=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.Be(p)?$APP.Nl.l($APP.z([p,e])):e;b=$APP.Jq($APP.Jq(d,f,l.call($APP.Nl,$APP.z([$APP.k(e)?e:$APP.Xf,$APP.gi([a],[b])]))),new $APP.H(null,2,5,$APP.I,[$APP.y1,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.k(f)?$APP.k(e.g?e.g(f):e.call(null,f))?$APP.Jq(d,new $APP.H(null,3,5,$APP.I,[$APP.y1,f,a],null),b):$APP.Jq(d,
new $APP.H(null,3,5,$APP.I,[$APP.y1,c,a],null),b):$APP.Jq(d,new $APP.H(null,2,5,$APP.I,[$APP.y1,c],null),$APP.gi([a],[b]));b=adb(b)}else b=d;return b}e=m1(a,new $APP.H(null,3,5,$APP.I,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.an.P(a,$APP.z1,S0,e,ycb);a=$APP.an.P(a,A1,S0,e,zcb);d=d?$APP.an.P(a,r1,S0,e,Acb):a;d=$APP.ui.j(d,G1,$APP.Aj.g(0));return $APP.k(c)?adb(Zcb(d,b)):d};
fdb=function(a,b,c,d,e){return $APP.df(function(f,l,p){var u=$APP.C.h(f,l);$APP.k(u)||(u=Z1.g($APP.v(n1(c,$APP.z1,d,l,null,null))),u=$APP.k(u)?u:$APP.cf($APP.jn.h($APP.be(O1.g($APP.C.h(v1(c),l))),null)));p=$APP.ui.j(u,p,e);return $APP.ui.j(f,l,p)},a,b)};
C2=function(a,b){var c=e2.g(a),d=A2.g(b);a=$APP.an.F($APP.ui.j(a,e2,edb(c,b)),f2,$APP.vf,b);if(Scb(c,d)){var e=$APP.yL.g(b);b=$APP.k($APP.c1(b))?Z1.g(b):null;var f=$APP.C.h(B2.g(a),e);f=$APP.k(f)?f:$APP.Xf;d=$APP.C.h(w1(c,Lcb),d);c=fdb(f,d,c,e,b);return $APP.an.P(a,B2,$APP.ui,e,c)}return a};
gdb=function(a,b){function c(f,l){return $APP.af.j(function(p,u){var t=d(f,u);return null==t?$APP.an.F(p,0,$APP.vf,u):$APP.an.P(p,1,$APP.ui,u,t)},new $APP.H(null,2,5,$APP.I,[$APP.Sg,$APP.Xf],null),l)}function d(f,l){return q2(a,f)?w2(l)?null:$APP.yL.g($APP.v(n1(a,r1,f,s2(a,l),null,null))):$APP.yL.g($APP.v(n1(a,r1,f,l,null,null)))}var e=$APP.Zf(w1(a,J1));return null==e?new $APP.H(null,2,5,$APP.I,[b,null],null):$APP.df(function(f,l,p){var u=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);if(!(l instanceof $APP.F||
"string"===typeof l))throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([l]))," at ",$APP.yj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,l,D2,b,$APP.Kn,o2],null));if(null==p)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.kK,null,D2,b,$APP.Kn,o2],null));if($APP.Se(e,l)){if(k2(a,l,p)){var t=c(l,p);p=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.ve(p)?u:$APP.ui.j(u,
l,p),$APP.ve(t)?f:$APP.ui.j(f,l,t)],null)}t=d(l,p);return null==t?new $APP.H(null,2,5,$APP.I,[$APP.ui.j(u,l,p),f],null):new $APP.H(null,2,5,$APP.I,[u,$APP.ui.j(f,l,$APP.Wf([p,t]))],null)}return new $APP.H(null,2,5,$APP.I,[$APP.ui.j(u,l,p),f],null)},new $APP.H(null,2,5,$APP.I,[$APP.Xf,$APP.Xf],null),b)};
jdb=function(a,b){var c=$APP.df(function(l,p,u){return $APP.df(function(t,A,B){return $APP.ui.j(t,B,new $APP.H(null,2,5,$APP.I,[p,A],null))},l,u)},$APP.Xf,b);if(2<=$APP.be(c)){b=$APP.v(c);a=$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null);b=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);var e=$APP.ge(c);c=$APP.y.j(e,0,null);var f=$APP.y.j(e,1,null);e=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);throw $APP.Yl.h(["Conflicting upserts: ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[b,d],null)]))," resolves to ",$APP.yj.l($APP.z([a])),
", but ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[e,f],null)]))," resolves to ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,E2,hdb,new $APP.H(null,3,5,$APP.I,[a,b,d],null),idb,new $APP.H(null,3,5,$APP.I,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.y.j(d,0,null);c=$APP.y.j(d,1,null);d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);a=F2.g(a);if(null!=b&&null!=a&&!w2(a)&&$APP.ti.h(b,a))throw $APP.Yl.h(["Conflicting upsert: ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[d,c],null)]))," resolves to ",
$APP.yj.l($APP.z([b])),", but entity already has :db/id ",$APP.yj.l($APP.z([a]))].join(""),new $APP.h(null,3,[$APP.Kn,E2,hdb,new $APP.H(null,3,5,$APP.I,[b,d,c],null),idb,new $APP.h(null,1,[F2,a],null)],null));return b};kdb=function(a,b,c){return n2(b)||j2(a,b)?g0(c)||$APP.we(c)&&!$APP.Be(c)?$APP.x.h($APP.be(c),2)&&i2(a,$APP.v(c),J1)?new $APP.H(null,1,5,$APP.I,[c],null):c:new $APP.H(null,1,5,$APP.I,[c],null):new $APP.H(null,1,5,$APP.I,[c],null)};
ldb=function(a,b){var c=F2.g(b),d=$APP.qg.h($APP.K,$APP.af.j(function(e,f){var l=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return $APP.an.F(e,m2(a,l)?1:0,$APP.vf,new $APP.H(null,2,5,$APP.I,[l,f],null))},new $APP.H(null,2,5,$APP.I,[$APP.Sg,$APP.Sg],null),b));return function l(f){return new $APP.Ff(null,function(){for(var p=f;;){var u=$APP.r(p);if(u){var t=u,A=$APP.v(t),B=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null);if($APP.ti.h(B,F2)){var G=function(){var Z=B;if(Z instanceof $APP.F||"string"===typeof Z)return null;
var ba=$APP.Wf([F2,c,B,E]);throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Z]))," at ",$APP.yj.l($APP.z([ba])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,Z,D2,ba,$APP.Kn,o2],null));}(),O=n2(B),T=O?p2(B):B;if(O&&!q2(a,T))throw $APP.Yl.h(["Bad attribute ",$APP.yj.l($APP.z([B])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.Kn,o2,T1,B,D2,$APP.Wf([F2,c,B,E])],null));if(u=$APP.r(function(Z,ba,da,ia,ma,ya,sa,X,
S,W,U,Y){return function ea(za){return new $APP.Ff(null,function(pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb){return function(){for(;;){var Ab=$APP.r(za);if(Ab){if($APP.Ee(Ab)){var Kb=$APP.cd(Ab),Zb=$APP.be(Kb),cc=$APP.If(Zb);a:for(var Hc=0;;)if(Hc<Zb){var lc=$APP.oe(Kb,Hc);$APP.Mf(cc,q2(a,Na)&&$APP.Be(lc)?$APP.ui.j(lc,p2(fb),mb):xa?new $APP.H(null,4,5,$APP.I,[G2,lc,Na,mb],null):new $APP.H(null,4,5,$APP.I,[G2,mb,Na,lc],null));Hc+=1}else{Kb=!0;break a}return Kb?$APP.Lf($APP.Nf(cc),ea($APP.dd(Ab))):$APP.Lf($APP.Nf(cc),
null)}cc=$APP.v(Ab);return $APP.yf(q2(a,Na)&&$APP.Be(cc)?$APP.ui.j(cc,p2(fb),mb):xa?new $APP.H(null,4,5,$APP.I,[G2,cc,Na,mb],null):new $APP.H(null,4,5,$APP.I,[G2,mb,Na,cc],null),ea($APP.Id(Ab)))}return null}}}(Z,ba,da,ia,ma,ya,sa,X,S,W,U,Y),null,null)}}(p,G,O,T,null,A,B,E,t,u,c,d)(kdb(a,B,E))))return $APP.K.h(u,l($APP.Id(p)))}p=$APP.Id(p)}else return null}},null,null)}(d)};
I2=function(a,b){$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null),f=$APP.y.j(b,4,null);if(!(d instanceof $APP.F||"string"===typeof d))throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([d]))," at ",$APP.yj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,d,D2,b,$APP.Kn,o2],null));if(null==e)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.kK,null,D2,b,$APP.Kn,o2],null));
b=$APP.k(f)?f:u2(a);f=e2.g(a);c=r2(f,c);e=q2(f,d)?r2(f,e):e;var l=e1.F(c,d,e,b);f=j2(f,d)?m1(f,new $APP.H(null,3,5,$APP.I,[c,d,e],null)):m1(f,new $APP.H(null,2,5,$APP.I,[c,d],null));return null==f?C2(a,l):$APP.x.h(f.v,e)?$APP.an.F(a,H2,mdb,l):C2(C2(a,e1.P(c,d,f.v,b,!1)),l)};ndb=function(a,b){var c=u2(a);return C2(a,e1.P(b.e,b.a,b.v,c,!1))};
pdb=function(a,b){return $APP.Eh.j($APP.Ai,$APP.qq.h($APP.Pg.g(function(c){return l2(a,c.a)}),$APP.ej.g(function(c){return new $APP.H(null,2,5,$APP.I,[odb,c.v],null)})),b)};
qdb=function(a,b,c,d,e){var f=$APP.C.h(J2.g(a),d);if(null==f)return b=$APP.ui.j(g2.g(b),d,e),a=$APP.an.P($APP.ui.j(a,g2,b),J2,$APP.ui,d,e),K2(a,c);throw $APP.Yl.h(["Conflicting upsert: ",$APP.yj.l($APP.z([d]))," resolves both to ",$APP.yj.l($APP.z([e]))," and ",$APP.yj.l($APP.z([f]))].join(""),new $APP.h(null,1,[$APP.Kn,E2],null));};
rdb=function(a){var b=e2.g(a);return $APP.df(function(c,d,e){return $APP.df(function(f,l,p){p=$APP.mg($APP.yb,p)?null:p;var u=Z1.g($APP.v(n1(b,$APP.z1,d,l,null,null)));return $APP.x.h(p,u)?f:null==p?$APP.vf.h(f,$APP.re(new $APP.H(null,4,5,$APP.I,[L2,d,l,u],null),new $APP.h(null,1,[M2,!0],null))):$APP.vf.h(f,$APP.re(new $APP.H(null,4,5,$APP.I,[G2,d,l,p],null),new $APP.h(null,1,[M2,!0],null)))},c,e)},$APP.Sg,B2.g(a))};
sdb=function(a){var b=N2.g(a);if($APP.k(b)){var c=$APP.Tc(b);b=function(d,e){return $APP.k($APP.c1(e))?$APP.iy.h(d,$APP.yL.g(e)):d};c=$APP.af.j(b,c,f2.g(a));b=$APP.af.j(b,c,H2.g(a));if(0===$APP.be(b))return $APP.Ol.l(a,N2,$APP.z([H2]));throw $APP.Yl.h(["Tempids used only as value in transaction: ",$APP.yj.l($APP.z([$APP.Ik.g($APP.si($APP.Vc(b)))]))].join(""),new $APP.h(null,2,[$APP.Kn,o2,g2,b],null));}return $APP.Ol.l(a,N2,$APP.z([H2]))};
vdb=function(a){if($APP.k(Mbb(a))){var b;if(b=$APP.Se(a,Q1)){b=Q1.g(a);var c=b instanceof $APP.F||"string"===typeof b;c?(b=$APP.Bf($APP.fj.g(b)),b=$APP.k(b)?$APP.x.h("db",$APP.v($APP.fl.h(b,/\./))):!1):b=c}if(b)throw $APP.Yl.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.h(null,2,[$APP.Kn,tdb,udb,a],null));b=W1.g(a);b=$APP.k(b)?b:V1.g(a);if(b=$APP.k(b))b=Q1.g(a),b=$APP.k(b)?W1.g(a):b,b=!$APP.k(b);if(b)throw $APP.Yl.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.h(null,2,[$APP.Kn,tdb,udb,a],null));}};wdb=function(){};O2=function(a,b,c){if(null!=a&&null!=a.Wl)a=a.Wl(a,b,c);else{var d=O2[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=O2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.-store",a);}return a};
P2=function(a,b){if(null!=a&&null!=a.Vl)a=a.Vl(a,b);else{var c=P2[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=P2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.-restore",a);}return a};xdb=function(a){return new $APP.H(null,4,5,$APP.I,[a.e,a.a,a.v,a.tx],null)};Q2=function(a,b,c,d){this.storage=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};ydb=function(a){return new Q2(a,null,null,null)};
R2=function(a){return $APP.k(a)?$APP.z1.g(a).storage:null};S2=function(a){a=R2(a);return null==a?null:V0.g(a)};
V2=function(a,b,c){$APP.Bj.j(zdb,$APP.vf,a);var d=T2;T2=$APP.yg($APP.Tc($APP.Sg));try{var e=$APP.z1.g(a),f=A1.g(a),l=r1.g(a),p=e.og(null,b),u=f.og(null,b),t=l.og(null,b),A=$APP.Nl.l($APP.z([$APP.gi([$APP.y1,C1,A1,Adb,r1,B1,$APP.z1,Bdb,Cdb,Ddb],[$APP.y1.g(a),C1.g(a),u,$APP.n(U2),t,B1.g(a),p,new $APP.h(null,2,[$APP.YJ,f.S,Z0,f.shift],null),new $APP.h(null,2,[$APP.YJ,l.S,Z0,l.shift],null),new $APP.h(null,2,[$APP.YJ,e.S,Z0,e.shift],null)]),qcb($APP.z1.g(a))]));if($APP.k($APP.k(c)?c:0<$APP.be($APP.n(T2)))){$APP.kd(T2,
$APP.Rg.h($APP.n(T2),new $APP.H(null,2,5,$APP.I,[0,A],null)));$APP.kd(T2,$APP.Rg.h($APP.n(T2),new $APP.H(null,2,5,$APP.I,[1,$APP.Sg],null)));var B=V0.g(b),E=$APP.Fy.g($APP.C.h($APP.n(Edb),B));$APP.Bj.F(Edb,$APP.ui,B,null);O2(B,$APP.Vc($APP.n(T2)),E)}return a}finally{T2=d}};Fdb=function(a,b){return O2(S2(a),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[1,$APP.on.h(function(c){return $APP.on.h(xdb,c)},b)],null)],null),null)};
Hdb=function(a,b){var c=P2(a,0);if(null==c)return null;var d=P2(a,1),e=$APP.Yf(c),f=$APP.C.h(e,Cdb),l=$APP.C.h(e,Ddb),p=$APP.C.h(e,$APP.y1),u=$APP.C.h(e,C1),t=$APP.C.h(e,A1),A=$APP.C.h(e,Adb),B=$APP.C.h(e,r1),E=$APP.C.h(e,B1),G=$APP.C.h(e,$APP.z1);e=$APP.C.h(e,Bdb);U2.rc(null,function(){var T=U2.Ja(null);return T>A?T:A}());b=$APP.Nl.l($APP.z([c,b]));a=ydb(a,b);var O=W2(new $APP.h(null,6,[$APP.y1,p,$APP.z1,ncb(h1,G,a,$APP.ui.j(b,Y0,l)),A1,ncb(i1,t,a,$APP.ui.j(b,Y0,e)),r1,ncb(j1,B,a,$APP.ui.j(b,Y0,
f)),B1,E,C1,u],null));$APP.Bj.j(zdb,$APP.vf,O);return new $APP.H(null,2,5,$APP.I,[O,$APP.on.h(function(T){return $APP.sn.h(function(Z){var ba=$APP.y.j(Z,0,null),da=$APP.y.j(Z,1,null),ia=$APP.y.j(Z,2,null),ma=$APP.y.j(Z,3,null);Z=n1(O,$APP.z1,ba,da,ia,null);Z=$APP.og(function(ya){return $APP.x.h(ma,Gdb.g(ya))},Z);return $APP.k($APP.k(Z)?0<ma:Z)?null:e1.F(ba,da,ia,ma)},T)},d)],null)};
Idb=function(a,b){return $APP.af.j(function(c,d){if($APP.ve(d))return c;try{var e=$APP.af.j(edb,c,d);return $APP.ui.j(e,C1,Gdb.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};X2=function(a){return null==V0.g(a)?a:$APP.an.F(a,V0,ydb,a)};Y2=function(a,b,c,d){this.Rg=a;this.tg=b;this.lb=c;this.O=d;this.M=98306;this.J=6455552};Jdb=function(a,b){if(null!=a&&!$APP.k(a.g?a.g(b):a.call(null,b)))throw $APP.Yl.h("Invalid reference state",new $APP.h(null,1,[$APP.kK,b],null));};
$2=function(a,b,c){var d=$APP.n(a);b=$APP.qg.j(b,d,c);Jdb(a.tg,b);$APP.Rba(a.Rg,$APP.ui.j($APP.n(a.Rg),Z2,d),$APP.ui.j($APP.n(a.Rg),Z2,b));a:{c=$APP.r(a.lb);for(var e=null,f=0,l=0;;)if(l<f){var p=e.ea(null,l),u=$APP.y.j(p,0,null);p=$APP.y.j(p,1,null);p.F?p.F(u,a,d,b):p.call(null,u,a,d,b);l+=1}else if(c=$APP.r(c))$APP.Ee(c)?(e=$APP.cd(c),c=$APP.dd(c),u=e,f=$APP.be(e),e=u):(e=$APP.v(c),u=$APP.y.j(e,0,null),p=$APP.y.j(e,1,null),p.F?p.F(u,a,d,b):p.call(null,u,a,d,b),c=$APP.w(c),e=null,f=0),l=0;else break a}return new $APP.H(null,
2,5,$APP.I,[d,b],null)};a3=function(a,b,c,d){return new Y2(a,b,c,d)};Kdb=function(a){a=$APP.Aj.g(a);return a3.g?a3.g(a):a3.call(null,a)};b3=function(a){switch(arguments.length){case 2:return b3.h(arguments[0],arguments[1]);case 3:return b3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};Ldb=function(a,b){return e2.g(b3.h(a,b))};
f3=function(a){if(null==S2(a))return Kdb(new $APP.h(null,1,[Z2,a],null));c3.g(a);return Kdb(new $APP.h(null,3,[Z2,a,d3,$APP.Sg,e3,a],null))};
Ndb=function(a,b,c){var d=$APP.yg(null),e=Mdb.g(c),f=$APP.Ol.h(c,Mdb);$APP.Bj.h(a,function(u){u=b3.j(u,b,f);$APP.kd(d,u);return e2.g(u)});if(null!=S2($APP.n(a))){c=$APP.n(d);var l=$APP.Yf(c);c=$APP.C.h(l,e2);var p=$APP.C.h(l,f2);l=qcb($APP.z1.g(c));a=$APP.WH.g(a);p=d3.g($APP.Bj.l(a,$APP.an,d3,$APP.vf,$APP.z([p])));$APP.k(e)||($APP.Lx.F($APP.ej.g($APP.be),$APP.Mx,0,p)>$0.g(l)?(V2(c,R2(c),!1),$APP.Bj.l(a,$APP.ui,d3,$APP.Sg,$APP.z([e3,c]))):Fdb(c,p))}return $APP.n(d)};
Odb=function(a,b){b=$APP.Bj.j(a,Qcb,b);null!=S2($APP.n(a))&&(V2(b,R2(b),!0),$APP.Bj.l($APP.WH.g(a),$APP.ui,d3,$APP.Sg,$APP.z([e3,b])));return b};g3=function(a,b){b="number"===typeof b||$APP.Ae(b)||b instanceof $APP.F?s2(a,b):null;if($APP.k(b)&&Ucb(a,b)){var c=$APP.yg(!1),d=$APP.yg($APP.Xf);return Pdb.F?Pdb.F(a,b,c,d):Pdb.call(null,a,b,c,d)}return null};
Qdb=function(a,b,c){return j2(a,b)?q2(a,b)?$APP.af.j(function(d,e){return $APP.vf.h(d,g3(a,Z1.g(e)))},$APP.Ai,c):$APP.af.j(function(d,e){return $APP.vf.h(d,Z1.g(e))},$APP.Ai,c):q2(a,b)?g3(a,Z1.g($APP.v(c))):Z1.g($APP.v(c))};Rdb=function(a,b,c,d){b=$APP.Zf(l1(a,new $APP.H(null,3,5,$APP.I,[null,c,b],null)));return $APP.k(b)?l2(a,c)?g3(a,$APP.yL.g($APP.v(b))):$APP.af.j(function(e,f){return $APP.vf.h(e,g3(a,$APP.yL.g(f)))},$APP.Ai,b):d};h3=function(a){return $APP.k(a)?$APP.bf(a):null};
j3=function(a){i3.g?i3.g(a):i3.call(null,a);return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){if($APP.Ee(e)){var f=$APP.cd(e),l=$APP.be(f),p=$APP.If(l);a:for(var u=0;;)if(u<l){var t=$APP.oe(f,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);$APP.Mf(p,j2(a.db,A)?new $APP.H(null,2,5,$APP.I,[A,h3(t)],null):new $APP.H(null,2,5,$APP.I,[A,t],null));u+=1}else{f=!0;break a}return f?$APP.Lf($APP.Nf(p),d($APP.dd(e))):$APP.Lf($APP.Nf(p),null)}f=$APP.v(e);p=$APP.y.j(f,0,null);
f=$APP.y.j(f,1,null);return $APP.yf(j2(a.db,p)?new $APP.H(null,2,5,$APP.I,[p,h3(f)],null):new $APP.H(null,2,5,$APP.I,[p,f],null),d($APP.Id(e)))}return null}},null,null)}($APP.n(a.cache))};k3=function(a,b,c,d){this.db=a;this.eid=b;this.Cj=c;this.cache=d;this.J=2162164483;this.M=0};Pdb=function(a,b,c,d){return new k3(a,b,c,d)};Sdb=function(a){return a instanceof k3};l3=function(a,b){return b instanceof k3&&a.db===b.db&&$APP.x.h(a.eid,b.eid)};Tdb=function(a){return a1($APP.yd(a.eid),$APP.la(a.db))};
Udb=function(a,b){return $APP.df(function(c,d,e){return $APP.ui.j(c,d,l2(a,d)?j2(a,d)?$APP.Di($APP.ej.h(i3,e)):i3.g?i3.g(e):i3.call(null,e):e)},$APP.Xf,b)};Vdb=function(a,b){return $APP.af.j(function(c,d){var e=A2.g($APP.v(d));return $APP.ui.j(c,e,Qdb(a,e,d))},$APP.Xf,$APP.Ky.h(A2,b))};i3=function(a){if(null!=a){if(!$APP.k($APP.n(a.Cj))){var b=$APP.Zf(l1(a.db,new $APP.H(null,1,5,$APP.I,[a.eid],null)));$APP.k(b)&&($APP.zg(a.cache,Udb(a.db,Vdb(a.db,b))),$APP.kd(a.Cj,!0))}return a}return null};
Wdb=function(a){return $APP.af.j($APP.Mx,0,a)};Xdb=function(a){return Wdb(a)/$APP.be(a)};
Ydb=function(a){var b=Xdb(a);return Wdb(function(){return function e(d){return new $APP.Ff(null,function(){for(;;){var f=$APP.r(d);if(f){if($APP.Ee(f)){var l=$APP.cd(f),p=$APP.be(l),u=$APP.If(p);a:for(var t=0;;)if(t<p){var A=$APP.oe(l,t)-b;u.add(A*A);t+=1}else{l=!0;break a}return l?$APP.Lf($APP.Nf(u),e($APP.dd(f))):$APP.Lf($APP.Nf(u),null)}u=$APP.v(f)-b;return $APP.yf(u*u,e($APP.Id(f)))}return null}},null,null)}(a)}())/$APP.be(a)};
m3=function(a,b,c,d,e,f,l,p,u,t,A,B,E,G,O){this.as=a;this.Vc=b;this.Gb=c;this.name=d;this.pattern=e;this.wc=f;this.Ca=l;this.Fc=p;this.Hb=u;this.vc=t;this.xc=A;this.sc=B;this.A=E;this.o=G;this.C=O;this.J=2230716170;this.M=139264};
Zdb=function(a){var b=$APP.Ol.l(a,$APP.ko,$APP.z([$APP.Mm,n3,$APP.N,$APP.mH,o3,p3,q3,r3,s3,t3,u3]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new m3($APP.ko.g(a),$APP.Mm.g(a),n3.g(a),$APP.N.g(a),$APP.mH.g(a),o3.g(a),p3.g(a),q3.g(a),r3.g(a),s3.g(a),t3.g(a),u3.g(a),null,$APP.Zf(b),null)};v3=function(a,b,c,d,e,f,l,p){this.ta=a;this.Dd=b;this.Qd=c;this.rd=d;this.Lc=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
$db=function(a){var b=$APP.Ol.l(a,w3,$APP.z([x3,y3,z3,A3]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new v3(w3.g(a),x3.g(a),y3.g(a),z3.g(a),A3.g(a),null,$APP.Zf(b),null)};C3=function(a,b,c){if($APP.k(a))return null;throw $APP.Yl.h(["Expected ",$APP.m.g(b),", got: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,aeb,B3,c],null));};
deb=function(a,b){var c=n2(b),d=c?p2(b):b,e=q2(a,d),f=l2(a,d);a=j2(a,d);if(c){C3(e,"reverse attribute having :db.type/ref",b);var l=!0}else l=null;return Zdb($APP.gi([r3,n3,q3,$APP.N,$APP.ko,u3,t3,s3,$APP.mH],[$APP.ef,a?1E3:null,l,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?beb:f?ceb:beb:null]))};eeb=function(a,b,c){C3("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);C3(j2(a,$APP.N.g(b)),"limit attribute having :db.cardinality/many",$APP.N.g(b))};
geb=function(a,b){var c=function(){var d=$APP.v(b);return D3.h?D3.h(a,d):D3.call(null,a,d)}();if(null==c)return null;C3($APP.pg($APP.be($APP.w(b))),"even number of opts",b);return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);switch(f instanceof $APP.F?f.N:null){case "as":return $APP.ui.j(d,$APP.ko,e);case "limit":return eeb(a,d,e),$APP.ui.j(d,n3,e);case "default":return $APP.ui.j(d,$APP.Mm,e);case "xform":f=$APP.ui.j;var l=$APP.pe(e)?e:null;if($APP.k(l))e=l;else if(l=$APP.C.h(feb,
e),$APP.k(l))e=l;else throw $APP.Yl.h(["Can't resolve symbol ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,2,[$APP.Kn,aeb,B3,e],null));return f.call($APP.ui,d,r3,e);default:return C3(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.rq.h(2,$APP.w(b)))};
D3=function(a,b){var c;!(c=b instanceof $APP.F)&&(c="string"===typeof b)&&(c=new $APP.zi(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.Cb(c));if(c)return deb(a,b);if($APP.Ae(b)){c=geb(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.zi(null,new $APP.h(null,2,[$APP.Fna,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(C3($APP.x.h($APP.be(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,
1,null),c=$APP.y.j(b,2,null),d=D3.h?D3.h(a,d):D3.call(null,a,d),eeb(a,d,c),c=$APP.ui.j(d,n3,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.zi(null,new $APP.h(null,2,[$APP.fL,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(C3($APP.x.h($APP.be(b),3),"['default attr-name any-value]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),c=$APP.y.j(b,2,null),a=D3.h?D3.h(a,d):D3.call(null,a,d),a=$APP.ui.j(a,$APP.Mm,c)):a=null;return $APP.k(a)?a:C3(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};heb=function(a,b){return $APP.og(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.ej.j($APP.Fw,b,$APP.Un.D()))};ieb=function(a,b){var c=$APP.k(q3.g(b))?z3:w3,d=heb(function(e){return $APP.x.h($APP.ko.g(e),$APP.ko.g(b))},$APP.C.h(a,c));return null==d?$APP.an.F(a,c,$APP.vf,b):$APP.an.P(a,c,$APP.ui,d,b)};
E3=function(a,b){C3($APP.Ae(b),"pattern to be sequential?",b);for(var c=$db(new $APP.h(null,3,[w3,$APP.Sg,z3,$APP.Sg,A3,null],null));;){if($APP.ve(b)){var d=c.ta,e=function(){return function(p){p=p.name;var u=new $APP.zi(null,new $APP.h(null,2,[F2,null,":db/id",null],null),null);return u.g?u.g(p):u.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.N.g(p);return p instanceof $APP.F?p:$APP.x.h(":",$APP.Yi.j(p,0,1))?$APP.fj.g($APP.Yi.h(p,1)):$APP.fj.g(p)}}(b,c,d,e);d=$APP.k(function(){var p=
c.Lc;return $APP.k(p)?$APP.Cb($APP.og(e,c.ta)):p}())?$APP.vf.h(d,jeb):d;d=$APP.Es.g($APP.Jx.h(b,d));var f=$APP.gs.h(e,d),l=$APP.v(f);f=$APP.me(f);return $db(new $APP.h(null,5,[w3,d,x3,l,y3,f,z3,$APP.Es.g($APP.Jx.h(b,c.rd)),A3,c.Lc],null))}l=$APP.v(b);if($APP.x.h($APP.SI,l)||$APP.x.h("*",l)||$APP.x.h(keb,l))b=$APP.w(b),c=d=$APP.ui.j(c,A3,!0);else if($APP.Be(l))d=$APP.df(function(){return function(p,u,t){var A=D3(a,u);C3(null!=A,"attr-name | attr-expr",u);C3(q2(a,$APP.N.g(A)),"attribute having :db.type/ref",
u);$APP.x.h(leb,t)||$APP.x.h("...",t)?u=$APP.ui.l(A,$APP.mH,null,$APP.z([p3,!0,o3,null])):"number"===typeof t?(C3(0<t,"(positive-num | ...)",$APP.Wf([u,t])),u=$APP.ui.l(A,$APP.mH,null,$APP.z([p3,!0,o3,t]))):u=$APP.ui.j(A,$APP.mH,E3.h?E3.h(a,t):E3.call(null,a,t));return ieb(p,u)}}(b,c,l),c,l),b=$APP.w(b),c=d;else{d=D3(a,l);if(null==d)return C3(!1,"attr-name | attr-expr | map-spec | *",l);b=$APP.w(b);c=d=ieb(c,d)}}};F3=function(a){return null==a?null:$APP.Yb(a)};G3=function(a){return null==a?null:$APP.bc(a)};
meb=function(a,b){return null==a?new $APP.D(null,b,null,1,null):$APP.Vb(a,b)};neb=function(a,b,c){return null==c?a:$APP.Ih.j(a,b,c)};H3=function(a,b,c,d,e){this.db=a;this.bf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};oeb=function(a,b,c,d,e){a=a.bf;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
peb=function(a,b){if(null!=a&&null!=a.ai)a=a.ai(a,b);else{var c=peb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=peb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-merge",a);}return a};qeb=function(a,b){if(null!=a&&null!=a.hh)a=a.hh(a,b);else{var c=qeb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=qeb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-run",a);}return a};
I3=function(a,b,c,d,e){this.value=a;this.ya=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};J3=function(a,b,c,d,e,f){this.pa=a;this.na=b;this.ya=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};K3=function(a,b,c,d,e,f,l,p,u){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ya=f;this.A=l;this.o=p;this.C=u;this.J=2230716170;this.M=139264};
L3=function(a,b,c,d,e,f,l,p,u,t,A){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ta=f;this.ya=l;this.id=p;this.A=u;this.o=t;this.C=A;this.J=2230716170;this.M=139264};M3=function(a,b,c,d,e,f,l,p,u,t){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ta=f;this.id=l;this.A=p;this.o=u;this.C=t;this.J=2230716170;this.M=139264};reb=function(a,b,c,d,e,f,l){return new M3(a,b,c,d,e,f,l,null,null,null)};
O3=function(a,b,c,d,e,f){var l=e.Ca;$APP.k(l)||(l=e.sc,l=$APP.k(l)?e.pattern.Lc:l);if($APP.Cb(l))return d=e.pattern,N3.P?N3.P(a,b,c,d,f):N3.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new I3(new $APP.h(null,1,[F2,f],null),null,null,null,null);l=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(l)?0>=l&&!0:l))return new I3(null,null,null,null,null);b=$APP.vf.h(b,f);c=$APP.k(l)?$APP.an.j(c,e,$APP.ff):$APP.k(e.wc)?$APP.ui.j(c,e,e.wc-1):c;d=$APP.k(e.Ca)?d:e.pattern;return N3.P?N3.P(a,b,
c,d,f):N3.call(null,a,b,c,d,f)};
N3=function(a,b,c,d,e){var f=a.db,l=function(){var p=d.Lc;if($APP.k($APP.k(p)?f instanceof $APP.x1&&!0:p))return T0(f.ec,e1.F(e,null,null,536870912),e1.F(e,null,null,2147483647));if($APP.k(d.Lc))return l1(f,new $APP.H(null,1,5,$APP.I,[e],null));if(null==d.Dd)return null;p=d.Dd.name;var u=d.Qd.name;return f instanceof $APP.x1?T0(f.ec,e1.F(e,p,null,536870912),e1.F(e,u,null,2147483647)):o1(f,$APP.z1,e,null,null,null)}();$APP.k(d.Lc)&&oeb(a,seb,e,null,null);return new L3(b,c,$APP.Tc($APP.Xf),d,F3(d.ta),
G3(d.ta),l,e,null,null,null)};P3=function(a,b){var c=$APP.Yf(a);a=$APP.C.h(c,D2);c=$APP.C.h(c,$APP.mH);b=s2(a.db,b);if(null==b)return null;for(c=new $APP.D(null,N3(a,$APP.Ai,$APP.Xf,c,b),null,1,null);;){b=F3(c);var d=G3(c);if(b instanceof I3){if(null==d)return b.value;c=F3(d);d=G3(d);c=meb(d,peb(c,b))}else c=$APP.af.j(meb,d,qeb(b,a))}};R3=function(a,b,c){c=$APP.Yf(c);c=$APP.C.h(c,Q3);return new $APP.h(null,2,[$APP.mH,a0(Gcb(a).Pc,b,function(){return E3(a,b)}),D2,new H3(a,c,null,null,null)],null)};
S3=function(a,b){return $APP.zb(a)?a[b]:$APP.y.h(a,b)};T3=function(a,b){return $APP.Be(a)?a.g?a.g(b):a.call(null,b):a[b]};U3=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};teb=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};ueb=function(a,b){return null==b.a?-1:0>=$APP.We(a.a,b.a)?-1:1};
veb=function(a){if($APP.ve(A1.g(a)))return $APP.Sg;for(var b=$APP.Tc(new $APP.H(null,1,5,$APP.I,[A2.g($APP.v(A1.g(a)))],null));;){var c=$APP.y.h(b,$APP.be(b)-1),d=e1.j(0,c,null),e=e1.j(2147483647,null,null);c=A2;var f=c.g,l=A1.g(a);d=hcb(l,d,e,ueb);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Rg.h(b,c);else return $APP.Vc(b)}};web=function(a){return $APP.Ea(a,":")?$APP.fj.g($APP.Yi.h(a,1)):a};
zeb=function(a,b){b=$APP.Yf(b);var c=$APP.C.j(b,xeb,$APP.yj),d=$APP.C.j(b,yeb,$APP.m);if($APP.k(S2(a)))throw $APP.Yl.h("serializable doesn't work with databases that have :storage",$APP.Xf);var e=veb(a),f=$APP.Eh.h($APP.Xf,$APP.ej.j($APP.Fw,e,$APP.Un.D())),l=$APP.yg($APP.Tc($APP.Sg)),p=$APP.yg($APP.Tc($APP.Xf));b=teb(function(B,E){E.idx=B|0;B=E.e;var G=E.a;G=f.g?f.g(G):f.call(null,G);var O=E.v;if("string"!==typeof O)if("number"===typeof O)O=Infinity===O?[2]:-Infinity===O?[3]:$APP.k(isNaN(O))?[4]:
O;else if(!$APP.Ie(O))if(O instanceof $APP.F){var T=$APP.C.h($APP.n(p),O);$APP.k(T)?O=T:(T=l.rc(null,$APP.Rg.h(l.Ja(null),O)),T=$APP.be(T)-1,p.rc(null,$APP.Ih.j(p.Ja(null),O,T)),O=T);O=[0,O]}else O=[1,c.g?c.g(O):c.call(null,O)];return[B,G,O,E.tx-536870912]},$APP.z1.g(a));var u=teb(function(B,E){return E.idx},A1.g(a)),t=teb(function(B,E){return E.idx},r1.g(a)),A=function(){var B=$APP.y1.g(a);return c.g?c.g(B):c.call(null,B)}();e=U3(d,e);d=U3(d,$APP.Vc($APP.n(l)));return{count:$APP.be($APP.z1.g(a)),
tx0:536870912,"max-eid":B1.g(a),"max-tx":C1.g(a),schema:A,attrs:e,keywords:d,eavt:b,aevt:u,avet:t}};V3=function(){};Aeb=function(a,b,c){if(null!=a&&null!=a.Eb)a=a.Eb(a,b,c);else{var d=Aeb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Aeb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ITraversable.-collect",a);}return a};
Beb=function(a,b){if(null!=a&&null!=a.Fb)a=a.Fb(a,b);else{var c=Beb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Beb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ITraversable.-collect-vars",a);}return a};W3=function(a,b){return $APP.Ae(a)&&$APP.x.h($APP.be(a),b)};X3=function(a,b){return $APP.Ae(b)?$APP.af.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.vf.h(c,d):$APP.Sd(null)},$APP.Sg,b):null};Z3=function(a,b){return Y3(a,b,$APP.Sg)};
Y3=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.vf.h(c,b):(null!=b?$APP.xd===b.Db||(b.yd?0:$APP.Ib(V3,b)):$APP.Ib(V3,b))?Aeb(b,a,c):rcb(b)?$APP.af.j(function(d,e){return Y3(a,e,d)},c,b):c};$3=function(a){var b=$APP.ve(a);return b?b:$APP.qg.h($APP.Xo,a)};a4=function(a,b){return $APP.re(a,new $APP.h(null,1,[$APP.Ml,b],null))};b4=function(a){var b=$APP.Ml.g($APP.se(a));return $APP.k(b)?b:a};c4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};
d4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};e4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};f4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};g4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};h4=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};
i4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};j4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?new d4(a,null,null,null):null};Deb=function(a){var b=j4(a);if($APP.k(b))return b;throw $APP.Yl.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.yj.l($APP.z([a]))].join(""),new $APP.h(null,2,[$APP.Kn,Ceb,$APP.uB,a],null));};
k4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"$")?new e4(a,null,null,null):null};Eeb=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?null:new h4(a,null,null,null)};l4=function(a){return a instanceof $APP.q&&$APP.Cb(j4(a))&&$APP.Cb(k4(a))&&$APP.Cb($APP.x.h($APP.Rv,a)?new g4(null,null,null):null)&&$APP.Cb($APP.x.h($APP.$I,a)?new c4(null,null,null):null)?new i4(a,null,null,null):null};Feb=function(a){return $APP.k(l4(a))?new d4(a,null,null,null):null};
Geb=function(a){var b=j4(a);if($APP.k(b))return b;b=k4(a);return $APP.k(b)?b:Eeb(a)};m4=function(a,b,c,d,e){this.required=a;this.ue=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Ieb=function(a){if($APP.Ae(a)){var b=$APP.Ae($APP.v(a))?new $APP.H(null,2,5,$APP.I,[$APP.v(a),$APP.w(a)],null):new $APP.H(null,2,5,$APP.I,[null,a],null),c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=X3(Deb,c);b=X3(Deb,b);if($APP.ve(c)&&$APP.ve(b))throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,Heb,$APP.uB,a],null));if(!$APP.k($3($APP.K.h(c,b))))throw $APP.Yl.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.Kn,Heb,$APP.uB,
a],null));return new m4(c,b,null,null,null)}throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,Heb,$APP.uB,a],null));};o4=function(a){return $APP.K.h($APP.k($APP.BI.g(a))?new $APP.H(null,1,5,$APP.I,[$APP.on.h($APP.zm,$APP.BI.g(a))],null):null,$APP.on.h($APP.zm,n4.g(a)))};Jeb=function(a){return new $APP.H(null,2,5,$APP.I,[$APP.be($APP.BI.g(a)),$APP.be(n4.g(a))],null)};
p4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};q4=function(a,b,c,d){this.bc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};r4=function(a,b,c,d){this.Mc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};s4=function(a,b,c,d){this.$b=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Keb=function(a){return $APP.x.h($APP.$I,a)?a4(new p4(null,null,null),a):null};
Leb=function(a){var b=Keb(a);return $APP.k(b)?b:t4.g?t4.g(a):t4.call(null,a)};Neb=function(a){var b=X3(Leb,a);if($APP.k(b)){if($APP.ve(b))throw $APP.Yl.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.Kn,Meb,$APP.uB,a],null));return a4(new r4(b,null,null,null),a)}return null};
t4=function(a){a:{if(W3(a,2)&&$APP.x.h($APP.ge(a),leb)){var b=$APP.v(a);b=t4.g?t4.g(b):t4.call(null,b);if($APP.k(b)){b=a4(new s4(b,null,null,null),a);break a}throw $APP.Yl.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.Kn,Meb,$APP.uB,a],null));}b=null}if($APP.k(b))return b;b=W3(a,1)&&$APP.Ae($APP.v(a))?a4(new s4(Neb($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=Neb(a);if($APP.k(b))return b;b=Keb(a);if($APP.k(b))return b;b=j4(a);b=$APP.k(b)?a4(new q4(b,null,null,null),a):
null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,Meb,$APP.uB,a],null));};u4=function(a){if(null!=a&&null!=a.$h)a=a.$h(a);else{var b=u4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=u4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindVars.-find-vars",a);}return a};
v4=function(a,b,c,d,e){this.ma=a;this.Aa=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};w4=function(a,b,c,d,e,f){this.source=a;this.bc=b;this.pattern=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};x4=function(a){if(null!=a&&null!=a.gh)a=a.gh(a);else{var b=x4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=x4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindElements.find-elements",a);}return a};
y4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};z4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};A4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};B4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Oeb=function(a){return a instanceof v4};Peb=function(a){return a instanceof w4};
C4=function(a){var b=j4(a);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),Qeb)){if(3<=$APP.be(a)&&4>=$APP.be(a)){var c=(b=$APP.x.h($APP.be(a),4))?$APP.y.h(a,1):Reb;b=b?$APP.le(a):$APP.w(a);var d=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=k4(c);d=j4(d);var e=j4(b);$APP.k(e)?b=e:(e=Feb(b),b=$APP.k(e)?e:Eeb(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new w4(c,d,b,null,null,null);break a}}throw $APP.Yl.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.Kn,Seb,B3,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),Teb)){if(3<=$APP.be(a)&&(b=$APP.r(a),$APP.v(b),c=$APP.w(b),b=$APP.v(c),c=$APP.w(c),b=j4(b),c=X3(Geb,c),$APP.k($APP.k(b)?c:b))){b=new v4(b,c,null,null,null);break a}throw $APP.Yl.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.Kn,Seb,B3,a],null));}b=null}$APP.k(b)?a=b:$APP.Ae(a)&&2<=$APP.be(a)?(b=$APP.r(a),a=$APP.v(b),b=$APP.w(b),a=l4(a),
b=X3(Geb,b),a=$APP.k($APP.k(a)?b:a)?new v4(a,b,null,null,null):null):a=null;return a};
Ueb=function(a){var b=X3(C4,a);b=null==b?null:new y4(b,null,null,null);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.be(a),1)&&(b=$APP.v(a),$APP.Ae(b)&&$APP.x.h($APP.be(b),2)&&$APP.x.h($APP.ge(b),leb))){b=C4($APP.v(b));b=null==b?null:new z4(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.be(a),2)&&$APP.x.h($APP.ge(a),$APP.yk)?(b=C4($APP.v(a)),b=null==b?null:new A4(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.be(a),1)?(b=$APP.v(a),
b=X3(C4,b),b=null==b?null:new B4(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.Kn,Seb,B3,a],null));};D4=function(a,b,c,d,e){this.type=a;this.Ce=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Veb=function(a,b){if(!$APP.ve(b)&&$APP.mg($APP.Ad,b))switch(a instanceof $APP.F?a.N:null){case "keys":return new D4(a,$APP.on.h($APP.fj,b),null,null,null);case "syms":return new D4(a,$APP.cf(b),null,null,null);case "strs":return new D4(a,$APP.on.h($APP.m,b),null,null,null);default:return null}else return null};Web=function(a){var b=k4(a);$APP.k(b)||(b=$APP.x.h($APP.Rv,a)?new g4(null,null,null):null,b=$APP.k(b)?b:Feb(a));return $APP.k(b)?a4(new q4(b,null,null,null),a):t4(a)};
Yeb=function(a){var b=X3(Web,a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,Xeb,$APP.uB,a],null));};E4=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};F4=function(a,b,c,d,e){this.ma=a;this.Aa=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
G4=function(a,b,c,d,e,f){this.ma=a;this.Aa=b;this.$b=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};H4=function(a,b,c,d,e,f){this.source=a;this.name=b;this.Aa=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};I4=function(a,b,c,d,e,f){this.source=a;this.cc=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};J4=function(a,b,c,d,e,f){this.source=a;this.Sd=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};
K4=function(a,b,c,d){this.Ha=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Zeb=function(a){var b=$APP.x.h($APP.$I,a)?new c4(null,null,null):null;if($APP.k(b))return b;b=j4(a);return $APP.k(b)?b:Eeb(a)};L4=function(a){if($APP.Ae(a)){var b=k4($APP.v(a));return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[b,$APP.w(a)],null):new $APP.H(null,2,5,$APP.I,[new f4(null,null,null),a],null)}return null};
$eb=function(a){if($APP.Ae(a)){var b=$APP.r(a);a=$APP.v(b);b=$APP.w(b);b=null==b?$APP.Sg:b;var c=l4(a);a=$APP.k(c)?c:j4(a);b=X3(Geb,b);return $APP.k($APP.k(a)?b:a)?new $APP.H(null,2,5,$APP.I,[a,b],null):null}return null};afb=function(a,b,c){if($APP.ve(a)&&$APP.ve(b))throw $APP.Yl.h("Join variables should not be empty",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,c],null));};bfb=function(a,b){afb(null,$APP.KJ.g(a),b);return a};
cfb=function(a,b){var c=$APP.Yf(a);c=$APP.C.h(c,N4);var d=$APP.Yf(c);c=$APP.C.h(d,$APP.BI);d=$APP.C.h(d,n4);afb(c,d,b);return a};dfb=function(a){if($APP.Ae(a)&&$APP.x.h($APP.ht,$APP.v(a))){var b=$APP.w(a);b=O4.g?O4.g(b):O4.call(null,b);if($APP.k($APP.Zf(b)))return new K4(b,null,null,null);throw $APP.Yl.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));}return null};
ffb=function(a){a:{var b=L4(a);if($APP.k(b)){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);var d=$APP.r(b);b=$APP.v(d);d=$APP.w(d);if($APP.x.h($APP.FC,b)){b=O4.g?O4.g(d):O4.call(null,d);if($APP.k(b)){c=bfb(a4(new I4(c,$APP.cf($APP.Fy.g(P4($APP.Sg,b))),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));}}c=null}if($APP.k(c))return c;a:{b=L4(a);if($APP.k(b)){c=$APP.y.j(b,0,null);b=$APP.y.j(b,
1,null);d=$APP.r(b);b=$APP.v(d);var e=$APP.w(d);d=$APP.v(e);e=$APP.w(e);if($APP.x.h(efb,b)){b=X3(j4,d);d=O4.g?O4.g(e):O4.call(null,e);if($APP.k($APP.k(b)?d:b)){c=bfb(a4(new I4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));}}c=null}if($APP.k(c))return c;a:{b=L4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),d=$APP.w(d),$APP.x.h($APP.mt,
b))){b=X3($APP.py.h(dfb,ffb),d);if($APP.k(b)){c=cfb(a4(new J4(c,new m4(null,$APP.cf($APP.Fy.g(P4($APP.Sg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));}c=null}if($APP.k(c))return c;a:{b=L4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),e=$APP.w(d),d=$APP.v(e),e=$APP.w(e),$APP.x.h(Q4,b))){b=Ieb(d);d=X3($APP.py.h(dfb,ffb),e);if($APP.k($APP.k(b)?
d:b)){c=cfb(a4(new J4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));}c=null}if($APP.k(c))return c;a:{if(W3(a,1)&&(b=$eb($APP.v(a)),$APP.k(b))){c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=a4(new F4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(W3(a,2)&&(b=$APP.y.j(a,0,null),c=$APP.y.j(a,1,null),d=$eb(b),$APP.k(d))){b=$APP.y.j(d,0,null);d=$APP.y.j(d,
1,null);c=t4(c);c=$APP.k(c)?a4(new G4(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=L4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=$APP.r(b),d=$APP.v(b),b=$APP.w(b),d=l4(d),e=X3(Zeb,b),$APP.k(d))){if($APP.ve(b))throw $APP.Yl.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));if(null==e)throw $APP.Yl.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,
a],null));c=new H4(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=L4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=X3(Zeb,b),$APP.k(b))){if($APP.ve(b))throw $APP.Yl.h("Pattern could not be empty",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));c=a4(new E4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.Yl.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));};O4=function(a){return X3(ffb,a)};gfb=function(a){var b=O4(a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.Kn,M4,$APP.uB,a],null));};R4=function(a,b,c,d,e){this.cc=a;this.Ha=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};S4=function(a,b,c,d,e){this.name=a;this.le=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
hfb=function(a){if($APP.Ae(a)){var b=$APP.r(a),c=$APP.v(b),d=$APP.w(b);if($APP.Ae(c)){b=$APP.r(c);var e=$APP.v(b);c=$APP.w(b);b=function(){var l=l4(e);if($APP.k(l))return l;throw $APP.Yl.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.Kn,T4,$APP.uB,a],null));}();c=Ieb(c);var f=function(){var l=$APP.Zf(O4(d));if($APP.k(l))return l;throw $APP.Yl.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.Kn,T4,$APP.uB,a],null));}();return new $APP.h(null,3,[$APP.N,b,$APP.KJ,
c,$APP.LL,f],null)}throw $APP.Yl.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,T4,$APP.uB,a],null));}throw $APP.Yl.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.Kn,T4,$APP.uB,a],null));};
jfb=function(a,b){var c=$APP.KJ.g($APP.v(b)),d=Jeb(c);b=$APP.r($APP.w(b));for(var e=null,f=0,l=0;;)if(l<f){var p=e.ea(null,l);p=$APP.KJ.g(p);if($APP.ti.h(d,Jeb(p)))throw $APP.Yl.h(["Arity mismatch for rule '",$APP.yj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.yj.l($APP.z([o4(c)]))," vs. ",$APP.yj.l($APP.z([o4(p)]))].join(""),new $APP.h(null,2,[$APP.Kn,T4,ifb,a],null));l+=1}else if(b=$APP.r(b)){if($APP.Ee(b))f=$APP.cd(b),b=$APP.dd(b),e=f,f=$APP.be(f);else{p=$APP.v(b);e=$APP.KJ.g(p);if($APP.ti.h(d,Jeb(e)))throw $APP.Yl.h(["Arity mismatch for rule '",
$APP.yj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.yj.l($APP.z([o4(c)]))," vs. ",$APP.yj.l($APP.z([o4(e)]))].join(""),new $APP.h(null,2,[$APP.Kn,T4,ifb,a],null));b=$APP.w(b);e=null;f=0}l=0}else break};
kfb=function(a){$APP.cf(function(){return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){var f=e;if($APP.Ee(f)){var l=$APP.cd(f),p=$APP.be(l),u=$APP.If(p);return function(){for(var E=0;;)if(E<p){var G=$APP.oe(l,E),O=$APP.y.j(G,0,null),T=$APP.y.j(G,1,null);G=$APP.on.h(function(){return function(Z){return new R4($APP.KJ.g(Z),$APP.LL.g(Z),null,null,null)}}(E,G,O,T,l,p,u,f,e),T);T=u;jfb(O,G);T.add(new S4(O,G,null,null,null));E+=1}else return!0}()?$APP.Lf($APP.Nf(u),d($APP.dd(f))):
$APP.Lf($APP.Nf(u),null)}var t=$APP.v(f),A=$APP.y.j(t,0,null),B=$APP.y.j(t,1,null);t=$APP.on.h(function(){return function(E){return new R4($APP.KJ.g(E),$APP.LL.g(E),null,null,null)}}(t,A,B,f,e),B);jfb(A,t);return $APP.yf(new S4(A,t,null,null,null),d($APP.Id(f)))}return null}},null,null)}($APP.Ej($APP.N,X3(hfb,a)))}())};U4=function(a,b,c,d,e,f,l,p){this.Fd=a;this.Jd=b;this.Hd=c;this.Gd=d;this.Id=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
lfb=function(a){var b=$APP.Ol.l(a,V4,$APP.z([W4,X4,Y4,Z4]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new U4(V4.g(a),W4.g(a),X4.g(a),Y4.g(a),Z4.g(a),null,$APP.Zf(b),null)};mfb=function(a){for(var b=$APP.Xf,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.F?(c=d,a=$APP.w(a)):(b=$APP.Ll.F(b,new $APP.H(null,1,5,$APP.I,[c],null),$APP.Zm.h($APP.vf,$APP.Sg),d),a=$APP.w(a));else return b}};nfb=function(a){var b=$APP.Ml.g(a);return a instanceof E4?b:null!=b?b instanceof f4?null:b:null};
rfb=function(a,b,c){var d=$APP.Di(P4($APP.Sg,V4.g(a))),e=$APP.Di(W4.g(a)),f=$APP.Di(P4($APP.Sg,Y4.g(a))),l=$APP.Di(P4($APP.Sg,Z4.g(a)));f=$APP.bx.h($APP.JM.h(d,e),$APP.JM.h(l,f));d=$APP.cx.h(d,e);if(!$APP.ve(f))throw $APP.Yl.h(["Query for unknown vars: ",$APP.yj.l($APP.z([$APP.on.h($APP.zm,f)]))].join(""),new $APP.h(null,3,[$APP.Kn,$4,$APP.KJ,f,$APP.uB,b],null));if(!$APP.ve(d))throw $APP.Yl.h([":find and :with should not use same variables: ",$APP.yj.l($APP.z([$APP.on.h($APP.zm,d)]))].join(""),new $APP.h(null,
3,[$APP.Kn,$4,$APP.KJ,d,$APP.uB,b],null));d=X4.g(a);if(null!=d){if(V4.g(a)instanceof A4)throw $APP.Yl.h([$APP.yj.l($APP.z([$APP.Tl.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));if(V4.g(a)instanceof z4)throw $APP.Yl.h([$APP.yj.l($APP.z([$APP.Tl.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));}d=a5.g(X4.g(a));if(null!=d&&(e=x4(V4.g(a)),!$APP.x.h($APP.be(d),$APP.be(e))))throw $APP.Yl.h(["Count of ",
$APP.yj.l($APP.z([$APP.Tl.g(X4.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.Kn,$4,ofb,$APP.yf($APP.Tl.g(X4.g(a)),d),pfb,e,$APP.uB,b],null));if(1<$APP.be($APP.Pg.h($APP.Db,new $APP.H(null,3,5,$APP.I,[$APP.RB.g(c),$APP.rs.g(c),qfb.g(c)],null))))throw $APP.Yl.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));var p=P4($APP.Sg,Y4.g(a)),u=Z3(function(A){return A instanceof e4},Y4.g(a)),t=Z3(function(A){return A instanceof g4},Y4.g(a));
if(!$APP.k(function(){var A=$3(p);return $APP.k(A)?(A=$3(u),$APP.k(A)?$3(t):A):A}()))throw $APP.Yl.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));c=P4($APP.Sg,W4.g(a));if(!$APP.k($3(c)))throw $APP.Yl.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));c=Y3(function(A){return A instanceof e4},Y4.g(a),$APP.Ai);d=Y3(function(A){return A instanceof e4},Z4.g(a),$APP.Ai);c=$APP.bx.h(d,c);if(!$APP.ve(c))throw $APP.Yl.h(["Where uses unknown source vars: ",
$APP.yj.l($APP.z([$APP.on.h($APP.zm,c)]))].join(""),new $APP.h(null,3,[$APP.Kn,$4,$APP.KJ,c,$APP.uB,b],null));c=Z3(function(A){return A instanceof H4},Z4.g(a));a=Z3(function(A){return A instanceof g4},Y4.g(a));if(!$APP.ve(c)&&$APP.ve(a))throw $APP.Yl.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,b],null));};
ufb=function(a){if($APP.Be(a))var b=a;else if($APP.Ae(a))b=mfb(a);else throw $APP.Yl.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.Kn,$4,$APP.uB,a],null));var c=b,d=gfb($APP.cG.h(c,$APP.Sg));b=lfb(new $APP.h(null,5,[V4,Ueb(pfb.g(c)),W4,function(){var e=sfb.g(c);if($APP.k(e)){var f=X3(j4,e);if($APP.k(f))e=f;else throw $APP.Yl.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.Kn,tfb,$APP.uB,e],null));}else e=null;return e}(),X4,function(){var e=Veb($APP.RB,
$APP.RB.g(c));if($APP.k(e))return e;e=Veb($APP.rs,$APP.rs.g(c));return $APP.k(e)?e:Veb(qfb,qfb.g(c))}(),Y4,Yeb(function(){var e=$APP.cw.g(c);return $APP.k(e)?e:$APP.ve(Z3(nfb,d))?$APP.Sg:new $APP.H(null,1,5,$APP.I,[Reb],null)}()),Z4,d],null));rfb(b,a,c);return b};b5=function(a,b,c,d,e,f){this.Xe=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};c5=function(a,b,c,d,e){this.ta=a;this.tf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
vfb=function(a,b){return $APP.cx.h($APP.Di($APP.qi(a)),$APP.Di($APP.qi(b)))};wfb=function(a,b){return $APP.x.h($APP.be(a),$APP.be(b))&&$APP.mg(function(c){return $APP.Se(b,c)},$APP.qi(a))&&$APP.mg(function(c){return $APP.Se(a,c)},$APP.qi(b))};xfb=function(a){return a instanceof $APP.q&&$APP.x.h("$",$APP.v($APP.Fi(a)))};d5=function(a){return a instanceof $APP.q&&$APP.x.h("?",$APP.v($APP.Fi(a)))};e5=function(a){return a instanceof $APP.F||"string"===typeof a};
yfb=function(a){return($APP.Ae(a)||g0(a))&&$APP.x.h(2,$APP.be(a))&&e5($APP.v(a))};zfb=function(a,b,c,d){for(var e=b.length,f=d.length,l=Array(e+f),p=0;;)if(p<e)l[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<f)l[e+a]=c[d[a]],a+=1;else break;return l};
Afb=function(a,b,c,d){var e=$APP.cf(function(){return function u(p){return new $APP.Ff(null,function(){for(;;){var t=$APP.r(p);if(t){if($APP.Ee(t)){var A=$APP.cd(t),B=$APP.be(A),E=$APP.If(B);a:for(var G=0;;)if(G<B){var O=$APP.oe(A,G),T=$APP.y.j(O,0,null);O=$APP.y.j(O,1,null);$APP.Mf(E,new $APP.H(null,2,5,$APP.I,[O,a.g?a.g(T):a.call(null,T)],null));G+=1}else{A=!0;break a}return A?$APP.Lf($APP.Nf(E),u($APP.dd(t))):$APP.Lf($APP.Nf(E),null)}A=$APP.v(t);E=$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(new $APP.H(null,
2,5,$APP.I,[A,a.g?a.g(E):a.call(null,E)],null),u($APP.Id(t)))}return null}},null,null)}(c)}()),f=$APP.af.h($APP.kn,$APP.si(a))+1;b=$APP.Vc($APP.af.j(function(l,p){for(var u=Array(f),t=$APP.r(e),A=null,B=0,E=0;;)if(E<B){var G=A.ea(null,E),O=$APP.y.j(G,0,null);G=$APP.y.j(G,1,null);u[G]=p[O];E+=1}else if(t=$APP.r(t))$APP.Ee(t)?(B=$APP.cd(t),t=$APP.dd(t),A=B,B=$APP.be(B)):(B=$APP.v(t),A=$APP.y.j(B,0,null),B=$APP.y.j(B,1,null),u[B]=p[A],t=$APP.w(t),A=null,B=0),E=0;else break;return $APP.Rg.h(l,u)},$APP.Tc($APP.cf(b)),
d));return new c5(a,b,null,null,null)};Bfb=function(a){a=$APP.ej.h($APP.zm,$APP.cf($APP.Fy.g(P4($APP.Sg,a))));return new c5($APP.Gi(a,$APP.Un.D()),$APP.Sg,null,null,null)};f5=function(a,b){if(null!=a&&null!=a.ih)a=a.ih(a,b);else{var c=f5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=f5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IBinding.in-\x3erel",a);}return a};
Cfb=function(a,b){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c instanceof q4&&g5.g(c)instanceof e4?a=$APP.an.P(a,h5,$APP.ui,$APP.rp.h(c,new $APP.H(null,2,5,$APP.I,[g5,$APP.zm],null)),b):c instanceof q4&&g5.g(c)instanceof g4?(c=$APP.ui.j,b="string"===typeof b?$APP.Ym.g(b):b,kfb(b),b=$APP.Ej($APP.he,b),a=c.call($APP.ui,a,$APP.SH,b)):a=$APP.an.F(a,i5,$APP.vf,f5(c,b));return a};
Ffb=function(a,b,c){var d=$APP.be(b),e=$APP.be(c);if(d<e)throw $APP.Yl.h(["Extra inputs passed, expected: ",$APP.yj.l($APP.z([$APP.on.h(function(f){return $APP.Ml.g($APP.se(f))},b)])),", got: ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,Dfb,$APP.PI,b,Efb,c],null));if(d>e)throw $APP.Yl.h(["Too few inputs passed, expected: ",$APP.yj.l($APP.z([$APP.on.h(function(f){return $APP.Ml.g($APP.se(f))},b)])),", got: ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,Dfb,$APP.PI,b,
Efb,c],null));return $APP.af.j(Cfb,a,$APP.Gi(b,c))};Gfb=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.Se(j5,b)){if($APP.Ne(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.Ae(e)?s2(k5,e):g0(e)?s2(k5,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.Ae(e)?s2(k5,e):g0(e)?s2(k5,e):e}}return $APP.Ne(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
l5=function(a,b){var c=$APP.be(b);if(1===c)return Gfb(a,$APP.v(b));b=$APP.ws.g(b);for(var d=0;;)if(d<c)b[d]=Gfb(a,b[d]),d+=1;else return function(e,f,l){return function(p){return $APP.Es.g(f.map(function(){return function(u){return u.g?u.g(p):u.call(null,p)}}(e,f,l)))}}(d,b,c)};Hfb=function(a,b){var c=$APP.Hd;return $APP.Vc($APP.af.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.Ih.j(d,f,$APP.vf.h($APP.C.j(d,f,c),e))},$APP.Tc($APP.Xf),b))};
n5=function(a,b){var c=m5.g(a),d=m5.g(b),e=w3.g(a),f=w3.g(b),l=$APP.cf(vfb(w3.g(a),w3.g(b)));a=$APP.qi(e);b=$APP.Vc($APP.df(function(E,G){return $APP.k(e.g?e.g(G):e.call(null,G))?E:$APP.Rg.h(E,G)},$APP.Tc($APP.Sg),f));var p=$APP.bf($APP.si(e)),u=$APP.bf($APP.tj($APP.ej.g(f),b)),t=l5(e,l),A=l5(f,l),B=Hfb(t,c);c=$APP.Vc($APP.af.j(function(E,G){var O=A(G);O=$APP.C.h(B,O);return null==O?E:$APP.af.j(function(T,Z){return $APP.Rg.h(T,zfb(Z,p,G,u))},E,O)},$APP.Tc($APP.Sg),d));return new c5($APP.Gi($APP.K.h(a,
b),$APP.Un.D()),c,null,null,null)};Ifb=function(a,b){var c=$APP.Yf(a),d=$APP.C.h(c,w3);c=$APP.C.h(c,m5);var e=$APP.Yf(b);b=$APP.C.h(e,w3);e=$APP.C.h(e,m5);var f=$APP.cf(vfb(d,b));b=l5(b,f);var l=Hfb(b,e),p=l5(d,f);return $APP.ui.j(a,m5,$APP.Tg(function(u){u=p(u);return null==(l.g?l.g(u):l.call(null,u))},c))};o5=function(a,b){return $APP.og(function(c){return $APP.Se(w3.g(c),b)?c:null},i5.g(a))};
Jfb=function(a,b){if(d5(b)){var c=o5(a,b);if(null==c)return null;a=$APP.v(m5.g(c));if(null==a)return null;if(null==$APP.je(m5.g(c)))return b=$APP.C.h(w3.g(c),b),a[b]}return null};Kfb=function(a,b){return $APP.on.h(function(c){var d=Jfb(a,c);return $APP.k(d)?d:c},b)};
Lfb=function(a,b){if(null!=a?$APP.xd===a.Wi||(a.yd?0:$APP.Ib(u1,a)):$APP.Ib(u1,a)){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null),f=$APP.y.j(b,3,null);c=yfb(c)||e5(c)?r2(a,c):c;e=$APP.k($APP.k(e)?e5(d)&&q2(a,d)&&(yfb(e)||e5(e)):e)?r2(a,e):e;a=yfb(f)?r2(a,f):f;return $APP.el.j(new $APP.H(null,4,5,$APP.I,[c,d,e,a],null),0,$APP.be(b))}return b};
Mfb=function(a,b,c){a=$APP.on.h(function(d){return $APP.x.h(d,$APP.$I)||d5(d)?null:d},Lfb(b,Kfb(a,c)));b=l1(b,a);c=$APP.Eh.h($APP.Xf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return d5(e)},$APP.ej.j($APP.Fw,c,new $APP.H(null,4,5,$APP.I,["e","a","v","tx"],null))));return new c5(c,b,null,null,null)};
Nfb=function(a,b){a=$APP.Pg.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var l=$APP.v(e);if($APP.x.h(l,$APP.$I)||d5(l)||$APP.x.h(f,l))d=$APP.w(d),e=$APP.w(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Eh.h($APP.Xf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return d5(e)},$APP.ej.j($APP.Fw,b,$APP.Un.D())));return new c5(c,$APP.on.h($APP.bf,a),null,null,null)};
Ofb=function(a,b,c){return(null!=b?$APP.xd===b.dk||(b.yd?0:$APP.Ib(Bcb,b)):$APP.Ib(Bcb,b))?Mfb(a,b,c):Nfb(b,c)};p5=function(a,b){for(var c=$APP.Sg;;){var d=$APP.v(a);if(null==d)return $APP.vf.h(c,b);$APP.k($APP.Zf(vfb(w3.g(b),w3.g(d))))?(a=$APP.w(a),b=n5(d,b)):(a=$APP.w(a),c=$APP.vf.h(c,d))}};Pfb=function(a,b){var c=o5(a,b);if(null==c)return null;a=$APP.v(m5.g(c));null==a?b=null:(c=w3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
Qfb=function(a,b){return $APP.og(function(c){return $APP.Se(w3.g(a),c)},b)};Rfb=function(a,b){var c=$APP.Pg.h(function(e){return Qfb(e,b)},i5.g(a)),d=$APP.af.h(q5,c);return new $APP.H(null,2,5,$APP.I,[$APP.an.j(a,i5,function(e){return $APP.gs.h($APP.Di(c),e)}),d],null)};
Sfb=function(a,b,c,d){a=h5.g(a);b=w3.g(b);for(var e=$APP.be(d),f=Array(e),l=Array(e),p=0;;)if(p<e){var u=$APP.y.h(d,p);if(u instanceof $APP.q){var t=$APP.C.h(a,u);null==t?l[p]=$APP.C.h(b,u):f[p]=t}else f[p]=u;p+=1}else break;return c===$APP.Fw?function(A){for(var B=f.slice(0),E=0;;)if(E<e){var G=l[E];null!=G&&(B[E]=A[G]);E+=1}else break;return $APP.qg.h(c,B)}:function(A){for(var B=0;;)if(B<e){var E=l[B];null!=E&&(f[B]=A[E]);B+=1}else break;return $APP.qg.h(c,f)}};
Tfb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c),f=function(){var u=$APP.C.h(feb,d);if($APP.k(u))return u;u=Pfb(a,d);if($APP.k(u))return u;if($APP.k(null))return null;if(null==o5(a,d))throw $APP.Yl.h(["Unknown predicate '",$APP.yj.l($APP.z([d]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,b,$APP.Uo,d],null));return null}();c=Rfb(a,$APP.Pg.h($APP.Ad,e));var l=$APP.y.j(c,0,null),p=$APP.y.j(c,1,null);c=$APP.k(f)?function(){var u=Sfb(l,
p,f,e);return $APP.an.j(p,m5,function(t){return $APP.Pg.h(u,t)})}():$APP.ui.j(p,m5,$APP.Sg);return $APP.an.F(l,i5,$APP.vf,c)};
Ufb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c);c=$APP.y.j(b,1,null);var f=t4(c),l=function(){var t=$APP.C.h(feb,d);if($APP.k(t))return t;t=Pfb(a,d);if($APP.k(t))return t;if($APP.k(null))return null;if(null==o5(a,d))throw $APP.Yl.h(["Unknown function '",$APP.yj.l($APP.z([d]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,b,$APP.Uo,d],null));return null}();c=Rfb(a,$APP.Pg.h($APP.Ad,e));var p=$APP.y.j(c,0,null),u=$APP.y.j(c,1,null);
c=$APP.k(l)?function(){var t=Sfb(p,u,l,e),A=function(){return function G(E){return new $APP.Ff(null,function(){for(var O=E;;)if(O=$APP.r(O)){if($APP.Ee(O)){var T=$APP.cd(O),Z=$APP.be(T),ba=$APP.If(Z);a:for(var da=0;;)if(da<Z){var ia=$APP.oe(T,da),ma=t(ia);null!=ma&&$APP.Mf(ba,q5.h(new c5(w3.g(u),new $APP.H(null,1,5,$APP.I,[ia],null),null,null,null),f5(f,ma)));da+=1}else{T=!0;break a}return T?$APP.Lf($APP.Nf(ba),G($APP.dd(O))):$APP.Lf($APP.Nf(ba),null)}ba=$APP.v(O);T=t(ba);if(null!=T)return $APP.yf(q5.h(new c5(w3.g(u),
new $APP.H(null,1,5,$APP.I,[ba],null),null,null,null),f5(f,T)),G($APP.Id(O)));O=$APP.Id(O)}else return null},null,null)}(m5.g(u))}();return $APP.ve(A)?q5.h(u,Bfb(f)):$APP.af.h(s5,A)}():q5.h($APP.ui.j(u,m5,$APP.Sg),Bfb(f));return $APP.an.F(p,i5,p5,c)};
Vfb=function(a,b){if($APP.Ae(b)){var c=xfb($APP.v(b))?$APP.ge(b):$APP.v(b);if(c instanceof $APP.q){if(d5(c)||$APP.Se(new $APP.zi(null,new $APP.h(null,6,[$APP.ht,null,$APP.FC,null,efb,null,Q4,null,$APP.mt,null,$APP.$I,null],null),null),c))return!1;if($APP.Se($APP.SH.g(a),c))return!0;throw $APP.Yl.h(["Unknown rule '",$APP.yj.l($APP.z([c]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,r5,$APP.uB,b],null));}}return!1};
Xfb=function(a,b){var c=$APP.r(a),d=$APP.v(c),e=$APP.w(c),f=$APP.Bj.h(Wfb,$APP.Pd),l=$APP.C.h($APP.SH.g(b),d);return function t(u){return new $APP.Ff(null,function(){for(;;){var A=$APP.r(u);if(A){var B=A;if($APP.Ee(B)){var E=$APP.cd(B),G=$APP.be(E),O=$APP.If(G);return function(){for(var na=0;;)if(na<G){var za=$APP.oe(E,na),ea=za,pa=$APP.r(ea),ua=$APP.v(pa),xa=$APP.w(pa),Na=ua,Wa=$APP.r(Na),bb=$APP.v(Wa),fb=$APP.w(Wa),db=bb,kb=fb,hb=xa,mb=$APP.Gi(kb,e);$APP.Mf(O,$APP.At(function(Ab,Kb,Zb,cc,Hc,lc,
Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td,Pe,Hg,Hf,Ri,Xg){return function(ke){if(d5(ke)){var Cg=tg.g?tg.g(ke):tg.call(null,ke);return null==Cg?$APP.kj.g([$APP.Fi(ke),"__auto__",$APP.m.g(Xg)].join("")):Cg}return ke}}(na,ea,pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb,za,E,G,O,B,A,a,c,d,e,d,e,f,l),hb));na+=1}else return!0}()?$APP.Lf($APP.Nf(O),t($APP.dd(B))):$APP.Lf($APP.Nf(O),null)}var T=$APP.v(B),Z=T,ba=$APP.r(Z),da=$APP.v(ba),ia=$APP.w(ba),ma=da,ya=$APP.r(ma),sa=$APP.v(ya),X=$APP.w(ya),S=sa,W=X,U=ia,Y=$APP.Gi(W,
e);return $APP.yf($APP.At(function(na,za,ea,pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe){return function(ng){if(d5(ng)){var Gg=kb.g?kb.g(ng):kb.call(null,ng);return null==Gg?$APP.kj.g([$APP.Fi(ng),"__auto__",$APP.m.g(xe)].join("")):Gg}return ng}}(Z,ba,da,ia,ma,ya,sa,X,S,W,U,Y,T,B,A,a,c,d,e,d,e,f,l),U),t($APP.Id(B)))}return null}},null,null)}(l)};
Yfb=function(a,b){a=$APP.gs.h(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.x.h(d,c)},$APP.ej.j($APP.Fw,a,b));return new $APP.H(null,2,5,$APP.I,[$APP.ej.h($APP.v,a),$APP.ej.h($APP.ge,a)],null)};
Zfb=function(a,b){a=$APP.r(a);var c=$APP.v(a),d=$APP.w(a);return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);a:for(var B=0;;)if(B<t){var E=$APP.oe(u,B),G=Yfb(d,E);E=$APP.y.j(G,0,null);G=$APP.y.j(G,1,null);$APP.Mf(A,new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[t5],null),E,$APP.z([G]))],null));B+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);
u=Yfb(d,A);A=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);return $APP.yf(new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[t5],null),A,$APP.z([u]))],null),l($APP.Id(p)))}return null}},null,null)}($APP.C.h(b,c))};u5=function(a){var b=$APP.Aj.g($APP.Sg);$APP.At(function(c){$APP.k(d5.g?d5.g(c):d5.call(null,c))&&$APP.Bj.j(b,$APP.vf,c);return c},a);return $APP.n(b)};
$fb=function(a,b){function c(e){e=$APP.y.j(e,0,null);e=$APP.r(e);$APP.v(e);e=$APP.w(e);return $APP.mg(d,e)}var d=$APP.Di(u5(a));return new $APP.H(null,2,5,$APP.I,[$APP.Pg.h(c,b),$APP.gs.h(c,b)],null)};
bgb=function(a,b){function c(xa){return $APP.og(function(Na){return $APP.ve(m5.g(Na))},i5.g(xa))}function d(xa,Na){return $APP.af.j(v5,xa,Na)}for(var e=$APP.Pg.h(d5,b),f=$APP.Gi(e,$APP.Un.D()),l=new $APP.D(null,new $APP.h(null,5,[w5,$APP.Sg,x5,a,$APP.LL,new $APP.H(null,1,5,$APP.I,[b],null),y5,$APP.Xf,z5,$APP.Xf],null),null,1,null),p=new c5(f,$APP.Sg,null,null,null);;){var u=$APP.v(l);if(null==u)return p;var t=u,A=$APP.Pi(function(){return function(xa){return!Vfb(a,xa)}}(l,p,t,u,e,f,d,c),$APP.LL.g(t)),
B=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null),G=$APP.r(E),O=$APP.v(G),T=$APP.w(G),Z=O,ba=T;if(null==Z){b=d(x5.g(t),B);b=Pbb($APP.cf,A5?A5(b,e):agb.call(null,b,e));var da=new c5(f,b,null,null,null);b=$APP.w(l);da=s5(p,da);l=b;p=da}else{var ia=Z,ma=$APP.r(ia),ya=$APP.v(ma),sa=$APP.w(ma),X=ya,S=sa,W=Zfb(Z,y5.g(t)),U=$fb($APP.K.h(w5.g(t),B),$APP.K.h(W,z5.g(t))),Y=$APP.y.j(U,0,null),na=$APP.y.j(U,1,null);if($APP.k($APP.og(function(){return function(xa){return $APP.x.h(xa,new $APP.H(null,1,5,$APP.I,[$APP.J(t5)],
null))}}(l,p,ia,ma,ya,sa,X,S,W,U,Y,na,A,B,E,G,O,T,Z,ba,t,u,e,f,d,c),Y)))b=$APP.w(l),da=p,l=b,p=da;else{var za=$APP.K.h(B,Y),ea=d(x5.g(t),za);if($APP.k(c(ea)))b=$APP.w(l),da=p,l=b,p=da;else{var pa=$APP.ui.j(y5.g(t),X,$APP.vf.h($APP.C.j(y5.g(t),X,$APP.Sg),S)),ua=Xfb(Z,a);b=$APP.K.h(function(){return function(xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td){return function Hf(Hg){return new $APP.Ff(null,function(Ri,Xg,ke,Cg,Il,uh,vi,Dn,ik,gq,jk,Yo,Pj,hq,Ue,Jl,
Zo,Bm,Si,Ig,Jg,ud,lf,Oc){return function(){for(;;){var Uf=$APP.r(Hg);if(Uf){if($APP.Ee(Uf)){var iq=$APP.cd(Uf),lu=$APP.be(iq),Vf=$APP.If(lu);a:for(var $o=0;;)if($o<lu){var Vw=$APP.oe(iq,$o);$APP.Mf(Vf,new $APP.h(null,5,[w5,Il,x5,uh,$APP.LL,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([Vw,Oc])),y5,ke,z5,Jl],null));$o+=1}else{iq=!0;break a}return iq?$APP.Lf($APP.Nf(Vf),Hf($APP.dd(Uf))):$APP.Lf($APP.Nf(Vf),null)}Vf=$APP.v(Uf);return $APP.yf(new $APP.h(null,5,[w5,Il,x5,uh,$APP.LL,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([Vf,
Oc])),y5,ke,z5,Jl],null),Hf($APP.Id(Uf)))}return null}}}(xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td),null,null)}}(l,p,pa,ua,za,ea,ia,ma,ya,sa,X,S,W,U,Y,na,A,B,E,G,O,T,Z,ba,t,u,e,f,d,c)(ua)}(),$APP.w(l));da=p;l=b;p=da}}}}};cgb=function(a,b){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null);b=$APP.y.j(b,3,null);c=d5(c)?$APP.vf.h($APP.Ai,c):$APP.Ai;c=d5(b)?$APP.vf.h(c,b):c;return d5(e)&&!d5(d)&&q2(a,d)?$APP.vf.h(c,e):c};
B5=function(a,b){return $APP.ui.j(a,i5,$APP.sn.h(function(c){var d=$APP.Zf($APP.wi(w3.g(c),b));return null==d?null:$APP.ui.j(c,w3,d)},i5.g(a)))};C5=function(a){return $APP.Eh.h($APP.Ai,$APP.Og.l(function(b){return $APP.qi(w3.g(b))},$APP.z([i5.g(a)])))};
D5=function(a,b,c){if($APP.aia(b,a))return null;a=$APP.bx.h($APP.Di(b),a);throw $APP.Yl.h(["Insufficient bindings: ",$APP.yj.l($APP.z([a]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,c,$APP.KJ,a],null));};
dgb=function(a,b,c){b=$APP.on.h(function(d){return $APP.bx.h($APP.Di(u5(d)),a)},b);if($APP.k($APP.qg.h($APP.x,b)))return null;throw $APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([b]))," in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,c,$APP.KJ,b],null));};
egb=function(a,b,c){for(var d=$APP.Di($APP.gs.h(a,b)),e=$APP.r(c),f=null,l=0,p=0;;)if(p<l){c=f.ea(null,p);var u=$APP.Zf($APP.bx.h(d,$APP.Di(u5(c))));if(null!=u)throw e=u,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([e]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,c,$APP.KJ,e],null));p+=1}else if(c=$APP.r(e)){e=c;if($APP.Ee(e))f=$APP.cd(e),e=$APP.dd(e),c=f,l=$APP.be(f),f=c;else{c=$APP.v(e);
f=$APP.Zf($APP.bx.h(d,$APP.Di(u5(c))));if(null!=f)throw e=f,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([e]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,r5,$APP.uB,c,$APP.KJ,e],null));e=$APP.w(e);f=null;l=0}p=0}else return null};fgb=function(a,b){var c=k5;k5=$APP.C.h(h5.g(a),Reb);try{return $APP.af.j(E5,a,b)}finally{k5=c}};
ggb=function(a,b,c,d){return $APP.tj($APP.qq.h($APP.ej.g(function(e){return $APP.tj($APP.ej.g(function(f){for(var l=$APP.Ob(e),p=0;;)if(p<c){var u=d[p];null!=u&&(l[p]=f[u]);p+=1}else break;return l}),m5.g(b))}),$APP.pj),a)};agb=function(a){switch(arguments.length){case 2:return A5(arguments[0],arguments[1]);case 3:return hgb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
A5=function(a,b){a=i5.g(a);return hgb(new $APP.H(null,1,5,$APP.I,[Array($APP.be(b))],null),a,b)};hgb=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.ve(m5.g(d)))return $APP.Sg;var e=$APP.wi(w3.g(d),c);if($APP.ve(e))b=$APP.w(b);else{e=$APP.bf($APP.ej.h(function(l,p,u,t){return function(A){return $APP.C.h(t,A)}}(a,b,c,e,d),c));var f=$APP.be(c);a=ggb(a,d,f,e);b=$APP.w(b)}}};igb=function(a,b){return $APP.Eh.j($APP.Ai,$APP.ej.g($APP.cf),A5(a,b))};
F5=function(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=F5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=F5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IContextResolve.-context-resolve",a);}return a};
jgb=function(a,b,c){return $APP.on.F(function(d,e,f){if(Oeb(d)){e=F5($APP.Hn.g(d),b);d=$APP.ej.h(function(p){return F5(p,b)},$APP.Ei($APP.cn.g(d)));var l=$APP.ej.h(function(p){return $APP.y.h(p,f)},c);return $APP.qg.h(e,$APP.K.h(d,new $APP.H(null,1,5,$APP.I,[l],null)))}return e},a,$APP.v(c),$APP.Un.D())};kgb=function(a){var b=$APP.rg(Oeb);return $APP.gs.h($APP.yb,$APP.ej.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Un.D()))};
lgb=function(a,b,c){var d=kgb(a);return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);a:for(var B=0;;)if(B<t){var E=$APP.oe(u,B);$APP.y.j(E,0,null);E=$APP.y.j(E,1,null);$APP.Mf(A,jgb(a,b,E));B+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(jgb(a,b,A),l($APP.Id(p)))}return null}},null,null)}($APP.Ej(function(f){return $APP.ej.h(function(l){return $APP.y.h(f,
l)},d)},c))};mgb=function(a,b){return $APP.af.j(function(c,d){return $APP.vf.h(c,a.g?a.g(d):a.call(null,d))},$APP.ne(b),b)};ngb=function(a,b){var c=a5.g(a),d=$APP.Un.h(0,$APP.be(c));return mgb(function(e){return $APP.af.j(function(f,l){return $APP.ui.j(f,$APP.y.h(c,l),$APP.y.h(e,l))},$APP.Xf,d)},b)};
ogb=function(a,b,c){if(null!=a&&null!=a.kh)a=a.kh(a,b,c);else{var d=ogb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ogb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IPostProcess.-post-process",a);}return a};
pgb=function(a,b,c){var d=function(){return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var G=$APP.oe(u,E),O=A;if(Peb(G)){var T=F5($APP.Ml.g(G),b);G=F5($APP.mH.g(G),b);T=R3(T,G,null)}else T=null;O.add(T);E+=1}else return!0}()?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var B=$APP.v(p);return $APP.yf(Peb(B)?function(){var E=F5($APP.Ml.g(B),b),G=F5($APP.mH.g(B),
b);return R3(E,G,null)}():null,l($APP.Id(p)))}return null}},null,null)}(a)}();return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){var u=p;if($APP.Ee(u)){var t=$APP.cd(u),A=$APP.be(t),B=$APP.If(A);return function(){for(var G=0;;)if(G<A){var O=$APP.oe(t,G);$APP.Mf(B,$APP.on.j(function(){return function(T,Z){return $APP.k(T)?P3(T,Z):Z}}(G,O,t,A,B,u,p,d),d,O));G+=1}else return!0}()?$APP.Lf($APP.Nf(B),l($APP.dd(u))):$APP.Lf($APP.Nf(B),null)}var E=$APP.v(u);return $APP.yf($APP.on.j(function(){return function(G,
O){return $APP.k(G)?P3(G,O):O}}(E,u,p,d),d,E),l($APP.Id(u)))}return null}},null,null)}(c)};qgb=function(a,b){if(a instanceof H1){var c=a.gb,d=a.Kc;return new H1(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.Aj.g(0),null,null,null)}return new H1(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.Aj.g(0),null,null,null)};rgb=function(a,b,c,d){return q1(a,b,c,d)};sgb=function(a){return $APP.n(a)};tgb=function(a){return qcb($APP.z1.g(a))};
G5=function G5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G5.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};G5.l=function(a){return $APP.wca(a,$APP.ui.j($APP.sb(),$APP.jb,!1))};G5.B=0;G5.G=function(a){return this.l($APP.r(a))};ugb=new $APP.q("datascript.core","squuid","datascript.core/squuid",-408746813,null);J1=new $APP.F("db.unique","identity","db.unique/identity",1675950722);L2=new $APP.F("db","retract","db/retract",-1549825231);
vgb=new $APP.q("datascript.db","IDatom","datascript.db/IDatom",293960966,null);wgb=new $APP.F(null,"-store","-store",86010660);xgb=new $APP.F(null,"incomparable","incomparable",1634329662);ygb=new $APP.q(null,"datom-tx","datom-tx",1349109608,null);qfb=new $APP.F(null,"strs","strs",1175537277);Ncb=new $APP.F("db.cardinality","one","db.cardinality/one",1428352190);E2=new $APP.F("transact","upsert","transact/upsert",412688078);X4=new $APP.F(null,"qreturn-map","qreturn-map",1841215994);
tdb=new $APP.F("transact","schema","transact/schema",1426844139);zgb=new $APP.q(null,"datom-added","datom-added",-363961980,null);Agb=new $APP.q(null,"entity?","entity?",555338193,null);Bgb=new $APP.q("datascript.core","filter","datascript.core/filter",-1276765471,null);H5=new $APP.F(null,"acc","acc",838566312);Cgb=new $APP.F("lookup-ref","unique","lookup-ref/unique",-960647710);T4=new $APP.F("parser","rule","parser/rule",-464044566);
Dgb=new $APP.q("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);Egb=new $APP.q("datascript.core","q","datascript.core/q",2106686416,null);e3=new $APP.F(null,"db-last-stored","db-last-stored",-2068760702);Fgb=new $APP.q(null,"added","added",-596784081,null);Seb=new $APP.F("parser","find","parser/find",-801023103);Ggb=new $APP.q(null,"entity","entity",1189561251,null);A3=new $APP.F(null,"wildcard?","wildcard?",-686044101);
H2=new $APP.F("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);Hgb=new $APP.q("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);Igb=new $APP.q(null,"tail-addr","tail-addr",1565233666,null);Jgb=new $APP.q("datascript.core","restore","datascript.core/restore",-655548009,null);$4=new $APP.F("parser","query","parser/query",1877320671);Kgb=new $APP.q(null,"_opts","_opts",1634624069,null);y3=new $APP.F(null,"last-attr","last-attr",-526000708);
idb=new $APP.F(null,"conflict","conflict",1978796605);Lgb=new $APP.F("db","fn","db/fn",-1175261470);Mgb=new $APP.q("datascript.core","touch","datascript.core/touch",632058772,null);Ngb=new $APP.q(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);o3=new $APP.F(null,"recursion-limit","recursion-limit",52345639);Ogb=new $APP.q("datascript.storage","-restore","datascript.storage/-restore",708714346,null);M1=new $APP.F("db.type","ref","db.type/ref",-1728373079);
Pgb=new $APP.q(null,"variance","variance",-1522424942,null);Qgb=new $APP.q("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);Rgb=new $APP.q("datascript.core","with","datascript.core/with",-1124098173,null);Sgb=new $APP.F(null,"-restore","-restore",-515892319);F2=new $APP.F("db","id","db/id",-1388397098);Tgb=new $APP.F("db.fn","retractAttribute","db.fn/retractAttribute",937402164);Ugb=new $APP.q("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);
Vgb=new $APP.q(null,"G__44242","G__44242",692685347,null);Wgb=new $APP.F("lookup-ref","syntax","lookup-ref/syntax",-317304012);Xgb=new $APP.q("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);Ygb=new $APP.q("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);Zgb=new $APP.q("datascript.core","db","datascript.core/db",667170070,null);I5=new $APP.q(null,"addr","addr",42880790,null);
$gb=new $APP.q(null,"-index-range","-index-range",898114142,null);ahb=new $APP.q(null,"settings","settings",-1098290894,null);f2=new $APP.F(null,"tx-data","tx-data",934159761);y5=new $APP.F(null,"used-args","used-args",23596256);bhb=new $APP.q("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);chb=new $APP.q("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);dhb=new $APP.q(null,"make-storage-adapter","make-storage-adapter",937815346,null);
Z4=new $APP.F(null,"qwhere","qwhere",-1645067378);Q1=new $APP.F("db","ident","db/ident",-737096);g2=new $APP.F(null,"tempids","tempids",1767509089);V4=new $APP.F(null,"qfind","qfind",1529332972);ehb=new $APP.q("datascript.core","serializable","datascript.core/serializable",-630048076,null);x5=new $APP.F(null,"prefix-context","prefix-context",-1269613591);fhb=new $APP.q(null,"store-impl!","store-impl!",901017629,null);L1=new $APP.F("db.cardinality","many","db.cardinality/many",772806234);
B2=new $APP.F("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);ghb=new $APP.q("datascript.core","pull","datascript.core/pull",-1213970902,null);hhb=new $APP.q("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);e2=new $APP.F(null,"db-after","db-after",-571884666);M4=new $APP.F("parser","where","parser/where",-966053850);ihb=new $APP.q(null,"restore-impl","restore-impl",1420181842,null);J5=new $APP.F(null,"seen","seen",-518999789);
jhb=new $APP.q("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);Hcb=new $APP.F("db.unique","value","db.unique/value",276903088);khb=new $APP.F("db","tupleTypes","db/tupleTypes",1512507626);odb=new $APP.F("db.fn","retractEntity","db.fn/retractEntity",-1423535441);K5=new $APP.q(null,"attr","attr",1036399174,null);lhb=new $APP.q(null,"storage-adapter","storage-adapter",-1255219640,null);mhb=new $APP.F("entity-id","missing","entity-id/missing",1234588374);
nhb=new $APP.q("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);Q4=new $APP.q(null,"or-join","or-join",591375469,null);ohb=new $APP.F("db.pull","reverse","db.pull/reverse",1999788297);phb=new $APP.q(null,"db-from-reader","db-from-reader",1527469533,null);qhb=new $APP.q(null,"println-str","println-str",-2049216703,null);tfb=new $APP.F("parser","with","parser/with",-386255821);rhb=new $APP.q(null,"missing?","missing?",-1710383910,null);
shb=new $APP.q("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);thb=new $APP.q("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);uhb=new $APP.q("datascript.core","transact!","datascript.core/transact!",1506351773,null);r1=new $APP.F(null,"avet","avet",1383857032);L5=new $APP.q(null,"schema","schema",58529736,null);udb=new $APP.F(null,"entity","entity",-450970276);vhb=new $APP.q(null,"serializable-datom","serializable-datom",451141133,null);
whb=new $APP.q("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);Xeb=new $APP.F("parser","in","parser/in",1617442048);Pcb=new $APP.F(null,"init-db","init-db",1595181278);xhb=new $APP.F(null,"addresses","addresses",-559529694);X0=new $APP.F(null,"cmp","cmp",575646375);G1=new $APP.F(null,"hash","hash",-13781596);yhb=new $APP.q(null,"with","with",104234651,null);s3=new $APP.F(null,"multival?","multival?",1072388383);aeb=new $APP.F("parser","pull","parser/pull",-2147427204);
M5=new $APP.q(null,"tx","tx",2107161945,null);zhb=new $APP.q("datascript.core","store","datascript.core/store",1386427333,null);d3=new $APP.F(null,"tx-tail","tx-tail",1116487556);Ahb=new $APP.q(null,"reset-conn!","reset-conn!",1315177148,null);N4=new $APP.F(null,"rule-vars","rule-vars",1665972520);V1=new $APP.F("db","valueType","db/valueType",1827971944);Ycb=new $APP.F("retract","schema","retract/schema",1546437764);A1=new $APP.F(null,"aevt","aevt",-585148059);
Bhb=new $APP.F("datascript","db","datascript/db",-1190971692);O5=new $APP.q(null,"-store","-store",1726542187,null);Chb=new $APP.F(null,"thaw-fn","thaw-fn",-240544261);P5=new $APP.F(null,"binding","binding",539932593);hdb=new $APP.F(null,"assertion","assertion",-1645134882);$APP.a2=new $APP.F(null,"datoms","datoms",-290874434);Qeb=new $APP.q(null,"pull","pull",779986722,null);Y0=new $APP.F(null,"set-metadata","set-metadata",1293757705);
Dhb=new $APP.q("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);Ehb=new $APP.q(null,"untuple","untuple",-606149900,null);Q5=new $APP.q(null,"c0","c0",2105080311,null);Fhb=new $APP.q(null,"index-range","index-range",1044940937,null);t5=new $APP.q(null,"-differ?","-differ?",1465687357,null);N1=new $APP.F("db","isComponent","db/isComponent",423352398);R5=new $APP.q(null,"db","db",-1661185010,null);Ghb=new $APP.q(null,"sample","sample",1719555128,null);
S5=new $APP.q(null,"datom","datom",1268975437,null);Hhb=new $APP.F(null,"serialize","serialize",-69216574);O1=new $APP.F("db","tupleAttrs","db/tupleAttrs",250080092);p3=new $APP.F(null,"recursive?","recursive?",1340075244);Ihb=new $APP.q(null,"conn","conn",1918841190,null);Jhb=new $APP.F(null,"thaw-kw","thaw-kw",1076733097);z5=new $APP.F(null,"pending-guards","pending-guards",-1255527308);Khb=new $APP.F("query","binding","query/binding",698240489);
Cdb=new $APP.F(null,"avet-metadata","avet-metadata",1556019837);ofb=new $APP.F(null,"return-map","return-map",1620104901);Lhb=new $APP.q("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);m5=new $APP.F(null,"tuples","tuples",-676032639);Mhb=new $APP.q("datascript.core","settings","datascript.core/settings",273729994,null);T5=new $APP.F(null,"branches","branches",-1240337268);
Nhb=new $APP.q("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);U5=new $APP.q(null,"datoms","datoms",1349657093,null);Ohb=new $APP.F("transact","cas","transact/cas",816687170);Phb=new $APP.q("clojure.string","blank?","clojure.string/blank?",1772874244,null);Qhb=new $APP.F(null,"listeners","listeners",394544445);Rhb=new $APP.q(null,"validate-schema","validate-schema",758884380,null);$APP.z1=new $APP.F(null,"eavt","eavt",-666437073);
B1=new $APP.F(null,"max-eid","max-eid",2134868075);Shb=new $APP.q("datascript.storage","store","datascript.storage/store",-769865397,null);Thb=new $APP.q("datascript.core","index-range","datascript.core/index-range",-1484576383,null);Uhb=new $APP.F("db","retractEntity","db/retractEntity",-1452737935);Vhb=new $APP.q("datascript.core","listen!","datascript.core/listen!",1659161258,null);T1=new $APP.F(null,"attribute","attribute",-2074029119);$APP.y1=new $APP.F(null,"schema","schema",-1582001791);
Whb=new $APP.q(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);Xhb=new $APP.q("datascript.db","DB","datascript.db/DB",348347258,null);Yhb=new $APP.q("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);Zhb=new $APP.q("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);$hb=new $APP.q("datascript.db","Datom","datascript.db/Datom",1951800754,null);
V5=new $APP.F(null,"recursion-limits","recursion-limits",1762857814);leb=new $APP.q(null,"...","...",-1926939749,null);yeb=new $APP.F(null,"freeze-kw","freeze-kw",391758233);P1=new $APP.F("db.type","tuple","db.type/tuple",938234914);aib=new $APP.q(null,"lookup-entity","lookup-entity",-936060612,null);K1=new $APP.F("db","index","db/index",-1531680669);Adb=new $APP.F(null,"max-addr","max-addr",1373100454);xeb=new $APP.F(null,"freeze-fn","freeze-fn",-575885995);
bib=new $APP.q("datascript.core","db-with","datascript.core/db-with",-1263574350,null);Mdb=new $APP.F(null,"skip-store?","skip-store?",-484019625);cib=new $APP.q(null,"db-with-tail","db-with-tail",-1072910014,null);dib=new $APP.q("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);ocb=new $APP.F(null,"ref-type","ref-type",-1367328851);I1=new $APP.F("db","unique","db/unique",329396388);eib=new $APP.F("entity-id","syntax","entity-id/syntax",1921317045);
Ddb=new $APP.F(null,"eavt-metadata","eavt-metadata",-1384819842);h5=new $APP.F(null,"sources","sources",-321166424);fib=new $APP.F("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);W5=new $APP.q(null,"delete-addrs","delete-addrs",742195107,null);Bdb=new $APP.F(null,"aevt-metadata","aevt-metadata",-1844063817);h2=new $APP.F(null,"tx-meta","tx-meta",1159283194);gib=new $APP.q(null,"pull-many","pull-many",1857679657,null);
hib=new $APP.q(null,"conn-from-db","conn-from-db",-184109372,null);iib=new $APP.q(null,"ground","ground",-1460862835,null);jib=new $APP.q("datascript","Datom","datascript/Datom",-901340080,null);Ceb=new $APP.F("parser","rule-var","parser/rule-var",-1584354459);J2=new $APP.F("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);kib=new $APP.q("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);lib=new $APP.F(null,"new","new",-2085437848);
Dcb=new $APP.F(null,"index","index",-1531685915);mib=new $APP.q("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);nib=new $APP.q(null,"stddev","stddev",775056588,null);z2=new $APP.F(null,"entity-id","entity-id",1485898093);oib=new $APP.q(null,"store-tail","store-tail",-757879320,null);pib=new $APP.F("db","cas","db/cas",-451542322);qib=new $APP.q("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);C1=new $APP.F(null,"max-tx","max-tx",1119558339);
rib=new $APP.F("db","tupleType","db/tupleType",448013354);x3=new $APP.F(null,"first-attr","first-attr",-1993039831);t3=new $APP.F(null,"ref?","ref?",1932693720);sib=new $APP.q(null,"sum","sum",1777518341,null);X5=new $APP.F(null,"attr","attr",-604132353);Q3=new $APP.F(null,"visitor","visitor",-1026865865);Y5=new $APP.F(null,"elements","elements",657646735);tib=new $APP.F("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);r5=new $APP.F("query","where","query/where",-1935159429);
uib=new $APP.q("datascript.storage","-store","datascript.storage/-store",-1879938067,null);D2=new $APP.F(null,"context","context",-830191113);vib=new $APP.q("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);wib=new $APP.q("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);xib=new $APP.q(null,"!\x3d","!\x3d",-201205829,null);i5=new $APP.F(null,"rels","rels",1770187185);
yib=new $APP.q("datascript.core","init-db","datascript.core/init-db",1493526573,null);d2=new $APP.F(null,"db-before","db-before",-553691536);zib=new $APP.q(null,"adapter","adapter",444204808,null);N2=new $APP.F("datascript.db","value-tempids","datascript.db/value-tempids",244806162);cdb=new $APP.F(null,"datom","datom",-371556090);pcb=new $APP.F(null,"strong","strong",269529E3);bdb=new $APP.F("transact","unique","transact/unique",-940992320);
Aib=new $APP.q("datascript.db","datom","datascript.db/datom",399198004,null);Bib=new $APP.q(null,"seek-datoms","seek-datoms",-1423344839,null);Cib=new $APP.F(null,"old","old",-1825222690);Dib=new $APP.F("db.pull","attr","db.pull/attr",-533298746);Z2=new $APP.F(null,"db","db",993250759);Eib=new $APP.q("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);seb=new $APP.F("db.pull","wildcard","db.pull/wildcard",116316031);E1=new $APP.F(null,"pull-patterns","pull-patterns",-343695048);
Fib=new $APP.q("datascript.storage","restore","datascript.storage/restore",1486895617,null);Gib=new $APP.q(null,"init-db","init-db",-1059254491,null);Hib=new $APP.F(null,"internal-ctor","internal-ctor",937392560);Iib=new $APP.q(null,"datom-from-reader","datom-from-reader",1334075127,null);g5=new $APP.F(null,"variable","variable",-281346492);Jib=new $APP.q(null,"restore-conn","restore-conn",-1560700042,null);Kib=new $APP.q(null,"transact!","transact!",817805717,null);
Lcb=new $APP.F("db","attrTuples","db/attrTuples",860541631);u3=new $APP.F(null,"component?","component?",407783990);Reb=new $APP.q(null,"$","$",-1580747756,null);Teb=new $APP.q(null,"aggregate","aggregate",-1142967327,null);G2=new $APP.F("db","add","db/add",235286841);F1=new $APP.F(null,"pull-attrs","pull-attrs",-974863177);Gdb=new $APP.F(null,"tx","tx",466630418);Meb=new $APP.F("parser","binding","parser/binding",-346395752);
Lib=new $APP.q("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);Mib=new $APP.q(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);Z5=new $APP.F(null,"element","element",1974019749);Nib=new $APP.q("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);$5=new $APP.q(null,"DB","DB",1622874957,null);Oib=new $APP.q(null,"get-some","get-some",409442058,null);
x2=new $APP.F("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);Pib=new $APP.q(null,"avg","avg",1837937727,null);a6=new $APP.F(null,"unfiltered-db","unfiltered-db",-1363720391);w3=new $APP.F(null,"attrs","attrs",-2090668713);Ecb=new $APP.F(null,"components","components",-1073188942);V0=new $APP.F(null,"storage","storage",1867247511);Qib=new $APP.q(null,"StorageAdapter","StorageAdapter",106942083,null);$0=new $APP.F(null,"branching-factor","branching-factor",1903198601);
Rib=new $APP.q(null,"create-conn","create-conn",2071410861,null);Sib=new $APP.q("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);r3=new $APP.F(null,"xform","xform",-1725711008);efb=new $APP.q(null,"not-join","not-join",-645515756,null);W4=new $APP.F(null,"qwith","qwith",-45809392);sfb=new $APP.F(null,"with","with",-1536296876);Tib=new $APP.q("datascript.core","datoms","datascript.core/datoms",961250077,null);Heb=new $APP.F("parser","rule-vars","parser/rule-vars",-1493174969);
Uib=new $APP.q("datascript.core","tx0","datascript.core/tx0",1432817831,null);Vib=new $APP.q("datascript.core","entity","datascript.core/entity",-1406213973,null);z3=new $APP.F(null,"reverse-attrs","reverse-attrs",630097702);S1=new $APP.F("schema","validation","schema/validation",1178447161);Efb=new $APP.F(null,"got","got",-1674745710);b6=new $APP.q(null,"Datom","Datom",1208901035,null);q3=new $APP.F(null,"reverse?","reverse?",-1672868474);Dfb=new $APP.F("query","inputs","query/inputs",1042810394);
W1=new $APP.F("db","cardinality","db/cardinality",-104975659);Wib=new $APP.q(null,"serializable","serializable",1941609404,null);Xib=new $APP.q("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);Yib=new $APP.q(null,"count-distinct","count-distinct",-1566572514,null);Zib=new $APP.q("datascript.storage","storage","datascript.storage/storage",-366769060,null);c6=new $APP.q(null,"datascript.impl.entity","datascript.impl.entity",1561405407,null);
$ib=new $APP.q(null,"listen!","listen!",-115577950,null);ajb=new $APP.q("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);bjb=new $APP.q("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);cjb=new $APP.q(null,"db-with","db-with",233242042,null);d6=new $APP.F("db.fn","call","db.fn/call",-151594418);djb=new $APP.q(null,"force?","force?",-815397094,null);w5=new $APP.F(null,"prefix-clauses","prefix-clauses",1294180028);
ejb=new $APP.F("db","doc","db/doc",1913350069);fjb=new $APP.q(null,"touch","touch",-1158163300,null);gjb=new $APP.q("datascript.core","datom","datascript.core/datom",-1596234155,null);Wcb=new $APP.F("db","current-tx","db/current-tx",1600722132);hjb=new $APP.q(null,"reset-schema!","reset-schema!",1937111832,null);ijb=new $APP.q("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);
jjb=new $APP.q("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);kjb=new $APP.F(null,"operation","operation",-1267664310);Ccb=new $APP.F(null,"index-access","index-access",-1548960265);ljb=new $APP.q(null,"datascript.storage","datascript.storage",315947890,null);Y4=new $APP.F(null,"qin","qin",1372651151);e6=new $APP.q(null,"storage","storage",-787188258,null);a5=new $APP.F(null,"symbols","symbols",1211743);mjb=new $APP.q(null,"squuid","squuid",-1898207797,null);
B3=new $APP.F(null,"fragment","fragment",826775688);njb=new $APP.F("transaction","filtered","transaction/filtered",1699706605);M2=new $APP.F("datascript.db","internal","datascript.db/internal",-249301114);D1=new $APP.F(null,"rschema","rschema",-1196134054);ojb=new $APP.q(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);f6=new $APP.q(null,"addr+data-seq","addr+data-seq",1516602343,null);pjb=new $APP.q(null,"store","store",-1142205747,null);
qjb=new $APP.q(null,"median","median",-2084869638,null);rjb=new $APP.q("clojure.string","includes?","clojure.string/includes?",-1842146260,null);sjb=new $APP.q(null,"restore","restore",1907703951,null);tjb=new $APP.q(null,"empty-db","empty-db",1486862004,null);Z1=new $APP.F(null,"v","v",21465059);o2=new $APP.F("transact","syntax","transact/syntax",-299207078);g6=new $APP.q(null,"-restore","-restore",1124639208,null);pfb=new $APP.F(null,"find","find",496279456);A2=new $APP.F(null,"a","a",-2123407586);
ujb=new $APP.q("datascript","DB","datascript/DB",-487332776,null);keb=new $APP.F(null,"*","*",-1294732318);n4=new $APP.F(null,"free","free",801364328);vjb=new $APP.F("db.fn","cas","db.fn/cas",-379352172);Z0=new $APP.F(null,"shift","shift",997140064);wjb=new $APP.q(null,"tx0","tx0",-4656209,null);ifb=new $APP.F(null,"rule","rule",729973257);xjb=new $APP.q(null,"rseek-datoms","rseek-datoms",857788390,null);yjb=new $APP.q(null,"from-serializable","from-serializable",945516427,null);
zjb=new $APP.q(null,"resolve-datom","resolve-datom",-294110827,null);Ajb=new $APP.q(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);Bjb=new $APP.q(null,"IStorage","IStorage",668238001,null);Cjb=new $APP.q(null,"get-else","get-else",1312024065,null);n3=new $APP.F(null,"limit","limit",-1355822363);Djb=new $APP.q(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);Ejb=new $APP.q("datascript.core","pull-many","datascript.core/pull-many",394351057,null);
h6=new $APP.q(null,"Entity","Entity",1953938502,null);var Lbb=new $APP.zi(null,new $APP.h(null,12,[K1,null,I1,null,V1,null,rib,null,khb,null,new $APP.F("db","noHistory","db/noHistory",-1975127444),null,N1,null,new $APP.F("db.install","_attribute","db.install/_attribute",1853441294),null,W1,null,ejb,null,Q1,null,O1,null],null),null),ddb=new $APP.zi(null,new $APP.h(null,11,[K1,null,I1,null,V1,null,rib,null,khb,null,N1,null,W1,null,ejb,null,F2,null,Q1,null,O1,null],null),null),Mcb=new $APP.zi(null,new $APP.h(null,7,[new $APP.F("db.type","number","db.type/number",
-508502688),null,new $APP.F("db.type","instant","db.type/instant",-1024769248),null,P1,null,new $APP.F("db.type","uuid","db.type/uuid",1543195203),null,new $APP.F("db.type","string","db.type/string",1432572808),null,new $APP.F("db.type","keyword","db.type/keyword",205926793),null,M1,null],null),null);$APP.g=$_.prototype;$APP.g.R=function(a,b,c){return Obb.j?Obb.j(this,b,c):Obb.call(null,this,b,c)};$APP.g.ha=function(a,b){return $APP.ec(this.lg,b)};$APP.g.da=function(a,b){return $APP.Dx(this.lg,b,null)};$APP.g.K=function(a,b,c){return $APP.Dx(this.lg,b,c)};$APP.g.V=function(a,b,c){return $APP.Nc(this.lg,b,c)};b0.prototype.W=function(a,b){return new b0(this.Gb,this.wg,b)};b0.prototype.U=function(){return this.Km};
b0.prototype.ek=function(a,b,c){a=$APP.C.j($APP.n(this.wg),b,null);if(null==a)return c=c.D?c.D():c.call(null),$APP.kd(this.wg,$APP.ui.j($APP.n(this.wg),b,c)),c;$APP.kd(this.wg,$APP.ui.j($APP.n(this.wg),b,a));return a};var i6=function i6(a){switch(arguments.length){case 0:return i6.D();case 1:return i6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};i6.D=function(){return i6.g((new Date).getTime())};
i6.g=function(a){return $APP.ck([$APP.m.g(d0(a/1E3|0,8)),"-",$APP.m.g(d0($APP.Cj(65536),4)),"-",$APP.m.g(d0($APP.Cj(65536)&4095|16384,4)),"-",$APP.m.g(d0($APP.Cj(65536)&16383|32768,4)),"-",$APP.m.g(d0($APP.Cj(65536),4)),$APP.m.g(d0($APP.Cj(65536),4)),$APP.m.g(d0($APP.Cj(65536),4))].join(""))};i6.B=1;var mdb=$APP.Zm.h($APP.vf,$APP.Sg),Kcb=$APP.Zm.h($APP.vf,$APP.Ai);var Wbb=Math.pow(2,31),Q0=Math.pow(2,5),x0=Q0/2,jcb=Q0+x0>>>1,Ubb=Q0-1,Vbb=f0($APP.ej.h(function(a){return Math.pow(2,a)},$APP.Un.j(0,52,5)));$APP.g=B0.prototype;$APP.g.og=function(a,b){var c=this;A0(this,$APP.be(c.children));$APP.Ny.g($APP.xu.h(function(d,e){var f=c.children[d];e=$APP.k(f)?(e=null==e)?e:f.Og:f;return $APP.k(e)?(f=y0(f,b),c.vd[d]=f):null},c.vd));a=i0(b,this,c.yb);c.Og=!1;return c.yb=a};$APP.g.lj=function(){var a=this.keys;return a[a.length-1]};$APP.g.lk=function(){return this.keys.length};
$APP.g.nj=function(a,b,c){A0(this,$APP.be(this.children));A0(b,$APP.be(b.children));a=b.yb;$APP.k(a)&&j0(c,new $APP.H(null,1,5,$APP.I,[a],null));return C0(this.keys.concat(b.keys),this.children.concat(b.children),this.vd.concat(b.vd),this.yb,!0)};$APP.g.oj=function(a,b){A0(this,$APP.be(this.children));A0(b,$APP.be(b.children));a=o0(this.keys,b.keys);var c=o0(this.children,b.children),d=o0(this.vd,b.vd);return p0(C0(a[0],c[0],d[0],this.yb,!0),C0(a[1],c[1],d[1],b.yb,!0))};
$APP.g.Pf=function(a,b){if($APP.x.h(-1,a))return null;var c=$APP.k(this.vd)?this.vd[a]:null;$APP.Cb(this.children[a])?(b=h0(b,c),this.children[a]=b):$APP.k($APP.k(b)?c:b)&&Tbb(b,c);return this.children[a]};$APP.g.mj=function(a,b,c,d){a=Zbb(b,this.keys,c);a=this.Pf(a,d);return $APP.k(a)?u0(a,b,c,d):null};
$APP.g.jj=function(a,b,c,d){A0(this,$APP.be(this.children));a=m0(b,this.keys,this.keys.length-2,c);var e=this.Pf(a,d);c=$APP.k(e)?v0(e,b,c,d):null;if($APP.k(c)){d=this.keys;e=a+1;var f=c.map(q0);b=acb(b,d,a,e,f,f.length)?d:n0(d,a,e,f);d=n0(this.children,a,a+1,c);a=n0(this.vd,a,a+1,z0(c));if(d.length<=Q0)return[C0(b,d,a,this.yb,!0)];c=d.length>>>1;return[C0(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.yb,!0),C0(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.kj=function(a,b,c,d,e,f,l){A0(this,$APP.be(this.children));var p=Zbb(b,this.keys,c);if(-1===p)return null;var u=this.Pf(p,l);a=0<=p-1?this.Pf(p-1,l):null;var t=p+1<this.children.length?this.Pf(p+1,l):null;c=w0(u,b,c,!1,a,t,l);return $APP.k(c)?(a=$APP.k(a)?p-1:p,p=$APP.k(t)?2+p:1+p,t=this.keys,u=c.map(q0),b=acb(b,t,a,p,u,u.length)?t:n0(t,a,p,u),t=n0(this.children,a,p,c),c=n0(this.vd,a,p,z0(c)),p>a&&(a=$APP.bx.h($APP.Di($APP.gs.h($APP.yb,this.vd.slice(a,p))),$APP.Di($APP.gs.h($APP.yb,c))),$APP.k($APP.k(l)?
$APP.r(a):l)&&j0(l,a)),ccb(C0(b,t,c,this.yb,!0),d,e,f,l)):null};var U0=function U0(a){switch(arguments.length){case 1:return U0.g(arguments[0]);case 2:return U0.h(arguments[0],arguments[1]);case 3:return U0.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};U0.g=function(a){return U0.h(a,null)};U0.h=function(a,b){return U0.j(a,b,!0)};U0.j=function(a,b,c){return new dcb(a,b,c)};U0.B=3;$APP.g=dcb.prototype;
$APP.g.og=function(a,b){a=this.Og;return $APP.k($APP.k(a)?a:null==this.yb)?(b=i0(b,this,this.yb),this.Og=!1,this.yb=b):this.yb};$APP.g.lj=function(){var a=this.keys;return a[a.length-1]};$APP.g.lk=function(){return this.keys.length};$APP.g.nj=function(a,b,c){a=b.yb;$APP.k(a)&&j0(c,new $APP.H(null,1,5,$APP.I,[a],null));return U0.h(this.keys.concat(b.keys),this.yb)};$APP.g.oj=function(a,b){a=o0(this.keys,b.keys);return p0(U0.h(a[0],this.yb),U0.h(a[1],b.yb))};$APP.g.Pf=function(a){return this.keys[a]};
$APP.g.mj=function(a,b,c,d){a=Ybb(b,this.keys,c);return-1===a?null:this.Pf(a,d)};$APP.g.jj=function(a,b,c){a=m0(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===Q0?(b=d+1>>>1,a>b?[U0.h(this.keys.slice(0,b),this.yb),U0.g($bb(this.keys,b,d,a,a,[c]))]:[U0.h($bb(this.keys,0,b,a,a,[c]),this.yb),U0.g(this.keys.slice(b,d))]):[U0.h(n0(this.keys,a,a,[c]),this.yb)]};
$APP.g.kj=function(a,b,c,d,e,f,l){a=Ybb(b,this.keys,c);if(-1===a)return null;a=n0(this.keys,a,a+1,[]);return ccb(U0.h(a,this.yb),d,e,f,l)};$APP.g=$APP.E0.prototype;$APP.g.mf=function(){var a=this.root;return $APP.k(a)?a:$APP.k(this.yb)?this.root=a=h0(this.storage,this.yb):null};$APP.g.toString=function(){return $APP.od(this)};$APP.g.da=function(a,b){this.mf(null);return u0(this.root,this.pd,b,this.storage)};
$APP.g.K=function(a,b,c){this.mf(null);a=u0(this.root,this.pd,b,this.storage);return $APP.k(a)?a:c};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#{"," ","}",c,$APP.r(this))};$APP.g.U=function(){return this.O};$APP.g.ba=function(){return new $APP.E0(this.storage,this.root,this.shift,this.S,this.pd,this.O,this.wd,this.yb)};$APP.g.aa=function(){return this.S};$APP.g.xd=function(){return $APP.Fc(N0.g?N0.g(this):N0.call(null,this))};$APP.g.Y=function(){var a=this.wd;return null!=a?a:this.wd=a=$APP.Nd(this)};
$APP.g.T=function(a,b){var c=this;return $APP.ye(b)&&this.S===$APP.be(b)&&$APP.mg(function(d){return $APP.Se(c,d)},b)};$APP.g.ff=function(){return this};$APP.g.Na=function(){return new $APP.E0(this.storage,U0.g([]),0,0,this.pd,this.O,null,null)};$APP.g.Nh=function(a,b){return S0.j?S0.j(this,b,this.pd):S0.call(null,this,b,this.pd)};$APP.g.ib=function(a,b){a=N0.g?N0.g(this):N0.call(null,this);return $APP.k(a)?$APP.Ex(a,b):b.D?b.D():b.call(null)};
$APP.g.fb=function(a,b,c){a=N0.g?N0.g(this):N0.call(null,this);return $APP.k(a)?$APP.Ex(a,b,c):c};$APP.g.Je=function(a,b){return R0.j?R0.j(this,b,this.pd):R0.call(null,this,b,this.pd)};$APP.g.xf=function(){return this};$APP.g.og=function(a,b){null==this.storage&&(this.storage=b);this.mf(null);null==this.yb&&(this.yb=y0(this.root,this.storage));return this.yb};$APP.g.Z=function(){return N0.g?N0.g(this):N0.call(null,this)};
$APP.g.Oi=function(a,b){return S0.j?S0.j(this,b,this.pd):S0.call(null,this,b,this.pd)};$APP.g.W=function(a,b){return new $APP.E0(this.storage,this.root,this.shift,this.S,this.pd,b,this.wd,this.yb)};$APP.g.ca=function(a,b){return R0.j?R0.j(this,b,this.pd):R0.call(null,this,b,this.pd)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return this.da(null,a)};$APP.g.h=function(a,b){return this.K(null,a,b)};
var J0=function J0(a,b,c,d){var f=k0(c,d);if(0<d){var l=F0(b,f,a.storage),p=d-1;a=J0.F?J0.F(a,l,c,p):J0.call(null,a,l,c,p);return null==a?f+1<b.children.length?l0(0,d,f+1):null:l0(a,d,f)}return f+1<b.keys.length?l0(0,0,f+1):null},L0=function L0(a,b,c,d){var f=k0(c,d);if(0===d&&0===f)return null;if(0===d)return l0(0,0,f-1);if(f>=r0(b))return I0(b,c,d,a.storage);var l=F0(b,f,a.storage);var p=d-1;l=L0.F?L0.F(a,l,c,p):L0.call(null,a,l,c,p);if(null!=l)return l0(l,d,f);if(0===f)return null;a=I0(F0(b,f-
1,a.storage),c,d-1,a.storage);return l0(a,d,f-1)};$APP.g=fcb.prototype;$APP.g.aa=function(){return this.end-this.Bb};$APP.g.ea=function(a,b){return this.I[this.Bb+b]};$APP.g.mb=function(a,b,c){return 0<=b&&b<this.end-this.Bb?this.I[this.Bb+b]:c};$APP.g.Vg=function(){if(this.Bb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Jf(this.I,this.Bb+1,this.end)};$APP.g.ib=function(a,b){return this.Bb===this.end?b.D?b.D():b.call(null):$APP.Ex(this.Vg(null),b,this.I[this.Bb])};
$APP.g.fb=function(a,b,c){for(a=this.Bb;;)if(a<this.end){var d=this.I[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Ud(c))return $APP.n(c);a+=1}else return c};$APP.g=O0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.eb=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new O0(this.set,a,this.right,this.keys,this.idx+1):null}a=K0(this.set,this.left);return a<this.right?this.gi(a,this.right):null}return null};$APP.g.xd=function(){if($APP.k(this.keys)){var a=this.set,b=ecb(this.set,this.left),c=ecb(this.set,this.right);return gcb.j?gcb.j(a,b,c):gcb.call(null,a,b,c)}return null};$APP.g.T=function(a,b){return $APP.sf(this,b)};
$APP.g.ib=function(a,b){if(null==this.keys)return b.D?b.D():b.call(null);a=this.jb(null);var c=this.eb(null);return null==c?a:$APP.Ex(c,b,a)};$APP.g.fb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Ud(c))return $APP.n(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=K0(this.set,a),a<this.right)f=a,d=G0(this.set,a),e=k0(a,0),a=f;else return c}};
$APP.g.jb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.vb=function(){var a=this.eb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.zg=function(){var a=this.left,b=this.right;return new fcb(this.keys,this.idx,(a<Wbb&&b<Wbb?a>>>5===b>>>5:Math.floor(a/Q0)===Math.floor(b/Q0))?k0(this.right,0):this.keys.length)};$APP.g.wf=function(){var a=this.Yf();return $APP.k(a)?a:$APP.Hd};
$APP.g.gi=function(a,b){return new O0(this.set,a,b,G0(this.set,a),k0(a,0))};$APP.g.Yf=function(){var a=K0(this.set,l0(this.left,0,this.keys.length-1));return a<this.right?this.gi(a,this.right):null};$APP.g=P0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.eb=function(){if($APP.k(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new P0(this.set,this.left,a,this.keys,this.idx-1):null}a=ecb(this.set,this.right);return this.left<a?this.gi(this.left,a):null}return null};$APP.g.xd=function(){return $APP.k(this.keys)?M0(this.set,K0(this.set,this.left),K0(this.set,this.right)):null};$APP.g.T=function(a,b){return $APP.sf(this,b)};$APP.g.jb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};
$APP.g.vb=function(){var a=this.eb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.gi=function(a,b){return new P0(this.set,a,b,G0(this.set,b),k0(b,0))};var Fjb=Error,j6=function j6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(j6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},k6=function k6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(k6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},l6=function l6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(l6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},m6=function m6(a){switch(arguments.length){case 2:return m6.h(arguments[0],
arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(m6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};m6.j=function(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(m6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);};m6.B=3;
var n6=function n6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(n6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);},o6=function o6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(o6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);};$APP.g=$APP.d1.prototype;$APP.g.ob=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.Md=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.wd?this.wd=j6(this):this.wd};
$APP.g.T=function(a,b){return b instanceof $APP.d1&&k6(this,b)};$APP.g.Z=function(){return l6(this)};$APP.g.da=function(a,b){return o6(this,b,null)};$APP.g.K=function(a,b,c){return o6(this,b,c)};$APP.g.ea=function(a,b){return m6.h(this,b)};$APP.g.mb=function(a,b,c){return m6.j(this,b,c)};$APP.g.R=function(a,b,c){return n6(this,b,c)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.I,[this.e,this.a,this.v,this.ob(null),this.Md(null)],null))};
Kbb("datascript.db.Datom",$APP.d1);var e1=function e1(a){switch(arguments.length){case 3:return e1.j(arguments[0],arguments[1],arguments[2]);case 4:return e1.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return e1.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};e1.j=function(a,b,c){return new $APP.d1(a,b,c,536870912,0,0)};e1.F=function(a,b,c,d){return new $APP.d1(a,b,c,d,0,0)};
e1.P=function(a,b,c,d,e){return new $APP.d1(a,b,c,$APP.k(e)?d:-d,0,0)};e1.B=5;j6=function(){return null};j6=function(a){return a1(a1($APP.yd(a.e),$APP.yd(a.a)),$APP.yd(a.v))};k6=function(){return null};k6=function(a,b){return a.e===b.e&&$APP.x.h(a.a,b.a)&&$APP.x.h(a.v,b.v)};l6=function(){return null};l6=function(a){return new $APP.D(null,a.e,new $APP.D(null,a.a,new $APP.D(null,a.v,new $APP.D(null,a.ob(null),new $APP.D(null,a.Md(null),null,1,null),2,null),3,null),4,null),5,null)};o6=function(){return null};
o6=function(a,b,c){if(b instanceof $APP.F)switch(b instanceof $APP.F?b.N:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ob(null);case "added":return a.Md(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ob(null);case "added":return a.Md(null);default:return c}else return c};
m6=function(a){switch(arguments.length){case 2:return m6.h(arguments[0],arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(){return null};m6.j=function(){return null};m6.B=3;
m6=function(a){switch(arguments.length){case 2:return m6.h(arguments[0],arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ob(null);case 4:return a.Md(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.m.g(b)].join(""));}};
m6.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ob(null);case 4:return a.Md(null);default:return c}};m6.B=3;n6=function(){return null};
n6=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "e":return e1.P(c,a.a,a.v,a.ob(null),a.Md(null));case "a":return e1.P(a.e,c,a.v,a.ob(null),a.Md(null));case "v":return e1.P(a.e,a.a,c,a.ob(null),a.Md(null));case "tx":return e1.P(a.e,a.a,a.v,c,a.Md(null));case "added":return e1.P(a.e,a.a,a.v,a.ob(null),c);default:throw new Fjb(["invalid key for #datascript/Datom: ",$APP.m.g(b)].join(""));}};
var g1=function g1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(g1),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};g1=function(){return null};
g1=function(a,b){try{return $APP.x.h(a,b)?0:$APP.Ae(a)&&$APP.Ae(b)?vcb(a,b):(null!=a?a.M&2048||$APP.xd===a.Ge||(a.M?0:$APP.Ib($APP.$c,a)):$APP.Ib($APP.$c,a))?$APP.ad(a,b):$APP.Jb(a)===$APP.Jb(b)?"number"===typeof a||"string"===typeof a||$APP.zb(a)||!0===a||!1===a?$APP.Ra(a,b):$APP.yd(a)-$APP.yd(b):ucb(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Jb(a)===$APP.Jb(b))throw c;return ucb(a,b)}throw d;}};
var p6=function p6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(p6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},q6=function q6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(q6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},r6=function r6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(r6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},W2=function W2(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(W2),
$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},s1=function s1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(s1),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},s6=function s6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(s6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);},t6=function t6(a,b,c,d,e,f,l){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(t6),$APP.mn.h(" ",new $APP.H(null,7,5,$APP.I,[a,b,c,d,e,
f,l],null))].join(""),$APP.Xf);},u6=function u6(a,b,c,d,e,f,l,p){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(u6),$APP.mn.h(" ",new $APP.H(null,8,5,$APP.I,[a,b,c,d,e,f,l,p],null))].join(""),$APP.Xf);};$APP.g=$APP.x1.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "schema":return this.Gc;case "eavt":return this.ec;case "aevt":return this.Ic;case "avet":return this.qc;case "max-eid":return this.ad;case "max-tx":return this.bd;case "rschema":return this.Jc;case "pull-patterns":return this.Pc;case "pull-attrs":return this.Oc;case "hash":return this.hash;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.y1,this.Gc],null),new $APP.H(null,2,5,$APP.I,[$APP.z1,this.ec],null),new $APP.H(null,2,5,$APP.I,[A1,this.Ic],null),new $APP.H(null,2,5,$APP.I,[r1,this.qc],null),new $APP.H(null,2,5,$APP.I,[B1,this.ad],null),new $APP.H(null,2,5,$APP.I,[C1,this.bd],null),new $APP.H(null,2,5,$APP.I,[D1,this.Jc],null),new $APP.H(null,
2,5,$APP.I,[E1,this.Pc],null),new $APP.H(null,2,5,$APP.I,[F1,this.Oc],null),new $APP.H(null,2,5,$APP.I,[G1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,10,new $APP.H(null,10,5,$APP.I,[$APP.y1,$APP.z1,A1,r1,B1,C1,D1,E1,F1,G1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,this.C)};
$APP.g.aa=function(){return 10+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Gc,b.Gc)&&$APP.x.h(this.ec,b.ec)&&$APP.x.h(this.Ic,b.Ic)&&$APP.x.h(this.qc,b.qc)&&$APP.x.h(this.ad,b.ad)&&$APP.x.h(this.bd,b.bd)&&$APP.x.h(this.Jc,b.Jc)&&$APP.x.h(this.Pc,b.Pc)&&$APP.x.h(this.Oc,b.Oc)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,10,[$APP.y1,null,C1,null,G1,null,A1,null,r1,null,B1,null,$APP.z1,null,F1,null,E1,null,D1,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.y1,b):$APP.Af.call(null,$APP.y1,b))?new $APP.x1(c,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.z1,b):$APP.Af.call(null,$APP.z1,b))?new $APP.x1(this.Gc,c,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(A1,b):$APP.Af.call(null,A1,b))?new $APP.x1(this.Gc,this.ec,c,this.qc,this.ad,this.bd,this.Jc,
this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(r1,b):$APP.Af.call(null,r1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,c,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(B1,b):$APP.Af.call(null,B1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,c,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(C1,b):$APP.Af.call(null,C1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,c,this.Jc,this.Pc,
this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(D1,b):$APP.Af.call(null,D1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,c,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(E1,b):$APP.Af.call(null,E1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,c,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(F1,b):$APP.Af.call(null,F1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,
c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(G1,b):$APP.Af.call(null,G1,b))?new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,c,this.A,this.o,null):new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.Te($APP.y1,this.Gc,null),new $APP.Te($APP.z1,this.ec,null),new $APP.Te(A1,this.Ic,null),new $APP.Te(r1,this.qc,null),new $APP.Te(B1,this.ad,null),new $APP.Te(C1,this.bd,null),new $APP.Te(D1,this.Jc,null),new $APP.Te(E1,this.Pc,null),new $APP.Te(F1,this.Oc,null),new $APP.Te(G1,this.hash,null)],null),this.o))};
$APP.g.W=function(a,b){return new $APP.x1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.bk=function(a,b){a:for(var c=this.ec,d=$APP.z1.g(b),e=a=b=$APP.Sg;;){if($APP.ve(c)){var f=new $APP.H(null,3,5,$APP.I,[$APP.Zf(b),$APP.Zf($APP.Eh.h(a,d)),$APP.Zf(e)],null);break a}if($APP.ve(d)){f=new $APP.H(null,3,5,$APP.I,[$APP.Zf($APP.Eh.h(b,c)),$APP.Zf(a),$APP.Zf(e)],null);break a}var l=$APP.v(c),p=$APP.v(d);try{f=xcb.h?xcb.h(l,p):xcb.call(null,l,p)}catch(u){if(u instanceof Error)f=xgb;else throw u;}if($APP.x.h(f,xgb))b=$APP.vf.h(b,l),a=$APP.vf.h(a,p),c=$APP.w(c),d=$APP.w(d);else if(0===
f)e=$APP.vf.h(e,l),c=$APP.w(c),d=$APP.w(d);else if(0>f)b=$APP.vf.h(b,l),c=$APP.w(c);else if(0<f)a=$APP.vf.h(a,p),d=$APP.w(d);else{f=null;break a}}return f};$APP.g.Ka=$APP.xd;$APP.g.V=function(a,b,c){return s6(this,b,c)};$APP.g.Mh=$APP.xd;$APP.g.aa=function(){return $APP.be(this.ec)};$APP.g.Kl=$APP.xd;$APP.g.xd=function(){return $APP.Fc(this.ec)};$APP.g.Wg=$APP.xd;$APP.g.Y=function(){return p6(this)};$APP.g.T=function(a,b){return r6(this,b)};$APP.g.Fi=$APP.xd;
$APP.g.ff=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.z1,$APP.Pf),A1,$APP.Pf),r1,$APP.Pf)};$APP.g.Gi=$APP.xd;$APP.g.Na=function(){return $APP.re(W2(new $APP.h(null,5,[$APP.y1,this.Gc,D1,this.Jc,$APP.z1,$APP.ne(this.ec),A1,$APP.ne(this.Ic),r1,$APP.ne(this.qc)],null)),$APP.se(this))};$APP.g.Je=function(){throw $APP.Yl.h("datascript.DB/conj! is not supported",$APP.Xf);};$APP.g.xf=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.z1,$APP.Qf),A1,$APP.Qf),r1,$APP.Qf)};$APP.g.ck=function(){return Bhb};
$APP.g.Zi=function(a,b,c,d,e,f){t1(this,b,c,d,e,f);return T0($APP.C.h(this,b),u6(this,b,c,d,e,f,0,536870912),u6(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.bj=function(a,b,c,d,e,f){t1(this,b,c,d,e,f);return T0($APP.C.h(this,b),u6(this,b,c,d,e,f,0,536870912),e1.F(2147483647,null,null,2147483647))};$APP.g.aj=function(a,b,c,d,e,f){t1(this,b,c,d,e,f);return lcb($APP.C.h(this,b),u6(this,b,c,d,e,f,2147483647,2147483647),e1.F(0,null,null,536870912))};
$APP.g.$i=function(a,b,c,d){t1(this,r1,b,null,null,null);if(!(b instanceof $APP.F||"string"===typeof b))throw a=new $APP.D(null,$gb,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([b]))," at ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,b,D2,a,$APP.Kn,o2],null));return T0(this.qc,t6(this,null,b,c,null,0,536870912),t6(this,null,b,d,null,
2147483647,2147483647))};$APP.g.Wi=$APP.xd;$APP.g.Yi=function(){return this.Gc};$APP.g.Xi=function(a,b){a=this.Jc;return a.g?a.g(b):a.call(null,b)};$APP.g.dk=$APP.xd;
$APP.g.cj=function(a,b){a=$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null);b=this.ec;var f=this.Ic,l=this.qc;$APP.Se(w1(this,L1),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?T0(b,e1.F(a,c,d,e),e1.F(a,c,d,e)):T0(b,e1.F(a,c,d,536870912),e1.F(a,c,d,2147483647)):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),T0(b,e1.F(a,c,null,536870912),e1.F(a,c,null,2147483647))):T0(b,e1.F(a,c,null,536870912),e1.F(a,c,null,2147483647)):null!=d?$APP.k(e)?
$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))}),T0(b,e1.F(a,null,null,536870912),e1.F(a,null,null,2147483647))):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),T0(b,e1.F(a,null,null,536870912),e1.F(a,null,null,2147483647))):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),T0(b,e1.F(a,null,null,536870912),e1.F(a,null,null,2147483647))):T0(b,e1.F(a,null,null,536870912),e1.F(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?s1(this,c)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,
p.ob(null))}),T0(l,e1.F(0,c,d,536870912),e1.F(2147483647,c,d,2147483647))):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))}),T0(f,e1.F(0,c,null,536870912),e1.F(2147483647,c,null,2147483647))):s1(this,c)?T0(l,e1.F(0,c,d,536870912),e1.F(2147483647,c,d,2147483647)):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),T0(f,e1.F(0,c,null,536870912),e1.F(2147483647,c,null,2147483647))):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),T0(f,e1.F(0,c,null,
536870912),e1.F(2147483647,c,null,2147483647))):T0(f,e1.F(0,c,null,536870912),e1.F(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))},b):$APP.Pg.h(function(p){return $APP.x.h(d,p.v)},b):$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(e,p.ob(null))},b):b};$APP.g=H1.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":return this.Kc;case "pred":return this.gb;case "hash":return this.hash;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[a6,this.Kc],null),new $APP.H(null,2,5,$APP.I,[$APP.aw,this.gb],null),new $APP.H(null,2,5,$APP.I,[G1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[a6,$APP.aw,G1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new H1(this.Kc,this.gb,this.hash,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Kc,b.Kc)&&$APP.x.h(this.gb,b.gb)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[G1,null,$APP.aw,null,a6,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new H1(this.Kc,this.gb,this.hash,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(a6,b):$APP.Af.call(null,a6,b))?new H1(c,this.gb,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.aw,b):$APP.Af.call(null,$APP.aw,b))?new H1(this.Kc,c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(G1,b):$APP.Af.call(null,G1,b))?new H1(this.Kc,this.gb,c,this.A,this.o,null):new H1(this.Kc,this.gb,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(a6,this.Kc,null),new $APP.Te($APP.aw,this.gb,null),new $APP.Te(G1,this.hash,null)],null),this.o))};$APP.g.W=function(a,b){return new H1(this.Kc,this.gb,this.hash,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Qj=$APP.xd;$APP.g.da=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.K=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.Ka=$APP.xd;$APP.g.V=function(a,b,c){return s6(this,b,c)};$APP.g.Mh=$APP.xd;$APP.g.aa=function(){return $APP.be(n1(this,$APP.z1,null,null,null,null))};$APP.g.Wg=$APP.xd;$APP.g.Y=function(){return q6(this)};$APP.g.T=function(a,b){return r6(this,b)};$APP.g.Gi=$APP.xd;$APP.g.Na=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.Ei=$APP.xd;
$APP.g.ha=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.R=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.Zi=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,n1(this.Kc,b,c,d,e,f))};$APP.g.bj=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,o1(this.Kc,b,c,d,e,f))};$APP.g.aj=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,p1(this.Kc,b,c,d,e,f))};$APP.g.$i=function(a,b,c,d){return $APP.Pg.h(this.gb,q1(this.Kc,b,c,d))};$APP.g.Wi=$APP.xd;
$APP.g.Yi=function(){return v1(this.Kc)};$APP.g.Xi=function(a,b){return w1(this.Kc,b)};$APP.g.dk=$APP.xd;$APP.g.cj=function(a,b){return $APP.Pg.h(this.gb,l1(this.Kc,b))};W2=function(a){a=$APP.Yf(a);$APP.C.h(a,$APP.y1);$APP.C.h(a,$APP.z1);$APP.C.h(a,A1);$APP.C.h(a,r1);$APP.C.h(a,B1);$APP.C.h(a,C1);return null};
W2=function(a){var b=$APP.Yf(a);a=$APP.C.h(b,$APP.y1);var c=$APP.C.h(b,$APP.z1),d=$APP.C.h(b,A1),e=$APP.C.h(b,r1),f=$APP.C.h(b,B1),l=$APP.C.h(b,C1);l=$APP.k(l)?l:536870912;var p=$APP.Aj.g(0);f=$APP.k(f)?f:0;var u=c0(),t=c0();b=D1.g(b);b=$APP.k(b)?b:R1($APP.Nl.l($APP.z([new $APP.h(null,1,[Q1,new $APP.h(null,1,[I1,J1],null)],null),a])));return Fcb($APP.gi([$APP.y1,C1,G1,A1,r1,B1,$APP.z1,F1,E1,D1],[a,l,p,d,e,f,c,u,t,b]))};p6=function(){return null};
p6=function(a){var b=$APP.n(a.hash);return 0===b?$APP.vg(a.hash,a1($APP.yd(a.Gc),$APP.yd(a.ec))):b};q6=function(){return null};q6=function(a){var b=$APP.n(a.hash);(function(){var c=n1(a,$APP.z1,null,null,null,null);return $APP.k(c)?c:$APP.Ai})();return 0===b?(b=function(){var c=n1(a,$APP.z1,null,null,null,null);return $APP.k(c)?c:$APP.Ai}(),$APP.vg(a.hash,a1($APP.yd(v1(a)),$APP.Nd(b)))):b};r6=function(){return null};
r6=function(a,b){var c;if(c=b instanceof $APP.x1||b instanceof H1)if(c=$APP.x.h(v1(a),v1(b)))a:for(a=n1(a,$APP.z1,null,null,null,null),c=n1(b,$APP.z1,null,null,null,null),b=$APP.r(a),a=$APP.r(c);;){if(null==b){c=null==a;break a}if($APP.x.h($APP.v(b),$APP.v(a)))b=$APP.w(b),a=$APP.w(a);else{c=!1;break a}}return c};s6=function(){return null};
s6=function(a,b,c){$APP.Lc(b,"#datascript/DB {");$APP.Lc(b,":schema ");$APP.dj(v1(a),b,c);$APP.Lc(b,", :datoms ");$APP.aj(b,function(d,e,f){return $APP.aj(e,$APP.dj,"["," ","]",f,new $APP.H(null,4,5,$APP.I,[d.e,d.a,d.v,$APP.b1(d)],null))},"["," ","]",c,n1(a,$APP.z1,null,null,null,null));return $APP.Lc(b,"}")};
var r2=function r2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(r2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},q2=function q2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(q2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};t6=function(){return null};
t6=function(a,b,c,d,e,f,l){if(null!=c&&!(c instanceof $APP.F||"string"===typeof c))throw a=new $APP.D(null,zjb,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,new $APP.D(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([c]))," at ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,c,D2,a,$APP.Kn,o2],null));return e1.F(null!=b?r2(a,b):f,c,null!=d&&q2(a,c)?r2(a,d):d,null!=e?r2(a,
e):l)};u6=function(){return null};u6=function(a,b,c,d,e,f,l,p){b=b instanceof $APP.F?b.N:null;switch(b){case "eavt":return t6(a,c,d,e,f,l,p);case "aevt":return t6(a,d,c,e,f,l,p);case "avet":return t6(a,e,c,d,f,l,p);default:throw Error(["No matching clause: ",$APP.m.g(b)].join(""));}};$APP.g=c2.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db-before":return this.ce;case "db-after":return this.be;case "tx-data":return this.ge;case "tempids":return this.ee;case "tx-meta":return this.he;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[d2,this.ce],null),new $APP.H(null,2,5,$APP.I,[e2,this.be],null),new $APP.H(null,2,5,$APP.I,[f2,this.ge],null),new $APP.H(null,2,5,$APP.I,[g2,this.ee],null),new $APP.H(null,2,5,$APP.I,[h2,this.he],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[d2,e2,f2,g2,h2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new c2(this.ce,this.be,this.ge,this.ee,this.he,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ce,b.ce)&&$APP.x.h(this.be,b.be)&&$APP.x.h(this.ge,b.ge)&&$APP.x.h(this.ee,b.ee)&&$APP.x.h(this.he,b.he)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[g2,null,e2,null,d2,null,f2,null,h2,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new c2(this.ce,this.be,this.ge,this.ee,this.he,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(d2,b):$APP.Af.call(null,d2,b))?new c2(c,this.be,this.ge,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(e2,b):$APP.Af.call(null,e2,b))?new c2(this.ce,c,this.ge,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(f2,b):$APP.Af.call(null,f2,b))?new c2(this.ce,this.be,c,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(g2,b):$APP.Af.call(null,g2,b))?new c2(this.ce,this.be,this.ge,c,this.he,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(h2,b):$APP.Af.call(null,h2,b))?new c2(this.ce,this.be,this.ge,this.ee,c,this.A,this.o,null):new c2(this.ce,this.be,this.ge,this.ee,this.he,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(d2,this.ce,null),new $APP.Te(e2,this.be,null),new $APP.Te(f2,this.ge,null),new $APP.Te(g2,this.ee,null),new $APP.Te(h2,this.he,null)],null),this.o))};
$APP.g.W=function(a,b){return new c2(this.ce,this.be,this.ge,this.ee,this.he,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};i2=function(a,b,c){return $APP.Se(w1(a,c),b)};j2=function(a,b){return i2(a,b,L1)};k2=function(a,b,c){return i2(a,b,L1)&&(g0(c)||$APP.we(c)&&!$APP.Be(c))};q2=function(){return null};q2=function(a,b){return i2(a,b,M1)};l2=function(a,b){return i2(a,b,N1)};s1=function(){return null};
s1=function(a,b){return i2(a,b,K1)};m2=function(a,b){return i2(a,b,P1)};Scb=function(a,b){return i2(a,b,Lcb)};n2=function(a){if(a instanceof $APP.F)return $APP.x.h("_",$APP.y.h($APP.Fi(a),0));if("string"===typeof a)return $APP.ib($APP.Ui(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Yl.h(["Bad attribute type: ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,o2,T1,a],null));};
s2=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Yl.h(["Highest supported entity id is ",$APP.yj.l($APP.z([2147483647])),", got ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,z2,$APP.kK,b],null));return b}if($APP.Ae(b)){var c=b,d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);if($APP.ti.h($APP.be(b),2))throw $APP.Yl.h(["Lookup ref should contain 2 elements: ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Wgb,z2,b],null));if(i2(a,d,I1))return m2(a,
d)?(b=Tcb(a,d,c),$APP.yL.g($APP.v(n1(a,r1,d,b,null,null)))):null==c?null:$APP.yL.g($APP.v(n1(a,r1,d,c,null,null)));throw $APP.Yl.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Cgb,z2,b],null));}if($APP.zb(b))b=$APP.z(b);else{if(b instanceof $APP.F)return $APP.yL.g($APP.v(n1(a,r1,Q1,b,null,null)));throw $APP.Yl.h(["Expected number or lookup ref for entity id, got ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,eib,
z2,b],null));}}};Ucb=function(a,b){return $APP.x.h(b,$APP.yL.g($APP.v(o1(a,$APP.z1,b,null,null,null))))};r2=function(){return null};r2=function(a,b){a=s2(a,b);if($APP.k(a))return a;throw $APP.Yl.h(["Nothing found for entity id ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,mhb,z2,b],null));};var Vcb=$APP.Aj.g(0);t2.prototype.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/AutoTempid ["," ","]",c,new $APP.H(null,1,5,$APP.I,[this.id],null))};
e0=function(a){return a instanceof t2};
var v6=function v6(a,b){return function f(e){return new $APP.Ff(null,function(){for(;;){var l=$APP.r(e);if(l){var p=l;if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var G=$APP.oe(u,E);$APP.Mf(A,$APP.Be(G)?$APP.df(function(){return function(O,T,Z){return T instanceof $APP.F||"string"===typeof T?q2(a,T)&&k2(a,T,Z)?$APP.ui.j(O,T,v6.h?v6.h(a,Z):v6.call(null,a,Z)):q2(a,T)?$APP.ui.j(O,T,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Z],null);return v6.h?
v6.h(a,ba):v6.call(null,a,ba)}())):n2(T)&&$APP.Ae(Z)?$APP.ui.j(O,T,v6.h?v6.h(a,Z):v6.call(null,a,Z)):n2(T)?$APP.ui.j(O,T,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Z],null);return v6.h?v6.h(a,ba):v6.call(null,a,ba)}())):$APP.ui.j(O,T,Z):$APP.ui.j(O,T,Z)}}(E,G,u,t,A,p,l),$APP.Xf,$APP.Se(G,F2)?G:$APP.ui.j(G,F2,new t2)):function(){var O=$APP.yg(null);if(function(){var ma=$APP.Ae(G);if(ma){ma=$APP.kd(O,G);var ya=$APP.y.j(ma,0,null);$APP.y.j(ma,1,null);var sa=$APP.y.j(ma,2,null);$APP.y.j(ma,
3,null);return $APP.x.h(G2,ya)&&q2(a,sa)&&!0}return ma}()){var T=$APP.n(O),Z=$APP.y.j(T,0,null),ba=$APP.y.j(T,1,null),da=$APP.y.j(T,2,null),ia=$APP.y.j(T,3,null);return k2(a,da,ia)?new $APP.H(null,4,5,$APP.I,[Z,ba,da,v6.h?v6.h(a,ia):v6.call(null,a,ia)],null):new $APP.H(null,4,5,$APP.I,[Z,ba,da,$APP.v(function(){var ma=new $APP.H(null,1,5,$APP.I,[ia],null);return v6.h?v6.h(a,ma):v6.call(null,a,ma)}())],null)}return G}());E+=1}else return!0}()?$APP.Lf($APP.Nf(A),f($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var B=
$APP.v(p);return $APP.yf($APP.Be(B)?$APP.df(function(){return function(E,G,O){return G instanceof $APP.F||"string"===typeof G?q2(a,G)&&k2(a,G,O)?$APP.ui.j(E,G,v6.h?v6.h(a,O):v6.call(null,a,O)):q2(a,G)?$APP.ui.j(E,G,$APP.v(function(){var T=new $APP.H(null,1,5,$APP.I,[O],null);return v6.h?v6.h(a,T):v6.call(null,a,T)}())):n2(G)&&$APP.Ae(O)?$APP.ui.j(E,G,v6.h?v6.h(a,O):v6.call(null,a,O)):n2(G)?$APP.ui.j(E,G,$APP.v(function(){var T=new $APP.H(null,1,5,$APP.I,[O],null);return v6.h?v6.h(a,T):v6.call(null,
a,T)}())):$APP.ui.j(E,G,O):$APP.ui.j(E,G,O)}}(B,p,l),$APP.Xf,$APP.Se(B,F2)?B:$APP.ui.j(B,F2,new t2)):function(){var E=$APP.yg(null);if(function(){var da=$APP.Ae(B);if(da){da=$APP.kd(E,B);var ia=$APP.y.j(da,0,null);$APP.y.j(da,1,null);var ma=$APP.y.j(da,2,null);$APP.y.j(da,3,null);return $APP.x.h(G2,ia)&&q2(a,ma)&&!0}return da}()){var G=$APP.n(E),O=$APP.y.j(G,0,null),T=$APP.y.j(G,1,null),Z=$APP.y.j(G,2,null),ba=$APP.y.j(G,3,null);return k2(a,Z,ba)?new $APP.H(null,4,5,$APP.I,[O,T,Z,v6.h?v6.h(a,ba):
v6.call(null,a,ba)],null):new $APP.H(null,4,5,$APP.I,[O,T,Z,$APP.v(function(){var da=new $APP.H(null,1,5,$APP.I,[ba],null);return v6.h?v6.h(a,da):v6.call(null,a,da)}())],null)}return B}(),f($APP.Id(p)))}return null}},null,null)}(b)},K2=function K2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(K2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},Gjb=new $APP.zi(null,new $APP.h(null,8,[d6,null,pib,null,odb,null,Uhb,null,L2,null,Tgb,null,vjb,null,G2,null],null),null);
K2=function(){return null};
K2=function(a,b){for(var c=!$APP.ve(w1(e2.g(a),P1)),d=c?$APP.bn.h(b,$APP.jn.g(fib)):b,e=a,f=d;;){if($APP.ve(f))return $APP.an.P($APP.an.P($APP.an.j($APP.Ol.h($APP.Ol.h(sdb(e),J2),x2),g2,function(){return function(Td){return Rbb(Td)}}(e,f,a,c,d)),g2,$APP.ui,Wcb,u2(e)),e2,$APP.an,C1,$APP.Pd);var l=f,p=$APP.r(l),u=$APP.v(p),t=$APP.w(p),A=u,B=t;if(null==A)f=B;else if($APP.x.h(fib,A))if($APP.Se(e,B2)){var E=$APP.Ol.h(e,B2),G=$APP.K.h(rdb(e),B);e=E;f=G}else f=B;else{var O=e2.g(e),T=g2.g(e);if($APP.Be(A)){var Z=
F2.g(A);vdb(A);if(v2(Z)){var ba=u2(e),da=y2(e,Z,ba),ia=$APP.yf($APP.ui.j(A,F2,ba),B);e=da;f=ia}else if($APP.Ae(Z)){ba=r2(O,Z);var ma=e,ya=$APP.yf($APP.ui.j(A,F2,ba),B);e=ma;f=ya}else{var sa=gdb(O,A),X=$APP.y.j(sa,0,null),S=$APP.y.j(sa,1,null),W=jdb(X,S);if(null!=W){if(w2(Z)&&$APP.Se(T,Z)&&$APP.ti.h(W,$APP.C.h(T,Z)))return qdb(a,e,b,Z,W);var U=$APP.an.F(y2(e,Z,W),H2,mdb,e1.F(W,null,null,536870912)),Y=$APP.K.h(ldb(O,$APP.ui.j(X,F2,W)),B);e=U;f=Y}else if("number"===typeof Z||null==Z||"string"===typeof Z||
e0(Z)){var na=e,za=$APP.K.h(ldb(O,A),B);e=na;f=za}else throw $APP.Yl.h(["Expected number, string or lookup ref for :db/id, got ",$APP.yj.l($APP.z([Z]))].join(""),new $APP.h(null,2,[$APP.Kn,eib,udb,A],null));}}else if($APP.Ae(A)){var ea=A,pa=$APP.y.j(ea,0,null),ua=$APP.y.j(ea,1,null),xa=$APP.y.j(ea,2,null),Na=$APP.y.j(ea,3,null);if($APP.x.h(pa,d6)){var Wa=$APP.r(A),bb=$APP.v(Wa),fb=$APP.w(Wa),db=bb,kb=$APP.v(fb),hb=$APP.w(fb),mb=e,Ab=$APP.K.h(v6(O,$APP.qg.j(kb,O,hb)),B);e=mb;f=Ab}else if(pa instanceof
$APP.F&&$APP.Cb(Gjb.g?Gjb.g(pa):Gjb.call(null,pa))){var Kb=s2(O,pa);if(null==Kb)throw $APP.Yl.h(["Can’t find entity for transaction fn ",$APP.yj.l($APP.z([pa]))].join(""),new $APP.h(null,3,[$APP.Kn,o2,kjb,d6,f2,A],null));var Zb=Z1.g(m1(O,new $APP.H(null,2,5,$APP.I,[Kb,Lgb],null)));hb=$APP.w(A);if($APP.pe(Zb)){var cc=e,Hc=$APP.K.h($APP.qg.j(Zb,O,hb),B);e=cc;f=Hc}else throw $APP.Yl.h(["Entity ",$APP.yj.l($APP.z([pa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.h(null,3,[$APP.Kn,
o2,kjb,d6,f2,A],null));}else{if(w2(ua)&&$APP.ti.h(pa,G2))throw $APP.Yl.h(["Can't use tempid in '",$APP.yj.l($APP.z([A])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.Kn,o2,$APP.II,A],null));if($APP.x.h(pa,vjb)||$APP.x.h(pa,pib)){var lc=A;db=$APP.y.j(lc,0,null);var Kd=$APP.y.j(lc,1,null),xe=$APP.y.j(lc,2,null),ng=$APP.y.j(lc,3,null),Gg=$APP.y.j(lc,4,null),Gh=r2(O,Kd),qj=function(){var Td=xe;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Kl=A;throw $APP.Yl.h(["Bad entity attribute ",
$APP.yj.l($APP.z([Td]))," at ",$APP.yj.l($APP.z([Kl])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,Td,D2,Kl,$APP.Kn,o2],null));}(),tg=q2(O,xe)?r2(O,ng):ng,Hh=q2(O,xe)?r2(O,Gg):Gg,Tf=null==Hh?function(){var Td=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([Td]))].join(""),new $APP.h(null,3,[$APP.kK,null,D2,Td,$APP.Kn,o2],null));}():null,Qd=$APP.cf(l1(O,new $APP.H(null,2,5,$APP.I,[Gh,xe],null)));if(j2(O,xe))if($APP.k($APP.og(function(Td,Kl,Ti,TI,rP,sP,tP,UI,
uP,vP,wE){return function(mu){return $APP.x.h(mu.v,wE)}}(e,f,lc,db,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),Qd))){var hk=I2(e,new $APP.H(null,4,5,$APP.I,[G2,Gh,xe,Hh],null)),Oj=B;e=hk;f=Oj}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.yj.l($APP.z([Gh]))," ",$APP.yj.l($APP.z([xe]))," ",$APP.yj.l($APP.z([$APP.ej.h(Z1,Qd)])),"], expected ",$APP.yj.l($APP.z([tg]))].join(""),new $APP.h(null,4,[$APP.Kn,Ohb,Cib,Qd,$APP.PI,tg,lib,Hh],null));else{var rj=Z1.g($APP.v(Qd));
if($APP.x.h(rj,tg)){var Dc=I2(e,new $APP.H(null,4,5,$APP.I,[G2,Gh,xe,Hh],null)),td=B;e=Dc;f=td}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.yj.l($APP.z([Gh]))," ",$APP.yj.l($APP.z([xe]))," ",$APP.yj.l($APP.z([rj])),"], expected ",$APP.yj.l($APP.z([tg]))].join(""),new $APP.h(null,4,[$APP.Kn,Ohb,Cib,$APP.v(Qd),$APP.PI,tg,lib,Hh],null));}}else if(v2(ua)){var Pe=y2(e,ua,u2(e)),Hg=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,u2(e),xa,Na],null),B);e=Pe;f=Hg}else if(q2(O,xa)&&v2(Na)){var Hf=y2(e,
Na,u2(e)),Ri=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,u2(e)],null),B);e=Hf;f=Ri}else if(q2(O,xa)&&w2(Na))if(Kb=$APP.C.h(T,Na),null==Kb){var Xg=$APP.jf(B1.g(O))+1,ke=$APP.an.P(y2(e,Na,Xg),N2,$APP.ui,Xg,Na),Cg=f;e=ke;f=Cg}else{Xg=Kb;var Il=ke=$APP.an.P(e,N2,$APP.ui,Xg,Na),uh=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,Xg],null),B);e=Il;f=uh}else{var vi=$APP.yg(null);if(function(){var Td=$APP.x.h(pa,G2)||$APP.x.h(pa,L2);return Td?(Td=$APP.Cb(M2.g($APP.se(A))))?(Td=m2(O,xa))?(Td=$APP.zg(vi,Tcb(O,
xa,Na)),$APP.ti.h(Na,Td)&&!0):Td:Td:Td}()){var Dn=$APP.n(vi),ik=e,gq=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,Dn],null),B);e=ik;f=gq}else if(w2(ua)){W=i2(O,xa,J1)?$APP.yL.g($APP.v(n1(O,r1,xa,Na,null,null))):null;var jk=$APP.C.h(T,ua);if($APP.k(function(){var Td=W;return $APP.k(Td)?(Td=jk,$APP.k(Td)?$APP.ti.h(W,jk):Td):Td}()))return qdb(a,e,b,ua,W);var Yo=function(){var Td=W;if($APP.k(Td))return Td;Td=jk;return $APP.k(Td)?Td:$APP.jf(B1.g(O))+1}(),Pj=y2(e,ua,Yo),hq=$APP.yf(new $APP.H(null,4,5,$APP.I,
[pa,Yo,xa,Na],null),B);e=Pj;f=hq}else{var Ue=$APP.yg(null);if($APP.k(function(){var Td=i2(O,xa,J1);if(Td){if(Td=$APP.Se(x2.g(e),ua)){Td=$APP.zg(Ue,$APP.yL.g($APP.v(n1(O,r1,xa,Na,null,null))));var Kl=ua;return $APP.k(Kl)?$APP.k(Td)?$APP.ti.h(ua,Td)&&!0:Td:Kl}return Td}return Td}())){W=$APP.n(Ue);var Jl=$APP.C.h(x2.g(e),ua),Zo=Qbb(function(Td){return function(Kl){return!$APP.Se(J2.g(Td),Kl)}}(e,f,Jl,W,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),Jl);if($APP.k(Zo))return qdb(a,e,b,Zo,W);throw $APP.Yl.h(["Conflicting upsert: ",
$APP.yj.l($APP.z([ua]))," resolves to ",$APP.yj.l($APP.z([W]))," via ",$APP.yj.l($APP.z([A]))].join(""),new $APP.h(null,1,[$APP.Kn,E2],null));}if($APP.Cb(M2.g($APP.se(A)))&&m2(O,xa)){var Bm=$APP.rp.h(O,new $APP.H(null,3,5,$APP.I,[$APP.y1,xa,O1],null));if($APP.x.h($APP.be(Bm),$APP.be(Na))&&$APP.mg($APP.Db,Na)&&$APP.mg(function(Td,Kl,Ti,TI,rP,sP,tP,UI,uP,vP,wE){return function(mu){var iA=$APP.y.j(mu,0,null);mu=$APP.y.j(mu,1,null);iA=Z1.g($APP.v(n1(wE,$APP.z1,UI,iA,null,null)));return $APP.x.h(mu,iA)}}(e,
f,Bm,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),$APP.ej.j($APP.Fw,Bm,Na)))f=B;else throw $APP.Yl.h(["Can’t modify tuple attrs directly: ",$APP.yj.l($APP.z([A]))].join(""),new $APP.h(null,2,[$APP.Kn,o2,f2,A],null));}else if($APP.x.h(pa,G2)){var Si=I2(e,A),Ig=B;e=Si;f=Ig}else if($APP.x.h(pa,L2)&&null!=Na)if(Kb=s2(O,ua),null==Kb)f=B;else{Kd=Kb;rj=q2(O,xa)?r2(O,Na):Na;var Jg=xa;if(!(Jg instanceof $APP.F||"string"===typeof Jg)){var ud=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Jg])),
" at ",$APP.yj.l($APP.z([ud])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,Jg,D2,ud,$APP.Kn,o2],null));}if(null==rj){var lf=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([lf]))].join(""),new $APP.h(null,3,[$APP.kK,null,D2,lf,$APP.Kn,o2],null));}var Oc=m1(O,new $APP.H(null,3,5,$APP.I,[Kd,xa,rj],null));if(null==Oc)f=B;else{var Uf=ndb(e,Oc),iq=B;e=Uf;f=iq}}else if($APP.x.h(pa,Tgb)||$APP.x.h(pa,L2))if(Kb=s2(O,ua),null==Kb)f=B;else{Kd=Kb;db=function(){var Td=
xa;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Kl=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Td]))," at ",$APP.yj.l($APP.z([Kl])),", expected keyword or string"].join(""),new $APP.h(null,3,[T1,Td,D2,Kl,$APP.Kn,o2],null));}();Qd=$APP.cf(l1(O,new $APP.H(null,2,5,$APP.I,[Kd,xa],null)));var lu=$APP.af.j(ndb,e,Qd),Vf=$APP.K.h(pdb(O,Qd),B);e=lu;f=Vf}else if($APP.x.h(pa,odb)||$APP.x.h(pa,Uhb))if(Kb=s2(O,ua),null==Kb)f=B;else{Kd=Kb;var $o=$APP.cf(l1(O,new $APP.H(null,1,
5,$APP.I,[Kd],null))),Vw=$APP.cf($APP.Og.l(function(Td,Kl,Ti,TI,rP,sP,tP,UI,uP,vP,wE,mu,iA){return function(dW){return l1(iA,new $APP.H(null,3,5,$APP.I,[null,dW,TI],null))}}(e,f,$o,Kd,Kb,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),$APP.z([w1(O,M1)]))),Kg=$APP.af.j(ndb,e,$APP.K.h($o,Vw)),XV=$APP.K.h(pdb(O,$o),B);e=Kg;f=XV}else throw $APP.Yl.h(["Unknown operation at ",$APP.yj.l($APP.z([A])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.h(null,3,[$APP.Kn,o2,kjb,pa,f2,A],null));}}}}else if(scb(A)){var hA=A;ua=$APP.y.j(hA,0,null);xa=$APP.y.j(hA,1,null);Na=$APP.y.j(hA,2,null);var YV=$APP.y.j(hA,3,null),ZV=$APP.y.j(hA,4,null);if($APP.k(ZV)){var $V=I2(e,new $APP.H(null,5,5,$APP.I,[G2,ua,xa,Na,YV],null)),aW=B;e=$V;f=aW}else{var bW=e,cW=$APP.yf(new $APP.H(null,4,5,$APP.I,[L2,ua,xa,Na],null),B);e=bW;f=cW}}else throw $APP.Yl.h(["Bad entity type at ",$APP.yj.l($APP.z([A])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.Kn,
o2,f2,A],null));}}};var T2,Edb=$APP.Aj.g($APP.Xf),U2=$APP.yg(1E6);$APP.g=Q2.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "storage":return this.storage;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[V0,this.storage],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[V0],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new Q2(this.storage,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1627330428^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.storage,b.storage)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[V0,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new Q2(this.storage,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "storage":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(V0,b):$APP.Af.call(null,V0,b))?new Q2(c,this.A,this.o,null):new Q2(this.storage,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(V0,this.storage,null)],null),this.o))};$APP.g.W=function(a,b){return new Q2(this.storage,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.pk=function(a,b,c){a=$APP.k($APP.k(c)?b instanceof B0&&$APP.Se($APP.Di(b.vd),c):c)?U2.rc(null,U2.Ja(null)+1):$APP.k(c)?c:U2.rc(null,U2.Ja(null)+1);c=$APP.on.h(xdb,b.keys);c=new $APP.h(null,1,[$APP.RB,c],null);b=b instanceof B0?$APP.ui.j(c,xhb,b.vd):c;$APP.kd(T2,$APP.Rg.h($APP.n(T2),new $APP.H(null,2,5,$APP.I,[a,b],null)));return a};
$APP.g.nk=function(a,b){if($APP.k(b)){a=P2(this.storage,b);a=$APP.Yf(a);var c=$APP.C.h(a,$APP.RB);a=$APP.C.h(a,xhb);if($APP.k(c)){c=f0($APP.ej.h(function(e){var f=$APP.y.j(e,0,null),l=$APP.y.j(e,1,null),p=$APP.y.j(e,2,null);e=$APP.y.j(e,3,null);return e1.F(f,l,p,e)},c));if($APP.k(a)){var d=Array($APP.be(a));return C0(c,d,a,b,!1)}return U0.j(c,b,!1)}}return null};$APP.g.nm=function(){return null};
$APP.g.mk=function(a,b){return $APP.Bj.F(Edb,$APP.an,this.storage,function(c){return $APP.Eh.h(c,$APP.gs.h($APP.yb,b))})};var zdb=$APP.Aj.g($APP.Sg),c3=function c3(a){switch(arguments.length){case 1:return c3.g(arguments[0]);case 2:return c3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};c3.g=function(a){var b=R2(a);if(null==b)throw $APP.Yl.h("Database has no associated storage",$APP.Xf);return V2(a,b,!1)};
c3.h=function(a,b){var c=R2(a);if(null==c)return $APP.z1.g(a),c=new Q2(b,null,null,null),V2(a,c,!1);var d=V0.g(c);if(d===b)return V2(a,c,!1);throw $APP.Yl.h("Database is already stored with another IStorage",new $APP.h(null,1,[V0,d],null));};c3.B=2;var w6=function w6(a){switch(arguments.length){case 1:return w6.g(arguments[0]);case 2:return w6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};w6.g=function(a){return w6.h(a,$APP.Xf)};
w6.h=function(a,b){b=Hdb(a,b);a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return Idb(a,b)};w6.B=2;$APP.g=Y2.prototype;$APP.g.equiv=function(a){return this.T(null,a)};$APP.g.Dg=function(a,b){for(var c=$APP.r(this.lb),d=null,e=0,f=0;;)if(f<e){var l=d.ea(null,f),p=$APP.y.j(l,0,null);l=$APP.y.j(l,1,null);l.F?l.F(p,this,a,b):l.call(null,p,this,a,b);f+=1}else if(c=$APP.r(c))$APP.Ee(c)?(d=$APP.cd(c),c=$APP.dd(c),p=d,e=$APP.be(d),d=p):(d=$APP.v(c),p=$APP.y.j(d,0,null),l=$APP.y.j(d,1,null),l.F?l.F(p,this,a,b):l.call(null,p,this,a,b),c=$APP.w(c),d=null,e=0),f=0;else break};
$APP.g.bg=function(a,b,c){this.lb=$APP.ui.j(this.lb,b,c);return this};$APP.g.cg=function(a,b){return this.lb=$APP.Ol.h(this.lb,b)};$APP.g.T=function(a,b){return this===b};$APP.g.Y=function(){return $APP.la(this)};$APP.g.fd=function(a,b){return $APP.y.h($2(this,$APP.sg(b),$APP.Hd),1)};$APP.g.Zg=function(a,b){return $APP.y.h($2(this,b,$APP.Hd),1)};$APP.g.$g=function(a,b,c){return $APP.y.h($2(this,b,new $APP.D(null,c,null,1,null)),1)};
$APP.g.ah=function(a,b,c,d){return $APP.y.h($2(this,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null)),1)};$APP.g.bh=function(a,b,c,d,e){return $APP.y.h($2(this,b,$APP.yf(c,$APP.yf(d,e))),1)};$APP.g.U=function(){return this.O};$APP.g.Ja=function(){return Z2.g($APP.n(this.Rg))};$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "atom":return this.Rg;default:return c}};
a3=function(a){switch(arguments.length){case 1:return a3.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return a3.l(arguments[0],1<b.length?new $APP.Ed(b.slice(1),0,null):null)}};a3.g=function(a){return new Y2(a,null,$APP.Xf,$APP.Xf)};a3.l=function(a,b){b=$APP.qg.h($APP.ap,b);a=new Y2(a,null,$APP.Xf,$APP.Xf);var c=$APP.ly.g(b);null!=c&&(Jdb(c,$APP.n(a)),a.tg=c);b=$APP.nb.g(b);null!=b&&(a.O=b);return a};
a3.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};a3.B=1;b3.h=function(a,b){return b3.j(a,b,null)};b3.j=function(a,b,c){if(a instanceof H1)throw $APP.Yl.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.Kn,njb],null));a=new c2(a,a,$APP.Sg,$APP.Xf,c,null,null,null);if(null!=b&&!$APP.Ae(b))throw $APP.Yl.h(["Bad transaction data ",$APP.yj.l($APP.z([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.Kn,o2,f2,b],null));b=v6(d2.g(a),b);return K2(a,b)};
b3.B=3;var x6=function x6(a){switch(arguments.length){case 1:return x6.g(arguments[0]);case 2:return x6.h(arguments[0],arguments[1]);case 3:return x6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};x6.g=function(a){return f3($1(a,null,$APP.Xf))};x6.h=function(a,b){return f3($1(a,b,$APP.Xf))};x6.j=function(a,b,c){return f3($1(a,b,X2(c)))};x6.B=3;
var y6=function y6(a){switch(arguments.length){case 0:return y6.D();case 1:return y6.g(arguments[0]);case 2:return y6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};y6.D=function(){return f3(Y1(null,$APP.Xf))};y6.g=function(a){return f3(Y1(a,$APP.Xf))};y6.h=function(a,b){return f3(Y1(a,X2(b)))};y6.B=2;
var z6=function z6(a){switch(arguments.length){case 1:return z6.g(arguments[0]);case 2:return z6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};z6.g=function(a){return z6.h(a,$APP.Xf)};z6.h=function(a,b){b=Hdb(a,b);if(null==b)return null;a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return Kdb(new $APP.h(null,3,[Z2,Idb(a,b),d3,b,e3,a],null))};z6.B=2;
var A6=function A6(a){switch(arguments.length){case 2:return A6.h(arguments[0],arguments[1]);case 3:return A6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};A6.h=function(a,b){return A6.j(a,b,null)};
A6.j=function(a,b,c){b=Ndb(a,b,c);a=$APP.r(Qhb.g($APP.n($APP.WH.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.ea(null,e);$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.r(a))$APP.Ee(a)?(d=$APP.cd(a),a=$APP.dd(a),c=d,d=$APP.be(d)):(c=$APP.v(a),$APP.y.j(c,0,null),c=$APP.y.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.w(a),c=null,d=0),e=0;else break;return b};A6.B=3;
var B6=function B6(a){switch(arguments.length){case 2:return B6.h(arguments[0],arguments[1]);case 3:return B6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};B6.h=function(a,b){return B6.j(a,b,null)};
B6.j=function(a,b,c){var d=$APP.n(a);c=Rcb(new $APP.h(null,4,[d2,d,e2,b,f2,$APP.K.h($APP.k(d)?$APP.ej.h(function(p){return $APP.ui.j(p,$APP.fD,!1)},n1(d,$APP.z1,null,null,null,null)):null,n1(b,$APP.z1,null,null,null,null)),h2,c],null));null==S2(d)?$APP.vg(a,b):(c3.g(b),$APP.Bj.l($APP.WH.g(a),$APP.ui,Z2,b,$APP.z([d3,$APP.Sg,e3,b])));a=$APP.r(Qhb.g($APP.n($APP.WH.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var l=d.ea(null,f);$APP.y.j(l,0,null);l=$APP.y.j(l,1,null);l.g?l.g(c):l.call(null,c);f+=1}else if(a=
$APP.r(a))$APP.Ee(a)?(e=$APP.cd(a),a=$APP.dd(a),d=e,e=$APP.be(e)):(d=$APP.v(a),$APP.y.j(d,0,null),d=$APP.y.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.w(a),d=null,e=0),f=0;else break;return b};B6.B=3;var C6=function C6(a){switch(arguments.length){case 2:return C6.h(arguments[0],arguments[1]);case 3:return C6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};C6.h=function(a,b){return C6.j(a,$APP.Xy.D(),b)};
C6.j=function(a,b,c){$APP.Bj.l($APP.WH.g(a),$APP.an,Qhb,$APP.ui,$APP.z([b,c]));return b};C6.B=3;$APP.g=k3.prototype;$APP.g.entry_set=function(){return $APP.bf($APP.ej.h($APP.bf,j3(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.r(j3(this)),l=null,p=0,u=0;;)if(u<p){var t=l.ea(null,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);d.call(e,t,A,this);u+=1}else if(f=$APP.r(f))$APP.Ee(f)?(l=$APP.cd(f),f=$APP.dd(f),A=l,p=$APP.be(l),l=A):(l=$APP.v(f),A=$APP.y.j(l,0,null),t=$APP.y.j(l,1,null),d.call(e,t,A,this),f=$APP.w(f),l=null,p=0),u=0;else return null}function b(d){for(var e=$APP.r(j3(this)),f=null,l=0,p=0;;)if(p<l){var u=f.ea(null,p),t=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);
d.j?d.j(u,t,this):d.call(null,u,t,this);p+=1}else if(e=$APP.r(e))$APP.Ee(e)?(f=$APP.cd(e),e=$APP.dd(e),t=f,l=$APP.be(f),f=t):(f=$APP.v(e),t=$APP.y.j(f,0,null),u=$APP.y.j(f,1,null),d.j?d.j(u,t,this):d.call(null,u,t,this),e=$APP.w(e),f=null,l=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.x.h(a,":db/id"))return this.eid;if(n2(a))return h3(Rdb(this.db,this.eid,p2(a),null));var b=D6.h?D6.h(this,a):D6.call(null,this,a);return j2(this.db,a)?h3(b):b};$APP.g.key_set=function(){return $APP.bf($APP.qi(this))};$APP.g.entries=function(){return $APP.xh(j3(this))};$APP.g.value_set=function(){return $APP.bf($APP.ej.h($APP.ge,j3(this)))};$APP.g.toString=function(){return $APP.od(this)};$APP.g.keys=function(){return $APP.Jd($APP.qi(this))};
$APP.g.values=function(){return $APP.Jd($APP.ej.h($APP.ge,j3(this)))};$APP.g.equiv=function(a){return l3.h?l3.h(this,a):l3.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.da=function(a,b){return D6.j?D6.j(this,b,null):D6.call(null,this,b,null)};$APP.g.K=function(a,b,c){return D6.j?D6.j(this,b,c):D6.call(null,this,b,c)};$APP.g.V=function(a,b,c){return $APP.Nc($APP.ui.j($APP.n(this.cache),F2,this.eid),b,c)};$APP.g.aa=function(){i3.g?i3.g(this):i3.call(null,this);return $APP.be($APP.n(this.cache))};
$APP.g.Y=function(){return Tdb.g?Tdb.g(this):Tdb.call(null,this)};$APP.g.T=function(a,b){return l3.h?l3.h(this,b):l3.call(null,this,b)};$APP.g.ha=function(a,b){return $APP.ti.h(tib,D6.j?D6.j(this,b,tib):D6.call(null,this,b,tib))};$APP.g.Z=function(){i3.g?i3.g(this):i3.call(null,this);return $APP.r($APP.n(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return D6.h?D6.h(this,a):D6.call(null,this,a)};$APP.g.h=function(a,b){return D6.j?D6.j(this,a,b):D6.call(null,this,a,b)};
var D6=function D6(a){switch(arguments.length){case 2:return D6.h(arguments[0],arguments[1]);case 3:return D6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};D6.h=function(a,b){return D6.j(a,b,null)};
D6.j=function(a,b,c){if($APP.x.h(b,F2))return a.eid;if(n2(b))return Rdb(a.db,a.eid,p2(b),c);var d=$APP.n(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.n(a.Cj)))return c;d=$APP.Zf(l1(a.db,new $APP.H(null,2,5,$APP.I,[a.eid,b],null)));if(null==d)return c;c=Qdb(a.db,b,d);$APP.zg(a.cache,$APP.ui.j($APP.n(a.cache),b,c));return c}return d};D6.B=3;Kbb("datascript.impl.entity.Entity",k3);var E6=function E6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};E6.l=function(a){var b=$APP.be(a);return $APP.ti.h($APP.Dg.h(b/2,a),$APP.Eg.h(b/2,a))};E6.B=0;E6.G=function(a){return this.l($APP.r(a))};var F6=function F6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)};
F6.l=function(a,b,c){return $APP.af.j(function(d,e){d=$APP.v(l1(a,new $APP.H(null,2,5,$APP.I,[s2(a,b),e],null)));return null==d?null:$APP.Sd(new $APP.H(null,2,5,$APP.I,[A2.g(d),Z1.g(d)],null))},null,c)};F6.B=2;F6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};var G6=function G6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};
G6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?c:$APP.Sd(c)},!0,a)};G6.B=0;G6.G=function(a){return this.l($APP.r(a))};var H6=function H6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};H6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?$APP.Sd(c):c},null,a)};H6.B=0;H6.G=function(a){return this.l($APP.r(a))};
var I6=function I6(a){switch(arguments.length){case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};I6.g=function(){return!0};I6.h=function(a,b){return 0>g1(a,b)};I6.l=function(a,b,c){for(;;)if(I6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return I6.h(b,$APP.v(c));else return!1};
I6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};I6.B=2;var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};J6.g=function(){return!0};J6.h=function(a,b){return 0<g1(a,b)};
J6.l=function(a,b,c){for(;;)if(J6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return J6.h(b,$APP.v(c));else return!1};J6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};J6.B=2;
var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};K6.g=function(){return!0};K6.h=function(a,b){return!(0<g1(a,b))};K6.l=function(a,b,c){for(;;)if(K6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return K6.h(b,$APP.v(c));else return!1};
K6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};K6.B=2;var L6=function L6(a){switch(arguments.length){case 1:return L6.g(arguments[0]);case 2:return L6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return L6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};L6.g=function(){return!0};L6.h=function(a,b){return!(0>g1(a,b))};
L6.l=function(a,b,c){for(;;)if(L6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return L6.h(b,$APP.v(c));else return!1};L6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};L6.B=2;
var feb=$APP.gi([$APP.ZJ,$APP.ht,$APP.Vz,Cjb,$APP.EJ,$APP.jI,$APP.BJ,$APP.$H,Oib,$APP.tz,Ehb,$APP.qD,$APP.Am,$APP.VL,$APP.QF,$APP.FC,$APP.bH,t5,$APP.XF,$APP.RI,$APP.xJ,jhb,$APP.CJ,$APP.wK,$APP.XI,$APP.xC,rhb,iib,$APP.YA,$APP.qK,$APP.DJ,$APP.tH,$APP.kL,$APP.nL,$APP.jL,$APP.oA,$APP.SI,$APP.KD,qhb,$APP.tA,$APP.wI,xib,$APP.JI,$APP.eL,$APP.YB,$APP.FA,$APP.SC,$APP.wA,$APP.iI,$APP.AJ,$APP.QG,$APP.sK,$APP.YI,$APP.PG,$APP.Hz,$APP.FI,$APP.HC,$APP.PD,$APP.lA,shb,$APP.JJ,$APP.TK,rjb,$APP.jE,$APP.dD,$APP.JH,$APP.gF,
$APP.KH,Phb,$APP.tE,$APP.mt,$APP.uK,$APP.xI,$APP.hB],[$APP.He,G6,$APP.Qba,function(a,b,c,d){if(null==d)throw $APP.Yl.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.Kn,r5],null));a=$APP.v(l1(a,new $APP.H(null,2,5,$APP.I,[s2(a,b),c],null)));return null==a?d:Z1.g(a)},L6,$APP.Qy,J6,$APP.be,F6,$APP.yb,$APP.ef,$APP.Pd,$APP.Ox,$APP.kf,$APP.Ge,$APP.Cb,$APP.ef,E6,$APP.Fw,$APP.Xi,K6,$APP.il,$APP.x,$APP.Tx,$APP.Mx,$APP.Fi,function(a,b,c){return null==$APP.C.h(g3(a,b),c)},$APP.ef,$APP.Cj,
$APP.rg,$APP.dl,$APP.bp,$APP.We,$APP.Un,$APP.kn,$APP.ve,$APP.Nx,$APP.yj,G5,$APP.se,$APP.pf,$APP.ti,$APP.Oy,$APP.ff,$APP.Zi,$APP.Fw,$APP.ti,$APP.C,$APP.m,I6,$APP.Bf,$APP.fj,$APP.Qo,$APP.Db,$APP.of,$APP.Xy,$APP.Ui,$APP.J,$APP.Se,$APP.ada,$APP.Yi,$APP.hf,$APP.jl,$APP.ap,$APP.mf,$APP.pg,$APP.Jb,$APP.qf,$APP.hl,$APP.Zf,H6,$APP.xb,$APP.Di,$APP.Vi]),M6=function M6(a){switch(arguments.length){case 1:return M6.g(arguments[0]);case 2:return M6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.m.g(arguments.length)].join(""));}};M6.g=function(a){return $APP.af.j(function(b,c){return 0>$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};M6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.We,$APP.vf.h(c,d)):0>$APP.We(d,$APP.me(c))?$APP.Ik.h($APP.We,$APP.vf.h($APP.Ei(c),d)):c},$APP.Sg,b))};M6.B=2;
var N6=function N6(a){switch(arguments.length){case 1:return N6.g(arguments[0]);case 2:return N6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};N6.g=function(a){return $APP.af.j(function(b,c){return 0<$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};N6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.We,$APP.vf.h(c,d)):0<$APP.We(d,$APP.v(c))?$APP.Ik.h($APP.We,$APP.vf.h($APP.w(c),d)):c},$APP.Sg,b))};
N6.B=2;var O6=function O6(a){switch(arguments.length){case 1:return O6.g(arguments[0]);case 2:return O6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};O6.g=function(a){return $APP.Dj(a)};O6.h=function(a,b){return $APP.cf($APP.Is.h(a,function(){return $APP.Dj(b)}))};O6.B=2;
var Hjb=$APP.gi([Pgb,$APP.$H,qjb,sib,$APP.wK,$APP.jL,Yib,$APP.UJ,Pib,nib,$APP.FI,Ghb],[Ydb,$APP.be,function(a){var b=$APP.Ik.g(a);a=$APP.be(a);var c=a>>1,d=$APP.y.h(b,c);return $APP.pg(a)?(d+$APP.y.h(b,c-1))/2:d},Wdb,M6,N6,function(a){return $APP.be($APP.Fy.g(a))},$APP.Di,Xdb,function(a){return Math.sqrt(Ydb(a))},O6,function(a,b){return $APP.cf($APP.Dg.h(a,$APP.Vaa(b)))}]);$APP.g=m3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "as":return this.as;case "default":return this.Vc;case "limit":return this.Gb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.wc;case "recursive?":return this.Ca;case "reverse?":return this.Fc;case "xform":return this.Hb;case "multival?":return this.vc;case "ref?":return this.xc;case "component?":return this.sc;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ko,this.as],null),new $APP.H(null,2,5,$APP.I,[$APP.Mm,this.Vc],null),new $APP.H(null,2,5,$APP.I,[n3,this.Gb],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[o3,this.wc],null),new $APP.H(null,2,5,
$APP.I,[p3,this.Ca],null),new $APP.H(null,2,5,$APP.I,[q3,this.Fc],null),new $APP.H(null,2,5,$APP.I,[r3,this.Hb],null),new $APP.H(null,2,5,$APP.I,[s3,this.vc],null),new $APP.H(null,2,5,$APP.I,[t3,this.xc],null),new $APP.H(null,2,5,$APP.I,[u3,this.sc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,12,new $APP.H(null,12,5,$APP.I,[$APP.ko,$APP.Mm,n3,$APP.N,$APP.mH,o3,p3,q3,r3,s3,t3,u3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,this.C)};$APP.g.aa=function(){return 12+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.as,b.as)&&$APP.x.h(this.default,b.default)&&$APP.x.h(this.Gb,b.Gb)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.wc,b.wc)&&$APP.x.h(this.Ca,b.Ca)&&$APP.x.h(this.Fc,b.Fc)&&$APP.x.h(this.Hb,b.Hb)&&$APP.x.h(this.vc,b.vc)&&$APP.x.h(this.xc,b.xc)&&$APP.x.h(this.sc,b.sc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,12,[r3,null,n3,null,q3,null,o3,null,$APP.Mm,null,$APP.N,null,$APP.ko,null,p3,null,u3,null,t3,null,s3,null,$APP.mH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.ko,b):$APP.Af.call(null,$APP.ko,b))?new m3(c,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Mm,b):$APP.Af.call(null,$APP.Mm,b))?new m3(this.as,c,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(n3,b):$APP.Af.call(null,n3,b))?new m3(this.as,this.Vc,c,this.name,
this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new m3(this.as,this.Vc,this.Gb,c,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,b):$APP.Af.call(null,$APP.mH,b))?new m3(this.as,this.Vc,this.Gb,this.name,c,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(o3,b):$APP.Af.call(null,
o3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,c,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(p3,b):$APP.Af.call(null,p3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,c,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(q3,b):$APP.Af.call(null,q3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,c,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?
$APP.Af.h(r3,b):$APP.Af.call(null,r3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,c,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(s3,b):$APP.Af.call(null,s3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,c,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(t3,b):$APP.Af.call(null,t3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,c,
this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(u3,b):$APP.Af.call(null,u3,b))?new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,c,this.A,this.o,null):new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.Te($APP.ko,this.as,null),new $APP.Te($APP.Mm,this.Vc,null),new $APP.Te(n3,this.Gb,null),new $APP.Te($APP.N,this.name,null),new $APP.Te($APP.mH,this.pattern,null),new $APP.Te(o3,this.wc,null),new $APP.Te(p3,this.Ca,null),new $APP.Te(q3,this.Fc,null),new $APP.Te(r3,this.Hb,null),new $APP.Te(s3,this.vc,null),new $APP.Te(t3,this.xc,null),new $APP.Te(u3,this.sc,null)],null),this.o))};
$APP.g.W=function(a,b){return new m3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=v3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "first-attr":return this.Dd;case "last-attr":return this.Qd;case "reverse-attrs":return this.rd;case "wildcard?":return this.Lc;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[w3,this.ta],null),new $APP.H(null,2,5,$APP.I,[x3,this.Dd],null),new $APP.H(null,2,5,$APP.I,[y3,this.Qd],null),new $APP.H(null,2,5,$APP.I,[z3,this.rd],null),new $APP.H(null,2,5,$APP.I,[A3,this.Lc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[w3,x3,y3,z3,A3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new v3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.Dd,b.Dd)&&$APP.x.h(this.Qd,b.Qd)&&$APP.x.h(this.rd,b.rd)&&$APP.x.h(this.Lc,b.Lc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[z3,null,x3,null,w3,null,A3,null,y3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new v3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(w3,b):$APP.Af.call(null,w3,b))?new v3(c,this.Dd,this.Qd,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new v3(this.ta,c,this.Qd,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(y3,b):$APP.Af.call(null,y3,b))?new v3(this.ta,this.Dd,c,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(z3,b):$APP.Af.call(null,z3,b))?new v3(this.ta,this.Dd,this.Qd,c,this.Lc,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(A3,b):$APP.Af.call(null,A3,b))?new v3(this.ta,this.Dd,this.Qd,this.rd,c,this.A,this.o,null):new v3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(w3,this.ta,null),new $APP.Te(x3,this.Dd,null),new $APP.Te(y3,this.Qd,null),new $APP.Te(z3,this.rd,null),new $APP.Te(A3,this.Lc,null)],null),this.o))};
$APP.g.W=function(a,b){return new v3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};var jeb=Zdb(new $APP.h(null,3,[$APP.N,F2,$APP.ko,F2,r3,$APP.ef],null)),beb=$db(new $APP.h(null,1,[w3,new $APP.D(null,jeb,null,1,null)],null)),ceb=$APP.ui.j(beb,A3,!0);$APP.g=H3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db":return this.db;case "visitor":return this.bf;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z2,this.db],null),new $APP.H(null,2,5,$APP.I,[Q3,this.bf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[Z2,Q3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new H3(this.db,this.bf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.db,b.db)&&$APP.x.h(this.bf,b.bf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[Z2,null,Q3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new H3(this.db,this.bf,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db":case "visitor":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z2,b):$APP.Af.call(null,Z2,b))?new H3(c,this.bf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Q3,b):$APP.Af.call(null,Q3,b))?new H3(this.db,c,this.A,this.o,null):new H3(this.db,this.bf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te(Z2,this.db,null),new $APP.Te(Q3,this.bf,null)],null),this.o))};$APP.g.W=function(a,b){return new H3(this.db,this.bf,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=I3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.kK,this.value],null),new $APP.H(null,2,5,$APP.I,[$APP.a2,this.ya],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.kK,$APP.a2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new I3(this.value,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.kK,null,$APP.a2,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new I3(this.value,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.kK,b):$APP.Af.call(null,$APP.kK,b))?new I3(c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.a2,b):$APP.Af.call(null,$APP.a2,b))?new I3(this.value,c,this.A,this.o,null):new I3(this.value,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.kK,this.value,null),new $APP.Te($APP.a2,this.ya,null)],null),this.o))};
$APP.g.W=function(a,b){return new I3(this.value,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=J3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "acc":return this.pa;case "attr":return this.na;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[H5,this.pa],null),new $APP.H(null,2,5,$APP.I,[X5,this.na],null),new $APP.H(null,2,5,$APP.I,[$APP.a2,this.ya],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[H5,X5,$APP.a2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new J3(this.pa,this.na,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[H5,null,$APP.a2,null,X5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new J3(this.pa,this.na,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(H5,b):$APP.Af.call(null,H5,b))?new J3(c,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new J3(this.pa,c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.a2,b):$APP.Af.call(null,$APP.a2,b))?new J3(this.pa,this.na,c,this.A,this.o,null):new J3(this.pa,this.na,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(H5,this.pa,null),new $APP.Te(X5,this.na,null),new $APP.Te($APP.a2,this.ya,null)],null),this.o))};$APP.g.W=function(a,b){return new J3(this.pa,this.na,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.hh=function(){for(var a=this,b=a.pa,c=a.ya;;){var d=F3(c);if(null==d||$APP.ti.h(d.a,a.na.name))return new $APP.H(null,1,5,$APP.I,[new I3($APP.Zf($APP.Vc(b)),function(){var l=c;return $APP.k(l)?l:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var l=a.na.Gb;return $APP.k(l)?$APP.be(b)>=a.na.Gb&&!0:l}()))for(var e=c;;){d=F3(e);if(null==d||$APP.ti.h(d.a,a.na.name))return new $APP.H(null,1,5,$APP.I,[new I3($APP.Vc(b),function(){var l=e;return $APP.k(l)?l:$APP.Hd}(),null,null,null)],null);
e=G3(e)}else{d=$APP.Rg.h(b,d.v);var f=G3(c);b=d;c=f}}};$APP.g=K3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[J5,this.ua],null),new $APP.H(null,2,5,$APP.I,[V5,this.za],null),new $APP.H(null,2,5,$APP.I,[H5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X5,this.na],null),new $APP.H(null,2,5,$APP.I,[$APP.a2,this.ya],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,6,new $APP.H(null,6,5,$APP.I,[J5,V5,H5,$APP.mH,X5,$APP.a2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new K3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 6+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,6,[H5,null,J5,null,V5,null,$APP.a2,null,$APP.mH,null,X5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new K3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(J5,b):$APP.Af.call(null,J5,b))?new K3(c,this.za,this.pa,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new K3(this.ua,c,this.pa,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H5,b):$APP.Af.call(null,H5,b))?new K3(this.ua,this.za,c,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,b):$APP.Af.call(null,$APP.mH,b))?new K3(this.ua,
this.za,this.pa,c,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new K3(this.ua,this.za,this.pa,this.pattern,c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.a2,b):$APP.Af.call(null,$APP.a2,b))?new K3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.A,this.o,null):new K3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.Te(J5,this.ua,null),new $APP.Te(V5,this.za,null),new $APP.Te(H5,this.pa,null),new $APP.Te($APP.mH,this.pattern,null),new $APP.Te(X5,this.na,null),new $APP.Te($APP.a2,this.ya,null)],null),this.o))};$APP.g.W=function(a,b){return new K3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.ai=function(a,b){a=this.ua;var c=this.za,d=this.pa;b=b.value;b=null==b?d:$APP.Rg.h(d,b);return new K3(a,c,b,this.pattern,this.na,G3(this.ya),null,null,null)};
$APP.g.hh=function(a,b){var c=this;a=F3(c.ya);if(null==a||$APP.ti.h(a.a,c.na.name))return new $APP.H(null,1,5,$APP.I,[new I3($APP.Zf($APP.Vc(c.pa)),function(){var e=c.ya;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var e=c.na.Gb;return $APP.k(e)?$APP.be(c.pa)>=c.na.Gb&&!0:e}()))for(var d=c.ya;;){b=F3(d);if(null==b||$APP.ti.h(b.a,c.na.name))return new $APP.H(null,1,5,$APP.I,[new I3($APP.Vc(c.pa),function(){var e=d;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);d=
G3(d)}else return a=$APP.k(c.na.Fc)?a.e:a.v,new $APP.H(null,2,5,$APP.I,[this,O3.ja?O3.ja(b,c.ua,c.za,c.pattern,c.na,a):O3.call(null,b,c.ua,c.za,c.pattern,c.na,a)],null)};$APP.g=L3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "attrs":return this.ta;case "datoms":return this.ya;case "id":return this.id;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[J5,this.ua],null),new $APP.H(null,2,5,$APP.I,[V5,this.za],null),new $APP.H(null,2,5,$APP.I,[H5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X5,this.na],null),new $APP.H(null,2,5,$APP.I,[w3,this.ta],null),new $APP.H(null,2,5,$APP.I,[$APP.a2,this.ya],
null),new $APP.H(null,2,5,$APP.I,[$APP.Eq,this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,8,new $APP.H(null,8,5,$APP.I,[J5,V5,H5,$APP.mH,X5,w3,$APP.a2,$APP.Eq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 8+$APP.be(this.o)};
$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,8,[H5,null,J5,null,$APP.Eq,null,V5,null,w3,null,$APP.a2,null,$APP.mH,null,X5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(J5,b):$APP.Af.call(null,J5,b))?new L3(c,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new L3(this.ua,c,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H5,b):$APP.Af.call(null,H5,b))?new L3(this.ua,this.za,c,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,
b):$APP.Af.call(null,$APP.mH,b))?new L3(this.ua,this.za,this.pa,c,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new L3(this.ua,this.za,this.pa,this.pattern,c,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(w3,b):$APP.Af.call(null,w3,b))?new L3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.a2,b):$APP.Af.call(null,$APP.a2,b))?new L3(this.ua,this.za,
this.pa,this.pattern,this.na,this.ta,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Eq,b):$APP.Af.call(null,$APP.Eq,b))?new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,c,this.A,this.o,null):new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.Te(J5,this.ua,null),new $APP.Te(V5,this.za,null),new $APP.Te(H5,this.pa,null),new $APP.Te($APP.mH,this.pattern,null),new $APP.Te(X5,this.na,null),new $APP.Te(w3,this.ta,null),new $APP.Te($APP.a2,this.ya,null),new $APP.Te($APP.Eq,this.id,null)],null),this.o))};$APP.g.W=function(a,b){return new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.ai=function(a,b){var c=this;return new L3(c.ua,c.za,neb(c.pa,c.na.as,function(){var d=b.value,e=c.na.Hb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,F3(c.ta),G3(c.ta),$APP.Zf(function(){var d=b.ya;return $APP.k(d)?d:G3(c.ya)}()),c.id,null,null,null)};
$APP.g.hh=function(a,b){var c=this,d=c.pa,e=c.na;a=c.ta;for(var f=c.ya;;){if(null==f&&null==e)return new $APP.H(null,1,5,$APP.I,[function(){var E=c.ua,G=c.za,O=d,T=c.pattern,Z=F3(c.pattern.rd),ba=G3(c.pattern.rd),da=c.id;return reb.Fa?reb.Fa(E,G,O,T,Z,ba,da):reb.call(null,E,G,O,T,Z,ba,da)}()],null);if(null!=e&&$APP.x.h(F2,e.name)){var l=$APP.Ih.j(d,e.as,function(){var E=e.Hb;return E.g?E.g(c.id):E.call(null,c.id)}()),p=F3(a);a=G3(a);d=l;e=p}else{var u=F3(f),t=$APP.k(function(){var E=u;return $APP.k(E)?
e:E}())?$APP.We(e.name,u.a):null,A=function(){var E=null==e;if(E)return E;E=t;return $APP.k(E)?0<t:E}(),B=function(){var E=null==u;if(E)return E;E=t;return $APP.k(E)?0>t:E}();if($APP.k(function(){var E=c.pattern.Lc;return $APP.k(E)?(E=null!=u)?(E=A,$APP.k(E)?!0:E):E:E}()))p=a0(Gcb(b.db).Oc,u.a,function(E,G,O,T,Z){return function(){return deb(b.db,Z.a)}}(d,e,a,f,u,t,A,B,this)),l=d,a=$APP.k(e)?meb(a,e):null,d=l,e=p;else if($APP.k(A))l=d,p=e,f=G3(f),d=l,e=p;else if(oeb(b,Dib,c.id,e.name,null),$APP.k(function(){var E=
B;return $APP.k(E)?null==e&&!0:E}()))l=d,p=F3(a),a=G3(a),d=l,e=p;else if($APP.k(function(){var E=B;return $APP.k(E)?null!=$APP.Mm.g(e)&&!0:E}()))l=$APP.Ih.j(d,e.as,$APP.Mm.g(e)),p=F3(a),a=G3(a),d=l,e=p;else if($APP.k(B))l=function(){var E=e.Hb;return E.g?E.g(null):E.call(null,null)}(),null==l?(l=d,p=F3(a),a=G3(a),d=l,e=p):(l=$APP.Ih.j(d,e.as,l),p=F3(a),a=G3(a),d=l,e=p);else{if($APP.k(function(){var E=e.vc;return $APP.k(E)?(E=e.xc,$APP.k(E)?!0:E):E}()))return new $APP.H(null,2,5,$APP.I,[new L3(c.ua,
c.za,d,c.pattern,e,a,f,c.id,null,null,null),new K3(c.ua,c.za,$APP.Tc($APP.Sg),c.pattern,e,f,null,null,null)],null);if($APP.k(e.vc))return new $APP.H(null,2,5,$APP.I,[new L3(c.ua,c.za,d,c.pattern,e,a,f,c.id,null,null,null),new J3($APP.Tc($APP.Sg),e,f,null,null,null)],null);if($APP.k(e.xc))return new $APP.H(null,2,5,$APP.I,[new L3(c.ua,c.za,d,c.pattern,e,a,f,c.id,null,null,null),function(){var E=c.ua,G=c.za,O=c.pattern,T=e,Z=u.v;return O3.ja?O3.ja(b,E,G,O,T,Z):O3.call(null,b,E,G,O,T,Z)}()],null);l=
$APP.Ih.j(d,e.as,function(){var E=u.v,G=e.Hb;return G.g?G.g(E):G.call(null,E)}());p=F3(a);a=G3(a);f=G3(f);d=l;e=p}}}};$APP.g=M3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "attrs":return this.ta;case "id":return this.id;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[J5,this.ua],null),new $APP.H(null,2,5,$APP.I,[V5,this.za],null),new $APP.H(null,2,5,$APP.I,[H5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X5,this.na],null),new $APP.H(null,2,5,$APP.I,[w3,this.ta],null),new $APP.H(null,2,5,$APP.I,[$APP.Eq,
this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,7,new $APP.H(null,7,5,$APP.I,[J5,V5,H5,$APP.mH,X5,w3,$APP.Eq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 7+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,7,[H5,null,J5,null,$APP.Eq,null,V5,null,w3,null,$APP.mH,null,X5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(J5,b):$APP.Af.call(null,J5,b))?new M3(c,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new M3(this.ua,c,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H5,b):$APP.Af.call(null,H5,b))?new M3(this.ua,this.za,c,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,b):$APP.Af.call(null,
$APP.mH,b))?new M3(this.ua,this.za,this.pa,c,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new M3(this.ua,this.za,this.pa,this.pattern,c,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(w3,b):$APP.Af.call(null,w3,b))?new M3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Eq,b):$APP.Af.call(null,$APP.Eq,b))?new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,c,this.A,
this.o,null):new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.Te(J5,this.ua,null),new $APP.Te(V5,this.za,null),new $APP.Te(H5,this.pa,null),new $APP.Te($APP.mH,this.pattern,null),new $APP.Te(X5,this.na,null),new $APP.Te(w3,this.ta,null),new $APP.Te($APP.Eq,this.id,null)],null),this.o))};
$APP.g.W=function(a,b){return new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.ai=function(a,b){a=this.ua;var c=this.za,d=this.pa,e=this.na.as;b=b.value;var f=this.na.Hb;b=f.g?f.g(b):f.call(null,b);return new M3(a,c,neb(d,e,b),this.pattern,F3(this.ta),G3(this.ta),this.id,null,null,null)};
$APP.g.hh=function(a,b){var c=this.pa;a=this.na;for(var d=this.ta;;){if(null==a)return new $APP.H(null,1,5,$APP.I,[new I3($APP.Zf($APP.Vc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.x1?T0(f.qc,e1.F(0,e,this.id,536870912),e1.F(2147483647,e,this.id,2147483647)):l1(f,new $APP.H(null,3,5,$APP.I,[null,e,this.id],null));oeb(b,ohb,null,e,this.id);if($APP.ve(f)&&null!=$APP.Mm.g(a))c=$APP.Ih.j(c,a.as,$APP.Mm.g(a)),a=F3(d),d=e=G3(d);else if($APP.ve(f))a=F3(d),d=e=G3(d);else{if($APP.k(a.sc)){e=
$APP.I;c=new M3(this.ua,this.za,c,this.pattern,a,d,this.id,null,null,null);d=this.ua;var l=this.za,p=this.pattern;f=F3(f).e;b=O3.ja?O3.ja(b,d,l,p,a,f):O3.call(null,b,d,l,p,a,f);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.I,[new M3(this.ua,this.za,c,this.pattern,a,d,this.id,null,null,null),new K3(this.ua,this.za,$APP.Tc($APP.Sg),this.pattern,a,f,null,null,null)],null);return b}}};
var P6=function P6(a){switch(arguments.length){case 3:return P6.j(arguments[0],arguments[1],arguments[2]);case 4:return P6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};P6.j=function(a,b,c){return P6.F(a,b,c,$APP.Xf)};P6.F=function(a,b,c,d){a=R3(a,b,d);return P3(a,c)};P6.B=4;
var Q6=function Q6(a){switch(arguments.length){case 3:return Q6.j(arguments[0],arguments[1],arguments[2]);case 4:return Q6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};Q6.j=function(a,b,c){return Q6.F(a,b,c,$APP.Xf)};Q6.F=function(a,b,c,d){var e=R3(a,b,d);return $APP.on.h(function(f){return P3(e,f)},c)};Q6.B=4;var R6=function R6(a){switch(arguments.length){case 1:return R6.g(arguments[0]);case 2:return R6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};R6.g=function(a){return zeb(a,$APP.Xf)};R6.h=function(a,b){return zeb(a,b)};R6.B=2;var S6=function S6(a){switch(arguments.length){case 1:return S6.g(arguments[0]);case 2:return S6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
S6.g=function(a){return S6.h(a,$APP.Xf)};
S6.h=function(a,b){b=$APP.Yf(b);var c=$APP.C.j(b,Chb,$APP.jM),d=$APP.C.j(b,Jhb,web),e=T3(a,"tx0"),f=function(){var A=T3(a,"schema");return c.g?c.g(A):c.call(null,A)}();(function(){var A=new $APP.Cd(function(){return X1},vib,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[!0,$APP.CL,Rhb,"datascript/db.cljc",23,1,931,931,$APP.J(new $APP.H(null,1,5,$APP.I,[L5],null)),null,$APP.k(X1)?X1.H:null]));return A.g?A.g(f):A.call(null,f)})();var l=$APP.on.h(d,T3(a,
"attrs")),p=$APP.on.h(d,T3(a,"keywords")),u=U3(function(A){var B=S3(A,0),E=$APP.y.h(l,S3(A,1)),G=S3(A,2);if("number"===typeof G)var O=G;else if("string"===typeof G)O=G;else if($APP.Ie(G))O=G;else if($APP.zb(G)||$APP.De(G))O=function(){var T=S3(G,0);if($APP.k($APP.dl.h?$APP.dl.h(0,T):$APP.dl.call(null,0,T)))return $APP.y.h(p,S3(G,1));if($APP.k($APP.dl.h?$APP.dl.h(1,T):$APP.dl.call(null,1,T)))return T=S3(G,1),c.g?c.g(T):c.call(null,T);if($APP.k($APP.dl.h?$APP.dl.h(2,T):$APP.dl.call(null,2,T)))return Infinity;
if($APP.k($APP.dl.h?$APP.dl.h(3,T):$APP.dl.call(null,3,T)))return-Infinity;if($APP.k($APP.dl.h?$APP.dl.h(4,T):$APP.dl.call(null,4,T)))return NaN;throw $APP.Yl.h(["Unexpected value marker ",$APP.yj.l($APP.z([T]))," in ",$APP.yj.l($APP.z([$APP.yj.l($APP.z([G]))]))].join(""),new $APP.h(null,2,[$APP.Kn,Hhb,$APP.kK,G],null));}();else throw $APP.Yl.h(["Unexpected value type ",$APP.yj.l($APP.z([$APP.Jb(G)]))," (",$APP.yj.l($APP.z([$APP.yj.l($APP.z([G]))])),")"].join(""),new $APP.h(null,2,[$APP.Kn,Hhb,$APP.kK,
G],null));A=e+S3(A,3);return e1.F(B,E,O,A)},T3(a,"eavt"));d=function(){var A=T3(a,"aevt");return null==A?null:U3(function(B){return u[B]},A)}();var t=function(){var A=T3(a,"avet");return null==A?null:U3(function(B){return u[B]},A)}();b=$APP.Nl.l($APP.z([new $APP.h(null,2,[$0,T3(a,"branching-factor"),ocb,function(){var A=T3(a,"ref-type");return null==A?null:$APP.fj.g(A)}()],null),$APP.wi(b,new $APP.H(null,2,5,$APP.I,[$0,ocb],null))]));return W2(new $APP.h(null,6,[$APP.y1,f,$APP.z1,W0(h1,u,b),A1,W0(i1,
d,b),r1,W0(j1,t,b),B1,T3(a,"max-eid"),C1,T3(a,"max-tx")],null))};S6.B=2;$APP.g=c4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.K.h($APP.Sg,this.o))};
$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new c4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new c4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new c4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new c4(b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=d4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new d4(this.Oa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new d4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new d4(c,this.A,this.o,null):new d4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new d4(this.Oa,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.Oa):P4.call(null,b,this.Oa)};$APP.g=e4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new e4(this.Oa,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new e4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new e4(c,this.A,this.o,null):new e4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new e4(this.Oa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Y3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.Oa):P4.call(null,b,this.Oa)};$APP.g=f4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new f4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new f4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new f4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new f4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=g4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new g4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new g4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new g4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new g4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=h4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.kK,this.value],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.kK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new h4(this.value,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.kK,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new h4(this.value,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.kK,b):$APP.Af.call(null,$APP.kK,b))?new h4(c,this.A,this.o,null):new h4(this.value,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.kK,this.value,null)],null),this.o))};$APP.g.W=function(a,b){return new h4(this.value,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Y3(b,this.value,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.value):P4.call(null,b,this.value)};$APP.g=i4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new i4(this.Oa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new i4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new i4(c,this.A,this.o,null):new i4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new i4(this.Oa,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.Oa):P4.call(null,b,this.Oa)};$APP.g=m4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "required":return this.required;case "free":return this.ue;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.BI,this.required],null),new $APP.H(null,2,5,$APP.I,[n4,this.ue],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.BI,n4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new m4(this.required,this.ue,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.required,b.required)&&$APP.x.h(this.ue,b.ue)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[n4,null,$APP.BI,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new m4(this.required,this.ue,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "required":case "free":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.BI,b):$APP.Af.call(null,$APP.BI,b))?new m4(c,this.ue,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(n4,b):$APP.Af.call(null,n4,b))?new m4(this.required,c,this.A,this.o,null):new m4(this.required,this.ue,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.BI,this.required,null),new $APP.Te(n4,this.ue,null)],null),this.o))};$APP.g.W=function(a,b){return new m4(this.required,this.ue,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.ue,Y3(b,this.required,c))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.required):P4.call(null,b,this.required);b=this.ue;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=p4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new p4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new p4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new p4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new p4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=q4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "variable":return this.bc;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[g5,this.bc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[g5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new q4(this.bc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.bc,b.bc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[g5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new q4(this.bc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "variable":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(g5,b):$APP.Af.call(null,g5,b))?new q4(c,this.A,this.o,null):new q4(this.bc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(g5,this.bc,null)],null),this.o))};$APP.g.W=function(a,b){return new q4(this.bc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.bc,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.bc):P4.call(null,b,this.bc)};$APP.g=r4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "bindings":return this.Mc;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Bq,this.Mc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.Bq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new r4(this.Mc,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Mc,b.Mc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.Bq,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new r4(this.Mc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "bindings":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Bq,b):$APP.Af.call(null,$APP.Bq,b))?new r4(c,this.A,this.o,null):new r4(this.Mc,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.Bq,this.Mc,null)],null),this.o))};$APP.g.W=function(a,b){return new r4(this.Mc,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Mc,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.Mc):P4.call(null,b,this.Mc)};$APP.g=s4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "binding":return this.$b;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P5,this.$b],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[P5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new s4(this.$b,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.$b,b.$b)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[P5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new s4(this.$b,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "binding":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(P5,b):$APP.Af.call(null,P5,b))?new s4(c,this.A,this.o,null):new s4(this.$b,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(P5,this.$b,null)],null),this.o))};$APP.g.W=function(a,b){return new s4(this.$b,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.$b,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.$b):P4.call(null,b,this.$b)};
d4.prototype.$h=function(){return new $APP.H(null,1,5,$APP.I,[this.Oa],null)};$APP.g=v4.prototype;$APP.g.$h=function(){return u4($APP.me(this.Aa))};$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new v4(this.ma,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new v4(this.ma,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new v4(c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new v4(this.ma,c,this.A,this.o,null):new v4(this.ma,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};
$APP.g.W=function(a,b){return new v4(this.ma,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Aa,Y3(b,this.ma,c))};$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.ma):P4.call(null,b,this.ma);b=this.Aa;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=w4.prototype;$APP.g.$h=function(){return u4(this.bc)};$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "variable":return this.bc;case "pattern":return this.pattern;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[g5,this.bc],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,g5,$APP.mH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new w4(this.source,this.bc,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.bc,b.bc)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[g5,null,$APP.Ml,null,$APP.mH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new w4(this.source,this.bc,this.pattern,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new w4(c,this.bc,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(g5,b):$APP.Af.call(null,g5,b))?new w4(this.source,c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,b):$APP.Af.call(null,$APP.mH,b))?new w4(this.source,this.bc,c,this.A,this.o,null):new w4(this.source,this.bc,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te(g5,this.bc,null),new $APP.Te($APP.mH,this.pattern,null)],null),this.o))};$APP.g.W=function(a,b){return new w4(this.source,this.bc,this.pattern,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.pattern,Y3(b,this.bc,Y3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.source):P4.call(null,b,this.source);b=this.bc;a=P4.h?P4.h(a,b):P4.call(null,a,b);b=this.pattern;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=y4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Y5,this.elements],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Y5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new y4(this.elements,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new y4(this.elements,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.gh=function(){return this.elements};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new y4(c,this.A,this.o,null):new y4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Y5,this.elements,null)],null),this.o))};$APP.g.W=function(a,b){return new y4(this.elements,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Y3(b,this.elements,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.elements):P4.call(null,b,this.elements)};$APP.g=z4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new z4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new z4(this.element,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.gh=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new z4(c,this.A,this.o,null):new z4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Z5,this.element,null)],null),this.o))};
$APP.g.W=function(a,b){return new z4(this.element,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.element,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.element):P4.call(null,b,this.element)};$APP.g=A4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new A4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new A4(this.element,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.gh=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new A4(c,this.A,this.o,null):new A4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Z5,this.element,null)],null),this.o))};
$APP.g.W=function(a,b){return new A4(this.element,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.element,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.element):P4.call(null,b,this.element)};$APP.g=B4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Y5,this.elements],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Y5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new B4(this.elements,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new B4(this.elements,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.gh=function(){return this.elements};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new B4(c,this.A,this.o,null):new B4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Y5,this.elements,null)],null),this.o))};$APP.g.W=function(a,b){return new B4(this.elements,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.elements,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.elements):P4.call(null,b,this.elements)};$APP.g=D4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "type":return this.type;case "symbols":return this.Ce;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Tl,this.type],null),new $APP.H(null,2,5,$APP.I,[a5,this.Ce],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Tl,a5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new D4(this.type,this.Ce,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.type,b.type)&&$APP.x.h(this.Ce,b.Ce)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.Tl,null,a5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new D4(this.type,this.Ce,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "type":case "symbols":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Tl,b):$APP.Af.call(null,$APP.Tl,b))?new D4(c,this.Ce,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(a5,b):$APP.Af.call(null,a5,b))?new D4(this.type,c,this.A,this.o,null):new D4(this.type,this.Ce,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Tl,this.type,null),new $APP.Te(a5,this.Ce,null)],null),this.o))};$APP.g.W=function(a,b){return new D4(this.type,this.Ce,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Ce,Y3(b,this.type,c))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.type):P4.call(null,b,this.type);b=this.Ce;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=E4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.mH,this.pattern],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Ml,$APP.mH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new E4(this.source,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.Ml,null,$APP.mH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new E4(this.source,this.pattern,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "pattern":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new E4(c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.mH,b):$APP.Af.call(null,$APP.mH,b))?new E4(this.source,c,this.A,this.o,null):new E4(this.source,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.mH,this.pattern,null)],null),this.o))};$APP.g.W=function(a,b){return new E4(this.source,this.pattern,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.pattern,Y3(b,this.source,c))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.source):P4.call(null,b,this.source);b=this.pattern;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=F4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new F4(this.ma,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new F4(this.ma,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new F4(c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new F4(this.ma,c,this.A,this.o,null):new F4(this.ma,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};$APP.g.W=function(a,b){return new F4(this.ma,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Aa,Y3(b,this.ma,c))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.ma):P4.call(null,b,this.ma);b=this.Aa;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=G4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;case "binding":return this.$b;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null),new $APP.H(null,2,5,$APP.I,[P5,this.$b],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hn,$APP.cn,P5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new G4(this.ma,this.Aa,this.$b,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.$b,b.$b)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.cn,null,$APP.Hn,null,P5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new G4(this.ma,this.Aa,this.$b,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":case "binding":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new G4(c,this.Aa,this.$b,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new G4(this.ma,c,this.$b,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(P5,b):$APP.Af.call(null,P5,b))?new G4(this.ma,this.Aa,c,this.A,this.o,null):new G4(this.ma,this.Aa,this.$b,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null),new $APP.Te(P5,this.$b,null)],null),this.o))};$APP.g.W=function(a,b){return new G4(this.ma,this.Aa,this.$b,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.$b,Y3(b,this.Aa,Y3(b,this.ma,c)))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.ma):P4.call(null,b,this.ma);b=this.Aa;a=P4.h?P4.h(a,b):P4.call(null,a,b);b=this.$b;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=H4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "name":return this.name;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,$APP.N,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new H4(this.source,this.name,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.cn,null,$APP.N,null,$APP.Ml,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new H4(this.source,this.name,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "name":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new H4(c,this.name,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new H4(this.source,c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new H4(this.source,this.name,c,this.A,this.o,null):new H4(this.source,this.name,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.N,this.name,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};$APP.g.W=function(a,b){return new H4(this.source,this.name,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Aa,Y3(b,this.name,Y3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.source):P4.call(null,b,this.source);b=this.name;a=P4.h?P4.h(a,b):P4.call(null,a,b);b=this.Aa;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=I4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "vars":return this.cc;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.KJ,this.cc],null),new $APP.H(null,2,5,$APP.I,[$APP.LL,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,$APP.KJ,$APP.LL],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new I4(this.source,this.cc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.cc,b.cc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.Ml,null,$APP.LL,null,$APP.KJ,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new I4(this.source,this.cc,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new I4(c,this.cc,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.KJ,b):$APP.Af.call(null,$APP.KJ,b))?new I4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LL,b):$APP.Af.call(null,$APP.LL,b))?new I4(this.source,this.cc,c,this.A,this.o,null):new I4(this.source,this.cc,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.KJ,this.cc,null),new $APP.Te($APP.LL,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new I4(this.source,this.cc,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Ha,Y3(b,this.cc,Y3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.source):P4.call(null,b,this.source);b=this.cc;a=P4.h?P4.h(a,b):P4.call(null,a,b);b=this.Ha;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=J4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "rule-vars":return this.Sd;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[N4,this.Sd],null),new $APP.H(null,2,5,$APP.I,[$APP.LL,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,N4,$APP.LL],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new J4(this.source,this.Sd,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.Sd,b.Sd)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[N4,null,$APP.Ml,null,$APP.LL,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new J4(this.source,this.Sd,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new J4(c,this.Sd,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(N4,b):$APP.Af.call(null,N4,b))?new J4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LL,b):$APP.Af.call(null,$APP.LL,b))?new J4(this.source,this.Sd,c,this.A,this.o,null):new J4(this.source,this.Sd,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te(N4,this.Sd,null),new $APP.Te($APP.LL,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new J4(this.source,this.Sd,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Ha,Y3(b,this.Sd,Y3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=P4.h?P4.h(b,this.source):P4.call(null,b,this.source);b=this.Sd;a=P4.h?P4.h(a,b):P4.call(null,a,b);b=this.Ha;return P4.h?P4.h(a,b):P4.call(null,a,b)};$APP.g=K4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.LL,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.LL],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new K4(this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.LL,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new K4(this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.LL,b):$APP.Af.call(null,$APP.LL,b))?new K4(c,this.A,this.o,null):new K4(this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.LL,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new K4(this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Y3(b,this.Ha,c)};$APP.g.Fb=function(a,b){return P4.h?P4.h(b,this.Ha):P4.call(null,b,this.Ha)};var P4=function P4(a,b){return b instanceof d4?$APP.vf.h(a,b):b instanceof I4?$APP.Eh.h(a,b.cc):b instanceof J4?(b=b.Sd,P4.h?P4.h(a,b):P4.call(null,a,b)):(null!=b?$APP.xd===b.Db||(b.yd?0:$APP.Ib(V3,b)):$APP.Ib(V3,b))?Beb(b,a):$APP.Ae(b)?$APP.af.j(P4,a,b):a};$APP.g=R4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "vars":return this.cc;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.KJ,this.cc],null),new $APP.H(null,2,5,$APP.I,[$APP.LL,this.Ha],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.KJ,$APP.LL],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new R4(this.cc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.cc,b.cc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.LL,null,$APP.KJ,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new R4(this.cc,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.KJ,b):$APP.Af.call(null,$APP.KJ,b))?new R4(c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LL,b):$APP.Af.call(null,$APP.LL,b))?new R4(this.cc,c,this.A,this.o,null):new R4(this.cc,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.KJ,this.cc,null),new $APP.Te($APP.LL,this.Ha,null)],null),this.o))};
$APP.g.W=function(a,b){return new R4(this.cc,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Ha,Y3(b,this.cc,c))};$APP.g.Fb=function(a,b){return P4(P4(b,this.cc),this.Ha)};$APP.g=S4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "name":return this.name;case "branches":return this.le;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[T5,this.le],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.N,T5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new S4(this.name,this.le,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.le,b.le)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.N,null,T5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new S4(this.name,this.le,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "name":case "branches":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new S4(c,this.le,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(T5,b):$APP.Af.call(null,T5,b))?new S4(this.name,c,this.A,this.o,null):new S4(this.name,this.le,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.N,this.name,null),new $APP.Te(T5,this.le,null)],null),this.o))};
$APP.g.W=function(a,b){return new S4(this.name,this.le,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.le,Y3(b,this.name,c))};$APP.g.Fb=function(a,b){return P4(P4(b,this.name),this.le)};$APP.g=U4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "qfind":return this.Fd;case "qwith":return this.Jd;case "qreturn-map":return this.Hd;case "qin":return this.Gd;case "qwhere":return this.Id;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[V4,this.Fd],null),new $APP.H(null,2,5,$APP.I,[W4,this.Jd],null),new $APP.H(null,2,5,$APP.I,[X4,this.Hd],null),new $APP.H(null,2,5,$APP.I,[Y4,this.Gd],null),new $APP.H(null,2,5,$APP.I,[Z4,this.Id],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[V4,W4,X4,Y4,Z4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new U4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Fd,b.Fd)&&$APP.x.h(this.Jd,b.Jd)&&$APP.x.h(this.Hd,b.Hd)&&$APP.x.h(this.Gd,b.Gd)&&$APP.x.h(this.Id,b.Id)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[V4,null,Z4,null,Y4,null,W4,null,X4,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new U4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(V4,b):$APP.Af.call(null,V4,b))?new U4(c,this.Jd,this.Hd,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(W4,b):$APP.Af.call(null,W4,b))?new U4(this.Fd,c,this.Hd,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X4,b):$APP.Af.call(null,X4,b))?new U4(this.Fd,this.Jd,c,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y4,b):$APP.Af.call(null,Y4,b))?new U4(this.Fd,this.Jd,this.Hd,c,this.Id,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(Z4,b):$APP.Af.call(null,Z4,b))?new U4(this.Fd,this.Jd,this.Hd,this.Gd,c,this.A,this.o,null):new U4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(V4,this.Fd,null),new $APP.Te(W4,this.Jd,null),new $APP.Te(X4,this.Hd,null),new $APP.Te(Y4,this.Gd,null),new $APP.Te(Z4,this.Id,null)],null),this.o))};
$APP.g.W=function(a,b){return new U4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Y3(b,this.Id,Y3(b,this.Gd,Y3(b,this.Hd,Y3(b,this.Jd,Y3(b,this.Fd,c)))))};$APP.g.Fb=function(a,b){return P4(P4(P4(P4(P4(b,this.Fd),this.Jd),this.Hd),this.Gd),this.Id)};var Ijb=c0();$APP.g=b5.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "rels":return this.Xe;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[i5,this.Xe],null),new $APP.H(null,2,5,$APP.I,[h5,this.sources],null),new $APP.H(null,2,5,$APP.I,[$APP.SH,this.rules],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[i5,h5,$APP.SH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new b5(this.Xe,this.sources,this.rules,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Xe,b.Xe)&&$APP.x.h(this.sources,b.sources)&&$APP.x.h(this.rules,b.rules)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[h5,null,$APP.SH,null,i5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new b5(this.Xe,this.sources,this.rules,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(i5,b):$APP.Af.call(null,i5,b))?new b5(c,this.sources,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(h5,b):$APP.Af.call(null,h5,b))?new b5(this.Xe,c,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.SH,b):$APP.Af.call(null,$APP.SH,b))?new b5(this.Xe,this.sources,c,this.A,this.o,null):new b5(this.Xe,this.sources,this.rules,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(i5,this.Xe,null),new $APP.Te(h5,this.sources,null),new $APP.Te($APP.SH,this.rules,null)],null),this.o))};$APP.g.W=function(a,b){return new b5(this.Xe,this.sources,this.rules,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=c5.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "tuples":return this.tf;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[w3,this.ta],null),new $APP.H(null,2,5,$APP.I,[m5,this.tf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[w3,m5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new c5(this.ta,this.tf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.tf,b.tf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[m5,null,w3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new c5(this.ta,this.tf,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "tuples":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(w3,b):$APP.Af.call(null,w3,b))?new c5(c,this.tf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(m5,b):$APP.Af.call(null,m5,b))?new c5(this.ta,c,this.A,this.o,null):new c5(this.ta,this.tf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te(w3,this.ta,null),new $APP.Te(m5,this.tf,null)],null),this.o))};$APP.g.W=function(a,b){return new c5(this.ta,this.tf,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
var T6=function T6(a,b){return $APP.x.h($APP.$I,a)?!0:$APP.x.h(new $APP.H(null,1,5,$APP.I,[$APP.SI],null),a)?$APP.Ae(b):a instanceof $APP.q?$APP.x.h(b,a):$APP.Ae(a)?$APP.x.h($APP.me(a),$APP.SI)?$APP.Ae(b)&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return T6.h?T6.h(e,d):T6.call(null,e,d)},$APP.ej.j($APP.Fw,$APP.Ei(a),b)):$APP.Ae(b)&&$APP.x.h($APP.be(b),$APP.be(a))&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return T6.h?T6.h(e,d):T6.call(null,e,d)},$APP.ej.j($APP.Fw,
a,b)):a.g?a.g(b):a.call(null,b)},s5=function s5(a,b){var d=$APP.Yf(a),e=$APP.C.h(d,w3);d=$APP.C.h(d,m5);var f=$APP.Yf(b),l=$APP.C.h(f,w3);f=$APP.C.h(f,m5);if($APP.x.h(e,l))return new c5(e,$APP.Eh.h($APP.cf(d),f),null,null,null);if($APP.ve(d))return b;if($APP.ve(f))return a;if(wfb(e,l)){if($APP.mg($APP.Bb,$APP.si(e)))return Afb(e,d,l,f);a=$APP.Gi($APP.qi(e),$APP.Un.D());e=Afb(a,$APP.Sg,e,d);return s5.h?s5.h(e,b):s5.call(null,e,b)}throw $APP.Yl.h(["Can’t sum relations with different attrs: ",$APP.yj.l($APP.z([e])),
" and ",$APP.yj.l($APP.z([l]))].join(""),new $APP.h(null,1,[$APP.Kn,r5],null));},q5=function q5(a){switch(arguments.length){case 0:return q5.D();case 2:return q5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};q5.D=function(){return new c5($APP.Xf,new $APP.H(null,1,5,$APP.I,[[]],null),null,null,null)};
q5.h=function(a,b){var c=$APP.qi(w3.g(a)),d=$APP.qi(w3.g(b)),e=$APP.bf($APP.ej.h(w3.g(a),c)),f=$APP.bf($APP.ej.h(w3.g(b),d));return new c5($APP.Gi($APP.K.h(c,d),$APP.Un.D()),$APP.Vc($APP.af.j(function(l,p){return $APP.af.j(function(u,t){return $APP.Rg.h(u,zfb(p,e,t,f))},l,m5.g(b))},$APP.Tc($APP.Sg),m5.g(a))),null,null,null)};q5.B=2;p4.prototype.ih=function(){return q5.D()};
q4.prototype.ih=function(a,b){return new c5($APP.Wf([$APP.rp.h(this,new $APP.H(null,2,5,$APP.I,[g5,$APP.zm],null)),0]),new $APP.H(null,1,5,$APP.I,[$APP.ws.g(new $APP.H(null,1,5,$APP.I,[b],null))],null),null,null,null)};
s4.prototype.ih=function(a,b){var c=this;if(rcb(b))return $APP.ve(b)?Bfb(c):$APP.af.h(s5,$APP.ej.h(function(d){return f5(c.$b,d)},b));throw $APP.Yl.h(["Cannot bind value ",$APP.yj.l($APP.z([b]))," to collection ",$APP.yj.l($APP.z([b4(c)]))].join(""),new $APP.h(null,3,[$APP.Kn,Khb,$APP.kK,b,P5,b4(c)],null));};
r4.prototype.ih=function(a,b){if(rcb(b)){if($APP.be(b)<$APP.be(this.Mc))throw $APP.Yl.h(["Not enough elements in a collection ",$APP.yj.l($APP.z([b]))," to bind tuple ",$APP.yj.l($APP.z([b4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,Khb,$APP.kK,b,P5,b4(this)],null));return $APP.af.h(q5,$APP.ej.j(function(c,d){return f5(c,d)},this.Mc,b))}throw $APP.Yl.h(["Cannot bind value ",$APP.yj.l($APP.z([b]))," to tuple ",$APP.yj.l($APP.z([b4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,Khb,$APP.kK,b,P5,b4(this)],
null));};var j5=null,k5=null,Wfb=$APP.Aj.g(0),v5=function v5(a){switch(arguments.length){case 2:return v5.h(arguments[0],arguments[1]);case 3:return v5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};v5.h=function(a,b){return v5.j(a,b,b)};
v5.j=function(a,b,c){for(;;){var d=T6,e=b;if($APP.k(function(){var da=new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.SI],null)],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return D5(C5(a),$APP.Pg.h(d5,$APP.ie(b)),b),Tfb(a,b);if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.SI],null),$APP.$I],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return D5(C5(a),$APP.Pg.h(d5,$APP.ie(b)),b),Ufb(a,b);if($APP.k(function(){var da=
new $APP.H(null,2,5,$APP.I,[xfb,$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){var f=$APP.r(b);c=$APP.v(f);f=$APP.w(f);var l=k5;k5=$APP.C.h(h5.g(a),c);try{return v5.j(a,f,b)}finally{k5=l}}else{if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.mt,$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){var p=b,u=$APP.r(p),t=$APP.v(u),A=$APP.w(u);f=t;l=A;var B=dgb(C5(a),l,b),E=$APP.ej.h(function(da){return function(ia){return E5.h?E5.h(da,ia):E5.call(null,da,ia)}}(a,
b,c,p,u,t,A,f,l,B,d,e),l);b=$APP.ej.h(function(){return function(da){return $APP.af.h(n5,i5.g(da))}}(a,b,c,p,u,t,A,f,l,B,E,d,e),E);return $APP.ui.j($APP.v(E),i5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(s5,b)],null))}if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[Q4,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.SI],null),$APP.SI],null),$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){l=$APP.r(b);f=$APP.v(l);l=$APP.w(l);p=$APP.v(l);f=$APP.w(l);p=$APP.r(p);l=$APP.v(p);
p=$APP.w(p);B=l;l=f;f=C5(a);D5(f,B,c);egb(f,p,l);c=$APP.Es.j(Q4,$APP.K.h(B,p),l);f=b;b=c;c=f;continue}else{if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[Q4,new $APP.H(null,1,5,$APP.I,[$APP.SI],null),$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){t=b;A=$APP.r(t);var G=$APP.v(A),O=$APP.w(A);f=G;var T=$APP.v(O),Z=$APP.w(O);p=T;l=Z;var ba=$APP.Di(p);B=egb(C5(a),ba,l);u=B5(a,ba);E=$APP.ej.h(function(da,ia,ma,ya,sa,X,S,W,U,Y,na,za,ea,pa,ua){return function(xa){return B5(E5.h?
E5.h(ua,xa):E5.call(null,ua,xa),ea)}}(a,b,c,t,A,G,O,f,T,Z,p,l,ba,B,u,d,e),l);b=$APP.ej.h(function(){return function(da){return $APP.af.h(n5,i5.g(da))}}(a,b,c,t,A,G,O,f,T,Z,p,l,ba,B,u,E,d,e),E);b=$APP.af.h(s5,b);return $APP.an.F(a,i5,p5,b)}if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.ht,$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return c=$APP.r(b),b=$APP.v(c),c=$APP.w(c),f=b,b=c,$APP.af.j(E5,a,b);if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.FC,
$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){f=$APP.r(b);b=$APP.v(f);l=$APP.w(f);f=b;b=l;f=C5(a);l=$APP.Di(u5(b));if($APP.ve($APP.cx.h(f,l)))throw $APP.Yl.h(["Insufficient bindings: none of ",$APP.yj.l($APP.z([l]))," is bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,r5,$APP.uB,c],null));B=null;a=$APP.ui.j(a,i5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(n5,i5.g(a))],null));b=$APP.af.j(E5,a,b);b=Ifb($APP.v(i5.g(a)),$APP.af.h(n5,i5.g(b)));return $APP.ui.j(a,i5,
new $APP.H(null,1,5,$APP.I,[b],null))}if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[efb,new $APP.H(null,1,5,$APP.I,[$APP.SI],null),$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return b=$APP.r(b),f=$APP.v(b),b=$APP.w(b),f=$APP.v(b),b=$APP.w(b),p=f,f=C5(a),B=D5(f,p,c),a=$APP.ui.j(a,i5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(n5,i5.g(a))],null)),u=B5(a,p),b=B5($APP.af.j(E5,u,b),p),b=Ifb($APP.v(i5.g(a)),$APP.af.h(n5,i5.g(b))),$APP.ui.j(a,i5,new $APP.H(null,1,5,$APP.I,[b],null));
if($APP.k(function(){var da=new $APP.H(null,1,5,$APP.I,[$APP.SI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){c=k5;b=Lfb(c,b);f=Ofb(a,c,b);l=j5;j5=(null!=c?$APP.xd===c.Wi||(c.yd?0:$APP.Ib(u1,c)):$APP.Ib(u1,c))?cgb(c,b):j5;try{return $APP.an.F(a,i5,p5,f)}finally{j5=l}}else throw Error(["No matching clause: ",$APP.m.g(e)].join(""));}}break}};v5.B=3;
var E5=function E5(a,b){if($APP.k($APP.og($APP.qq.h($APP.ve,m5),i5.g(a))))return a;if(Vfb(a,b))if(xfb($APP.v(b))){var d=k5;k5=$APP.C.h(h5.g(a),$APP.v(b));try{var e=$APP.w(b);return E5.h?E5.h(a,e):E5.call(null,a,e)}finally{k5=d}}else return $APP.an.F(a,i5,p5,bgb(a,b));else return v5.h(a,b)};d4.prototype.jh=function(a,b){return Pfb(b,this.Oa)};e4.prototype.jh=function(a,b){return $APP.rp.h(b,new $APP.H(null,2,5,$APP.I,[h5,this.Oa],null))};
i4.prototype.jh=function(){var a=$APP.C.h(Hjb,this.Oa);return $APP.k(a)?a:null};h4.prototype.jh=function(){return this.value};y4.prototype.kh=function(a,b,c){return null==b?c:ngb(b,c)};z4.prototype.kh=function(a,b,c){return $APP.Eh.j($APP.Sg,$APP.ej.g($APP.v),c)};A4.prototype.kh=function(a,b,c){return $APP.he(c)};B4.prototype.kh=function(a,b,c){return null!=b?$APP.v(ngb(b,new $APP.H(null,1,5,$APP.I,[$APP.v(c)],null))):$APP.v(c)};
var U6=function U6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return U6.l(arguments[0],1<c.length?new $APP.Ed(c.slice(1),0,null):null)};
U6.l=function(a,b){var c=a0(Ijb,a,function(){return ufb(a)}),d=V4.g(c),e=x4(d),f=$APP.Og.l(u4,$APP.z([x4(d)])),l=$APP.be(e),p=W4.g(c);p=$APP.K.h(f,$APP.ej.h($APP.zm,p));f=$APP.Ae(a)?mfb(a):a;var u=$APP.cG.g(f);b=Ffb(new b5($APP.Sg,$APP.Xf,$APP.Xf,null,null,null),Y4.g(c),b);p=igb(fgb(b,u),p);f=$APP.k(sfb.g(f))?$APP.on.h(function(t){return $APP.cf($APP.el.j(t,0,l))},p):p;f=$APP.k($APP.og(Oeb,e))?lgb(e,b,f):f;e=$APP.k($APP.og(Peb,e))?pgb(e,b,f):f;return ogb(d,X4.g(c),e)};U6.B=1;
U6.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};var V6=function V6(a){switch(arguments.length){case 0:return V6.D();case 1:return V6.g(arguments[0]);case 2:return V6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};V6.D=function(){return Y1(null,$APP.Xf)};V6.g=function(a){return Y1(a,$APP.Xf)};V6.h=function(a,b){return Y1(a,X2(b))};V6.B=2;
var W6=function W6(a){switch(arguments.length){case 1:return W6.g(arguments[0]);case 2:return W6.h(arguments[0],arguments[1]);case 3:return W6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};W6.g=function(a){return $1(a,null,$APP.Xf)};W6.h=function(a,b){return $1(a,b,$APP.Xf)};W6.j=function(a,b,c){return $1(a,b,X2(c))};W6.B=3;
var X6=function X6(a){switch(arguments.length){case 2:return X6.h(arguments[0],arguments[1]);case 3:return X6.j(arguments[0],arguments[1],arguments[2]);case 4:return X6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
X6.h=function(a,b){return n1(a,b,null,null,null,null)};X6.j=function(a,b,c){return n1(a,b,c,null,null,null)};X6.F=function(a,b,c,d){return n1(a,b,c,d,null,null)};X6.P=function(a,b,c,d,e){return n1(a,b,c,d,e,null)};X6.ja=function(a,b,c,d,e,f){return n1(a,b,c,d,e,f)};X6.B=6;
var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.h(arguments[0],arguments[1]);case 3:return Y6.j(arguments[0],arguments[1],arguments[2]);case 4:return Y6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Y6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Y6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
Y6.h=function(a,b){return o1(a,b,null,null,null,null)};Y6.j=function(a,b,c){return o1(a,b,c,null,null,null)};Y6.F=function(a,b,c,d){return o1(a,b,c,d,null,null)};Y6.P=function(a,b,c,d,e){return o1(a,b,c,d,e,null)};Y6.ja=function(a,b,c,d,e,f){return o1(a,b,c,d,e,f)};Y6.B=6;
var Z6=function Z6(a){switch(arguments.length){case 2:return Z6.h(arguments[0],arguments[1]);case 3:return Z6.j(arguments[0],arguments[1],arguments[2]);case 4:return Z6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Z6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Z6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
Z6.h=function(a,b){return p1(a,b,null,null,null,null)};Z6.j=function(a,b,c){return p1(a,b,c,null,null,null)};Z6.F=function(a,b,c,d){return p1(a,b,c,d,null,null)};Z6.P=function(a,b,c,d,e){return p1(a,b,c,d,e,null)};Z6.ja=function(a,b,c,d,e,f){return p1(a,b,c,d,e,f)};Z6.B=6;
for(var Jjb=$APP.r(new $APP.h(null,2,[jib,$APP.f1,ujb,$APP.b2],null)),Kjb=null,Ljb=0,$6=0;;)if($6<Ljb){var Mjb=Kjb.ea(null,$6),Njb=$APP.y.j(Mjb,0,null),Ojb=$APP.y.j(Mjb,1,null),Pjb=Njb,Qjb=Ojb;$APP.C.h($APP.n($APP.cM),Pjb);$APP.Bj.F($APP.cM,$APP.ui,Pjb,Qjb);$6+=1}else{var Rjb=$APP.r(Jjb);if(Rjb){var a7=Rjb;if($APP.Ee(a7)){var Sjb=$APP.cd(a7),Tjb=$APP.dd(a7),Ujb=Sjb,Vjb=$APP.be(Sjb);Jjb=Tjb;Kjb=Ujb;Ljb=Vjb}else{var Wjb=$APP.v(a7),Xjb=$APP.y.j(Wjb,0,null),Yjb=$APP.y.j(Wjb,1,null),Zjb=Xjb,$jb=Yjb;$APP.C.h($APP.n($APP.cM),
Zjb);$APP.Bj.F($APP.cM,$APP.ui,Zjb,$jb);Jjb=$APP.w(a7);Kjb=null;Ljb=0}$6=0}else break}$APP.Aj.g(-1E6);var b7=$APP.DO.h($APP.GK,null),c7=$APP.DO.h($APP.CL,null),d7=$APP.DO.h(ljb,null),akb=$APP.DO.h(c6,null),bkb=$APP.gi([yhb,gib,Ggb,sjb,$APP.tJ,$ib,S5,cjb,Fhb,hib,Jib,Ahb,Kib,mjb,R5,Wib,ojb,xjb,yjb,tjb,Gib,fjb,wjb,$APP.LF,pjb,U5,hjb,Bib,Qeb,ahb,Rib],[function(){var a=new $APP.Cd(function(){return b3},Rgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,yhb,"datascript/core.cljc",60,1,267,267,$APP.Hd,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.k(b3)?b3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Q6},Ejb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,gib,"datascript/core.cljc",
12,1,119,129,$APP.Hd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.k(Q6)?Q6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return g3},Vib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,Ggb,"datascript/core.cljc",9,1,26,76,h6,$APP.Hd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(g3)?g3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return w6},Jgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,sjb,"datascript/core.cljc",
54,1,702,702,$APP.Hd,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.k(w6)?w6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return U6},Egb,$APP.gi([$APP.Q,$APP.N,
$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,$APP.tJ,"datascript/core.cljc",4,1,133,145,$APP.Hd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.k(U6)?U6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return C6},Vhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,$ib,"datascript/core.cljc",65,1,565,565,$APP.Hd,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(C6)?C6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return e1},gjb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,S5,"datascript/core.cljc",
8,1,181,188,b6,$APP.Hd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.k(e1)?e1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?
$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Ldb},bib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,cjb,"datascript/core.cljc",50,1,271,271,$5,$APP.Hd,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(Ldb)?Ldb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,
$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return rgb},Thb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Fhb,"datascript/core.cljc",18,1,412,412,$APP.J(new $APP.H(null,4,5,$APP.I,[R5,K5,$APP.oz,$APP.mK],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k(rgb)?rgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return f3},Eib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,hib,"datascript/core.cljc",
39,1,446,446,$APP.Hd,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(f3)?f3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return z6},ijb,$APP.gi([$APP.Q,$APP.N,
$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Jib,"datascript/core.cljc",59,1,466,466,$APP.Hd,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.k(z6)?z6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?
e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return B6},Qgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Ahb,"datascript/core.cljc",61,1,558,558,$APP.Hd,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.k(B6)?B6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,
4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return A6},uhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Kib,"datascript/core.cljc",69,1,471,471,$APP.Hd,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(A6)?A6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return i6},ugb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,mjb,"datascript/core.cljc",
38,1,677,677,$APP.Hd,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.k(i6)?i6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):
$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return sgb},Zgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,R5,"datascript/core.cljc",13,1,617,617,$5,$APP.J(new $APP.H(null,1,5,$APP.I,[Ihb],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.k(sgb)?sgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return R6},ehb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Wib,"datascript/core.cljc",
15,1,206,218,$APP.Hd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(R6)?R6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return x6},Dhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,ojb,"datascript/core.cljc",
84,1,450,450,$APP.Hd,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(x6)?x6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Z6},bhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,
$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,xjb,"datascript/core.cljc",19,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,6,$APP.cL,6,$APP.KK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)],null),$APP.V,$APP.J(new $APP.H(null,
2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)),$APP.aG,$APP.J(null,null,null,null,null)],null),1,404,404,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,
5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.k(Z6)?Z6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,
b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return S6},qib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,yjb,"datascript/core.cljc",20,1,220,229,$5,$APP.Hd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(S6)?S6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return V6},mib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,tjb,"datascript/core.cljc",
19,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,2,$APP.cL,2,$APP.KK,new $APP.H(null,3,5,$APP.I,[$APP.Sg,new $APP.H(null,1,5,$APP.I,[L5],null),new $APP.H(null,2,5,$APP.I,[L5,$APP.DH],null)],null),$APP.V,$APP.J($APP.Sg,new $APP.H(null,1,5,$APP.I,[L5],null),new $APP.H(null,2,5,$APP.I,[L5,$APP.DH],null)),$APP.aG,$APP.J(null,null,null)],null),1,150,150,$5,$APP.J($APP.Sg,new $APP.H(null,1,5,$APP.I,[L5],null),new $APP.H(null,2,5,$APP.I,[L5,$APP.DH],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.k(V6)?V6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return W6},yib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,Gib,"datascript/core.cljc",
18,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,3,$APP.cL,3,$APP.KK,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[U5],null),new $APP.H(null,2,5,$APP.I,[U5,L5],null),new $APP.H(null,3,5,$APP.I,[U5,L5,$APP.DH],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[U5],null),new $APP.H(null,2,5,$APP.I,[U5,L5],null),new $APP.H(null,3,5,$APP.I,[U5,L5,$APP.DH],null)),$APP.aG,$APP.J(null,null,null)],null),1,194,194,$5,$APP.J(new $APP.H(null,1,5,$APP.I,[U5],null),new $APP.H(null,2,5,$APP.I,[U5,L5],null),
new $APP.H(null,3,5,$APP.I,[U5,L5,$APP.DH],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.k(W6)?W6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return i3},Mgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.GK,fjb,"datascript/core.cljc",8,1,90,100,h6,$APP.Hd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(i3)?i3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return 536870912},Uib,$APP.gi([$APP.ou,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.sA,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[!0,$APP.GK,
wjb,"datascript/core.cljc",26,1,!0,21,21,$APP.Hd,null,$APP.k(536870912)?(536870912).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return qgb},Bgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,
$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,$APP.LF,"datascript/core.cljc",13,1,246,246,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.EL],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.k(qgb)?qgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return c3},zhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,pjb,"datascript/core.cljc",
45,1,693,693,$APP.Hd,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.k(c3)?c3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,
$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return X6},Tib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,U5,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,6,$APP.cL,6,$APP.KK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,
3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,
Q5,$APP.HE,$APP.IE,$APP.JE],null)),$APP.aG,$APP.J(null,null,null,null,null)],null),1,282,282,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(X6)?X6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Odb},thb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,hjb,"datascript/core.cljc",
49,1,562,562,$APP.Hd,null,$APP.k(Odb)?Odb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Y6},Lhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],
[$APP.GK,Bib,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,6,$APP.cL,6,$APP.KK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,
$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)),$APP.aG,$APP.J(null,null,null,null,null)],null),1,367,367,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.dG],null),new $APP.H(null,3,5,$APP.I,[R5,$APP.dG,Q5],null),new $APP.H(null,4,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE],null),new $APP.H(null,5,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE],
null),new $APP.H(null,6,5,$APP.I,[R5,$APP.dG,Q5,$APP.HE,$APP.IE,$APP.JE],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.k(Y6)?Y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return P6},ghb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Qeb,"datascript/core.cljc",
7,1,105,117,$APP.Hd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(P6)?P6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return tgb},Mhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,ahb,"datascript/core.cljc",
15,1,735,735,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null)),null,$APP.k(tgb)?tgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return y6},kib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,
$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.GK,Rib,"datascript/core.cljc",59,1,454,454,$APP.Hd,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.k(y6)?y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}()]),ckb=new $APP.h(null,7,[phb,function(){var a=new $APP.Cd(function(){return $APP.b2},Xib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.CL,
phb,"datascript/db.cljc",21,1,1124,1124,$APP.J(new $APP.H(null,1,5,$APP.I,[new $APP.h(null,1,[$APP.RB,new $APP.H(null,2,5,$APP.I,[L5,U5],null)],null)],null)),null,$APP.k($APP.b2)?$APP.b2.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),Iib,
function(){var a=new $APP.Cd(function(){return $APP.f1},Lib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.CL,Iib,"datascript/db.cljc",31,1,333,333,b6,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.OK],null)),null,$APP.k($APP.f1)?$APP.f1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),zgb,function(){var a=new $APP.Cd(function(){return $APP.c1},Ugb,$APP.gi([$APP.Br,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[vgb,$APP.CL,zgb,"datascript/db.cljc",15,1,179,181,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.TE],null)),null,$APP.k($APP.c1)?$APP.c1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),
$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),ygb,function(){var a=new $APP.Cd(function(){return $APP.b1},whb,$APP.gi([$APP.Br,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[vgb,$APP.CL,ygb,"datascript/db.cljc",12,1,179,180,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.TE],null)),null,$APP.k($APP.b1)?$APP.b1.H:null])),b=$APP.n(a),c=$APP.se(a);
a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),S5,function(){var a=new $APP.Cd(function(){return e1},Aib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.Em,$APP.V,$APP.M,$APP.iG],[$APP.CL,S5,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.zA,!1,
$APP.Os,5,$APP.cL,5,$APP.KK,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ],null),new $APP.H(null,4,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5],null),new $APP.H(null,5,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5,Fgb],null)],null),$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ],null),new $APP.H(null,4,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5],null),new $APP.H(null,5,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5,Fgb],null)),$APP.aG,$APP.J(null,null,null)],null),1,257,257,b6,
$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ],null),new $APP.H(null,4,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5],null),new $APP.H(null,5,5,$APP.I,[$APP.hJ,$APP.cJ,$APP.wJ,M5,Fgb],null)),null,$APP.k(e1)?e1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,
d):$APP.gu.j(a,b,d)}(),$5,function(){var a=new $APP.Cd(function(){return $APP.x1},Xhb,new $APP.h(null,8,[$APP.Q,$APP.CL,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,672,$APP.Om,22,$APP.N,$5,$APP.iG,$APP.k($APP.x1)?$APP.x1.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?
e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),b6,function(){var a=new $APP.Cd(function(){return $APP.d1},$hb,new $APP.h(null,8,[$APP.Q,$APP.CL,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,185,$APP.Om,10,$APP.N,b6,$APP.iG,$APP.k($APP.d1)?$APP.d1.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}()],null),dkb=new $APP.h(null,3,[aib,function(){var a=new $APP.Cd(function(){return D6},Dgb,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.QJ,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[!0,c6,aib,"datascript/impl/entity.cljc",21,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,3,$APP.cL,3,$APP.KK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.TE,K5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.TE,new $APP.h(null,
1,[$APP.Em,h6],null)),K5,$APP.WA],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.TE,K5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.TE,new $APP.h(null,1,[$APP.Em,h6],null)),K5,$APP.WA],null)),$APP.aG,$APP.J(null,null)],null),1,165,165,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.TE,K5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.TE,new $APP.h(null,1,[$APP.Em,h6],null)),K5,$APP.WA],null)),null,$APP.k(D6)?D6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,
4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),h6,function(){var a=new $APP.Cd(function(){return k3},dib,new $APP.h(null,8,[$APP.Q,c6,$APP.M,null,$APP.Vl,"datascript/impl/entity.cljc",$APP.Wl,48,$APP.Om,10,$APP.N,h6,$APP.iG,$APP.k(k3)?k3.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);
var d=new $APP.h(null,4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),Agb,function(){var a=new $APP.Cd(function(){return Sdb},hhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[c6,Agb,"datascript/impl/entity.cljc",14,1,147,147,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.yJ],null)),null,$APP.k(Sdb)?
Sdb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}()],null),e7,ekb=$APP.Aj.g($APP.Xf),fkb=$APP.Aj.g($APP.Xf),gkb=$APP.Aj.g($APP.Xf),hkb=$APP.Aj.g($APP.Xf),ikb=$APP.C.j($APP.Xf,$APP.jr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));
e7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-store"),$APP.Yq,$APP.Mm,ikb,ekb,fkb,gkb,hkb);var f7,jkb=$APP.Aj.g($APP.Xf),kkb=$APP.Aj.g($APP.Xf),lkb=$APP.Aj.g($APP.Xf),mkb=$APP.Aj.g($APP.Xf),nkb=$APP.C.j($APP.Xf,$APP.jr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));f7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-restore"),$APP.Yq,$APP.Mm,nkb,jkb,kkb,lkb,mkb);e7.oa(null,$APP.Zz,function(a,b){var c=$APP.Cp(a);c=$APP.C.h(c,O5);return c.h?c.h(a,b):c.call(null,a,b)});var okb=O2;
e7.oa(null,$APP.Mm,function(a,b){return okb.h?okb.h(a,b):okb.call(null,a,b)});O2=function(a,b){return e7.h(a,b)};f7.oa(null,$APP.Zz,function(a,b){var c=$APP.Cp(a);c=$APP.C.h(c,g6);return c.h?c.h(a,b):c.call(null,a,b)});var pkb=P2;f7.oa(null,$APP.Mm,function(a,b){return pkb.h?pkb.h(a,b):pkb.call(null,a,b)});P2=function(a,b){return f7.h(a,b)};
var qkb=$APP.gu.h(Ajb,new $APP.h(null,3,[$APP.Br,wdb,$APP.Ar,$APP.Bi([f7,e7]),$APP.Q,d7],null)),rkb=$APP.ui.l($APP.iu($APP.gi([$APP.re(vhb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.re($APP.dJ,new $APP.h(null,1,[$APP.Em,b6],null))],null)))],null)),$APP.re(Djb,new $APP.h(null,4,[Hib,!0,$APP.PK,$APP.esa,$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null))),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.re(lhb,
new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J($APP.re(new $APP.H(null,1,5,$APP.I,[R5],null),new $APP.h(null,1,[$APP.Em,Qib],null))))],null)),$APP.re(oib,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.PF],null)))],null)),$APP.re(Bjb,new $APP.h(null,4,[$APP.tI,!0,$APP.kA,new $APP.h(null,1,[$APP.Ar,new $APP.h(null,2,[$APP.re(O5,new $APP.h(null,1,[$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.$I,f6,W5],null)],null),$APP.re(g6,new $APP.h(null,1,[$APP.M,"Read back and deserialize data stored under single `addr`"],null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.$I,I5],null)],null)],null)],null),$APP.gJ,new $APP.h(null,2,[wgb,new $APP.h(null,3,[$APP.N,O5,$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.$I,f6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),Sgb,new $APP.h(null,3,[$APP.N,g6,$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.$I,I5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.dI,$APP.J("@interface")],null)),$APP.re(sjb,new $APP.h(null,2,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null))),$APP.QJ,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,2,$APP.cL,2,$APP.KK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,
2,5,$APP.I,[e6,$APP.DH],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null)),$APP.aG,$APP.J(null,null)],null)],null)),$APP.re(e6,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null)))],null)),$APP.re(O5,new $APP.h(null,3,[$APP.Br,ajb,$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.$I,f6,W5],null)))],null)),$APP.re(fhb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,3,5,$APP.I,[R5,zib,djb],null)))],null)),$APP.re(g6,new $APP.h(null,3,[$APP.Br,ajb,$APP.M,"Read back and deserialize data stored under single `addr`",$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.$I,I5],null)))],null)),$APP.re(ihb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null)))],
null)),$APP.re(Whb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.DH],null)))],null)),$APP.re(dhb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,Kgb],null)))],null)),$APP.re(pjb,new $APP.h(null,2,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null),new $APP.H(null,2,5,$APP.I,[R5,e6],null))),$APP.QJ,new $APP.h(null,6,[$APP.zA,!1,$APP.Os,2,$APP.cL,2,$APP.KK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[R5],null),
new $APP.H(null,2,5,$APP.I,[R5,e6],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null),new $APP.H(null,2,5,$APP.I,[R5,e6],null)),$APP.aG,$APP.J(null,null)],null)],null)),$APP.re(Mib,new $APP.h(null,4,[Hib,!0,$APP.PK,$APP.vm,$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[Vgb],null))),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.re(cib,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,
$APP.I,[R5,$APP.PF],null)))],null))],[new $APP.h(null,3,[$APP.N,Xgb,$APP.hu,xdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.re($APP.dJ,new $APP.h(null,1,[$APP.Em,b6],null))],null))],null)],null),new $APP.h(null,3,[$APP.N,Zhb,$APP.hu,function(a){return new Q2(a,null,null,null)},$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null)),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.h(null,3,[$APP.N,
nhb,$APP.hu,R2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J($APP.re(new $APP.H(null,1,5,$APP.I,[R5],null),new $APP.h(null,1,[$APP.Em,Qib],null)))],null)],null),new $APP.h(null,3,[$APP.N,Yhb,$APP.hu,Fdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.PF],null))],null)],null),new $APP.h(null,3,[$APP.N,ajb,$APP.hu,wdb,$APP.nb,$APP.Xf],null),new $APP.h(null,3,[$APP.N,Fib,$APP.hu,w6,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,
2,5,$APP.I,[e6,$APP.DH],null))],null)],null),new $APP.h(null,3,[$APP.N,Zib,$APP.hu,S2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null))],null)],null),new $APP.h(null,3,[$APP.N,uib,$APP.hu,O2,$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.$I,f6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.h(null,3,[$APP.N,wib,$APP.hu,V2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[R5,zib,djb],null))],null)],null),new $APP.h(null,3,[$APP.N,Ogb,$APP.hu,P2,$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.$I,I5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.h(null,3,[$APP.N,Hgb,$APP.hu,Hdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null))],null)],
null),new $APP.h(null,3,[$APP.N,Nhb,$APP.hu,X2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.DH],null))],null)],null),new $APP.h(null,3,[$APP.N,bjb,$APP.hu,ydb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,Kgb],null))],null)],null),new $APP.h(null,3,[$APP.N,Shb,$APP.hu,c3,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[R5],null),new $APP.H(null,2,5,$APP.I,[R5,e6],null))],null)],null),new $APP.h(null,3,[$APP.N,Nib,$APP.hu,function(a){var b=
$APP.Ol.h(a,V0);b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new Q2(V0.g(a),null,$APP.Zf(b),null)},$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[Vgb],null)),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.h(null,3,[$APP.N,jjb,$APP.hu,Idb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[R5,$APP.PF],null))],null)],null)]),d7),O5,function(){var a=new $APP.Cd(function(){return e7},
Ygb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.re(Ngb,new $APP.h(null,1,[$APP.ou,!0],null)),O5,"nbb/impl/datascript.cljs",17,1,65,65,$APP.Hd,null,$APP.k(e7)?e7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,
b,d)}(),$APP.z([g6,function(){var a=new $APP.Cd(function(){return f7},chb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[$APP.re(Ngb,new $APP.h(null,1,[$APP.ou,!0],null)),g6,"nbb/impl/datascript.cljs",19,1,66,66,$APP.Hd,null,$APP.k(f7)?f7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.xO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}(),Bjb,qkb,Igb,function(){var a=new $APP.Cd(function(){return 1},Sib,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Uz,$APP.Om,$APP.Wl,$APP.XL,$APP.V,$APP.M,$APP.iG],[!0,ljb,Igb,"datascript/storage.cljs",25,1,31,31,$APP.Hd,null,$APP.k(1)?(1).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.xO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.yO.j(a,b,d):$APP.gu.j(a,b,d)}()]));$APP.Wu(new $APP.h(null,1,[$APP.Iq,new $APP.h(null,4,[$APP.GK,bkb,$APP.CL,ckb,ljb,rkb,c6,dkb],null)],null));