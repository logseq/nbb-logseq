import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var IW,JW,LW,KW,MW,OW,$ja,PW,FX,uNa,GX,WR,SX,TX,QW,RW,SW,TW,UW,VW,WW,FNa,YW,ZW,$W,aX,bX,cX,dX,eX,fX,gX,XY,XW,lZ,c_,kX,hX,iX,uP,g_,mX,nX,qX,pX,sX,uX,vX,wX,tX,xX,yX,zX,AX,BX,CX,DX,EX,k1,zNa,ANa,DNa,HX,aka,IX,MX,YX,ZX,$X,aY,bY,cY,dY,eY,fY,gY,hY,iY,jY,kY,lY,mY,nY,oY,rY,sY,tY,uY,yY,zY,AY,dka,eka,JY,MY,PY,Z2,gka,UY,bZ,fZ,gZ,hZ,O2,SNa,TNa,kZ,UNa,mZ,oZ,pZ,qZ,rZ,YNa,ika,sZ,tZ,uZ,jka,kka,lka,yZ,AZ,BZ,CZ,EZ,mka,nka,KZ,LZ,MZ,NZ,PZ,QZ,JZ,RZ,dOa,UZ,SZ,TZ,oka,pka,OZ,VZ,WZ,XZ,YZ,e_,f_,h_,j_,l_,m_,rka,n_,ska,p_,r_,
s_,t_,u_,v_,w_,x_,y_,z_,A_,B_,C_,D_,E_,G_,F_,H_,I_,F4,YOa,J4,K4,iOa,L4,jOa,N4,O4,U4,pOa,qOa,rOa,J_,K_,L_,M_,uka,vka,wka,N_,O_,P_,Q_,R_,S_,U_,T_,V_,W_,X_,Y_,Z_,$_,a0,b0,c0,d0,f0,g0,h0,j0,k0,l0,m0,n0,o0,q0,r0,s0,t0,u0,v0,w0,yka,y0,x0,z0,A0,B0,C0,D0,E0,F0,G0,H0,I0,K0,zka,L0,M0,Aka,Cka,N0,O0,P0,Q0,R0,S0,T0,U0,V0,W0,X0,Y0,$0,b1,d1,a1,Dka,f1,g1,Eka,i1,Fka,j1,Gka,n1,Hka,Jka,Kka,s1,t1,u1,Lka,v1,w1,x1,z1,A1,B1,C1,Mka,Nka,I1,J1,LOa,L1,M1,Oka,Pka,Qka,N1,O1,P1,Rka,R1,S1,Ska,Tka,U1,Vka,V1,Wka,X1,Xka,Zka,$ka,ala,
b2,c2,d2,bla,e2,cla,POa,Yka,a2,g2,dla,h2,i2,ela,fla,gla,j2,k2,hla,QOa,l2,m2,n2,o2,q2,ila,r2,TOa,t2,ePa,x2,X2,fPa,gPa,hPa,iPa,SOa,bOa,lOa,j5,jPa,kPa,x5,lPa,f5,mPa,dPa,nPa,IOa,oPa,p4,W2,qPa,sPa,tPa,m5,uPa,K3,nOa,vPa,wPa,xPa,y3,yPa,A2,zPa,APa,BPa,CPa,U2,DPa,EPa,FPa,GPa,HPa,IPa,JPa,KPa,LPa,L2,u5,MPa,NPa,l5,cOa,M2,g5,OPa,s5,PPa,z2,R2,QPa,K2,Z4,RPa,z5,SPa,$Na,oOa,TPa,UPa,VPa,WPa,a5,XPa,YPa,$Pa,VOa,aQa,bQa,ZPa,E1,A5,dQa,cQa,eQa,KOa,eOa,gQa,JNa,v2,fQa,D3,tOa,B5,hQa,C5,cPa,iQa,$4,G2,W1,kQa,w5,jQa,D5,mOa,GOa,
KNa,lQa,nQa,E5,mQa,ZOa,B2,P5,pQa,oQa,qQa,C2,z3,F5,rQa,aPa,sQa,zOa,OOa,r5,tQa,Q5,X5,vQa,wQa,uQa,v5,Z1,xQa,yQa,AQa,BQa,zQa,F2,CQa,DQa,EQa,FQa,Y5,vOa,COa,D2,y2,xOa,BOa,GQa,HQa,IQa,RNa,w2,KQa,AOa,p5,LQa,Z5,JQa,yOa,N2,MQa,NQa,PQa,OQa,x3,DOa,QQa,SQa,XNa,RQa,UQa,TQa,a6,VQa,WQa,XQa,$1,H3,E3,YQa,b6,D4,S5,ZQa,t5,$Qa,T2,aRa,bRa,cRa,q5,eRa,J2,fRa,Y2,hOa,VNa,gOa,kRa,lRa,mRa,i6,nRa,wOa,s2,oRa,pRa,qRa,rRa,sRa,o5,tRa,uRa,aOa,F3,HOa,JOa,V2,u2,FOa,wRa,xRa,c6,INa,ARa,v6,yRa,zRa,x6,G3,ZNa,r1,BRa,MNa,CRa,DRa,C3,MOa,i5,
UOa,ERa,EOa,FRa,GRa,P3,E2,XOa,w6,A3,WOa,H2,HRa,JRa,IRa,KRa,LRa,MRa,NRa,PRa,ORa,QRa,$Oa,RRa,SRa,TRa,fOa,m1,URa,WRa,VRa,WNa,XRa,k5,D6,n5,YRa,t4,ZRa,sOa,p2,$Ra,aSa,dSa,bSa,cSa,eSa,fSa,P2,S2,F6,ROa,Q2,hSa,uOa,h1,gSa,LNa,iSa,NOa,kSa,jSa,lSa,nSa,mSa,w3,oSa,pSa,vSa;IW=function(a,b){a=a.split(".");var c=$APP.Cy;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};
JW=function(a,b,c,d,e){this.Ne=a;this.Xh=b;this.Yh=c;this.ze=d;this.nb=e;this.J=2147484416;this.N=0};LW=function(a,b,c){var d=a.Ne,e=a.Xh,h=a.Yh,l=a.ze;a=a.nb;var p=h.h?h.h(b,null):h.call(null,b,null);if($APP.m(p))return new JW(d,$APP.K.j($APP.cp.h(e,p),l,b),$APP.K.j(h,b,l),l+1,a);b=new JW($APP.K.j(d,b,c),$APP.K.j(e,l,b),$APP.K.j(h,b,l),l+1,a);return KW.g?KW.g(b):KW.call(null,b)};
KW=function(a){if($APP.ie(a.Ne)>a.nb){var b=a.Ne,c=a.Xh,d=a.Yh,e=a.ze;a=a.nb;var h=$APP.x(c),l=$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);return new JW($APP.cp.h(b,h),$APP.cp.h(c,l),$APP.cp.h(d,h),e,a)}return a};MW=function(a,b,c){if(null!=a&&null!=a.Uh)a=a.Uh(a,b,c);else{var d=MW[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=MW._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("ICache.-get",a);}return a};
OW=function(){var a=$APP.Wh(new JW($APP.uh,$APP.DA(),$APP.uh,0,100));if("undefined"===typeof datascript||"undefined"===typeof Zja||"undefined"===typeof lX)lX=function(b,c,d){this.nb=b;this.Sf=c;this.El=d;this.J=393216;this.N=0},lX.prototype.X=function(b,c){return new lX(this.nb,this.Sf,c)},lX.prototype.W=function(){return this.El},lX.prototype.Uh=function(b,c,d){b=$APP.gf.j($APP.q(this.Sf),c,null);if(null==b)return d=d.F?d.F():d.call(null),$APP.md(this.Sf,$APP.K.j($APP.q(this.Sf),c,d)),d;$APP.md(this.Sf,
$APP.K.j($APP.q(this.Sf),c,b));return b},lX.Ic=!0,lX.sc="datascript.lru/t_datascript$lru25893",lX.Nc=function(b){return $APP.Mc(b,"datascript.lru/t_datascript$lru25893")};return new lX(100,a,$APP.uh)};$ja=function(a){return $APP.sf.j(function(b,c){b.push(c);return b},[],a)};PW=function(a){return a instanceof Array};
FX=function(a,b){if(null!=a&&null!=a.zl)a=a.zl(a,b);else{var c=FX[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=FX._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IStorage.restore",a);}return a};uNa=function(a,b){if(null==a||null==a.Dl){var c=uNa[$APP.ca(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=uNa._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IStorage.accessed",a);}};
GX=function(a,b,c){if(null!=a&&null!=a.Al)a=a.Al(a,b,c);else{var d=GX[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=GX._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("IStorage.store",a);}return a};WR=function(a,b){if(null!=a&&null!=a.Cl)a.Cl(a,b);else{var c=WR[$APP.ca(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=WR._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IStorage.delete",a);}};
SX=function(a,b){return 6>b?a>>>5*b&vNa:Math.floor(a/wNa[b])&vNa};TX=function(a,b,c){var d=a<xNa&&6>b,e=SX(a,b);return a-(d?e<<5*b:e*wNa[b])+(d?c<<5*b:c*wNa[b])};QW=function(a,b,c,d){for(var e=0,h=$APP.Tf(c);;)if(e<=h){c=e+h>>>1;var l=b[c];0>(a.h?a.h(l,d):a.call(null,l,d))?e=c+1:h=c-1}else return e};RW=function(a,b,c,d){for(var e=0,h=$APP.Tf(c);;)if(e<=h){c=e+h>>>1;var l=b[c];0<(a.h?a.h(l,d):a.call(null,l,d))?h=c-1:e=c+1}else return e};
SW=function(a,b,c){var d=b.length,e=QW(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};TW=function(a,b,c){var d=b.length;a=QW(a,b,d-1,c);return a===d?-1:a};UW=function(a,b,c,d,e,h){var l=h.length,p=d-b,t=p+l,A=Array(p+l+(c-e));d-=b;for(var y=0;;)if(y<d)A[y+0]=a[y+b],y+=1;else break;b=l-0;for(l=0;;)if(l<b)A[l+p]=h[l+0],l+=1;else break;c-=e;for(h=0;;)if(h<c)A[h+t]=a[h+e],h+=1;else break;return A};VW=function(a,b,c,d){return UW(a,0,a.length,b,c,d)};
WW=function(a,b){var c=a.length,d=b.length,e=c+d,h=e>>>1,l=Array(h);e=Array(e-h);if(c<=h){for(var p=c-0,t=0;;)if(t<p)l[t+0]=a[t+0],t+=1;else break;a=h-c;for(p=0;;)if(p<a)l[p+c]=b[p+0],p+=1;else break;d-=h-c;for(a=0;;)if(a<d)e[a+0]=b[a+(h-c)],a+=1;else break}else{p=h-0;for(t=0;;)if(t<p)l[t+0]=a[t+0],t+=1;else break;p=c-h;for(t=0;;)if(t<p)e[t+0]=a[t+h],t+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-h)]=b[a+0],a+=1;else break}return[l,e]};
FNa=function(a,b,c,d,e,h){d-=c;if(h=d===h-0)for(h=0;;){if(h===d)return!0;var l=b[h+c],p=e[h+0];if(0!==(a.h?a.h(l,p):a.call(null,l,p)))return!1;h+=1}else return h};YW=function(a,b){return $APP.m(a)?$APP.m(b)?[a,b]:[a]:[b]};ZW=function(a,b,c){return $APP.m(a)?$APP.m(b)?$APP.m(c)?[a,b,c]:[a,b]:$APP.m(c)?[a,c]:[a]:$APP.m(b)?$APP.m(c)?[b,c]:[b]:[c]};
$W=function(a){if(null!=a&&null!=a.ih)a=a.ih(a);else{var b=$W[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$W._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("INode.node-lim-key",a);}return a};aX=function(a){if(null!=a&&null!=a.Zh)a=a.keys.length;else{var b=aX[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=aX._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("INode.node-len",a);}return a};
bX=function(a,b,c){if(null!=a&&null!=a.kh)a=a.kh(a,b,c);else{var d=bX[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=bX._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("INode.node-merge",a);}return a};cX=function(a,b){if(null!=a&&null!=a.lh)a=a.lh(a,b);else{var c=cX[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=cX._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("INode.node-merge-n-split",a);}return a};
dX=function(a,b,c,d){if(null!=a&&null!=a.yl)a=a.yl(a,b,c,d);else{var e=dX[$APP.ca(null==a?null:a)];if(null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else if(e=dX._,null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Ab("INode.node-lookup",a);}return a};
eX=function(a,b,c,d){if(null!=a&&null!=a.bl)a=a.bl(a,b,c,d);else{var e=eX[$APP.ca(null==a?null:a)];if(null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else if(e=eX._,null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Ab("INode.node-conj",a);}return a};
fX=function(a,b,c,d,e,h,l){if(null!=a&&null!=a.xl)a=a.xl(a,b,c,d,e,h,l);else{var p=fX[$APP.ca(null==a?null:a)];if(null!=p)a=p.Ja?p.Ja(a,b,c,d,e,h,l):p.call(null,a,b,c,d,e,h,l);else if(p=fX._,null!=p)a=p.Ja?p.Ja(a,b,c,d,e,h,l):p.call(null,a,b,c,d,e,h,l);else throw $APP.Ab("INode.node-disj",a);}return a};
gX=function(a,b,c,d,e){if($APP.m(b))return[a];if(aX(a)>WY)return ZW(c,a,d);if($APP.m($APP.m(c)?aX(c)<=WY:c))return YW(bX(c,a,e),d);if($APP.m($APP.m(d)?aX(d)<=WY:d))return YW(c,bX(a,d,e));if($APP.m($APP.m(c)?null==d||aX(c)<aX(d):c))return a=cX(c,a),ZW(a[0],a[1],d);a=cX(a,d);return ZW(c,a[0],a[1])};
XY=function(a,b){if(null!=a&&null!=a.$g)a=a.$g(a,b);else{var c=XY[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=XY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IStore.store-aux",a);}return a};XW=function(a){a=$APP.Wk.h(function(b){return $APP.Ja(b,"_address")},a);return $ja(a)};lZ=function(a,b){$APP.Ee(a.Sb)&&(b=$APP.u(a.children)?XW(a.children):Array(b),a.Sb=b)};
c_=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return kX(arguments[0],arguments[1],arguments[2],3<b.length?new $APP.Fd(b.slice(3),0,null):null)};kX=function(a,b,c,d){var e=$APP.ph(d);d=$APP.gf.h(e,m1);e=$APP.gf.j(e,INa,!0);c=null==c?$APP.u(b)?XW(b):Array(a.length):c;return new hX(a,b,c,d,e)};hX=function(a,b,c,d,e){this.keys=a;this.children=b;this.Sb=c;this.gh=d;this.Hl=e};iX=function(a,b,c){this.keys=a;this.gh=b;this.Hl=c};
uP=function(a){if(null!=a&&null!=a.Fl)a=a.Fl(a);else{var b=uP[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=uP._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IRoot.-ensure-root-node",a);}return a};$APP.jX=function(a,b,c,d,e,h,l,p){this.storage=a;this.root=b;this.shift=c;this.O=d;this.Jc=e;this.K=h;this.Lc=l;this.gh=p;this.J=2297303311;this.N=8332};g_=function(a,b,c){return a instanceof hX?a.Yg(b,c):null};
mX=function(a,b){for(var c=a.shift,d=uP(a);;)if(0<c){var e=c-1;d=g_(d,SX(b,c),a.storage);c=e}else return d.keys};nX=function(a,b,c,d){return new $APP.jX(a.storage,b,c,d,a.Jc,a.K,null,null)};qX=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var h=a.children;h=h[h.length-1];a=$APP.m(h)?h:g_(a,e,d);b=TX(b,c,e);--c}else return TX(b,0,a.keys.length-1)};pX=function(a,b){if(0>b)return 0;b=oX(a,uP(a),b,a.shift);return $APP.m(b)?b:qX(uP(a),0,a.shift,a.storage)+1};
sX=function(a,b){if(0<SX(b,a.shift+1))return qX(uP(a),b,a.shift,a.storage);a=rX(a,uP(a),b,a.shift);return $APP.m(a)?a:-1};uX=function(a){if(0<aX(uP(a))){var b=qX(uP(a),0,a.shift,a.storage);b=pX(a,b);return tX.j?tX.j(a,0,b):tX.call(null,a,0,b)}return null};vX=function(a,b,c){this.H=a;this.ob=b;this.end=c;this.J=524306;this.N=0};wX=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.N=1536};tX=function(a,b,c){return new wX(a,b,c,mX(a,b),SX(b,0))};
xX=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.N=0};yX=function(a,b,c){return new xX(a,b,c,mX(a,c),SX(c,0))};
zX=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.Fl(null),h=0,l=a.shift;;){var p=aX(e);if(0===l){var t=e.keys;t=QW(d,t,p-1,b);b=p===t?null:TX(h,0,t);break a}t=e.keys;t=QW(d,t,p-2,b);e=g_(e,t,a.storage);h=TX(h,l,t);--l}if(null==b)return null;a:if(null==c)c=qX(a.Fl(null),0,a.shift,a.storage)+1;else for(e=a.Fl(null),l=0,h=a.shift;;){p=aX(e);if(0===h){t=e.keys;p=RW(d,t,p-1,c);c=l=TX(l,0,p);break a}t=e.keys;p=RW(d,t,p-2,c);l=TX(l,h,p);e=g_(e,p,a.storage);--h}return b<c?new wX(a,b,c,mX(a,b),SX(b,
0)):null};AX=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var h=b[d];h=a.g?a.g(h):a.call(null,h);b[e]=h;d+=1}else break;return b};BX=function(a){var b=a.length,c=$APP.Tc($APP.qi);if(0<b)for(var d=0;;){var e=b-d;if(e<=e1){$APP.pi.h(c,a.slice(d));break}else e>=yNa+WY?($APP.pi.h(c,a.slice(d,d+yNa)),d+=yNa):(e>>>=1,$APP.pi.h(c,a.slice(d,d+e)),d+=e)}return $APP.tf($APP.Vc(c))};
CX=function(a,b,c){b=eX(a.Fl(null),c,b,a.storage);return null==b?a:1===b.length?nX(a,b[0],a.shift,a.O+1):nX(a,c_(b.map($W),b,XW(b)),a.shift+1,a.O+1)};DX=function(a,b,c){b=fX(a.Fl(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof hX&&1===b.children.length?nX(a,b.children[0],a.shift-1,a.O-1):nX(a,b,a.shift,a.O-1)};EX=function(a,b,c){return zX(a,b,c,a.Jc)};
k1=function(a,b,c){var d=AX(q1,BX(b));c=r1.g(c);for(var e=d,h=0;;){var l=$APP.ie(e);switch(l){case 0:return new $APP.jX(c,q1([]),0,0,a,null,null,null);case 1:return new $APP.jX(c,$APP.x(e),h,b.length,a,null,null,null);default:e=AX(function(){return function(p){return c_(p.map($W),p,null)}}(e,h,l,d,c),BX(e)),h+=1}}};zNa=function(a){var b=r1.g(a),c=q1([]),d=JNa.g(a);return new $APP.jX(b,c,0,0,$APP.m(d)?d:$APP.mf,$APP.Xa.g(a),null,null)};
ANa=function(a,b,c,d){d=$APP.ph(d);d=$APP.gf.h(d,KNa);return new $APP.jX(c,null,LNa.g(d),$APP.qJ.g(d),a,null,null,b)};DNa=function(){return new $APP.g(null,2,[MNa,e1,RNa,VNa],null)};HX=function(a){return"string"!==typeof a&&($APP.Xe(a)||PW(a))};
aka=function(a,b,c){return $APP.x($APP.sf.j(function(d,e){var h=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);e=a.j?a.j(h,e,d):a.call(null,h,e,d);return $APP.Xd(e)?$APP.Wd(new $APP.H(null,2,5,$APP.I,[e,d],null)):new $APP.H(null,2,5,$APP.I,[e,d+1],null)},new $APP.H(null,2,5,$APP.I,[b,0],null),c))};IX=function(a,b){return $APP.Sd(a,b)};
$APP.JX=function(a){if(null!=a&&null!=a.gb)a=a.gb(a);else{var b=$APP.JX[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.JX._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IDatom.datom-tx",a);}return a};$APP.KX=function(a){if(null!=a&&null!=a.Xc)a=a.Xc(a);else{var b=$APP.KX[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.KX._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IDatom.datom-added",a);}return a};
$APP.LX=function(a,b,c,d,e,h){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Lc=h;this.J=2162164496;this.N=0};MX=function(a){return a instanceof $APP.LX};$APP.XX=function(a){return $APP.nh.h(VX,a)};YX=function(a,b){return null==a?0:null==b?0:$APP.Tf($APP.mf(a,b))};ZX=function(a,b){return $APP.Oa($APP.Bb($APP.zb(a)),$APP.Bb($APP.zb(b)))};
$X=function(a,b){try{return $APP.B.h(a,b)?0:(null!=a?a.N&2048||$APP.yd===a.Ed||(a.N?0:$APP.xb($APP.$c,a)):$APP.xb($APP.$c,a))?$APP.ad(a,b):$APP.zb(a)===$APP.zb(b)?"number"===typeof a||"string"===typeof a||$APP.nb(a)||!0===a||!1===a?$APP.Oa(a,b):$APP.zd(a)-$APP.zd(b):ZX(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.zb(a)===$APP.zb(b))throw c;return ZX(a,b)}throw d;}};aY=function(a,b){return null==a?0:null==b?0:$X(a,b)};
bY=function(a,b){var c=a.e-b.e;return 0===c?(c=YX(a.a,b.a),0===c?(c=aY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};cY=function(a,b){var c=YX(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=aY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};dY=function(a,b){var c=YX(a.a,b.a);return 0===c?(c=aY(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};eY=function(a,b){return a instanceof $APP.k?$APP.ad(a,b):$APP.Oa(a,b)};
fY=function(a,b){var c=a.e-b.e;return 0===c?(c=eY(a.a,b.a),0===c?(a=$X(a.v,b.v),0===a?0:a):c):c};gY=function(a,b){var c=a.e-b.e;return 0===c?(c=eY(a.a,b.a),0===c?(c=$X(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};hY=function(a,b){var c=eY(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=$X(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};iY=function(a,b){var c=eY(a.a,b.a);return 0===c?(c=$X(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};jY=function(){};
kY=function(a,b){if(null!=a&&null!=a.ah)a=a.ah(a,b);else{var c=kY[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=kY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("ISearch.-search",a);}return a};lY=function(a,b){return $APP.x(kY(a,b))};
mY=function(a,b,c,d,e,h){if(null!=a&&null!=a.hh)a=a.hh(a,b,c,d,e,h);else{var l=mY[$APP.ca(null==a?null:a)];if(null!=l)a=l.ya?l.ya(a,b,c,d,e,h):l.call(null,a,b,c,d,e,h);else if(l=mY._,null!=l)a=l.ya?l.ya(a,b,c,d,e,h):l.call(null,a,b,c,d,e,h);else throw $APP.Ab("IIndexAccess.-datoms",a);}return a};
nY=function(a,b,c,d,e,h){if(null!=a&&null!=a.jh)a=a.jh(a,b,c,d,e,h);else{var l=nY[$APP.ca(null==a?null:a)];if(null!=l)a=l.ya?l.ya(a,b,c,d,e,h):l.call(null,a,b,c,d,e,h);else if(l=nY._,null!=l)a=l.ya?l.ya(a,b,c,d,e,h):l.call(null,a,b,c,d,e,h);else throw $APP.Ab("IIndexAccess.-seek-datoms",a);}return a};
oY=function(a,b,c,d){if(null!=a&&null!=a.Zg)a=a.Zg(a,b,c,d);else{var e=oY[$APP.ca(null==a?null:a)];if(null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else if(e=oY._,null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Ab("IIndexAccess.-index-range",a);}return a};
rY=function(a,b,c,d,e,h){if($APP.B.h(b,E1)&&null!=c&&!qY(a,c))throw $APP.Fp.h(["Attribute ",$APP.yl.l($APP.F([c]))," should be marked as :db/index true"].join(""),new $APP.g(null,3,[$APP.xJ,WNa,XNa,E1,ZNa,new $APP.H(null,4,5,$APP.I,[c,d,e,h],null)],null));};sY=function(){};tY=function(a){if(null!=a&&null!=a.Xg)a=a.Xg(a);else{var b=tY[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=tY._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IDB.-schema",a);}return a};
uY=function(a,b){if(null!=a&&null!=a.Wg)a=a.Wg(a,b);else{var c=uY[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=uY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IDB.-attrs-by",a);}return a};$APP.vY=function(a,b,c,d,e,h,l,p,t,A,y,D,v){this.ec=a;this.Lb=b;this.jc=c;this.ac=d;this.xc=e;this.yc=h;this.oc=l;this.nc=p;this.mc=t;this.hash=A;this.B=y;this.o=D;this.D=v;this.J=2230716170;this.N=139264};
yY=function(a){var b=$APP.cp.l(a,$APP.F1,$APP.F([$APP.K1,W1,E1,Z1,$1,p2,s2,u2,v2]));b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new $APP.vY($APP.F1.g(a),$APP.K1.g(a),W1.g(a),E1.g(a),Z1.g(a),$1.g(a),p2.g(a),s2.g(a),u2.g(a),v2.g(a),null,$APP.qh(b),null)};zY=function(a,b,c,d,e,h){this.qc=a;this.Yb=b;this.hash=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};AY=function(a){return a instanceof zY?a.qc:a};
dka=function(a,b){switch(b instanceof $APP.k?b.T:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.I,[w2,x2,y2],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.I,[w2,$Na,y2],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.I,[z2],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.I,[A2,y2],null);default:return $APP.B.h(B2,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[B2],null):$APP.B.h(y2,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[y2],null):$APP.B.h(C2,a)?new $APP.H(null,
2,5,$APP.I,[D2,y2],null):$APP.qi}};eka=function(a,b){return $APP.sf.j(function(c,d){return aka(function(e,h,l){return $APP.Eq.P(e,h,$APP.K,d,l)},c,C2.g($APP.gf.h(a,d)))},$APP.uh,D2.g(b))};JY=function(a){var b=$APP.yf(function(c,d,e){return $APP.yf(function(h,l,p){return $APP.sf.j(function(t,A){return $APP.Eq.I(t,A,fka,d)},h,dka(l,p))},c,e)},$APP.uh,a);return $APP.K.j(b,aOa,eka(a,b))};
MY=function(a,b,c,d){if(null!=c&&!$APP.jf(d,c))throw $APP.Fp.h(["Bad attribute specification for ",$APP.yl.l($APP.F([$APP.hj([a,$APP.hj([b,c])])])),", expected one of ",$APP.n.g(d)].join(""),new $APP.g(null,4,[$APP.xJ,E2,F2,a,$APP.LG,b,$APP.PJ,c],null));};
PY=function(a){for(var b=$APP.u(a),c=null,d=0,e=0;;)if(e<d){var h=c.fa(null,e),l=$APP.C.j(h,0,null),p=$APP.C.j(h,1,null),t=B2.h(p,!1);MY(l,B2,B2.g(p),new $APP.lk(null,new $APP.g(null,2,[!0,null,!1,null],null),null));if($APP.m(function(){var Z=t;return $APP.m(Z)?$APP.ik.h(G2.g(p),A2):Z}()))throw $APP.Fp.h(["Bad attribute specification for ",$APP.yl.l($APP.F([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,B2],null));
MY(l,w2,w2.g(p),new $APP.lk(null,new $APP.g(null,2,[x2,null,$Na,null],null),null));MY(l,G2,G2.g(p),new $APP.lk(null,new $APP.g(null,2,[D2,null,A2,null],null),null));MY(l,H2,H2.g(p),new $APP.lk(null,new $APP.g(null,2,[z2,null,bOa,null],null),null));if($APP.B.h(D2,G2.g(p))&&!$APP.jf(p,C2))throw $APP.Fp.h(["Bad attribute specification for ",$APP.yl.l($APP.F([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,G2],null));if($APP.jf(p,
C2)){h=new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,C2],null);if($APP.B.h(z2,H2.g(p)))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),h);var A=C2.g(p);if(!$APP.Je(A))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yl.l($APP.F([A]))].join(""),h);if($APP.Ee(A))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t be empty"].join(""),h);A=$APP.u(A);for(var y=null,D=0,v=0;;)if(v<D){var J=
y.fa(null,v),P=$APP.K.j(h,$APP.PJ,J);if($APP.jf($APP.gf.h(a,J),C2))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yl.l($APP.F([J]))].join(""),P);if($APP.B.h(z2,H2.g($APP.gf.h(a,J))))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yl.l($APP.F([J]))].join(""),P);v+=1}else if(A=$APP.u(A)){if($APP.Oe(A))D=$APP.dd(A),A=$APP.fd(A),y=D,D=$APP.ie(D);else{y=$APP.x(A);D=$APP.K.j(h,$APP.PJ,
y);if($APP.jf($APP.gf.h(a,y),C2))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yl.l($APP.F([y]))].join(""),D);if($APP.B.h(z2,H2.g($APP.gf.h(a,y))))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yl.l($APP.F([y]))].join(""),D);A=$APP.z(A);y=null;D=0}v=0}else break}e+=1}else if(l=$APP.u(b)){b=l;if($APP.Oe(b))c=$APP.dd(b),b=$APP.fd(b),l=c,d=$APP.ie(c),c=l;else{c=$APP.x(b);l=$APP.C.j(c,
0,null);p=$APP.C.j(c,1,null);var W=B2.h(p,!1);MY(l,B2,B2.g(p),new $APP.lk(null,new $APP.g(null,2,[!0,null,!1,null],null),null));if($APP.m(function(){var Z=W;return $APP.m(Z)?$APP.ik.h(G2.g(p),A2):Z}()))throw $APP.Fp.h(["Bad attribute specification for ",$APP.yl.l($APP.F([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,B2],null));MY(l,w2,w2.g(p),new $APP.lk(null,new $APP.g(null,2,[x2,null,$Na,null],null),null));MY(l,
G2,G2.g(p),new $APP.lk(null,new $APP.g(null,2,[D2,null,A2,null],null),null));MY(l,H2,H2.g(p),new $APP.lk(null,new $APP.g(null,2,[z2,null,bOa,null],null),null));if($APP.B.h(D2,G2.g(p))&&!$APP.jf(p,C2))throw $APP.Fp.h(["Bad attribute specification for ",$APP.yl.l($APP.F([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,G2],null));if($APP.jf(p,C2)){c=new $APP.g(null,3,[$APP.xJ,E2,F2,l,$APP.LG,C2],null);if($APP.B.h(z2,H2.g(p)))throw $APP.Fp.h([$APP.yl.l($APP.F([l])),
" has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=C2.g(p);if(!$APP.Je(d))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yl.l($APP.F([d]))].join(""),c);if($APP.Ee(d))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.u(d);e=null;for(A=h=0;;)if(A<h){y=e.fa(null,A);D=$APP.K.j(c,$APP.PJ,y);if($APP.jf($APP.gf.h(a,y),C2))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",
$APP.yl.l($APP.F([y]))].join(""),D);if($APP.B.h(z2,H2.g($APP.gf.h(a,y))))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yl.l($APP.F([y]))].join(""),D);A+=1}else if(d=$APP.u(d)){if($APP.Oe(d))h=$APP.dd(d),d=$APP.fd(d),e=h,h=$APP.ie(h);else{e=$APP.x(d);h=$APP.K.j(c,$APP.PJ,e);if($APP.jf($APP.gf.h(a,e),C2))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yl.l($APP.F([e]))].join(""),
h);if($APP.B.h(z2,H2.g($APP.gf.h(a,e))))throw $APP.Fp.h([$APP.yl.l($APP.F([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yl.l($APP.F([e]))].join(""),h);d=$APP.z(d);e=null;h=0}A=0}else break}b=$APP.z(b);c=null;d=0}e=0}else return null};
Z2=function(a,b){PY(a);return yY($APP.Oj([$APP.F1,$1,v2,W1,E1,Z1,$APP.K1,u2,s2,p2],[a,536870912,$APP.Cl.g(0),zNa($APP.K.j(b,JNa,cY)),zNa($APP.K.j(b,JNa,dY)),0,zNa($APP.K.j(b,JNa,bY)),OW(),OW(),JY($APP.bp.l($APP.F([new $APP.g(null,1,[cOa,new $APP.g(null,1,[w2,x2],null)],null),a])))]))};gka=function(a){var b=$APP.EK.g,c=VX.I(536870911,null,null,2147483647),d=VX.I(0,null,null,536870912);a=zX(a,d,c,a.Jc);a=null==a?null:$APP.Gc(a);b=b.call($APP.EK,$APP.x(a));return $APP.m(b)?b:0};
UY=function(a,b,c){var d=$APP.x($APP.Bk.h(MX,a));if(null!=d)throw $APP.Fp.h(["init-db expects list of Datoms, got ",$APP.yl.l($APP.F([$APP.zb(d)]))].join(""),new $APP.g(null,1,[$APP.xJ,eOa],null));PY(b);d=JY($APP.bp.l($APP.F([new $APP.g(null,1,[cOa,new $APP.g(null,1,[w2,x2],null)],null),b])));var e=y2.g(d),h=PW(a)?a:$ja(a);h.sort(gY);var l=k1(bY,h,c);h.sort(hY);h=k1(cY,h,c);a=$APP.ji.h(function(t){return $APP.jf(e,t.a)},a);a=$APP.tf(a);a.sort(iY);c=k1(dY,a,c);a=gka(l);var p=$APP.Lz.I($APP.Wk.g(function(t){return t.gb(null)}),
$APP.wv,536870912,l);return yY($APP.Oj([$APP.F1,$1,v2,W1,E1,Z1,$APP.K1,u2,s2,p2],[b,p,$APP.Cl.g(0),h,c,a,l,OW(),OW(),d]))};$APP.VY=function(a){var b=$APP.ph(a);a=$APP.gf.h(b,$APP.F1);b=$APP.gf.h(b,$APP.I2);return UY($APP.Wk.h(function(c){var d=$APP.C.j(c,0,null),e=$APP.C.j(c,1,null),h=$APP.C.j(c,2,null);c=$APP.C.j(c,3,null);return VX.I(d,e,h,c)},b),a,$APP.uh)};bZ=function(a,b,c,d,e,h,l,p){this.ld=a;this.kd=b;this.od=c;this.md=d;this.pd=e;this.B=h;this.o=l;this.D=p;this.J=2230716170;this.N=139264};
fZ=function(a){var b=$APP.cp.l(a,J2,$APP.F([K2,L2,M2,N2]));b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new bZ(J2.g(a),K2.g(a),L2.g(a),M2.g(a),N2.g(a),null,$APP.qh(b),null)};gZ=function(){return null};hZ=function(){return null};O2=function(){return null};SNa=function(){return null};TNa=function(){return null};kZ=function(){return null};UNa=function(){return null};mZ=function(a){return $APP.Tf($1.g(J2.g(a)))+1};
oZ=function(a){return $APP.B.h(a,fOa)||$APP.B.h(a,":db/current-tx")||$APP.B.h(a,"datomic.tx")||$APP.B.h(a,"datascript.tx")};pZ=function(a){return"number"===typeof a&&0>a||"string"===typeof a};qZ=function(a,b){return b>Z1.g(a)&&536870912>b?$APP.K.j(a,Z1,b):a};rZ=function(a,b,c){var d=oZ(b)?$APP.Eq.P(a,M2,$APP.K,b,c):a;d=pZ(b)?$APP.Eq.P(d,M2,$APP.K,b,c):d;if(b=!pZ(b))a=K2.g(a),b=c>Z1.g(a)&&536870912>c;a=b?$APP.Eq.P(d,M2,$APP.K,c,c):d;return $APP.Eq.I(a,K2,qZ,c)};
YNa=function(a,b){var c=b.Xc(null);c=$APP.m(c)?gZ(a,b.a,w2):c;if($APP.m(c)&&(c=$APP.qh(mY(a,E1,b.a,b.v,null,null)),null!=c))throw $APP.Fp.h(["Cannot add ",$APP.yl.l($APP.F([b]))," because of unique constraint: ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,gOa,F2,b.a,hOa,b],null));c=qY(a,b.a);if($APP.m(b.Xc(null)))return a=$APP.Eq.P(a,$APP.K1,CX,b,gY),a=$APP.Eq.P(a,W1,CX,b,hY),c=c?$APP.Eq.P(a,E1,CX,b,iY):a,b=qZ(c,b.e),$APP.K.j(b,v2,$APP.Cl.g(0));b=lY(a,new $APP.H(null,3,5,$APP.I,[b.e,
b.a,b.v],null));if(null==b)return a;a=$APP.Eq.P(a,$APP.K1,DX,b,gY);a=$APP.Eq.P(a,W1,DX,b,hY);b=c?$APP.Eq.P(a,E1,DX,b,iY):a;return $APP.K.j(b,v2,$APP.Cl.g(0))};ika=function(a,b,c,d,e){return $APP.yf(function(h,l,p){var t=$APP.gf.h(h,l);$APP.m(t)||(t=P2.g($APP.x(mY(c,$APP.K1,d,l,null,null))),t=$APP.m(t)?t:$APP.uf($APP.Qq.h($APP.ie(C2.g($APP.gf.h(tY(c),l))),null)));p=$APP.K.j(t,p,e);return $APP.K.j(h,l,p)},a,b)};
sZ=function(a,b){var c=K2.g(a),d=Q2.g(b);a=$APP.Eq.I($APP.K.j(a,K2,YNa(c,b)),L2,$APP.Cg,b);if(TNa(c,d)){var e=$APP.EK.g(b);b=$APP.m($APP.KX(b))?P2.g(b):null;var h=$APP.gf.h(R2.g(a),e);h=$APP.m(h)?h:$APP.uh;d=$APP.gf.h(uY(c,aOa),d);c=ika(h,d,c,e,b);return $APP.Eq.P(a,R2,$APP.K,e,c)}return a};
tZ=function(a){if(a instanceof $APP.k)return $APP.B.h("_",$APP.C.h($APP.sk(a),0));if("string"===typeof a)return $APP.Ta($APP.Ek(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Fp.h(["Bad attribute type: ",$APP.yl.l($APP.F([a])),", expected keyword or string"].join(""),new $APP.g(null,2,[$APP.xJ,S2,F2,a],null));};
uZ=function(a){if(a instanceof $APP.k)return tZ(a)?$APP.Xk.h($APP.Jg(a),$APP.Ik.h($APP.sk(a),1)):$APP.Xk.h($APP.Jg(a),["_",$APP.sk(a)].join(""));if("string"===typeof a){var b=$APP.Ek(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.C.j(b,0,null);a=$APP.C.j(b,1,null);b=$APP.C.j(b,2,null);return $APP.B.h("_",$APP.C.h(b,0))?$APP.m(a)?[$APP.n.g(a),"/",$APP.Ik.h(b,1)].join(""):$APP.Ik.h(b,1):$APP.m(a)?[$APP.n.g(a),"/_",$APP.n.g(b)].join(""):["_",$APP.n.g(b)].join("")}throw $APP.Fp.h(["Bad attribute type: ",$APP.yl.l($APP.F([a])),
", expected keyword or string"].join(""),new $APP.g(null,2,[$APP.xJ,S2,F2,a],null));};
jka=function(a,b){function c(e,h){return $APP.sf.j(function(l,p){var t=$APP.EK.g($APP.x(mY(a,E1,e,p,null,null)));return null==t?$APP.Eq.I(l,0,$APP.Cg,p):$APP.Eq.P(l,1,$APP.K,p,t)},new $APP.H(null,2,5,$APP.I,[$APP.qi,$APP.uh],null),h)}var d=$APP.qh(uY(a,x2));return null==d?new $APP.H(null,2,5,$APP.I,[b,null],null):$APP.yf(function(e,h,l){var p=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);if(!(h instanceof $APP.k||"string"===typeof h))throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([h]))," at ",
$APP.yl.l($APP.F([b])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,h,T2,b,$APP.xJ,S2],null));if(null==l)throw $APP.Fp.h(["Cannot store nil as a value at ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,3,[$APP.PJ,null,T2,b,$APP.xJ,S2],null));if($APP.jf(d,h)){if(hZ(a,h)&&(PW(l)||$APP.Fe(l)&&!$APP.Le(l))){var t=c(h,l);l=$APP.C.j(t,0,null);t=$APP.C.j(t,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.Ee(l)?p:$APP.K.j(p,h,l),$APP.Ee(t)?e:$APP.K.j(e,h,t)],null)}t=$APP.EK.g($APP.x(mY(a,
E1,h,l,null,null)));return null==t?new $APP.H(null,2,5,$APP.I,[$APP.K.j(p,h,l),e],null):new $APP.H(null,2,5,$APP.I,[p,$APP.K.j(e,h,$APP.hj([l,t]))],null)}return new $APP.H(null,2,5,$APP.I,[$APP.K.j(p,h,l),e],null)},new $APP.H(null,2,5,$APP.I,[$APP.uh,$APP.uh],null),b)};
kka=function(a,b){var c=$APP.yf(function(l,p,t){return $APP.yf(function(A,y,D){return $APP.K.j(A,D,new $APP.H(null,2,5,$APP.I,[p,y],null))},l,t)},$APP.uh,b);if(2<=$APP.ie(c)){b=$APP.x(c);a=$APP.C.j(b,0,null);var d=$APP.C.j(b,1,null);b=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);var e=$APP.ne(c);c=$APP.C.j(e,0,null);var h=$APP.C.j(e,1,null);e=$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);throw $APP.Fp.h(["Conflicting upserts: ",$APP.yl.l($APP.F([new $APP.H(null,2,5,$APP.I,[b,d],null)]))," resolves to ",$APP.yl.l($APP.F([a])),
", but ",$APP.yl.l($APP.F([new $APP.H(null,2,5,$APP.I,[e,h],null)]))," resolves to ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,lOa,mOa,new $APP.H(null,3,5,$APP.I,[a,b,d],null),nOa,new $APP.H(null,3,5,$APP.I,[c,e,h],null)],null));}d=$APP.x(c);b=$APP.C.j(d,0,null);c=$APP.C.j(d,1,null);d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);a=U2.g(a);if(null!=b&&null!=a&&!pZ(a)&&$APP.ik.h(b,a))throw $APP.Fp.h(["Conflicting upsert: ",$APP.yl.l($APP.F([new $APP.H(null,2,5,$APP.I,[d,c],null)]))," resolves to ",
$APP.yl.l($APP.F([b])),", but entity already has :db/id ",$APP.yl.l($APP.F([a]))].join(""),new $APP.g(null,3,[$APP.xJ,lOa,mOa,new $APP.H(null,3,5,$APP.I,[b,d,c],null),nOa,new $APP.g(null,1,[U2,a],null)],null));return b};lka=function(a,b,c){return tZ(b)||hZ(a,b)?PW(c)||$APP.Fe(c)&&!$APP.Le(c)?$APP.B.h($APP.ie(c),2)&&gZ(a,$APP.x(c),x2)?new $APP.H(null,1,5,$APP.I,[c],null):c:new $APP.H(null,1,5,$APP.I,[c],null):new $APP.H(null,1,5,$APP.I,[c],null)};
yZ=function(a,b){var c=U2.g(b),d=$APP.nh.h($APP.S,$APP.sf.j(function(e,h){var l=$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);return $APP.Eq.I(e,SNa(a,l)?1:0,$APP.Cg,new $APP.H(null,2,5,$APP.I,[l,h],null))},new $APP.H(null,2,5,$APP.I,[$APP.qi,$APP.qi],null),b));return function l(h){return new $APP.Rg(null,function(){for(var p=h;;){var t=$APP.u(p);if(t){var A=t,y=$APP.x(A),D=$APP.C.j(y,0,null),v=$APP.C.j(y,1,null);if($APP.ik.h(D,U2)){var J=function(){var Z=D;if(Z instanceof $APP.k||"string"===typeof Z)return null;
var na=$APP.hj([U2,c,D,v]);throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([Z]))," at ",$APP.yl.l($APP.F([na])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,Z,T2,na,$APP.xJ,S2],null));}(),P=tZ(D),W=P?uZ(D):D;if(P&&!YY(a,W))throw $APP.Fp.h(["Bad attribute ",$APP.yl.l($APP.F([D])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.g(null,3,[$APP.xJ,S2,F2,D,T2,$APP.hj([U2,c,D,v])],null));if(t=$APP.u(function(Z,na,pa,sa,Ba,za,ra,w,
E,T,X,Y){return function va(ua){return new $APP.Rg(null,function(Fa,Ha,Ka,Na,Za,cb,fb,ab,ob,ub,yb){return function(){for(;;){var Kb=$APP.u(ua);if(Kb){if($APP.Oe(Kb)){var Nb=$APP.dd(Kb),Zb=$APP.ie(Nb),pc=$APP.Ug(Zb);a:for(var ld=0;;)if(ld<Zb){var bc=$APP.ve(Nb,ld);$APP.Yg(pc,YY(a,Na)&&$APP.Le(bc)?$APP.K.j(bc,uZ(fb),yb):Ka?new $APP.H(null,4,5,$APP.I,[V2,bc,Na,yb],null):new $APP.H(null,4,5,$APP.I,[V2,yb,Na,bc],null));ld+=1}else{Nb=!0;break a}return Nb?$APP.Xg($APP.Zg(pc),va($APP.fd(Kb))):$APP.Xg($APP.Zg(pc),
null)}pc=$APP.x(Kb);return $APP.Fg(YY(a,Na)&&$APP.Le(pc)?$APP.K.j(pc,uZ(fb),yb):Ka?new $APP.H(null,4,5,$APP.I,[V2,pc,Na,yb],null):new $APP.H(null,4,5,$APP.I,[V2,yb,Na,pc],null),va($APP.Jd(Kb)))}return null}}}(Z,na,pa,sa,Ba,za,ra,w,E,T,X,Y),null,null)}}(p,J,P,W,null,y,D,v,A,t,c,d)(lka(a,D,v))))return $APP.S.h(t,l($APP.Jd(p)))}p=$APP.Jd(p)}else return null}},null,null)}(d)};
AZ=function(a,b){$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null),h=$APP.C.j(b,4,null);if(!(d instanceof $APP.k||"string"===typeof d))throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([d]))," at ",$APP.yl.l($APP.F([b])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,d,T2,b,$APP.xJ,S2],null));if(null==e)throw $APP.Fp.h(["Cannot store nil as a value at ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,3,[$APP.PJ,null,T2,b,$APP.xJ,S2],null));
b=$APP.m(h)?h:mZ(a);h=K2.g(a);c=ZY(h,c);e=YY(h,d)?ZY(h,e):e;var l=VX.I(c,d,e,b);h=hZ(h,d)?lY(h,new $APP.H(null,3,5,$APP.I,[c,d,e],null)):lY(h,new $APP.H(null,2,5,$APP.I,[c,d],null));return null==h?sZ(a,l):$APP.B.h(h.v,e)?$APP.Eq.I(a,W2,zZ,l):sZ(sZ(a,VX.P(c,d,h.v,b,!1)),l)};BZ=function(a,b){var c=mZ(a);return sZ(a,VX.P(b.e,b.a,b.v,c,!1))};
CZ=function(a,b){return $APP.In.j($APP.mk,$APP.Pt.h($APP.ji.g(function(c){return O2(a,c.a)}),$APP.Wk.g(function(c){return new $APP.H(null,2,5,$APP.I,[oOa,c.v],null)})),b)};
EZ=function(a,b,c,d,e){if($APP.jf(M2.g(a),d))throw $APP.Fp.h(["Conflicting upsert: ",$APP.yl.l($APP.F([d]))," resolves both to ",$APP.yl.l($APP.F([e]))," and ",$APP.yl.l($APP.F([$APP.vp.h(a,new $APP.H(null,2,5,$APP.I,[M2,d],null))]))].join(""),new $APP.g(null,1,[$APP.xJ,lOa],null));b=$APP.K.j(M2.g(b),d,e);a=$APP.K.j(a,M2,b);return DZ(a,c)};
mka=function(a){var b=K2.g(a);tY(b);uY(b,aOa);return $APP.yf(function(c,d,e){return $APP.yf(function(h,l,p){p=$APP.Kh($APP.mb,p)?null:p;var t=P2.g($APP.x(mY(b,$APP.K1,d,l,null,null)));return $APP.B.h(p,t)?h:null==p?$APP.Cg.h(h,$APP.Ae(new $APP.H(null,4,5,$APP.I,[X2,d,l,t],null),new $APP.g(null,1,[sOa,!0],null))):$APP.Cg.h(h,$APP.Ae(new $APP.H(null,4,5,$APP.I,[V2,d,l,p],null),new $APP.g(null,1,[sOa,!0],null)))},c,e)},$APP.qi,R2.g(a))};
nka=function(a){var b=Y2.g(a);if($APP.m(b)){var c=$APP.Tc(b);b=function(d,e){return $APP.m($APP.KX(e))?$APP.iA.h(d,$APP.EK.g(e)):d};c=$APP.sf.j(b,c,L2.g(a));b=$APP.sf.j(b,c,W2.g(a));if(0===$APP.ie(b))return $APP.cp.l(a,Y2,$APP.F([W2]));throw $APP.Fp.h(["Tempids used only as value in transaction: ",$APP.yl.l($APP.F([$APP.Iz.g($APP.hk($APP.Vc(b)))]))].join(""),new $APP.g(null,2,[$APP.xJ,S2,M2,b],null));}return $APP.cp.l(a,Y2,$APP.F([W2]))};
KZ=function(a,b){b="number"===typeof b||$APP.Je(b)||b instanceof $APP.k?kZ(a,b):null;if($APP.m(b)&&UNa(a,b)){var c=$APP.Wh(!1),d=$APP.Wh($APP.uh);return JZ.I?JZ.I(a,b,c,d):JZ.call(null,a,b,c,d)}return null};LZ=function(a,b,c){return hZ(a,b)?YY(a,b)?$APP.sf.j(function(d,e){return $APP.Cg.h(d,KZ(a,P2.g(e)))},$APP.mk,c):$APP.sf.j(function(d,e){return $APP.Cg.h(d,P2.g(e))},$APP.mk,c):YY(a,b)?KZ(a,P2.g($APP.x(c))):P2.g($APP.x(c))};
MZ=function(a,b,c,d){b=$APP.qh(kY(a,new $APP.H(null,3,5,$APP.I,[null,c,b],null)));return $APP.m(b)?O2(a,c)?KZ(a,$APP.EK.g($APP.x(b))):$APP.sf.j(function(e,h){return $APP.Cg.h(e,KZ(a,$APP.EK.g(h)))},$APP.mk,b):d};NZ=function(a){return $APP.m(a)?$APP.tf(a):null};
PZ=function(a){OZ.g?OZ.g(a):OZ.call(null,a);return function d(c){return new $APP.Rg(null,function(){for(;;){var e=$APP.u(c);if(e){if($APP.Oe(e)){var h=$APP.dd(e),l=$APP.ie(h),p=$APP.Ug(l);a:for(var t=0;;)if(t<l){var A=$APP.ve(h,t),y=$APP.C.j(A,0,null);A=$APP.C.j(A,1,null);$APP.Yg(p,hZ(a.db,y)?new $APP.H(null,2,5,$APP.I,[y,NZ(A)],null):new $APP.H(null,2,5,$APP.I,[y,A],null));t+=1}else{h=!0;break a}return h?$APP.Xg($APP.Zg(p),d($APP.fd(e))):$APP.Xg($APP.Zg(p),null)}h=$APP.x(e);p=$APP.C.j(h,0,null);
h=$APP.C.j(h,1,null);return $APP.Fg(hZ(a.db,p)?new $APP.H(null,2,5,$APP.I,[p,NZ(h)],null):new $APP.H(null,2,5,$APP.I,[p,h],null),d($APP.Jd(e)))}return null}},null,null)}($APP.q(a.cache))};QZ=function(a,b,c,d){this.db=a;this.eid=b;this.sh=c;this.cache=d;this.J=2162164483;this.N=0};JZ=function(a,b,c,d){return new QZ(a,b,c,d)};RZ=function(a,b){return b instanceof QZ&&a.db===b.db&&$APP.B.h(a.eid,b.eid)};dOa=function(a){return IX($APP.zd(a.eid),$APP.fa(a.db))};
UZ=function(a){switch(arguments.length){case 2:return SZ(arguments[0],arguments[1]);case 3:return TZ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};SZ=function(a,b){return TZ(a,b,null)};
TZ=function(a,b,c){if($APP.B.h(b,U2))return a.eid;if(tZ(b))return MZ(a.db,a.eid,uZ(b),c);var d=$APP.q(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.m($APP.q(a.sh)))return c;d=$APP.qh(kY(a.db,new $APP.H(null,2,5,$APP.I,[a.eid,b],null)));if(null==d)return c;c=LZ(a.db,b,d);$APP.Xh(a.cache,$APP.K.j($APP.q(a.cache),b,c));return c}return d};oka=function(a,b){return $APP.yf(function(c,d,e){return $APP.K.j(c,d,O2(a,d)?hZ(a,d)?$APP.qk($APP.Wk.h(OZ,e)):OZ.g?OZ.g(e):OZ.call(null,e):e)},$APP.uh,b)};
pka=function(a,b){return $APP.sf.j(function(c,d){var e=Q2.g($APP.x(d));return $APP.K.j(c,e,LZ(a,e,d))},$APP.uh,$APP.NA.h(Q2,b))};OZ=function(a){if(null!=a){if(!$APP.m($APP.q(a.sh))){var b=$APP.qh(kY(a.db,new $APP.H(null,1,5,$APP.I,[a.eid],null)));$APP.m(b)&&($APP.Xh(a.cache,oka(a.db,pka(a.db,b))),$APP.md(a.sh,!0))}return a}return null};VZ=function(a){return $APP.sf.j($APP.Mz,0,a)};WZ=function(a){return VZ(a)/$APP.ie(a)};
XZ=function(a){var b=WZ(a);return VZ(function(){return function e(d){return new $APP.Rg(null,function(){for(;;){var h=$APP.u(d);if(h){if($APP.Oe(h)){var l=$APP.dd(h),p=$APP.ie(l),t=$APP.Ug(p);a:for(var A=0;;)if(A<p){var y=$APP.ve(l,A)-b;t.add(y*y);A+=1}else{l=!0;break a}return l?$APP.Xg($APP.Zg(t),e($APP.fd(h))):$APP.Xg($APP.Zg(t),null)}t=$APP.x(h)-b;return $APP.Fg(t*t,e($APP.Jd(h)))}return null}},null,null)}(a)}())/$APP.ie(a)};
YZ=function(a,b,c,d,e,h,l,p,t,A,y,D,v,J,P){this.as=a;this.tc=b;this.nb=c;this.name=d;this.pattern=e;this.Zb=h;this.za=l;this.dc=p;this.pb=t;this.Xb=A;this.$b=y;this.Vb=D;this.B=v;this.o=J;this.D=P;this.J=2230716170;this.N=139264};e_=function(a){var b=$APP.cp.l(a,$APP.wr,$APP.F([$APP.Un,w3,$APP.N,x3,y3,z3,A3,C3,D3,E3,F3]));b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new YZ($APP.wr.g(a),$APP.Un.g(a),w3.g(a),$APP.N.g(a),x3.g(a),y3.g(a),z3.g(a),A3.g(a),C3.g(a),D3.g(a),E3.g(a),F3.g(a),null,$APP.qh(b),null)};
f_=function(a,b,c,d,e,h,l,p){this.oa=a;this.Pc=b;this.$c=c;this.Kc=d;this.ic=e;this.B=h;this.o=l;this.D=p;this.J=2230716170;this.N=139264};h_=function(a){var b=$APP.cp.l(a,G3,$APP.F([H3,K3,P3,p4]));b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new f_(G3.g(a),H3.g(a),K3.g(a),P3.g(a),p4.g(a),null,$APP.qh(b),null)};j_=function(a,b,c){if($APP.m(a))return null;throw $APP.Fp.h(["Expected ",$APP.n.g(b),", got: ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,2,[$APP.xJ,tOa,t4,c],null));};
l_=function(a,b){var c=tZ(b),d=c?uZ(b):b,e=YY(a,d),h=O2(a,d);a=hZ(a,d);if(c){j_(e,"reverse attribute having :db.type/ref",b);var l=!0}else l=null;return e_($APP.Oj([C3,w3,A3,$APP.N,$APP.wr,F3,E3,D3,x3],[$APP.zf,a?1E3:null,l,d,b,h?!0:null,e?!0:null,a?!0:null,e?c?k_:h?qka:k_:null]))};m_=function(a,b,c){j_("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);j_(hZ(a,$APP.N.g(b)),"limit attribute having :db.cardinality/many",$APP.N.g(b))};
rka=function(a,b){var c=function(){var d=$APP.x(b);return n_.h?n_.h(a,d):n_.call(null,a,d)}();if(null==c)return null;j_($APP.Oh($APP.ie($APP.z(b))),"even number of opts",b);return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);switch(h instanceof $APP.k?h.T:null){case "as":return $APP.K.j(d,$APP.wr,e);case "limit":return m_(a,d,e),$APP.K.j(d,w3,e);case "default":return $APP.K.j(d,$APP.Un,e);case "xform":h=$APP.K.j;var l=$APP.ye(e)?e:null;if($APP.m(l))e=l;else if(l=$APP.gf.h(o_,
e),$APP.m(l))e=l;else throw $APP.Fp.h(["Can't resolve symbol ",$APP.yl.l($APP.F([e]))].join(""),new $APP.g(null,2,[$APP.xJ,tOa,t4,e],null));return h.call($APP.K,d,C3,e);default:return j_(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.ep.h(2,$APP.z(b)))};
n_=function(a,b){var c;!(c=b instanceof $APP.k)&&(c="string"===typeof b)&&(c=new $APP.lk(null,new $APP.g(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.qb(c));if(c)return l_(a,b);if($APP.Je(b)){c=rka(a,b);if($APP.m(c))return c;c=$APP.x(b);var d=new $APP.lk(null,new $APP.g(null,2,[$APP.Yja,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.m(c)?(j_($APP.B.h($APP.ie(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,
1,null),c=$APP.C.j(b,2,null),d=n_.h?n_.h(a,d):n_.call(null,a,d),m_(a,d,c),c=$APP.K.j(d,w3,c)):c=null;if($APP.m(c))return c;c=$APP.x(b);d=new $APP.lk(null,new $APP.g(null,2,[$APP.mK,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.m(c)?(j_($APP.B.h($APP.ie(b),3),"['default attr-name any-value]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),c=$APP.C.j(b,2,null),a=n_.h?n_.h(a,d):n_.call(null,a,d),a=$APP.K.j(a,$APP.Un,c)):a=null;return $APP.m(a)?a:j_(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};ska=function(a,b){return $APP.Mh(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.m(a.g?a.g(d):a.call(null,d))?c:null},$APP.Wk.j($APP.Tt,b,$APP.kr.F()))};p_=function(a,b){var c=$APP.m(A3.g(b))?P3:G3,d=ska(function(e){return $APP.B.h($APP.wr.g(e),$APP.wr.g(b))},$APP.gf.h(a,c));return null==d?$APP.Eq.I(a,c,$APP.Cg,b):$APP.Eq.P(a,c,$APP.K,d,b)};
r_=function(a,b){j_($APP.Je(b),"pattern to be sequential?",b);for(var c=h_(new $APP.g(null,3,[G3,$APP.qi,P3,$APP.qi,p4,null],null));;){if($APP.Ee(b)){var d=c.oa,e=function(){return function(p){p=p.name;var t=new $APP.lk(null,new $APP.g(null,2,[U2,null,":db/id",null],null),null);return t.g?t.g(p):t.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.N.g(p);return p instanceof $APP.k?p:$APP.B.h(":",$APP.Ik.j(p,0,1))?$APP.Xk.g($APP.Ik.h(p,1)):$APP.Xk.g(p)}}(b,c,d,e);d=$APP.m(function(){var p=
c.ic;return $APP.m(p)?$APP.qb($APP.Mh(e,c.oa)):p}())?$APP.Cg.h(d,q_):d;d=$APP.Ut.g($APP.Jz.h(b,d));var h=$APP.Rq.h(e,d),l=$APP.x(h);h=$APP.te(h);return h_(new $APP.g(null,5,[G3,d,H3,l,K3,h,P3,$APP.Ut.g($APP.Jz.h(b,c.Kc)),p4,c.ic],null))}l=$APP.x(b);if($APP.B.h($APP.sI,l)||$APP.B.h("*",l)||$APP.B.h(uOa,l))b=$APP.z(b),c=d=$APP.K.j(c,p4,!0);else if($APP.Le(l))d=$APP.yf(function(){return function(p,t,A){var y=n_(a,t);j_(null!=y,"attr-name | attr-expr",t);j_(YY(a,$APP.N.g(y)),"attribute having :db.type/ref",
t);$APP.B.h(vOa,A)||$APP.B.h("...",A)?t=$APP.K.l(y,x3,null,$APP.F([z3,!0,y3,null])):"number"===typeof A?(j_(0<A,"(positive-num | ...)",$APP.hj([t,A])),t=$APP.K.l(y,x3,null,$APP.F([z3,!0,y3,A]))):t=$APP.K.j(y,x3,r_.h?r_.h(a,A):r_.call(null,a,A));return p_(p,t)}}(b,c,l),c,l),b=$APP.z(b),c=d;else{d=n_(a,l);if(null==d)return j_(!1,"attr-name | attr-expr | map-spec | *",l);b=$APP.z(b);c=d=p_(c,d)}}};s_=function(a){return null==a?null:$APP.Sb(a)};t_=function(a){return null==a?null:$APP.Vb(a)};
u_=function(a,b){return null==a?new $APP.G(null,b,null,1,null):$APP.Pb(a,b)};v_=function(a,b,c,d,e){this.db=a;this.Vd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};w_=function(a,b,c,d,e){a=a.Vd;null==a||(a.I?a.I(b,c,d,e):a.call(null,b,c,d,e))};x_=function(a,b){if(null!=a&&null!=a.lg)a=a.lg(a,b);else{var c=x_[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=x_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IFrame.-merge",a);}return a};
y_=function(a,b){if(null!=a&&null!=a.tf)a=a.tf(a,b);else{var c=y_[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=y_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IFrame.-run",a);}return a};z_=function(a,b,c,d,e){this.value=a;this.ua=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};A_=function(a,b,c,d,e,h){this.ka=a;this.ga=b;this.ua=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};
B_=function(a,b,c,d,e,h,l,p,t){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.ua=h;this.B=l;this.o=p;this.D=t;this.J=2230716170;this.N=139264};C_=function(a,b,c,d,e,h,l,p,t,A,y){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.oa=h;this.ua=l;this.id=p;this.B=t;this.o=A;this.D=y;this.J=2230716170;this.N=139264};D_=function(a,b,c,d,e,h,l,p,t,A){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.oa=h;this.id=l;this.B=p;this.o=t;this.D=A;this.J=2230716170;this.N=139264};
E_=function(a,b,c,d,e,h,l){return new D_(a,b,c,d,e,h,l,null,null,null)};
G_=function(a,b,c,d,e,h){var l=e.za;$APP.m(l)||(l=e.Vb,l=$APP.m(l)?e.pattern.ic:l);if($APP.qb(l))return d=e.pattern,F_.P?F_.P(a,b,c,d,h):F_.call(null,a,b,c,d,h);if($APP.m(b.g?b.g(h):b.call(null,h)))return new z_(new $APP.g(null,1,[U2,h],null),null,null,null,null);l=c.g?c.g(e):c.call(null,e);if($APP.m($APP.m(l)?0>=l:l))return new z_(null,null,null,null,null);b=$APP.Cg.h(b,h);c=$APP.m(l)?$APP.Eq.j(c,e,$APP.Af):$APP.m(e.Zb)?$APP.K.j(c,e,e.Zb-1):c;d=$APP.m(e.za)?d:e.pattern;return F_.P?F_.P(a,b,c,d,h):
F_.call(null,a,b,c,d,h)};
F_=function(a,b,c,d,e){var h=a.db,l=$APP.m(function(){var p=d.ic;return $APP.m(p)?h instanceof $APP.vY:p}())?EX(h.Lb,VX.I(e,null,null,536870912),VX.I(e,null,null,2147483647)):$APP.m(d.ic)?kY(h,new $APP.H(null,1,5,$APP.I,[e],null)):null==d.Pc?null:function(){var p=d.Pc.name,t=d.$c.name;return h instanceof $APP.vY?EX(h.Lb,VX.I(e,p,null,536870912),VX.I(e,t,null,2147483647)):nY(h,$APP.K1,e,null,null,null)}();$APP.m(d.ic)&&w_(a,wOa,e,null,null);return new C_(b,c,$APP.Tc($APP.uh),d,s_(d.oa),t_(d.oa),l,
e,null,null,null)};H_=function(a,b){var c=$APP.ph(a);a=$APP.gf.h(c,T2);c=$APP.gf.h(c,x3);b=kZ(a.db,b);if(null==b)return null;for(c=new $APP.G(null,F_(a,$APP.mk,$APP.uh,c,b),null,1,null);;){b=s_(c);var d=t_(c);if(b instanceof z_){if(null==d)return b.value;c=s_(d);d=t_(d);c=u_(d,x_(c,b))}else c=$APP.sf.j(u_,d,y_(b,a))}};I_=function(a,b,c){c=$APP.ph(c);c=$APP.gf.h(c,D4);return new $APP.g(null,2,[x3,MW(AY(a).nc,b,function(){return r_(a,b)}),T2,new v_(a,c,null,null,null)],null)};
F4=function(a,b){a=a.toString(16);var c=$APP.ie(a);return c>b?$APP.Ik.j(a,0,b):c<b?[$APP.n.g($APP.nh.h($APP.n,$APP.Qq.h(b-c,"0"))),$APP.n.g(a)].join(""):a};YOa=function(){};J4=function(a,b,c){if(null!=a&&null!=a.Gl)a=a.Gl(a,b,c);else{var d=J4[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=J4._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("IStorage.-store",a);}return a};
K4=function(a,b){if(null!=a&&null!=a.Bl)a=a.Bl(a,b);else{var c=K4[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=K4._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IStorage.-restore",a);}return a};iOa=function(a){return new $APP.H(null,4,5,$APP.I,[a.e,a.a,a.v,a.tx],null)};L4=function(a,b,c,d){this.storage=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};jOa=function(a){return new L4(a,null,null,null)};
N4=function(a){return $APP.m(a)?$APP.K1.g(a).storage:null};O4=function(a){a=N4(a);return null==a?null:r1.g(a)};
U4=function(a,b,c){$APP.Dl.j(kOa,$APP.Cg,a);var d=P4;P4=$APP.Wh($APP.Tc($APP.qi));try{var e=$APP.K1.g(a),h=W1.g(a),l=E1.g(a),p=e.$g(null,b),t=h.$g(null,b),A=l.$g(null,b),y=$APP.bp.l($APP.F([$APP.Oj([$APP.F1,$1,W1,xOa,E1,Z1,$APP.K1,yOa,zOa,AOa],[$APP.F1.g(a),$1.g(a),t,$APP.q(R4),A,Z1.g(a),p,new $APP.g(null,2,[$APP.qJ,h.O,LNa,h.shift],null),new $APP.g(null,2,[$APP.qJ,l.O,LNa,l.shift],null),new $APP.g(null,2,[$APP.qJ,e.O,LNa,e.shift],null)]),DNa($APP.K1.g(a))]));if($APP.m($APP.m(c)?c:0<$APP.ie($APP.q(P4)))){$APP.md(P4,
$APP.pi.h($APP.q(P4),new $APP.H(null,2,5,$APP.I,[0,y],null)));$APP.md(P4,$APP.pi.h($APP.q(P4),new $APP.H(null,2,5,$APP.I,[1,$APP.qi],null)));var D=r1.g(b),v=$APP.IA.g($APP.gf.h($APP.q(bPa),D));$APP.Dl.I(bPa,$APP.K,D,null);J4(D,$APP.Vc($APP.q(P4)),v)}return a}finally{P4=d}};pOa=function(a,b){return J4(O4(a),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[1,$APP.lq.h(function(c){return $APP.lq.h(iOa,c)},b)],null)],null),null)};
qOa=function(a,b){var c=K4(a,0);if(null==c)return null;var d=K4(a,1),e=$APP.ph(c),h=$APP.gf.h(e,zOa),l=$APP.gf.h(e,AOa),p=$APP.gf.h(e,$APP.F1),t=$APP.gf.h(e,$1),A=$APP.gf.h(e,W1),y=$APP.gf.h(e,xOa),D=$APP.gf.h(e,E1),v=$APP.gf.h(e,Z1),J=$APP.gf.h(e,$APP.K1);e=$APP.gf.h(e,yOa);R4.Mc(null,function(){var P=R4.Oa(null);return P>y?P:y}());b=$APP.bp.l($APP.F([c,b]));a=jOa(a,b);h=X4(new $APP.g(null,6,[$APP.F1,p,$APP.K1,ANa(bY,J,a,$APP.K.j(b,KNa,l)),W1,ANa(cY,A,a,$APP.K.j(b,KNa,e)),E1,ANa(dY,D,a,$APP.K.j(b,
KNa,h)),Z1,v,$1,t],null));$APP.Dl.j(kOa,$APP.Cg,h);return new $APP.H(null,2,5,$APP.I,[h,$APP.lq.h(function(P){return $APP.lq.h(function(W){var Z=$APP.C.j(W,0,null),na=$APP.C.j(W,1,null),pa=$APP.C.j(W,2,null);W=$APP.C.j(W,3,null);return VX.I(Z,na,pa,W)},P)},d)],null)};rOa=function(a,b){return $APP.sf.j(function(c,d){return $APP.sf.j(YNa,c,d)},a,b)};J_=function(a,b){return $APP.nb(a)?a[b]:$APP.C.h(a,b)};K_=function(a,b){return $APP.Le(a)?a.g?a.g(b):a.call(null,b):a[b]};
L_=function(a,b){var c=Array($APP.ie(b));$APP.sf.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};M_=function(a,b){var c=Array($APP.ie(b));$APP.sf.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};uka=function(a,b){return null==b.a?-1:0>=$APP.mf(a.a,b.a)?-1:1};
vka=function(a){if($APP.Ee(W1.g(a)))return $APP.qi;for(var b=$APP.Tc(new $APP.H(null,1,5,$APP.I,[Q2.g($APP.x(W1.g(a)))],null));;){var c=$APP.C.h(b,$APP.ie(b)-1),d=VX.j(0,c,null),e=VX.j(2147483647,null,null);c=Q2;var h=c.g,l=W1.g(a);d=zX(l,d,e,uka);c=h.call(c,$APP.x(d));if(null!=c)b=$APP.pi.h(b,c);else return $APP.Vc(b)}};wka=function(a){return $APP.tb(a,":")?$APP.Xk.g($APP.Ik.h(a,1)):a};
N_=function(a,b){b=$APP.ph(b);var c=$APP.gf.j(b,BOa,$APP.yl),d=$APP.gf.j(b,COa,$APP.n);if($APP.m(O4(a)))throw $APP.Fp.h("serializable doesn't work with databases that have :storage",$APP.uh);var e=vka(a),h=$APP.In.h($APP.uh,$APP.Wk.j($APP.Tt,e,$APP.kr.F())),l=$APP.Wh($APP.Tc($APP.qi)),p=$APP.Wh($APP.Tc($APP.uh));b=M_(function(D,v){v.idx=D|0;D=v.e;var J=v.a;J=h.g?h.g(J):h.call(null,J);var P=v.v;if("string"!==typeof P)if("number"===typeof P)P=Infinity===P?[2]:-Infinity===P?[3]:$APP.m(isNaN(P))?[4]:
P;else if(!$APP.Ue(P))if(P instanceof $APP.k){var W=$APP.gf.h($APP.q(p),P);$APP.m(W)?P=W:(W=l.Mc(null,$APP.pi.h(l.Oa(null),P)),W=$APP.ie(W)-1,p.Mc(null,$APP.kj.j(p.Oa(null),P,W)),P=W);P=[0,P]}else P=[1,c.g?c.g(P):c.call(null,P)];return[D,J,P,v.tx-536870912]},$APP.K1.g(a));var t=M_(function(D,v){return v.idx},W1.g(a)),A=M_(function(D,v){return v.idx},E1.g(a)),y=function(){var D=$APP.F1.g(a);return c.g?c.g(D):c.call(null,D)}();e=L_(d,e);d=L_(d,$APP.Vc($APP.q(l)));return{count:$APP.ie($APP.K1.g(a)),
tx0:536870912,"max-eid":Z1.g(a),"max-tx":$1.g(a),schema:y,attrs:e,keywords:d,eavt:b,aevt:t,avet:A}};O_=function(){};P_=function(a,b,c){if(null!=a&&null!=a.lb)a=a.lb(a,b,c);else{var d=P_[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P_._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("ITraversable.-collect",a);}return a};
Q_=function(a,b){if(null!=a&&null!=a.mb)a=a.mb(a,b);else{var c=Q_[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Q_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("ITraversable.-collect-vars",a);}return a};R_=function(a,b){return $APP.Je(a)&&$APP.B.h($APP.ie(a),b)};S_=function(a,b){return $APP.Je(b)?$APP.sf.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.m(d)?$APP.Cg.h(c,d):$APP.Wd(null)},$APP.qi,b):null};U_=function(a,b){return T_(a,b,$APP.qi)};
T_=function(a,b,c){return $APP.m(a.g?a.g(b):a.call(null,b))?$APP.Cg.h(c,b):(null!=b?$APP.yd===b.kb||(b.td?0:$APP.xb(O_,b)):$APP.xb(O_,b))?P_(b,a,c):HX(b)?$APP.sf.j(function(d,e){return T_(a,e,d)},c,b):c};V_=function(a){var b=$APP.Ee(a);return b?b:$APP.nh.h($APP.Gw,a)};W_=function(a,b){return $APP.Ae(a,new $APP.g(null,1,[$APP.Hm,b],null))};X_=function(a){var b=$APP.Hm.g($APP.Be(a));return $APP.m(b)?b:a};Y_=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};
Z_=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};$_=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};a0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};b0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};c0=function(a,b,c,d){this.value=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};
d0=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};f0=function(a){return a instanceof $APP.r&&$APP.B.h($APP.x($APP.sk(a)),"?")?new Z_(a,null,null,null):null};g0=function(a){var b=f0(a);if($APP.m(b))return b;throw $APP.Fp.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.yl.l($APP.F([a]))].join(""),new $APP.g(null,2,[$APP.xJ,DOa,$APP.RC,a],null));};
h0=function(a){return a instanceof $APP.r&&$APP.B.h($APP.x($APP.sk(a)),"$")?new $_(a,null,null,null):null};j0=function(a){return a instanceof $APP.r&&$APP.B.h($APP.x($APP.sk(a)),"?")?null:new c0(a,null,null,null)};k0=function(a){return a instanceof $APP.r&&$APP.qb(f0(a))&&$APP.qb(h0(a))&&$APP.qb($APP.B.h($APP.rI,a)?new b0(null,null,null):null)&&$APP.qb($APP.B.h($APP.LI,a)?new Y_(null,null,null):null)?new d0(a,null,null,null):null};l0=function(a){return $APP.m(k0(a))?new Z_(a,null,null,null):null};
m0=function(a){var b=f0(a);if($APP.m(b))return b;b=h0(a);return $APP.m(b)?b:j0(a)};n0=function(a,b,c,d,e){this.required=a;this.wd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
o0=function(a){if($APP.Je(a)){var b=$APP.Je($APP.x(a))?new $APP.H(null,2,5,$APP.I,[$APP.x(a),$APP.z(a)],null):new $APP.H(null,2,5,$APP.I,[null,a],null),c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=S_(g0,c);b=S_(g0,b);if($APP.Ee(c)&&$APP.Ee(b))throw $APP.Fp.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.g(null,2,[$APP.xJ,EOa,$APP.RC,a],null));if(!$APP.m(V_($APP.S.h(c,b))))throw $APP.Fp.h("Rule variables should be distinct",new $APP.g(null,2,[$APP.xJ,EOa,$APP.RC,
a],null));return new n0(c,b,null,null,null)}throw $APP.Fp.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.g(null,2,[$APP.xJ,EOa,$APP.RC,a],null));};q0=function(a){return $APP.S.h($APP.m($APP.gP.g(a))?new $APP.H(null,1,5,$APP.I,[$APP.lq.h($APP.wn,$APP.gP.g(a))],null):null,$APP.lq.h($APP.wn,h1.g(a)))};r0=function(a){return new $APP.H(null,2,5,$APP.I,[$APP.ie($APP.gP.g(a)),$APP.ie(h1.g(a))],null)};
s0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};t0=function(a,b,c,d){this.Hb=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};u0=function(a,b,c,d){this.kc=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};v0=function(a,b,c,d){this.binding=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};w0=function(a){return $APP.B.h($APP.LI,a)?W_(new s0(null,null,null),a):null};
yka=function(a){var b=w0(a);return $APP.m(b)?b:x0.g?x0.g(a):x0.call(null,a)};y0=function(a){var b=S_(yka,a);if($APP.m(b)){if($APP.Ee(b))throw $APP.Fp.h("Tuple binding cannot be empty",new $APP.g(null,2,[$APP.xJ,FOa,$APP.RC,a],null));return W_(new u0(b,null,null,null),a)}return null};
x0=function(a){a:{if(R_(a,2)&&$APP.B.h($APP.ne(a),vOa)){var b=$APP.x(a);b=x0.g?x0.g(b):x0.call(null,b);if($APP.m(b)){b=W_(new v0(b,null,null,null),a);break a}throw $APP.Fp.h("Cannot parse collection binding",new $APP.g(null,2,[$APP.xJ,FOa,$APP.RC,a],null));}b=null}if($APP.m(b))return b;b=R_(a,1)&&$APP.Je($APP.x(a))?W_(new v0(y0($APP.x(a)),null,null,null),a):null;if($APP.m(b))return b;b=y0(a);if($APP.m(b))return b;b=w0(a);if($APP.m(b))return b;b=f0(a);b=$APP.m(b)?W_(new t0(b,null,null,null),a):null;
if($APP.m(b))return b;throw $APP.Fp.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.g(null,2,[$APP.xJ,FOa,$APP.RC,a],null));};z0=function(a){if(null!=a&&null!=a.kg)a=a.kg(a);else{var b=z0[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=z0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IFindVars.-find-vars",a);}return a};A0=function(a,b,c,d,e){this.ha=a;this.xa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
B0=function(a,b,c,d,e,h){this.source=a;this.Hb=b;this.pattern=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};C0=function(a){if(null!=a&&null!=a.sf)a=a.sf(a);else{var b=C0[$APP.ca(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=C0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Ab("IFindElements.find-elements",a);}return a};D0=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};
E0=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};F0=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};G0=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};H0=function(a){return a instanceof A0};I0=function(a){return a instanceof B0};
K0=function(a){var b=f0(a);if($APP.m(b))return b;a:{if($APP.Je(a)&&$APP.B.h($APP.x(a),GOa)){if(3<=$APP.ie(a)&&4>=$APP.ie(a)){var c=(b=$APP.B.h($APP.ie(a),4))?$APP.C.h(a,1):HOa;b=b?$APP.se(a):$APP.z(a);var d=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=h0(c);d=f0(d);var e=f0(b);$APP.m(e)?b=e:(e=l0(b),b=$APP.m(e)?e:j0(b));if($APP.m($APP.m(c)?$APP.m(d)?b:d:c)){b=new B0(c,d,b,null,null,null);break a}}throw $APP.Fp.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.g(null,2,[$APP.xJ,IOa,t4,a],null));}b=null}if($APP.m(b))return b;a:{if($APP.Je(a)&&$APP.B.h($APP.x(a),JOa)){if(3<=$APP.ie(a)&&(b=$APP.u(a),$APP.x(b),c=$APP.z(b),b=$APP.x(c),c=$APP.z(c),b=f0(b),c=S_(m0,c),$APP.m($APP.m(b)?c:b))){b=new A0(b,c,null,null,null);break a}throw $APP.Fp.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.g(null,2,[$APP.xJ,IOa,t4,a],null));}b=null}$APP.m(b)?a=b:$APP.Je(a)&&2<=$APP.ie(a)?(b=$APP.u(a),a=$APP.x(b),b=$APP.z(b),a=k0(a),
b=S_(m0,b),a=$APP.m($APP.m(a)?b:a)?new A0(a,b,null,null,null):null):a=null;return a};
zka=function(a){var b=S_(K0,a);b=null==b?null:new D0(b,null,null,null);if($APP.m(b))return b;a:{if($APP.Je(a)&&$APP.B.h($APP.ie(a),1)&&(b=$APP.x(a),$APP.Je(b)&&$APP.B.h($APP.ie(b),2)&&$APP.B.h($APP.ne(b),vOa))){b=K0($APP.x(b));b=null==b?null:new E0(b,null,null,null);break a}b=null}if($APP.m(b))return b;$APP.Je(a)&&$APP.B.h($APP.ie(a),2)&&$APP.B.h($APP.ne(a),$APP.zm)?(b=K0($APP.x(a)),b=null==b?null:new F0(b,null,null,null)):b=null;if($APP.m(b))return b;$APP.Je(a)&&$APP.B.h($APP.ie(a),1)?(b=$APP.x(a),
b=S_(K0,b),b=null==b?null:new G0(b,null,null,null)):b=null;if($APP.m(b))return b;throw $APP.Fp.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.g(null,2,[$APP.xJ,IOa,t4,a],null));};L0=function(a,b,c,d,e){this.type=a;this.Ad=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
M0=function(a,b){if(!$APP.Ee(b)&&$APP.Kh($APP.Ad,b))switch(a instanceof $APP.k?a.T:null){case "keys":return new L0(a,$APP.lq.h($APP.Xk,b),null,null,null);case "syms":return new L0(a,$APP.uf(b),null,null,null);case "strs":return new L0(a,$APP.lq.h($APP.n,b),null,null,null);default:return null}else return null};Aka=function(a){var b=h0(a);$APP.m(b)||(b=$APP.B.h($APP.rI,a)?new b0(null,null,null):null,b=$APP.m(b)?b:l0(a));return $APP.m(b)?W_(new t0(b,null,null,null),a):x0(a)};
Cka=function(a){var b=S_(Aka,a);if($APP.m(b))return b;throw $APP.Fp.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.g(null,2,[$APP.xJ,KOa,$APP.RC,a],null));};N0=function(a,b,c,d,e){this.source=a;this.pattern=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};O0=function(a,b,c,d,e){this.ha=a;this.xa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
P0=function(a,b,c,d,e,h){this.ha=a;this.xa=b;this.binding=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};Q0=function(a,b,c,d,e,h){this.source=a;this.name=b;this.xa=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};R0=function(a,b,c,d,e,h){this.source=a;this.Ib=b;this.Ca=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};S0=function(a,b,c,d,e,h){this.source=a;this.bd=b;this.Ca=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};
T0=function(a,b,c,d){this.Ca=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};U0=function(a){var b=$APP.B.h($APP.LI,a)?new Y_(null,null,null):null;if($APP.m(b))return b;b=f0(a);return $APP.m(b)?b:j0(a)};V0=function(a){if($APP.Je(a)){var b=h0($APP.x(a));return $APP.m(b)?new $APP.H(null,2,5,$APP.I,[b,$APP.z(a)],null):new $APP.H(null,2,5,$APP.I,[new a0(null,null,null),a],null)}return null};
W0=function(a){if($APP.Je(a)){var b=$APP.u(a);a=$APP.x(b);b=$APP.z(b);b=null==b?$APP.qi:b;var c=k0(a);a=$APP.m(c)?c:f0(a);b=S_(m0,b);return $APP.m($APP.m(a)?b:a)?new $APP.H(null,2,5,$APP.I,[a,b],null):null}return null};X0=function(a,b,c){if($APP.Ee(a)&&$APP.Ee(b))throw $APP.Fp.h("Join variables should not be empty",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,c],null));};Y0=function(a,b){X0(null,$APP.hJ.g(a),b);return a};
$0=function(a,b){var c=$APP.ph(a);c=$APP.gf.h(c,$4);var d=$APP.ph(c);c=$APP.gf.h(d,$APP.gP);d=$APP.gf.h(d,h1);X0(c,d,b);return a};b1=function(a){if($APP.Je(a)&&$APP.B.h($APP.vw,$APP.x(a))){var b=$APP.z(a);b=a1.g?a1.g(b):a1.call(null,b);if($APP.m($APP.qh(b)))return new T0(b,null,null,null);throw $APP.Fp.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));}return null};
d1=function(a){a:{var b=V0(a);if($APP.m(b)){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);var d=$APP.u(b);b=$APP.x(d);d=$APP.z(d);if($APP.B.h($APP.cE,b)){b=a1.g?a1.g(d):a1.call(null,d);if($APP.m(b)){c=Y0(W_(new R0(c,$APP.uf($APP.IA.g(c1($APP.qi,b))),b,null,null,null),a),a);break a}throw $APP.Fp.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));}}c=null}if($APP.m(c))return c;a:{b=V0(a);if($APP.m(b)){c=$APP.C.j(b,0,null);b=$APP.C.j(b,
1,null);d=$APP.u(b);b=$APP.x(d);var e=$APP.z(d);d=$APP.x(e);e=$APP.z(e);if($APP.B.h(MOa,b)){b=S_(f0,d);d=a1.g?a1.g(e):a1.call(null,e);if($APP.m($APP.m(b)?d:b)){c=Y0(W_(new R0(c,b,d,null,null,null),a),a);break a}throw $APP.Fp.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));}}c=null}if($APP.m(c))return c;a:{b=V0(a);if($APP.m(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),d=$APP.u(b),b=$APP.x(d),d=$APP.z(d),$APP.B.h($APP.fx,
b))){b=S_($APP.pA.h(b1,d1),d);if($APP.m(b)){c=$0(W_(new S0(c,new n0(null,$APP.uf($APP.IA.g(c1($APP.qi,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Fp.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));}c=null}if($APP.m(c))return c;a:{b=V0(a);if($APP.m(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),d=$APP.u(b),b=$APP.x(d),e=$APP.z(d),d=$APP.x(e),e=$APP.z(e),$APP.B.h(a5,b))){b=o0(d);d=S_($APP.pA.h(b1,d1),e);if($APP.m($APP.m(b)?
d:b)){c=$0(W_(new S0(c,b,d,null,null,null),a),a);break a}throw $APP.Fp.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));}c=null}if($APP.m(c))return c;a:{if(R_(a,1)&&(b=W0($APP.x(a)),$APP.m(b))){c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=W_(new O0(c,b,null,null,null),a);break a}c=null}if($APP.m(c))return c;a:{if(R_(a,2)&&(b=$APP.C.j(a,0,null),c=$APP.C.j(a,1,null),d=W0(b),$APP.m(d))){b=$APP.C.j(d,0,null);d=$APP.C.j(d,
1,null);c=x0(c);c=$APP.m(c)?W_(new P0(b,d,c,null,null,null),a):null;break a}c=null}if($APP.m(c))return c;a:{b=V0(a);if($APP.m(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=$APP.u(b),d=$APP.x(b),b=$APP.z(b),d=k0(d),e=S_(U0,b),$APP.m(d))){if($APP.Ee(b))throw $APP.Fp.h("rule-expr requires at least one argument",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));if(null==e)throw $APP.Fp.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,
a],null));c=new Q0(c,d,e,null,null,null);break a}c=null}if($APP.m(c))return c;a:{b=V0(a);if($APP.m(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=S_(U0,b),$APP.m(b))){if($APP.Ee(b))throw $APP.Fp.h("Pattern could not be empty",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));c=W_(new N0(c,b,null,null,null),a);break a}c=null}if($APP.m(c))return c;throw $APP.Fp.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));};a1=function(a){return S_(d1,a)};Dka=function(a){var b=a1(a);if($APP.m(b))return b;throw $APP.Fp.h("Cannot parse :where clause, expected [clause+]",new $APP.g(null,2,[$APP.xJ,Z4,$APP.RC,a],null));};f1=function(a,b,c,d,e){this.Ib=a;this.Ca=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};g1=function(a,b,c,d,e){this.name=a;this.sd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
Eka=function(a){if($APP.Je(a)){var b=$APP.u(a),c=$APP.x(b),d=$APP.z(b);if($APP.Je(c)){b=$APP.u(c);var e=$APP.x(b);c=$APP.z(b);b=function(){var l=k0(e);if($APP.m(l))return l;throw $APP.Fp.h("Cannot parse rule name, expected plain-symbol",new $APP.g(null,2,[$APP.xJ,f5,$APP.RC,a],null));}();c=o0(c);var h=function(){var l=$APP.qh(a1(d));if($APP.m(l))return l;throw $APP.Fp.h("Rule branch should have clauses",new $APP.g(null,2,[$APP.xJ,f5,$APP.RC,a],null));}();return new $APP.g(null,3,[$APP.N,b,$APP.hJ,
c,$APP.NK,h],null)}throw $APP.Fp.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,2,[$APP.xJ,f5,$APP.RC,a],null));}throw $APP.Fp.h("Cannot parse rule, expected [rule-head clause+]",new $APP.g(null,2,[$APP.xJ,f5,$APP.RC,a],null));};
i1=function(a,b){var c=$APP.hJ.g($APP.x(b)),d=r0(c);b=$APP.u($APP.z(b));for(var e=null,h=0,l=0;;)if(l<h){var p=e.fa(null,l);p=$APP.hJ.g(p);if($APP.ik.h(d,r0(p)))throw $APP.Fp.h(["Arity mismatch for rule '",$APP.yl.l($APP.F([$APP.wn.g(a)])),"': ",$APP.yl.l($APP.F([q0(c)]))," vs. ",$APP.yl.l($APP.F([q0(p)]))].join(""),new $APP.g(null,2,[$APP.xJ,f5,NOa,a],null));l+=1}else if(b=$APP.u(b)){if($APP.Oe(b))h=$APP.dd(b),b=$APP.fd(b),e=h,h=$APP.ie(h);else{p=$APP.x(b);e=$APP.hJ.g(p);if($APP.ik.h(d,r0(e)))throw $APP.Fp.h(["Arity mismatch for rule '",
$APP.yl.l($APP.F([$APP.wn.g(a)])),"': ",$APP.yl.l($APP.F([q0(c)]))," vs. ",$APP.yl.l($APP.F([q0(e)]))].join(""),new $APP.g(null,2,[$APP.xJ,f5,NOa,a],null));b=$APP.z(b);e=null;h=0}l=0}else break};
Fka=function(a){$APP.uf(function(){return function d(c){return new $APP.Rg(null,function(){for(;;){var e=$APP.u(c);if(e){var h=e;if($APP.Oe(h)){var l=$APP.dd(h),p=$APP.ie(l),t=$APP.Ug(p);return function(){for(var v=0;;)if(v<p){var J=$APP.ve(l,v),P=$APP.C.j(J,0,null),W=$APP.C.j(J,1,null);J=$APP.lq.h(function(){return function(Z){return new f1($APP.hJ.g(Z),$APP.NK.g(Z),null,null,null)}}(v,J,P,W,l,p,t,h,e),W);W=t;i1(P,J);W.add(new g1(P,J,null,null,null));v+=1}else return!0}()?$APP.Xg($APP.Zg(t),d($APP.fd(h))):
$APP.Xg($APP.Zg(t),null)}var A=$APP.x(h),y=$APP.C.j(A,0,null),D=$APP.C.j(A,1,null);A=$APP.lq.h(function(){return function(v){return new f1($APP.hJ.g(v),$APP.NK.g(v),null,null,null)}}(A,y,D,h,e),D);i1(y,A);return $APP.Fg(new g1(y,A,null,null,null),d($APP.Jd(h)))}return null}},null,null)}($APP.Hl($APP.N,S_(Eka,a)))}())};j1=function(a,b,c,d,e,h,l,p){this.Qc=a;this.Uc=b;this.Sc=c;this.Rc=d;this.Tc=e;this.B=h;this.o=l;this.D=p;this.J=2230716170;this.N=139264};
Gka=function(a){var b=$APP.cp.l(a,g5,$APP.F([i5,j5,k5,l5]));b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new j1(g5.g(a),i5.g(a),j5.g(a),k5.g(a),l5.g(a),null,$APP.qh(b),null)};n1=function(a){for(var b=$APP.uh,c=null;;){var d=$APP.x(a);if($APP.m(d))d instanceof $APP.k?(c=d,a=$APP.z(a)):(b=$APP.ap.I(b,new $APP.H(null,1,5,$APP.I,[c],null),$APP.Wq.h($APP.Cg,$APP.qi),d),a=$APP.z(a));else return b}};Hka=function(a){var b=$APP.Hm.g(a);return a instanceof N0?b:null!=b?b instanceof a0?null:b:null};
Jka=function(a,b,c){var d=$APP.qk(c1($APP.qi,g5.g(a))),e=$APP.qk(i5.g(a)),h=$APP.qk(c1($APP.qi,k5.g(a))),l=$APP.qk(c1($APP.qi,l5.g(a)));h=$APP.qz.h($APP.hL.h(d,e),$APP.hL.h(l,h));d=$APP.rz.h(d,e);if(!$APP.Ee(h))throw $APP.Fp.h(["Query for unknown vars: ",$APP.yl.l($APP.F([$APP.lq.h($APP.wn,h)]))].join(""),new $APP.g(null,3,[$APP.xJ,m5,$APP.hJ,h,$APP.RC,b],null));if(!$APP.Ee(d))throw $APP.Fp.h([":find and :with should not use same variables: ",$APP.yl.l($APP.F([$APP.lq.h($APP.wn,d)]))].join(""),new $APP.g(null,
3,[$APP.xJ,m5,$APP.hJ,d,$APP.RC,b],null));d=j5.g(a);if(null!=d){if(g5.g(a)instanceof F0)throw $APP.Fp.h([$APP.yl.l($APP.F([$APP.Im.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));if(g5.g(a)instanceof E0)throw $APP.Fp.h([$APP.yl.l($APP.F([$APP.Im.g(d)]))," does not work with collection :find"].join(""),new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));}d=n5.g(j5.g(a));if(null!=d&&(e=C0(g5.g(a)),!$APP.B.h($APP.ie(d),$APP.ie(e))))throw $APP.Fp.h(["Count of ",
$APP.yl.l($APP.F([$APP.Im.g(j5.g(a))]))," must match count of :find"].join(""),new $APP.g(null,4,[$APP.xJ,m5,OOa,$APP.Fg($APP.Im.g(j5.g(a)),d),ROa,e,$APP.RC,b],null));if(1<$APP.ie($APP.ji.h($APP.rb,new $APP.H(null,3,5,$APP.I,[$APP.pD.g(c),$APP.sv.g(c),SOa.g(c)],null))))throw $APP.Fp.h("Only one of :keys/:syms/:strs must be present",new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));var p=c1($APP.qi,k5.g(a)),t=U_(function(y){return y instanceof $_},k5.g(a)),A=U_(function(y){return y instanceof b0},k5.g(a));
if(!$APP.m(function(){var y=V_(p);return $APP.m(y)?(y=V_(t),$APP.m(y)?V_(A):y):y}()))throw $APP.Fp.h("Vars used in :in should be distinct",new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));c=c1($APP.qi,i5.g(a));if(!$APP.m(V_(c)))throw $APP.Fp.h("Vars used in :with should be distinct",new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));c=T_(function(y){return y instanceof $_},k5.g(a),$APP.mk);d=T_(function(y){return y instanceof $_},l5.g(a),$APP.mk);c=$APP.qz.h(d,c);if(!$APP.Ee(c))throw $APP.Fp.h(["Where uses unknown source vars: ",
$APP.yl.l($APP.F([$APP.lq.h($APP.wn,c)]))].join(""),new $APP.g(null,3,[$APP.xJ,m5,$APP.hJ,c,$APP.RC,b],null));c=U_(function(y){return y instanceof Q0},l5.g(a));a=U_(function(y){return y instanceof b0},k5.g(a));if(!$APP.Ee(c)&&$APP.Ee(a))throw $APP.Fp.h("Missing rules var '%' in :in",new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,b],null));};
Kka=function(a){if($APP.Le(a))var b=a;else if($APP.Je(a))b=n1(a);else throw $APP.Fp.h("Query should be a vector or a map",new $APP.g(null,2,[$APP.xJ,m5,$APP.RC,a],null));var c=b,d=Dka($APP.aga.h(c,$APP.qi));b=Gka(new $APP.g(null,5,[g5,zka(ROa.g(c)),i5,function(){var e=UOa.g(c);if($APP.m(e)){var h=S_(f0,e);if($APP.m(h))e=h;else throw $APP.Fp.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.g(null,2,[$APP.xJ,VOa,$APP.RC,e],null));}else e=null;return e}(),j5,function(){var e=M0($APP.pD,
$APP.pD.g(c));if($APP.m(e))return e;e=M0($APP.sv,$APP.sv.g(c));return $APP.m(e)?e:M0(SOa,SOa.g(c))}(),k5,Cka(function(){var e=$APP.bga.g(c);return $APP.m(e)?e:$APP.Ee(U_(Hka,d))?$APP.qi:new $APP.H(null,1,5,$APP.I,[HOa],null)}()),l5,d],null));Jka(b,a,c);return b};s1=function(a,b,c,d,e,h){this.Rd=a;this.sources=b;this.rules=c;this.B=d;this.o=e;this.D=h;this.J=2230716170;this.N=139264};t1=function(a,b,c,d,e){this.oa=a;this.je=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
u1=function(a,b){return $APP.rz.h($APP.qk($APP.fk(a)),$APP.qk($APP.fk(b)))};Lka=function(a,b){return $APP.B.h($APP.ie(a),$APP.ie(b))&&$APP.Kh(function(c){return $APP.jf(b,c)},$APP.fk(a))&&$APP.Kh(function(c){return $APP.jf(b,c)},$APP.fk(a))};v1=function(a){return a instanceof $APP.r&&$APP.B.h("$",$APP.x($APP.sk(a)))};w1=function(a){return a instanceof $APP.r&&$APP.B.h("?",$APP.x($APP.sk(a)))};x1=function(a){return a instanceof $APP.k||"string"===typeof a};
z1=function(a){return y1(new $APP.H(null,2,5,$APP.I,[x1,$APP.LI],null),a)};A1=function(a,b,c,d){for(var e=b.length,h=d.length,l=Array(e+h),p=0;;)if(p<e)l[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<h)l[e+a]=c[d[a]],a+=1;else break;return l};B1=function(a){a=$APP.Wk.h($APP.wn,$APP.uf($APP.IA.g(c1($APP.qi,a))));return new t1($APP.tk(a,$APP.kr.F()),$APP.qi,null,null,null)};
C1=function(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=C1[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=C1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IBinding.in-\x3erel",a);}return a};
Mka=function(a,b){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c instanceof t0&&o5.g(c)instanceof $_?a=$APP.Eq.P(a,p5,$APP.K,$APP.vp.h(c,new $APP.H(null,2,5,$APP.I,[o5,$APP.wn],null)),b):c instanceof t0&&o5.g(c)instanceof b0?(c=$APP.K.j,b="string"===typeof b?$APP.fL.g(b):b,Fka(b),b=$APP.Hl($APP.pe,b),a=c.call($APP.K,a,$APP.dI,b)):a=$APP.Eq.I(a,q5,$APP.Cg,C1(c,b));return a};
Nka=function(a,b,c){var d=$APP.ie(b),e=$APP.ie(c);if(d<e)throw $APP.Fp.h(["Extra inputs passed, expected: ",$APP.yl.l($APP.F([$APP.lq.h(function(h){return $APP.Hm.g($APP.Be(h))},b)])),", got: ",$APP.yl.l($APP.F([e]))].join(""),new $APP.g(null,3,[$APP.xJ,WOa,$APP.oI,b,XOa,c],null));if(d>e)throw $APP.Fp.h(["Too few inputs passed, expected: ",$APP.yl.l($APP.F([$APP.lq.h(function(h){return $APP.Hm.g($APP.Be(h))},b)])),", got: ",$APP.yl.l($APP.F([e]))].join(""),new $APP.g(null,3,[$APP.xJ,WOa,$APP.oI,b,
XOa,c],null));return $APP.sf.j(Mka,a,$APP.tk(b,c))};I1=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.jf(G1,b)){if($APP.$e(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.Je(e)?kZ(H1,e):PW(e)?kZ(H1,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.Je(e)?kZ(H1,e):PW(e)?kZ(H1,e):e}}return $APP.$e(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
J1=function(a,b){var c=$APP.ie(b);if(1===c)return I1(a,$APP.x(b));b=$APP.pp.g(b);for(var d=0;;)if(d<c)b[d]=I1(a,b[d]),d+=1;else return function(e,h,l){return function(p){return $APP.Ut.g(h.map(function(){return function(t){return t.g?t.g(p):t.call(null,p)}}(e,h,l)))}}(d,b,c)};LOa=function(a,b){var c=$APP.Id;return $APP.Vc($APP.sf.j(function(d,e){var h=a.g?a.g(e):a.call(null,e);return $APP.kj.j(d,h,$APP.Cg.h($APP.gf.j(d,h,c),e))},$APP.Tc($APP.uh),b))};
L1=function(a,b){var c=r5.g(a),d=r5.g(b),e=G3.g(a),h=G3.g(b),l=$APP.uf(u1(G3.g(a),G3.g(b)));a=$APP.fk(e);b=$APP.Vc($APP.yf(function(v,J){return $APP.m(e.g?e.g(J):e.call(null,J))?v:$APP.pi.h(v,J)},$APP.Tc($APP.qi),h));var p=$APP.tf($APP.hk(e)),t=$APP.tf($APP.XD($APP.Wk.g(h),b)),A=J1(e,l),y=J1(h,l),D=LOa(A,c);c=$APP.Vc($APP.sf.j(function(v,J){var P=y(J);P=$APP.gf.h(D,P);return null==P?v:$APP.sf.j(function(W,Z){return $APP.pi.h(W,A1(Z,p,J,t))},v,P)},$APP.Tc($APP.qi),d));return new t1($APP.tk($APP.S.h(a,
b),$APP.kr.F()),c,null,null,null)};M1=function(a,b){var c=$APP.ph(a),d=$APP.gf.h(c,G3);c=$APP.gf.h(c,r5);var e=$APP.ph(b);b=$APP.gf.h(e,G3);e=$APP.gf.h(e,r5);var h=$APP.uf(u1(d,b));b=J1(b,h);var l=LOa(b,e),p=J1(d,h);return $APP.K.j(a,r5,$APP.ri(function(t){t=p(t);return null==(l.g?l.g(t):l.call(null,t))},c))};
Oka=function(a,b){var c=$APP.lq.h(function(d){return $APP.B.h(d,$APP.LI)||w1(d)?null:d},b);a=kY(a,c);b=$APP.In.h($APP.uh,$APP.ji.h(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return w1(e)},$APP.Wk.j($APP.Tt,b,new $APP.H(null,4,5,$APP.I,["e","a","v","tx"],null))));return new t1(b,a,null,null,null)};
Pka=function(a,b){a=$APP.ji.h(function(d){a:for(var e=b;;){var h=d;if($APP.m($APP.m(h)?e:h)){h=$APP.x(d);var l=$APP.x(e);if($APP.B.h(l,$APP.LI)||w1(l)||$APP.B.h(h,l))d=$APP.z(d),e=$APP.z(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.In.h($APP.uh,$APP.ji.h(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return w1(e)},$APP.Wk.j($APP.Tt,b,$APP.kr.F())));return new t1(c,$APP.lq.h($APP.tf,a),null,null,null)};
Qka=function(a,b){return(null!=a?$APP.yd===a.Th||(a.td?0:$APP.xb(jY,a)):$APP.xb(jY,a))?Oka(a,b):Pka(a,b)};N1=function(a,b){for(var c=$APP.qi;;){var d=$APP.x(a);if(null==d)return $APP.Cg.h(c,b);$APP.m($APP.qh(u1(G3.g(b),G3.g(d))))?(a=$APP.z(a),b=L1(d,b)):(a=$APP.z(a),c=$APP.Cg.h(c,d))}};O1=function(a,b){return $APP.Mh(function(c){return $APP.jf(G3.g(c),b)?c:null},q5.g(a))};
P1=function(a,b){var c=O1(a,b);if(null==c)return null;a=$APP.x(r5.g(c));null==a?b=null:(c=G3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};Rka=function(a,b){return $APP.Mh(function(c){return $APP.jf(G3.g(a),c)},b)};R1=function(a,b){var c=$APP.ji.h(function(e){return Rka(e,b)},q5.g(a)),d=$APP.sf.h(Q1,c);return new $APP.H(null,2,5,$APP.I,[$APP.Eq.j(a,q5,function(e){return $APP.Rq.h($APP.qk(c),e)}),d],null)};
S1=function(a,b,c,d){a=p5.g(a);b=G3.g(b);for(var e=$APP.ie(d),h=Array(e),l=Array(e),p=0;;)if(p<e){var t=$APP.C.h(d,p);if(t instanceof $APP.r){var A=$APP.gf.h(a,t);null==A?l[p]=$APP.gf.h(b,t):h[p]=A}else h[p]=t;p+=1}else break;return c===$APP.Tt?function(y){for(var D=h.slice(0),v=0;;)if(v<e){var J=l[v];null!=J&&(D[v]=y[J]);v+=1}else break;return $APP.nh.h(c,D)}:function(y){for(var D=0;;)if(D<e){var v=l[D];null!=v&&(h[D]=y[v]);D+=1}else break;return $APP.nh.h(c,h)}};
Ska=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.u(c);var d=$APP.x(c),e=$APP.z(c),h=function(){var t=$APP.gf.h(o_,d);if($APP.m(t))return t;t=P1(a,d);if($APP.m(t))return t;if($APP.m(null))return null;if(null==O1(a,d))throw $APP.Fp.h(["Unknown predicate '",$APP.yl.l($APP.F([d]))," in ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,b,$APP.zq,d],null));return null}();c=R1(a,$APP.ji.h($APP.Ad,e));var l=$APP.C.j(c,0,null),p=$APP.C.j(c,1,null);c=$APP.m(h)?function(){var t=S1(l,
p,h,e);return $APP.Eq.j(p,r5,function(A){return $APP.ji.h(t,A)})}():$APP.K.j(p,r5,$APP.qi);return $APP.Eq.I(l,q5,$APP.Cg,c)};
Tka=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.u(c);var d=$APP.x(c),e=$APP.z(c);c=$APP.C.j(b,1,null);var h=x0(c),l=function(){var A=$APP.gf.h(o_,d);if($APP.m(A))return A;A=P1(a,d);if($APP.m(A))return A;if($APP.m(null))return null;if(null==O1(a,d))throw $APP.Fp.h(["Unknown function '",$APP.yl.l($APP.F([d]))," in ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,b,$APP.zq,d],null));return null}();c=R1(a,$APP.ji.h($APP.Ad,e));var p=$APP.C.j(c,0,null),t=$APP.C.j(c,1,null);c=
$APP.m(l)?function(){var A=S1(p,t,l,e),y=function(){return function J(v){return new $APP.Rg(null,function(){for(var P=v;;)if(P=$APP.u(P)){if($APP.Oe(P)){var W=$APP.dd(P),Z=$APP.ie(W),na=$APP.Ug(Z);a:for(var pa=0;;)if(pa<Z){var sa=$APP.ve(W,pa),Ba=A(sa);null!=Ba&&$APP.Yg(na,Q1.h(new t1(G3.g(t),new $APP.H(null,1,5,$APP.I,[sa],null),null,null,null),C1(h,Ba)));pa+=1}else{W=!0;break a}return W?$APP.Xg($APP.Zg(na),J($APP.fd(P))):$APP.Xg($APP.Zg(na),null)}na=$APP.x(P);W=A(na);if(null!=W)return $APP.Fg(Q1.h(new t1(G3.g(t),
new $APP.H(null,1,5,$APP.I,[na],null),null,null,null),C1(h,W)),J($APP.Jd(P)));P=$APP.Jd(P)}else return null},null,null)}(r5.g(t))}();return $APP.Ee(y)?Q1.h(t,B1(h)):$APP.sf.h(T1,y)}():Q1.h($APP.K.j(t,r5,$APP.qi),B1(h));return $APP.Eq.I(p,q5,N1,c)};
U1=function(a,b){if($APP.Je(b)){var c=v1($APP.x(b))?$APP.ne(b):$APP.x(b);if(c instanceof $APP.r){if(w1(c)||$APP.jf(new $APP.lk(null,new $APP.g(null,6,[$APP.vw,null,$APP.cE,null,MOa,null,a5,null,$APP.fx,null,$APP.LI,null],null),null),c))return!1;if($APP.jf($APP.dI.g(a),c))return!0;throw $APP.Fp.h(["Unknown rule '",$APP.yl.l($APP.F([c]))," in ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,t5,$APP.RC,b],null));}}return!1};
Vka=function(a,b){var c=$APP.u(a),d=$APP.x(c),e=$APP.z(c),h=$APP.Dl.h(Uka,$APP.Ud),l=$APP.gf.h($APP.dI.g(b),d);return function A(t){return new $APP.Rg(null,function(){for(;;){var y=$APP.u(t);if(y){var D=y;if($APP.Oe(D)){var v=$APP.dd(D),J=$APP.ie(v),P=$APP.Ug(J);return function(){for(var qa=0;;)if(qa<J){var ua=$APP.ve(v,qa),va=ua,Fa=$APP.u(va),Ha=$APP.x(Fa),Ka=$APP.z(Fa),Na=Ha,Za=$APP.u(Na),cb=$APP.x(Za),fb=$APP.z(Za),ab=cb,ob=fb,ub=Ka,yb=$APP.tk(ob,e);$APP.Yg(P,$APP.ev(function(Kb,Nb,Zb,pc,ld,bc,
xg,bj,ki,Rk,Sk,Xl,yg,Yl,Zl,bd,cj,zh,li,Vj,Tk,$l,am,jp,nt,Wj){return function(ed){if(w1(ed)){var vn=yg.g?yg.g(ed):yg.call(null,ed);return null==vn?$APP.fl.g([$APP.sk(ed),"__auto__",$APP.n.g(Wj)].join("")):vn}return ed}}(qa,va,Fa,Ha,Ka,Na,Za,cb,fb,ab,ob,ub,yb,ua,v,J,P,D,y,a,c,d,e,d,e,h,l),ub));qa+=1}else return!0}()?$APP.Xg($APP.Zg(P),A($APP.fd(D))):$APP.Xg($APP.Zg(P),null)}var W=$APP.x(D),Z=W,na=$APP.u(Z),pa=$APP.x(na),sa=$APP.z(na),Ba=pa,za=$APP.u(Ba),ra=$APP.x(za),w=$APP.z(za),E=ra,T=w,X=sa,Y=$APP.tk(T,
e);return $APP.Fg($APP.ev(function(qa,ua,va,Fa,Ha,Ka,Na,Za,cb,fb,ab,ob,ub,yb,Kb,Nb,Zb,pc,ld,bc,xg,bj){return function(ki){if(w1(ki)){var Rk=ob.g?ob.g(ki):ob.call(null,ki);return null==Rk?$APP.fl.g([$APP.sk(ki),"__auto__",$APP.n.g(bj)].join("")):Rk}return ki}}(Z,na,pa,sa,Ba,za,ra,w,E,T,X,Y,W,D,y,a,c,d,e,d,e,h,l),X),A($APP.Jd(D)))}return null}},null,null)}(l)};
V1=function(a,b){a=$APP.Rq.h(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.B.h(d,c)},$APP.Wk.j($APP.Tt,a,b));return new $APP.H(null,2,5,$APP.I,[$APP.Wk.h($APP.x,a),$APP.Wk.h($APP.ne,a)],null)};
Wka=function(a,b){a=$APP.u(a);var c=$APP.x(a),d=$APP.z(a);return function l(h){return new $APP.Rg(null,function(){for(;;){var p=$APP.u(h);if(p){if($APP.Oe(p)){var t=$APP.dd(p),A=$APP.ie(t),y=$APP.Ug(A);a:for(var D=0;;)if(D<A){var v=$APP.ve(t,D),J=V1(d,v);v=$APP.C.j(J,0,null);J=$APP.C.j(J,1,null);$APP.Yg(y,new $APP.H(null,1,5,$APP.I,[$APP.S.l(new $APP.H(null,1,5,$APP.I,[ZOa],null),v,$APP.F([J]))],null));D+=1}else{t=!0;break a}return t?$APP.Xg($APP.Zg(y),l($APP.fd(p))):$APP.Xg($APP.Zg(y),null)}y=$APP.x(p);
t=V1(d,y);y=$APP.C.j(t,0,null);t=$APP.C.j(t,1,null);return $APP.Fg(new $APP.H(null,1,5,$APP.I,[$APP.S.l(new $APP.H(null,1,5,$APP.I,[ZOa],null),y,$APP.F([t]))],null),l($APP.Jd(p)))}return null}},null,null)}($APP.gf.h(b,c))};X1=function(a){var b=$APP.Cl.g($APP.qi);$APP.ev(function(c){$APP.m(w1.g?w1.g(c):w1.call(null,c))&&$APP.Dl.j(b,$APP.Cg,c);return c},a);return $APP.q(b)};
Xka=function(a,b){function c(e){e=$APP.C.j(e,0,null);e=$APP.u(e);$APP.x(e);e=$APP.z(e);return $APP.Kh(d,e)}var d=$APP.qk(X1(a));return new $APP.H(null,2,5,$APP.I,[$APP.ji.h(c,b),$APP.Rq.h(c,b)],null)};
Zka=function(a,b){function c(Ka){return $APP.Mh(function(Na){return $APP.Ee(r5.g(Na))},q5.g(Ka))}function d(Ka,Na){return $APP.sf.j(Y1,Ka,Na)}for(var e=$APP.ji.h(w1,b),h=$APP.tk(e,$APP.kr.F()),l=new $APP.G(null,new $APP.g(null,5,[$Oa,$APP.qi,s5,a,$APP.NK,new $APP.H(null,1,5,$APP.I,[b],null),u5,$APP.uh,aPa,$APP.uh],null),null,1,null),p=new t1(h,$APP.qi,null,null,null);;){var t=$APP.x(l);if(null==t)return p;var A=t,y=$APP.Ck(function(){return function(Ka){return!U1(a,Ka)}}(l,p,A,t,e,h,d,c),$APP.NK.g(A)),
D=$APP.C.j(y,0,null),v=$APP.C.j(y,1,null),J=$APP.u(v),P=$APP.x(J),W=$APP.z(J),Z=P,na=W;if(null==Z){b=d(s5.g(A),D);b=a2?a2(b,e):Yka.call(null,b,e);var pa=new t1(h,b,null,null,null);b=$APP.z(l);pa=T1(p,pa);l=b;p=pa}else{var sa=Z,Ba=$APP.u(sa),za=$APP.x(Ba),ra=$APP.z(Ba),w=za,E=ra,T=Wka(Z,u5.g(A)),X=Xka($APP.S.h($Oa.g(A),D),$APP.S.h(T,aPa.g(A))),Y=$APP.C.j(X,0,null),qa=$APP.C.j(X,1,null);if($APP.m($APP.Mh(function(){return function(Ka){return $APP.B.h(Ka,new $APP.H(null,1,5,$APP.I,[$APP.R(ZOa)],null))}}(l,
p,sa,Ba,za,ra,w,E,T,X,Y,qa,y,D,v,J,P,W,Z,na,A,t,e,h,d,c),Y)))b=$APP.z(l),pa=p,l=b,p=pa;else{var ua=$APP.S.h(D,Y),va=d(s5.g(A),ua);if($APP.m(c(va)))b=$APP.z(l),pa=p,l=b,p=pa;else{var Fa=$APP.K.j(u5.g(A),w,$APP.Cg.h($APP.gf.j(u5.g(A),w,$APP.qi),E)),Ha=Vka(Z,a);b=$APP.S.h(function(){return function(Ka,Na,Za,cb,fb,ab,ob,ub,yb,Kb,Nb,Zb,pc,ld,bc,xg,bj,ki,Rk,Sk,Xl,yg,Yl,Zl,bd,cj,zh,li,Vj,Tk){return function jp(am){return new $APP.Rg(null,function(nt,Wj,ed,vn,kp,lp,ot,pt,qt,rt,bm,st,tt,ut,be,mp,vt,wt,mi,
df,eg,Ac,Rd,ec){return function(){for(;;){var He=$APP.u(am);if(He){if($APP.Oe(He)){var xt=$APP.dd(He),wB=$APP.ie(xt),oe=$APP.Ug(wB);a:for(var bw=0;;)if(bw<wB){var bF=$APP.ve(xt,bw);$APP.Yg(oe,new $APP.g(null,5,[$Oa,kp,s5,lp,$APP.NK,$APP.In.j($APP.qi,$APP.sl,$APP.F([bF,ec])),u5,ed,aPa,mp],null));bw+=1}else{xt=!0;break a}return xt?$APP.Xg($APP.Zg(oe),jp($APP.fd(He))):$APP.Xg($APP.Zg(oe),null)}oe=$APP.x(He);return $APP.Fg(new $APP.g(null,5,[$Oa,kp,s5,lp,$APP.NK,$APP.In.j($APP.qi,$APP.sl,$APP.F([oe,ec])),
u5,ed,aPa,mp],null),jp($APP.Jd(He)))}return null}}}(Ka,Na,Za,cb,fb,ab,ob,ub,yb,Kb,Nb,Zb,pc,ld,bc,xg,bj,ki,Rk,Sk,Xl,yg,Yl,Zl,bd,cj,zh,li,Vj,Tk),null,null)}}(l,p,Fa,Ha,ua,va,sa,Ba,za,ra,w,E,T,X,Y,qa,y,D,v,J,P,W,Z,na,A,t,e,h,d,c)(Ha)}(),$APP.z(l));pa=p;l=b;p=pa}}}}};
$ka=function(a,b){if(null!=a?$APP.yd===a.Vg||(a.td?0:$APP.xb(sY,a)):$APP.xb(sY,a)){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null),h=$APP.C.j(b,3,null);return $APP.pn.j(new $APP.H(null,4,5,$APP.I,[$APP.m(function(){var l=z1(c);return $APP.m(l)?l:x1(c)}())?ZY(a,c):c,d,$APP.m(function(){if($APP.m(e)){var l=x1(d);return l?(l=YY(a,d))?(l=z1(e),$APP.m(l)?l:x1(e)):l:l}return e}())?ZY(a,e):e,$APP.m(z1(h))?ZY(a,h):h],null),0,$APP.ie(b))}return b};
ala=function(a,b){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null);b=$APP.C.j(b,3,null);c=w1(c)?$APP.Cg.h($APP.mk,c):$APP.mk;c=w1(b)?$APP.Cg.h(c,b):c;return w1(e)&&!w1(d)&&YY(a,d)?$APP.Cg.h(c,e):c};b2=function(a,b){return $APP.K.j(a,q5,$APP.Et.h(function(c){var d=$APP.qh($APP.jk(G3.g(c),b));return null==d?null:$APP.K.j(c,G3,d)},q5.g(a)))};c2=function(a){return $APP.In.h($APP.mk,$APP.hi.l(function(b){return $APP.fk(G3.g(b))},$APP.F([q5.g(a)])))};
d2=function(a,b,c){if($APP.av(b,a))return null;a=$APP.qz.h($APP.qk(b),a);throw $APP.Fp.h(["Insufficient bindings: ",$APP.yl.l($APP.F([a]))," not bound in ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,c,$APP.hJ,a],null));};
bla=function(a,b,c){b=$APP.lq.h(function(d){return $APP.qz.h($APP.qk(X1(d)),a)},b);if($APP.m($APP.nh.h($APP.B,b)))return null;throw $APP.Fp.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yl.l($APP.F([b]))," in ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,c,$APP.hJ,b],null));};
e2=function(a,b,c){for(var d=$APP.qk($APP.Rq.h(a,b)),e=$APP.u(c),h=null,l=0,p=0;;)if(p<l){c=h.fa(null,p);var t=$APP.qh($APP.qz.h(d,$APP.qk(X1(c))));if(null!=t)throw e=t,$APP.WA.l($APP.F([c,a,b,d])),$APP.Fp.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yl.l($APP.F([e]))," not bound in ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,c,$APP.hJ,e],null));p+=1}else if(c=$APP.u(e)){e=c;if($APP.Oe(e))h=$APP.dd(e),e=$APP.fd(e),c=h,l=$APP.ie(h),h=c;else{c=$APP.x(e);
h=$APP.qh($APP.qz.h(d,$APP.qk(X1(c))));if(null!=h)throw e=h,$APP.WA.l($APP.F([c,a,b,d])),$APP.Fp.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yl.l($APP.F([e]))," not bound in ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,3,[$APP.xJ,t5,$APP.RC,c,$APP.hJ,e],null));e=$APP.z(e);h=null;l=0}p=0}else return null};cla=function(a,b){var c=H1;H1=$APP.gf.h(p5.g(a),HOa);try{return $APP.sf.j(f2,a,b)}finally{H1=c}};
POa=function(a,b,c,d){return $APP.XD($APP.Pt.h($APP.Wk.g(function(e){return $APP.XD($APP.Wk.g(function(h){for(var l=$APP.Db(e),p=0;;)if(p<c){var t=d[p];null!=t&&(l[p]=h[t]);p+=1}else break;return l}),r5.g(b))}),$APP.sl),a)};Yka=function(a){switch(arguments.length){case 2:return a2(arguments[0],arguments[1]);case 3:return g2(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
a2=function(a,b){a=q5.g(a);return g2(new $APP.H(null,1,5,$APP.I,[Array($APP.ie(b))],null),a,b)};g2=function(a,b,c){for(;;){var d=$APP.x(b);if(null==d)return a;if($APP.Ee(r5.g(d)))return $APP.qi;var e=$APP.jk(G3.g(d),c);if($APP.Ee(e))b=$APP.z(b);else{e=$APP.tf($APP.Wk.h(function(l,p,t,A){return function(y){return $APP.gf.h(A,y)}}(a,b,c,e,d),c));var h=$APP.ie(c);a=POa(a,d,h,e);b=$APP.z(b)}}};dla=function(a,b){return $APP.In.j($APP.mk,$APP.Wk.g($APP.uf),a2(a,b))};
h2=function(a,b){if(null!=a&&null!=a.vf)a=a.vf(a,b);else{var c=h2[$APP.ca(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=h2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Ab("IContextResolve.-context-resolve",a);}return a};
i2=function(a,b,c){return $APP.lq.I(function(d,e,h){if(H0(d)){e=h2($APP.Aq.g(d),b);d=$APP.Wk.h(function(p){return h2(p,b)},$APP.rk($APP.Ao.g(d)));var l=$APP.Wk.h(function(p){return $APP.C.h(p,h)},c);return $APP.nh.h(e,$APP.S.h(d,new $APP.H(null,1,5,$APP.I,[l],null)))}return e},a,$APP.x(c),$APP.kr.F())};ela=function(a){var b=$APP.Qh(H0);return $APP.Rq.h($APP.mb,$APP.Wk.j(function(c,d){return $APP.m(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.kr.F()))};
fla=function(a,b,c){var d=ela(a);return function l(h){return new $APP.Rg(null,function(){for(;;){var p=$APP.u(h);if(p){if($APP.Oe(p)){var t=$APP.dd(p),A=$APP.ie(t),y=$APP.Ug(A);a:for(var D=0;;)if(D<A){var v=$APP.ve(t,D);$APP.C.j(v,0,null);v=$APP.C.j(v,1,null);$APP.Yg(y,i2(a,b,v));D+=1}else{t=!0;break a}return t?$APP.Xg($APP.Zg(y),l($APP.fd(p))):$APP.Xg($APP.Zg(y),null)}y=$APP.x(p);$APP.C.j(y,0,null);y=$APP.C.j(y,1,null);return $APP.Fg(i2(a,b,y),l($APP.Jd(p)))}return null}},null,null)}($APP.Hl(function(h){return $APP.Wk.h(function(l){return $APP.C.h(h,
l)},d)},c))};gla=function(a,b){return $APP.sf.j(function(c,d){return $APP.Cg.h(c,a.g?a.g(d):a.call(null,d))},$APP.ue(b),b)};j2=function(a,b){var c=n5.g(a),d=$APP.kr.h(0,$APP.ie(c));return gla(function(e){return $APP.sf.j(function(h,l){return $APP.K.j(h,$APP.C.h(c,l),$APP.C.h(e,l))},$APP.uh,d)},b)};
k2=function(a,b,c){if(null!=a&&null!=a.wf)a=a.wf(a,b,c);else{var d=k2[$APP.ca(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=k2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Ab("IPostProcess.-post-process",a);}return a};
hla=function(a,b,c){var d=function(){return function l(h){return new $APP.Rg(null,function(){for(;;){var p=$APP.u(h);if(p){if($APP.Oe(p)){var t=$APP.dd(p),A=$APP.ie(t),y=$APP.Ug(A);return function(){for(var v=0;;)if(v<A){var J=$APP.ve(t,v),P=y;if(I0(J)){var W=h2($APP.Hm.g(J),b);J=h2(x3.g(J),b);W=I_(W,J,null)}else W=null;P.add(W);v+=1}else return!0}()?$APP.Xg($APP.Zg(y),l($APP.fd(p))):$APP.Xg($APP.Zg(y),null)}var D=$APP.x(p);return $APP.Fg(I0(D)?function(){var v=h2($APP.Hm.g(D),b),J=h2(x3.g(D),b);
return I_(v,J,null)}():null,l($APP.Jd(p)))}return null}},null,null)}(a)}();return function l(h){return new $APP.Rg(null,function(){for(;;){var p=$APP.u(h);if(p){var t=p;if($APP.Oe(t)){var A=$APP.dd(t),y=$APP.ie(A),D=$APP.Ug(y);return function(){for(var J=0;;)if(J<y){var P=$APP.ve(A,J);$APP.Yg(D,$APP.lq.j(function(){return function(W,Z){return $APP.m(W)?H_(W,Z):Z}}(J,P,A,y,D,t,p,d),d,P));J+=1}else return!0}()?$APP.Xg($APP.Zg(D),l($APP.fd(t))):$APP.Xg($APP.Zg(D),null)}var v=$APP.x(t);return $APP.Fg($APP.lq.j(function(){return function(J,
P){return $APP.m(J)?H_(J,P):P}}(v,t,p,d),d,v),l($APP.Jd(t)))}return null}},null,null)}(c)};QOa=function(a){return null==r1.g(a)?a:$APP.Eq.I(a,r1,jOa,a)};l2=function(a,b){if(a instanceof zY){var c=a.Yb,d=a.qc;return new zY(d,function(e){var h=c.g?c.g(e):c.call(null,e);return $APP.m(h)?b.h?b.h(d,e):b.call(null,d,e):h},$APP.Cl.g(0),null,null,null)}return new zY(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.Cl.g(0),null,null,null)};
m2=function(a){switch(arguments.length){case 2:return m2.h(arguments[0],arguments[1]);case 3:return m2.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};n2=function(a,b){return K2.g(m2.h(a,b))};o2=function(a,b,c,d){return oY(a,b,c,d)};
q2=function(a){if(null==O4(a))return $APP.Cl.l(a,$APP.F([$APP.Xa,new $APP.g(null,1,[v5,$APP.Cl.g($APP.uh)],null)]));y5.g(a);return $APP.Cl.l(a,$APP.F([$APP.Xa,new $APP.g(null,3,[v5,$APP.Cl.g($APP.uh),cPa,$APP.Cl.g($APP.qi),dPa,$APP.Cl.g(a)],null)]))};
ila=function(a,b,c){var d=$APP.Cl.g(null);$APP.Dl.h(a,function(t){t=m2.j(t,b,c);$APP.Th(d,t);return K2.g(t)});if(null!=O4($APP.q(a))){var e=$APP.q(d),h=$APP.ph(e);e=$APP.gf.h(h,K2);var l=$APP.gf.h(h,L2);h=DNa($APP.K1.g(e));var p=cPa.g($APP.Be(a));l=$APP.Dl.j(p,$APP.Cg,l);$APP.Lz.I($APP.Wk.g($APP.ie),$APP.Mz,0,l)>MNa.g(h)?(U4(e,N4(e),!1),$APP.Th(p,$APP.qi),$APP.Th(dPa.g($APP.Be(a)),e)):pOa(e,l)}return $APP.q(d)};r2=function(a){return $APP.q(a)};TOa=function(a){return DNa($APP.K1.g(a))};
t2=function t2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return t2.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};t2.l=function(a){return $APP.cl(a,$APP.K.j($APP.gb(),$APP.Va,!1))};t2.C=0;t2.G=function(a){return this.l($APP.u(a))};ePa=new $APP.r("datascript.core","squuid","datascript.core/squuid",-408746813,null);x2=new $APP.k("db.unique","identity","db.unique/identity",1675950722);X2=new $APP.k("db","retract","db/retract",-1549825231);
fPa=new $APP.r("datascript.db","IDatom","datascript.db/IDatom",293960966,null);gPa=new $APP.k(null,"-store","-store",86010660);hPa=new $APP.k(null,"incomparable","incomparable",1634329662);iPa=new $APP.r(null,"datom-tx","datom-tx",1349109608,null);SOa=new $APP.k(null,"strs","strs",1175537277);bOa=new $APP.k("db.cardinality","one","db.cardinality/one",1428352190);lOa=new $APP.k("transact","upsert","transact/upsert",412688078);j5=new $APP.k(null,"qreturn-map","qreturn-map",1841215994);
jPa=new $APP.r(null,"datom-added","datom-added",-363961980,null);kPa=new $APP.r("datascript.core","filter","datascript.core/filter",-1276765471,null);x5=new $APP.k(null,"acc","acc",838566312);lPa=new $APP.k("lookup-ref","unique","lookup-ref/unique",-960647710);f5=new $APP.k("parser","rule","parser/rule",-464044566);mPa=new $APP.r("datascript.core","q","datascript.core/q",2106686416,null);dPa=new $APP.k(null,"db-last-stored","db-last-stored",-2068760702);
nPa=new $APP.r(null,"added","added",-596784081,null);IOa=new $APP.k("parser","find","parser/find",-801023103);oPa=new $APP.r(null,"entity","entity",1189561251,null);p4=new $APP.k(null,"wildcard?","wildcard?",-686044101);W2=new $APP.k("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);qPa=new $APP.r("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);sPa=new $APP.r(null,"tail-addr","tail-addr",1565233666,null);
tPa=new $APP.r("datascript.core","restore","datascript.core/restore",-655548009,null);m5=new $APP.k("parser","query","parser/query",1877320671);uPa=new $APP.r(null,"_opts","_opts",1634624069,null);K3=new $APP.k(null,"last-attr","last-attr",-526000708);nOa=new $APP.k(null,"conflict","conflict",1978796605);vPa=new $APP.k("db","fn","db/fn",-1175261470);wPa=new $APP.r("datascript.core","touch","datascript.core/touch",632058772,null);
xPa=new $APP.r(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);y3=new $APP.k(null,"recursion-limit","recursion-limit",52345639);yPa=new $APP.r("datascript.storage","-restore","datascript.storage/-restore",708714346,null);A2=new $APP.k("db.type","ref","db.type/ref",-1728373079);zPa=new $APP.r(null,"variance","variance",-1522424942,null);APa=new $APP.r("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);
BPa=new $APP.r("datascript.core","with","datascript.core/with",-1124098173,null);CPa=new $APP.k(null,"-restore","-restore",-515892319);U2=new $APP.k("db","id","db/id",-1388397098);DPa=new $APP.k("db.fn","retractAttribute","db.fn/retractAttribute",937402164);EPa=new $APP.r("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);FPa=new $APP.k("lookup-ref","syntax","lookup-ref/syntax",-317304012);
GPa=new $APP.r("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);HPa=new $APP.r("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);IPa=new $APP.r("datascript.core","db","datascript.core/db",667170070,null);JPa=new $APP.r(null,"addr","addr",42880790,null);KPa=new $APP.r(null,"-index-range","-index-range",898114142,null);LPa=new $APP.r(null,"settings","settings",-1098290894,null);L2=new $APP.k(null,"tx-data","tx-data",934159761);
u5=new $APP.k(null,"used-args","used-args",23596256);MPa=new $APP.r("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);NPa=new $APP.r(null,"make-storage-adapter","make-storage-adapter",937815346,null);l5=new $APP.k(null,"qwhere","qwhere",-1645067378);cOa=new $APP.k("db","ident","db/ident",-737096);M2=new $APP.k(null,"tempids","tempids",1767509089);g5=new $APP.k(null,"qfind","qfind",1529332972);
OPa=new $APP.r("datascript.core","serializable","datascript.core/serializable",-630048076,null);s5=new $APP.k(null,"prefix-context","prefix-context",-1269613591);PPa=new $APP.r(null,"store-impl!","store-impl!",901017629,null);z2=new $APP.k("db.cardinality","many","db.cardinality/many",772806234);R2=new $APP.k("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);QPa=new $APP.r("datascript.core","pull","datascript.core/pull",-1213970902,null);
K2=new $APP.k(null,"db-after","db-after",-571884666);Z4=new $APP.k("parser","where","parser/where",-966053850);RPa=new $APP.r(null,"restore-impl","restore-impl",1420181842,null);z5=new $APP.k(null,"seen","seen",-518999789);SPa=new $APP.r("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);$Na=new $APP.k("db.unique","value","db.unique/value",276903088);oOa=new $APP.k("db.fn","retractEntity","db.fn/retractEntity",-1423535441);TPa=new $APP.r(null,"attr","attr",1036399174,null);
UPa=new $APP.r(null,"storage-adapter","storage-adapter",-1255219640,null);VPa=new $APP.k("entity-id","missing","entity-id/missing",1234588374);WPa=new $APP.r("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);a5=new $APP.r(null,"or-join","or-join",591375469,null);XPa=new $APP.k("db.pull","reverse","db.pull/reverse",1999788297);YPa=new $APP.r(null,"db-from-reader","db-from-reader",1527469533,null);
$Pa=new $APP.r(null,"println-str","println-str",-2049216703,null);VOa=new $APP.k("parser","with","parser/with",-386255821);aQa=new $APP.r(null,"missing?","missing?",-1710383910,null);bQa=new $APP.r("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);ZPa=new $APP.r("datascript.core","transact!","datascript.core/transact!",1506351773,null);E1=new $APP.k(null,"avet","avet",1383857032);A5=new $APP.r(null,"schema","schema",58529736,null);dQa=new $APP.k(null,"entity","entity",-450970276);
cQa=new $APP.r(null,"serializable-datom","serializable-datom",451141133,null);eQa=new $APP.r("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);KOa=new $APP.k("parser","in","parser/in",1617442048);eOa=new $APP.k(null,"init-db","init-db",1595181278);gQa=new $APP.k(null,"addresses","addresses",-559529694);JNa=new $APP.k(null,"cmp","cmp",575646375);v2=new $APP.k(null,"hash","hash",-13781596);fQa=new $APP.r(null,"with","with",104234651,null);
D3=new $APP.k(null,"multival?","multival?",1072388383);tOa=new $APP.k("parser","pull","parser/pull",-2147427204);B5=new $APP.r(null,"tx","tx",2107161945,null);hQa=new $APP.r("datascript.core","store","datascript.core/store",1386427333,null);C5=new $APP.r(null,"tx-data","tx-data",-1720276008,null);cPa=new $APP.k(null,"tx-tail","tx-tail",1116487556);iQa=new $APP.r(null,"reset-conn!","reset-conn!",1315177148,null);$4=new $APP.k(null,"rule-vars","rule-vars",1665972520);
G2=new $APP.k("db","valueType","db/valueType",1827971944);W1=new $APP.k(null,"aevt","aevt",-585148059);kQa=new $APP.k("datascript","db","datascript/db",-1190971692);w5=new $APP.r(null,"-store","-store",1726542187,null);jQa=new $APP.k(null,"thaw-fn","thaw-fn",-240544261);D5=new $APP.k(null,"binding","binding",539932593);mOa=new $APP.k(null,"assertion","assertion",-1645134882);$APP.I2=new $APP.k(null,"datoms","datoms",-290874434);GOa=new $APP.r(null,"pull","pull",779986722,null);
KNa=new $APP.k(null,"set-metadata","set-metadata",1293757705);lQa=new $APP.r("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);nQa=new $APP.r(null,"untuple","untuple",-606149900,null);E5=new $APP.r(null,"c0","c0",2105080311,null);mQa=new $APP.r(null,"index-range","index-range",1044940937,null);ZOa=new $APP.r(null,"-differ?","-differ?",1465687357,null);B2=new $APP.k("db","isComponent","db/isComponent",423352398);P5=new $APP.r(null,"db","db",-1661185010,null);
pQa=new $APP.r(null,"sample","sample",1719555128,null);oQa=new $APP.r(null,"datom","datom",1268975437,null);qQa=new $APP.k(null,"serialize","serialize",-69216574);C2=new $APP.k("db","tupleAttrs","db/tupleAttrs",250080092);z3=new $APP.k(null,"recursive?","recursive?",1340075244);F5=new $APP.r(null,"conn","conn",1918841190,null);rQa=new $APP.k(null,"thaw-kw","thaw-kw",1076733097);aPa=new $APP.k(null,"pending-guards","pending-guards",-1255527308);sQa=new $APP.k("query","binding","query/binding",698240489);
zOa=new $APP.k(null,"avet-metadata","avet-metadata",1556019837);OOa=new $APP.k(null,"return-map","return-map",1620104901);r5=new $APP.k(null,"tuples","tuples",-676032639);tQa=new $APP.r("datascript.core","settings","datascript.core/settings",273729994,null);Q5=new $APP.k(null,"branches","branches",-1240337268);X5=new $APP.r(null,"datoms","datoms",1349657093,null);vQa=new $APP.k("transact","cas","transact/cas",816687170);wQa=new $APP.r("clojure.string","blank?","clojure.string/blank?",1772874244,null);
uQa=new $APP.r(null,"validate-schema","validate-schema",758884380,null);v5=new $APP.k(null,"listeners","listeners",394544445);$APP.K1=new $APP.k(null,"eavt","eavt",-666437073);Z1=new $APP.k(null,"max-eid","max-eid",2134868075);xQa=new $APP.r("datascript.storage","store","datascript.storage/store",-769865397,null);yQa=new $APP.r("datascript.core","index-range","datascript.core/index-range",-1484576383,null);AQa=new $APP.r(null,"tuple","tuple",1167864243,null);
BQa=new $APP.k("db","retractEntity","db/retractEntity",-1452737935);zQa=new $APP.r("datascript.core","listen!","datascript.core/listen!",1659161258,null);F2=new $APP.k(null,"attribute","attribute",-2074029119);$APP.F1=new $APP.k(null,"schema","schema",-1582001791);CQa=new $APP.r("datascript.db","DB","datascript.db/DB",348347258,null);DQa=new $APP.r("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);
EQa=new $APP.r("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);FQa=new $APP.r("datascript.db","Datom","datascript.db/Datom",1951800754,null);Y5=new $APP.k(null,"recursion-limits","recursion-limits",1762857814);vOa=new $APP.r(null,"...","...",-1926939749,null);COa=new $APP.k(null,"freeze-kw","freeze-kw",391758233);D2=new $APP.k("db.type","tuple","db.type/tuple",938234914);y2=new $APP.k("db","index","db/index",-1531680669);
xOa=new $APP.k(null,"max-addr","max-addr",1373100454);BOa=new $APP.k(null,"freeze-fn","freeze-fn",-575885995);GQa=new $APP.r("datascript.core","db-with","datascript.core/db-with",-1263574350,null);HQa=new $APP.k(null,"positional","positional",-203580463);IQa=new $APP.r(null,"db-with-tail","db-with-tail",-1072910014,null);RNa=new $APP.k(null,"ref-type","ref-type",-1367328851);w2=new $APP.k("db","unique","db/unique",329396388);KQa=new $APP.k("entity-id","syntax","entity-id/syntax",1921317045);
AOa=new $APP.k(null,"eavt-metadata","eavt-metadata",-1384819842);p5=new $APP.k(null,"sources","sources",-321166424);LQa=new $APP.k("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);Z5=new $APP.r(null,"tx-meta","tx-meta",-1495152575,null);JQa=new $APP.r(null,"delete-addrs","delete-addrs",742195107,null);yOa=new $APP.k(null,"aevt-metadata","aevt-metadata",-1844063817);N2=new $APP.k(null,"tx-meta","tx-meta",1159283194);MQa=new $APP.r(null,"pull-many","pull-many",1857679657,null);
NQa=new $APP.r(null,"conn-from-db","conn-from-db",-184109372,null);PQa=new $APP.r(null,"ground","ground",-1460862835,null);OQa=new $APP.r("datascript","Datom","datascript/Datom",-901340080,null);x3=new $APP.k(null,"pattern","pattern",242135423);DOa=new $APP.k("parser","rule-var","parser/rule-var",-1584354459);QQa=new $APP.r("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);SQa=new $APP.k(null,"new","new",-2085437848);XNa=new $APP.k(null,"index","index",-1531685915);
RQa=new $APP.r("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);UQa=new $APP.r(null,"stddev","stddev",775056588,null);TQa=new $APP.r(null,"G__29104","G__29104",-1051005620,null);a6=new $APP.k(null,"entity-id","entity-id",1485898093);VQa=new $APP.r(null,"store-tail","store-tail",-757879320,null);WQa=new $APP.k("db","cas","db/cas",-451542322);XQa=new $APP.r("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);
$1=new $APP.k(null,"max-tx","max-tx",1119558339);H3=new $APP.k(null,"first-attr","first-attr",-1993039831);E3=new $APP.k(null,"ref?","ref?",1932693720);YQa=new $APP.r(null,"sum","sum",1777518341,null);b6=new $APP.k(null,"attr","attr",-604132353);D4=new $APP.k(null,"visitor","visitor",-1026865865);S5=new $APP.k(null,"elements","elements",657646735);ZQa=new $APP.k("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);t5=new $APP.k("query","where","query/where",-1935159429);
$Qa=new $APP.r("datascript.storage","-store","datascript.storage/-store",-1879938067,null);T2=new $APP.k(null,"context","context",-830191113);aRa=new $APP.r("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);bRa=new $APP.r("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);cRa=new $APP.r(null,"!\x3d","!\x3d",-201205829,null);q5=new $APP.k(null,"rels","rels",1770187185);
eRa=new $APP.r("datascript.core","init-db","datascript.core/init-db",1493526573,null);J2=new $APP.k(null,"db-before","db-before",-553691536);fRa=new $APP.r(null,"adapter","adapter",444204808,null);Y2=new $APP.k("datascript.db","value-tempids","datascript.db/value-tempids",244806162);hOa=new $APP.k(null,"datom","datom",-371556090);VNa=new $APP.k(null,"strong","strong",269529E3);gOa=new $APP.k("transact","unique","transact/unique",-940992320);
kRa=new $APP.r("datascript.db","datom","datascript.db/datom",399198004,null);lRa=new $APP.k(null,"old","old",-1825222690);mRa=new $APP.k("db.pull","attr","db.pull/attr",-533298746);i6=new $APP.k(null,"db","db",993250759);nRa=new $APP.r("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);wOa=new $APP.k("db.pull","wildcard","db.pull/wildcard",116316031);s2=new $APP.k(null,"pull-patterns","pull-patterns",-343695048);
oRa=new $APP.r("datascript.storage","restore","datascript.storage/restore",1486895617,null);pRa=new $APP.r(null,"init-db","init-db",-1059254491,null);qRa=new $APP.k(null,"dirty?","dirty?",-2059845846);rRa=new $APP.k(null,"internal-ctor","internal-ctor",937392560);sRa=new $APP.r(null,"datom-from-reader","datom-from-reader",1334075127,null);o5=new $APP.k(null,"variable","variable",-281346492);tRa=new $APP.r(null,"restore-conn","restore-conn",-1560700042,null);
uRa=new $APP.r(null,"transact!","transact!",817805717,null);aOa=new $APP.k("db","attrTuples","db/attrTuples",860541631);F3=new $APP.k(null,"component?","component?",407783990);HOa=new $APP.r(null,"$","$",-1580747756,null);JOa=new $APP.r(null,"aggregate","aggregate",-1142967327,null);V2=new $APP.k("db","add","db/add",235286841);u2=new $APP.k(null,"pull-attrs","pull-attrs",-974863177);FOa=new $APP.k("parser","binding","parser/binding",-346395752);
wRa=new $APP.r("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);xRa=new $APP.r(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);c6=new $APP.k(null,"element","element",1974019749);INa=new $APP.k(null,"dirty","dirty",729553281);ARa=new $APP.r("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);v6=new $APP.r(null,"DB","DB",1622874957,null);
yRa=new $APP.r(null,"get-some","get-some",409442058,null);zRa=new $APP.r(null,"avg","avg",1837937727,null);x6=new $APP.k(null,"unfiltered-db","unfiltered-db",-1363720391);G3=new $APP.k(null,"attrs","attrs",-2090668713);ZNa=new $APP.k(null,"components","components",-1073188942);r1=new $APP.k(null,"storage","storage",1867247511);BRa=new $APP.r(null,"StorageAdapter","StorageAdapter",106942083,null);MNa=new $APP.k(null,"branching-factor","branching-factor",1903198601);
CRa=new $APP.r(null,"create-conn","create-conn",2071410861,null);DRa=new $APP.r("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);C3=new $APP.k(null,"xform","xform",-1725711008);MOa=new $APP.r(null,"not-join","not-join",-645515756,null);i5=new $APP.k(null,"qwith","qwith",-45809392);UOa=new $APP.k(null,"with","with",-1536296876);ERa=new $APP.r("datascript.core","datoms","datascript.core/datoms",961250077,null);EOa=new $APP.k("parser","rule-vars","parser/rule-vars",-1493174969);
FRa=new $APP.r("datascript.core","tx0","datascript.core/tx0",1432817831,null);GRa=new $APP.r("datascript.core","entity","datascript.core/entity",-1406213973,null);P3=new $APP.k(null,"reverse-attrs","reverse-attrs",630097702);E2=new $APP.k("schema","validation","schema/validation",1178447161);XOa=new $APP.k(null,"got","got",-1674745710);w6=new $APP.r(null,"Datom","Datom",1208901035,null);A3=new $APP.k(null,"reverse?","reverse?",-1672868474);WOa=new $APP.k("query","inputs","query/inputs",1042810394);
H2=new $APP.k("db","cardinality","db/cardinality",-104975659);HRa=new $APP.r(null,"serializable","serializable",1941609404,null);JRa=new $APP.r("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);IRa=new $APP.r(null,"count-distinct","count-distinct",-1566572514,null);KRa=new $APP.r("datascript.storage","storage","datascript.storage/storage",-366769060,null);LRa=new $APP.r(null,"listen!","listen!",-115577950,null);
MRa=new $APP.r("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);NRa=new $APP.r("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);PRa=new $APP.r(null,"db-with","db-with",233242042,null);ORa=new $APP.k("db.fn","call","db.fn/call",-151594418);QRa=new $APP.r(null,"force?","force?",-815397094,null);$Oa=new $APP.k(null,"prefix-clauses","prefix-clauses",1294180028);RRa=new $APP.k(null,"factory","factory",63933746);
SRa=new $APP.r(null,"touch","touch",-1158163300,null);TRa=new $APP.r("datascript.core","datom","datascript.core/datom",-1596234155,null);fOa=new $APP.k("db","current-tx","db/current-tx",1600722132);m1=new $APP.k(null,"address","address",559499426);URa=new $APP.r("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);WRa=new $APP.r("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);VRa=new $APP.k(null,"operation","operation",-1267664310);
WNa=new $APP.k(null,"index-access","index-access",-1548960265);XRa=new $APP.r(null,"datascript.storage","datascript.storage",315947890,null);k5=new $APP.k(null,"qin","qin",1372651151);D6=new $APP.r(null,"storage","storage",-787188258,null);n5=new $APP.k(null,"symbols","symbols",1211743);YRa=new $APP.r(null,"squuid","squuid",-1898207797,null);t4=new $APP.k(null,"fragment","fragment",826775688);ZRa=new $APP.k("transaction","filtered","transaction/filtered",1699706605);
sOa=new $APP.k("datascript.db","internal","datascript.db/internal",-249301114);p2=new $APP.k(null,"rschema","rschema",-1196134054);$Ra=new $APP.r(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);aSa=new $APP.r(null,"addr+data-seq","addr+data-seq",1516602343,null);dSa=new $APP.r(null,"store","store",-1142205747,null);bSa=new $APP.r(null,"median","median",-2084869638,null);cSa=new $APP.r("clojure.string","includes?","clojure.string/includes?",-1842146260,null);
eSa=new $APP.r(null,"restore","restore",1907703951,null);fSa=new $APP.r(null,"empty-db","empty-db",1486862004,null);P2=new $APP.k(null,"v","v",21465059);S2=new $APP.k("transact","syntax","transact/syntax",-299207078);F6=new $APP.r(null,"-restore","-restore",1124639208,null);ROa=new $APP.k(null,"find","find",496279456);Q2=new $APP.k(null,"a","a",-2123407586);hSa=new $APP.r("datascript","DB","datascript/DB",-487332776,null);uOa=new $APP.k(null,"*","*",-1294732318);h1=new $APP.k(null,"free","free",801364328);
gSa=new $APP.k("db.fn","cas","db.fn/cas",-379352172);LNa=new $APP.k(null,"shift","shift",997140064);iSa=new $APP.r(null,"tx0","tx0",-4656209,null);NOa=new $APP.k(null,"rule","rule",729973257);kSa=new $APP.r(null,"from-serializable","from-serializable",945516427,null);jSa=new $APP.r(null,"resolve-datom","resolve-datom",-294110827,null);lSa=new $APP.r(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);nSa=new $APP.r(null,"IStorage","IStorage",668238001,null);
mSa=new $APP.r(null,"get-else","get-else",1312024065,null);w3=new $APP.k(null,"limit","limit",-1355822363);oSa=new $APP.r(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);pSa=new $APP.r("datascript.core","pull-many","datascript.core/pull-many",394351057,null);vSa=new $APP.r(null,"Entity","Entity",1953938502,null);var Zja,lX;datascript={};Zja={};$APP.f=JW.prototype;$APP.f.U=function(a,b,c){return LW.j?LW.j(this,b,c):LW.call(null,this,b,c)};$APP.f.ja=function(a,b){return $APP.Yb(this.Ne,b)};$APP.f.ea=function(a,b){return $APP.Az(this.Ne,b,null)};$APP.f.M=function(a,b,c){return $APP.Az(this.Ne,b,c)};$APP.f.V=function(a,b,c){return $APP.Oc(this.Ne,b,c)};var xNa=Math.pow(2,31),e1=Math.pow(2,5),WY=e1/2,yNa=e1+WY>>>1,vNa=e1-1,wNa=$ja($APP.Wk.h(function(a){return Math.pow(2,a)},$APP.kr.j(0,52,5)));$APP.f=hX.prototype;$APP.f.$g=function(a,b){var c=this;lZ(this,$APP.ie(c.children));$APP.QA.g($APP.mA.h(function(d,e){var h=c.children[d];e=$APP.m(h)?(e=null==e)?e:h.Hl:h;return $APP.m(e)?(h=XY(h,b),c.Sb[d]=h):null},c.Sb));a=GX(b,this,c.gh);c.Hl=!1;return c.gh=a};$APP.f.ih=function(){var a=this.keys;return a[a.length-1]};$APP.f.Zh=function(){return this.keys.length};
$APP.f.kh=function(a,b,c){lZ(this,$APP.ie(this.children));lZ(b,$APP.ie(b.children));a=b.gh;$APP.m(a)&&WR(c,new $APP.H(null,1,5,$APP.I,[a],null));return kX(this.keys.concat(b.keys),this.children.concat(b.children),this.Sb.concat(b.Sb),$APP.F([new $APP.g(null,1,[m1,this.gh],null)]))};
$APP.f.lh=function(a,b){lZ(this,$APP.ie(this.children));lZ(b,$APP.ie(b.children));a=WW(this.keys,b.keys);var c=WW(this.children,b.children),d=WW(this.Sb,b.Sb);return YW(kX(a[0],c[0],d[0],$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),kX(a[1],c[1],d[1],$APP.F([new $APP.g(null,1,[m1,b.gh],null)])))};$APP.f.Yg=function(a,b){if($APP.B.h(-1,a))return null;var c=$APP.m(this.Sb)?this.Sb[a]:null;$APP.qb(this.children[a])?(b=FX(b,c),this.children[a]=b):$APP.m($APP.m(b)?c:b)&&uNa(b,c);return this.children[a]};
$APP.f.yl=function(a,b,c,d){a=TW(b,this.keys,c);a=this.Yg(a,d);return $APP.m(a)?dX(a,b,c,d):null};
$APP.f.bl=function(a,b,c,d){lZ(this,$APP.ie(this.children));a=QW(b,this.keys,this.keys.length-2,c);var e=this.Yg(a,d);c=eX(e,b,c,d);if($APP.m(c)){d=this.keys;e=a+1;var h=c.map($W);b=FNa(b,d,a,e,h,h.length)?d:VW(d,a,e,h);d=VW(this.children,a,a+1,c);a=VW(this.Sb,a,a+1,XW(c));if(d.length<=e1)return[kX(b,d,a,$APP.F([new $APP.g(null,1,[m1,this.gh],null)]))];c=d.length>>>1;return[kX(b.slice(0,c),d.slice(0,c),a.slice(0,c),$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),c_(b.slice(c),d.slice(c),a.slice(c))]}return null};
$APP.f.xl=function(a,b,c,d,e,h,l){lZ(this,$APP.ie(this.children));var p=TW(b,this.keys,c);if(-1===p)return null;var t=this.Yg(p,l);a=0<=p-1?this.Yg(p-1,l):null;var A=p+1<this.children.length?this.Yg(p+1,l):null;c=fX(t,b,c,!1,a,A,l);return $APP.m(c)?(a=$APP.m(a)?p-1:p,p=$APP.m(A)?2+p:1+p,A=this.keys,t=c.map($W),b=FNa(b,A,a,p,t,t.length)?A:VW(A,a,p,t),A=VW(this.children,a,p,c),c=VW(this.Sb,a,p,XW(c)),p>a&&(a=$APP.qz.h($APP.qk($APP.Rq.h($APP.mb,this.Sb.slice(a,p))),$APP.qk($APP.Rq.h($APP.mb,c))),$APP.m($APP.m(l)?
$APP.u(a):l)&&WR(l,a)),gX(kX(b,A,c,$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),d,e,h,l)):null};var q1=function q1(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return q1.l(arguments[0],1<c.length?new $APP.Fd(c.slice(1),0,null):null)};q1.l=function(a,b){var c=$APP.ph(b);b=$APP.gf.h(c,m1);c=$APP.gf.j(c,INa,!0);return new iX(a,b,c)};q1.C=1;q1.G=function(a){var b=$APP.x(a);a=$APP.z(a);return this.l(b,a)};$APP.f=iX.prototype;
$APP.f.$g=function(a,b){a=this.Hl;return $APP.m($APP.m(a)?a:null==this.gh)?(b=GX(b,this,this.gh),this.Hl=!1,this.gh=b):this.gh};$APP.f.ih=function(){var a=this.keys;return a[a.length-1]};$APP.f.Zh=function(){return this.keys.length};$APP.f.kh=function(a,b,c){a=b.gh;$APP.m(a)&&WR(c,new $APP.H(null,1,5,$APP.I,[a],null));return q1.l(this.keys.concat(b.keys),$APP.F([new $APP.g(null,1,[m1,this.gh],null)]))};
$APP.f.lh=function(a,b){a=WW(this.keys,b.keys);return YW(q1.l(a[0],$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),q1.l(a[1],$APP.F([new $APP.g(null,1,[m1,b.gh],null)])))};$APP.f.Yg=function(a){return this.keys[a]};$APP.f.yl=function(a,b,c,d){a=SW(b,this.keys,c);return-1===a?null:this.Yg(a,d)};
$APP.f.bl=function(a,b,c){a=QW(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===e1?(b=d+1>>>1,a>b?[q1.l(this.keys.slice(0,b),$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),q1(UW(this.keys,b,d,a,a,[c]))]:[q1.l(UW(this.keys,0,b,a,a,[c]),$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),q1(this.keys.slice(b,d))]):[q1.l(VW(this.keys,a,a,[c]),$APP.F([new $APP.g(null,1,[m1,this.gh],null)]))]};
$APP.f.xl=function(a,b,c,d,e,h,l){a=SW(b,this.keys,c);if(-1===a)return null;a=VW(this.keys,a,a+1,[]);return gX(q1.l(a,$APP.F([new $APP.g(null,1,[m1,this.gh],null)])),d,e,h,l)};$APP.f=$APP.jX.prototype;$APP.f.Fl=function(){var a=this.root;return $APP.m(a)?a:$APP.m(this.gh)?this.root=a=FX(this.storage,this.gh):null};$APP.f.toString=function(){return $APP.qd(this)};$APP.f.ea=function(a,b){this.Fl(null);return dX(this.root,this.Jc,b,this.storage)};
$APP.f.M=function(a,b,c){this.Fl(null);a=dX(this.root,this.Jc,b,this.storage);return $APP.m(a)?a:c};$APP.f.V=function(a,b,c){return $APP.Lk(b,$APP.Vk,"#{"," ","}",c,$APP.u(this))};$APP.f.W=function(){return this.K};$APP.f.ba=function(){return new $APP.jX(this.storage,this.root,this.shift,this.O,this.Jc,this.K,this.Lc,this.gh)};$APP.f.Z=function(){return this.O};$APP.f.Wc=function(){return $APP.Gc(uX.g?uX.g(this):uX.call(null,this))};$APP.f.Y=function(){var a=this.Lc;return null!=a?a:this.Lc=a=$APP.Od(this)};
$APP.f.R=function(a,b){var c=this;return $APP.Ge(b)&&this.O===$APP.ie(b)&&$APP.Kh(function(d){return $APP.jf(c,d)},b)};$APP.f.Yd=function(){return this};$APP.f.Ha=function(){return new $APP.jX(this.storage,q1([]),0,0,this.Jc,this.K,null,null)};$APP.f.Xf=function(a,b){return DX.j?DX.j(this,b,this.Jc):DX.call(null,this,b,this.Jc)};$APP.f.Qa=function(a,b){a=uX.g?uX.g(this):uX.call(null,this);return $APP.m(a)?$APP.Cz(a,b):b.F?b.F():b.call(null)};
$APP.f.Ra=function(a,b,c){a=uX.g?uX.g(this):uX.call(null,this);return $APP.m(a)?$APP.Cz(a,b,c):c};$APP.f.Gd=function(a,b){return CX.j?CX.j(this,b,this.Jc):CX.call(null,this,b,this.Jc)};$APP.f.ne=function(){return this};$APP.f.$g=function(a,b){null==this.storage&&(this.storage=b);this.Fl(null);null==this.gh&&(this.gh=XY(this.root,this.storage));return this.gh};$APP.f.aa=function(){return uX.g?uX.g(this):uX.call(null,this)};
$APP.f.Og=function(a,b){return DX.j?DX.j(this,b,this.Jc):DX.call(null,this,b,this.Jc)};$APP.f.X=function(a,b){return new $APP.jX(this.storage,this.root,this.shift,this.O,this.Jc,b,this.Lc,this.gh)};$APP.f.da=function(a,b){return CX.j?CX.j(this,b,this.Jc):CX.call(null,this,b,this.Jc)};$APP.f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length-1)].join(""));}};
$APP.f.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Db(b)))};$APP.f.g=function(a){return this.ea(null,a)};$APP.f.h=function(a,b){return this.M(null,a,b)};
var oX=function oX(a,b,c,d){var h=SX(c,d);if(0<d){var l=g_(b,h,a.storage),p=d-1;a=oX.I?oX.I(a,l,c,p):oX.call(null,a,l,c,p);return null==a?h+1<b.children.length?TX(0,d,h+1):null:TX(a,d,h)}return h+1<b.keys.length?TX(0,0,h+1):null},rX=function rX(a,b,c,d){var h=SX(c,d);if(0===d&&0===h)return null;if(0===d)return TX(0,0,h-1);if(h>=aX(b))return qX(b,c,d,a.storage);var l=g_(b,h,a.storage);var p=d-1;l=rX.I?rX.I(a,l,c,p):rX.call(null,a,l,c,p);if(null!=l)return TX(l,d,h);if(0===h)return null;a=qX(g_(b,h-
1,a.storage),c,d-1,a.storage);return TX(a,d,h-1)};$APP.f=vX.prototype;$APP.f.Z=function(){return this.end-this.ob};$APP.f.fa=function(a,b){return this.H[this.ob+b]};$APP.f.Ua=function(a,b,c){return 0<=b&&b<this.end-this.ob?this.H[this.ob+b]:c};$APP.f.gf=function(){if(this.ob===this.end)throw Error("-drop-first of empty chunk");return new $APP.Vg(this.H,this.ob+1,this.end)};$APP.f.Qa=function(a,b){return this.ob===this.end?b.F?b.F():b.call(null):$APP.Cz(this.gf(null),b,this.H[this.ob])};
$APP.f.Ra=function(a,b,c){for(a=this.ob;;)if(a<this.end){var d=this.H[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Xd(c))return $APP.q(c);a+=1}else return c};$APP.f=wX.prototype;$APP.f.toString=function(){return $APP.qd(this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,$APP.Vk,"("," ",")",c,$APP.u(this))};
$APP.f.Na=function(){if($APP.m(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new wX(this.set,a,this.right,this.keys,this.idx+1):null}a=pX(this.set,this.left);return a<this.right?this.ng(a,this.right):null}return null};$APP.f.Wc=function(){if($APP.m(this.keys)){var a=this.set,b=sX(this.set,this.left),c=sX(this.set,this.right);return yX.j?yX.j(a,b,c):yX.call(null,a,b,c)}return null};$APP.f.R=function(a,b){return $APP.ug(this,b)};
$APP.f.Qa=function(a,b){if(null==this.keys)return b.F?b.F():b.call(null);a=this.Sa(null);var c=this.Na(null);return null==c?a:$APP.Cz(c,b,a)};$APP.f.Ra=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var h=d[e];c=b.h?b.h(c,h):b.call(null,c,h);if($APP.Xd(c))return $APP.q(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=pX(this.set,a),a<this.right)h=a,d=mX(this.set,a),e=SX(a,0),a=h;else return c}};
$APP.f.Sa=function(){return $APP.m(this.keys)?this.keys[this.idx]:null};$APP.f.hb=function(){var a=this.Na(null);return $APP.m(a)?a:$APP.Id};$APP.f.aa=function(){return $APP.m(this.keys)?this:null};$APP.f.Ue=function(){var a=this.left,b=this.right;return new vX(this.keys,this.idx,(a<xNa&&b<xNa?a>>>5===b>>>5:Math.floor(a/e1)===Math.floor(b/e1))?SX(this.right,0):this.keys.length)};$APP.f.le=function(){var a=this.Ge();return $APP.m(a)?a:$APP.Id};
$APP.f.ng=function(a,b){return new wX(this.set,a,b,mX(this.set,a),SX(a,0))};$APP.f.Ge=function(){var a=pX(this.set,TX(this.left,0,this.keys.length-1));return a<this.right?this.ng(a,this.right):null};$APP.f=xX.prototype;$APP.f.toString=function(){return $APP.qd(this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,$APP.Vk,"("," ",")",c,$APP.u(this))};
$APP.f.Na=function(){if($APP.m(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new xX(this.set,this.left,a,this.keys,this.idx-1):null}a=sX(this.set,this.right);return this.left<a?this.ng(this.left,a):null}return null};$APP.f.Wc=function(){return $APP.m(this.keys)?tX(this.set,pX(this.set,this.left),pX(this.set,this.right)):null};$APP.f.R=function(a,b){return $APP.ug(this,b)};$APP.f.Sa=function(){return $APP.m(this.keys)?this.keys[this.idx]:null};
$APP.f.hb=function(){var a=this.Na(null);return $APP.m(a)?a:$APP.Id};$APP.f.aa=function(){return $APP.m(this.keys)?this:null};$APP.f.ng=function(a,b){return new xX(this.set,a,b,mX(this.set,b),SX(b,0))};var cka=Error,zZ=$APP.Wq.h($APP.Cg,$APP.qi),fka=$APP.Wq.h($APP.Cg,$APP.mk),NX=function NX(a){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(NX),$APP.En.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.uh);},OX=function OX(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(OX),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);},PX=function PX(a){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(PX),$APP.En.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.uh);
},UX=function UX(a){switch(arguments.length){case 2:return UX.h(arguments[0],arguments[1]);case 3:return UX.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};UX.h=function(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(UX),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);};
UX.j=function(a,b,c){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(UX),$APP.En.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.uh);};UX.C=3;var WX=function WX(a,b,c){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(WX),$APP.En.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.uh);},RX=function RX(a,b,c){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(RX),$APP.En.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.uh);};$APP.f=$APP.LX.prototype;
$APP.f.gb=function(){return 0<this.tx?this.tx:-this.tx};$APP.f.Xc=function(){return 0<this.tx};$APP.f.Y=function(){return 0===this.Lc?this.Lc=NX(this):this.Lc};$APP.f.R=function(a,b){return b instanceof $APP.LX&&OX(this,b)};$APP.f.aa=function(){return PX(this)};$APP.f.ea=function(a,b){return RX(this,b,null)};$APP.f.M=function(a,b,c){return RX(this,b,c)};$APP.f.fa=function(a,b){return UX.h(this,b)};$APP.f.Ua=function(a,b,c){return UX.j(this,b,c)};$APP.f.U=function(a,b,c){return WX(this,b,c)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,$APP.Vk,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.I,[this.e,this.a,this.v,this.gb(null),this.Xc(null)],null))};IW("datascript.db.Datom",$APP.LX);
var VX=function VX(a){switch(arguments.length){case 3:return VX.j(arguments[0],arguments[1],arguments[2]);case 4:return VX.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return VX.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};VX.j=function(a,b,c){return new $APP.LX(a,b,c,536870912,0,0)};VX.I=function(a,b,c,d){return new $APP.LX(a,b,c,d,0,0)};
VX.P=function(a,b,c,d,e){return new $APP.LX(a,b,c,$APP.m(e)?d:-d,0,0)};VX.C=5;NX=function(){return null};NX=function(a){return IX(IX($APP.zd(a.e),$APP.zd(a.a)),$APP.zd(a.v))};OX=function(){return null};OX=function(a,b){return a.e===b.e&&$APP.B.h(a.a,b.a)&&$APP.B.h(a.v,b.v)};PX=function(){return null};PX=function(a){return new $APP.G(null,a.e,new $APP.G(null,a.a,new $APP.G(null,a.v,new $APP.G(null,a.gb(null),new $APP.G(null,a.Xc(null),null,1,null),2,null),3,null),4,null),5,null)};RX=function(){return null};
RX=function(a,b,c){if(b instanceof $APP.k)switch(b instanceof $APP.k?b.T:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.gb(null);case "added":return a.Xc(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.gb(null);case "added":return a.Xc(null);default:return c}else return c};
UX=function(a){switch(arguments.length){case 2:return UX.h(arguments[0],arguments[1]);case 3:return UX.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};UX.h=function(){return null};UX.j=function(){return null};UX.C=3;
UX=function(a){switch(arguments.length){case 2:return UX.h(arguments[0],arguments[1]);case 3:return UX.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};UX.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.Xc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.n.g(b)].join(""));}};
UX.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.Xc(null);default:return c}};UX.C=3;WX=function(){return null};
WX=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "e":return VX.P(c,a.a,a.v,a.gb(null),a.Xc(null));case "a":return VX.P(a.e,c,a.v,a.gb(null),a.Xc(null));case "v":return VX.P(a.e,a.a,c,a.gb(null),a.Xc(null));case "tx":return VX.P(a.e,a.a,a.v,c,a.Xc(null));case "added":return VX.P(a.e,a.a,a.v,a.gb(null),c);default:throw new cka(["invalid key for #datascript/Datom: ",$APP.n.g(b)].join(""));}};
var QY=function QY(a){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(QY),$APP.En.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.uh);},RY=function RY(a){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(RY),$APP.En.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.uh);},SY=function SY(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(SY),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);},X4=function X4(a){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(X4),
$APP.En.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.uh);},qY=function qY(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(qY),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);},TY=function TY(a,b,c){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(TY),$APP.En.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.uh);},$Y=function $Y(a,b,c,d,e,h,l){throw $APP.Fp.h(["Not implemented: (",$APP.n.g($Y),$APP.En.h(" ",new $APP.H(null,7,5,$APP.I,[a,b,c,d,e,
h,l],null))].join(""),$APP.uh);},aZ=function aZ(a,b,c,d,e,h,l,p){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(aZ),$APP.En.h(" ",new $APP.H(null,8,5,$APP.I,[a,b,c,d,e,h,l,p],null))].join(""),$APP.uh);};$APP.f=$APP.vY.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "schema":return this.ec;case "eavt":return this.Lb;case "aevt":return this.jc;case "avet":return this.ac;case "max-eid":return this.xc;case "max-tx":return this.yc;case "rschema":return this.oc;case "pull-patterns":return this.nc;case "pull-attrs":return this.mc;case "hash":return this.hash;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.S.h(new $APP.H(null,10,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.F1,this.ec],null),new $APP.H(null,2,5,$APP.I,[$APP.K1,this.Lb],null),new $APP.H(null,2,5,$APP.I,[W1,this.jc],null),new $APP.H(null,2,5,$APP.I,[E1,this.ac],null),new $APP.H(null,2,5,$APP.I,[Z1,this.xc],null),new $APP.H(null,2,5,$APP.I,[$1,this.yc],null),new $APP.H(null,2,5,$APP.I,[p2,this.oc],null),new $APP.H(null,
2,5,$APP.I,[s2,this.nc],null),new $APP.H(null,2,5,$APP.I,[u2,this.mc],null),new $APP.H(null,2,5,$APP.I,[v2,this.hash],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,10,new $APP.H(null,10,5,$APP.I,[$APP.F1,$APP.K1,W1,E1,Z1,$1,p2,s2,u2,v2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,this.o,this.D)};
$APP.f.Z=function(){return 10+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1515640948^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ec,b.ec)&&$APP.B.h(this.Lb,b.Lb)&&$APP.B.h(this.jc,b.jc)&&$APP.B.h(this.ac,b.ac)&&$APP.B.h(this.xc,b.xc)&&$APP.B.h(this.yc,b.yc)&&$APP.B.h(this.oc,b.oc)&&$APP.B.h(this.nc,b.nc)&&$APP.B.h(this.mc,b.mc)&&$APP.B.h(this.hash,b.hash)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,10,[$APP.F1,null,$1,null,v2,null,W1,null,E1,null,Z1,null,$APP.K1,null,u2,null,s2,null,p2,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.F1,b):$APP.Ig.call(null,$APP.F1,b))?new $APP.vY(c,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.K1,b):$APP.Ig.call(null,$APP.K1,b))?new $APP.vY(this.ec,c,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(W1,b):$APP.Ig.call(null,W1,b))?new $APP.vY(this.ec,this.Lb,c,this.ac,this.xc,this.yc,this.oc,
this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(E1,b):$APP.Ig.call(null,E1,b))?new $APP.vY(this.ec,this.Lb,this.jc,c,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(Z1,b):$APP.Ig.call(null,Z1,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,c,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($1,b):$APP.Ig.call(null,$1,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,c,this.oc,this.nc,
this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(p2,b):$APP.Ig.call(null,p2,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,c,this.nc,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(s2,b):$APP.Ig.call(null,s2,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,c,this.mc,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(u2,b):$APP.Ig.call(null,u2,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,
c,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(v2,b):$APP.Ig.call(null,v2,b))?new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,c,this.B,this.o,null):new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,10,5,$APP.I,[new $APP.kf($APP.F1,this.ec,null),new $APP.kf($APP.K1,this.Lb,null),new $APP.kf(W1,this.jc,null),new $APP.kf(E1,this.ac,null),new $APP.kf(Z1,this.xc,null),new $APP.kf($1,this.yc,null),new $APP.kf(p2,this.oc,null),new $APP.kf(s2,this.nc,null),new $APP.kf(u2,this.mc,null),new $APP.kf(v2,this.hash,null)],null),this.o))};
$APP.f.X=function(a,b){return new $APP.vY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.oc,this.nc,this.mc,this.hash,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};
$APP.f.Rh=function(a,b){a:for(var c=$APP.K1.g(b),d=b=a=$APP.qi,e=this.Lb;;){if($APP.Ee(e)){var h=new $APP.H(null,3,5,$APP.I,[$APP.qh(a),$APP.qh($APP.In.h(b,c)),$APP.qh(d)],null);break a}if($APP.Ee(c)){h=new $APP.H(null,3,5,$APP.I,[$APP.qh($APP.In.h(a,e)),$APP.qh(b),$APP.qh(d)],null);break a}var l=$APP.x(e),p=$APP.x(c);try{h=fY.h?fY.h(l,p):fY.call(null,l,p)}catch(t){if(t instanceof Error)h=hPa;else throw t;}if($APP.B.h(h,hPa))a=$APP.Cg.h(a,l),b=$APP.Cg.h(b,p),e=$APP.z(e),c=$APP.z(c);else if(0===h)d=
$APP.Cg.h(d,l),e=$APP.z(e),c=$APP.z(c);else if(0>h)a=$APP.Cg.h(a,l),e=$APP.z(e);else if(0<h)b=$APP.Cg.h(b,p),c=$APP.z(c);else{h=null;break a}}return h};$APP.f.Ga=$APP.yd;$APP.f.V=function(a,b,c){return TY(this,b,c)};$APP.f.Eg=$APP.yd;$APP.f.Z=function(){return $APP.ie(this.Lb)};$APP.f.Ji=$APP.yd;$APP.f.Wc=function(){return $APP.Gc(this.Lb)};$APP.f.jf=$APP.yd;$APP.f.Y=function(){return QY(this)};$APP.f.R=function(a,b){return SY(this,b)};$APP.f.Dh=$APP.yd;
$APP.f.Yd=function(){return $APP.Eq.j($APP.Eq.j($APP.Eq.j(this,$APP.K1,$APP.eh),W1,$APP.eh),E1,$APP.eh)};$APP.f.Fg=$APP.yd;$APP.f.Ha=function(){return $APP.Ae(X4(new $APP.g(null,5,[$APP.F1,this.ec,p2,this.oc,$APP.K1,$APP.ue(this.Lb),W1,$APP.ue(this.jc),E1,$APP.ue(this.ac)],null)),$APP.Be(this))};$APP.f.Gd=function(){throw $APP.Fp.h("datascript.DB/conj! is not supported",$APP.uh);};$APP.f.ne=function(){return $APP.Eq.j($APP.Eq.j($APP.Eq.j(this,$APP.K1,$APP.fh),W1,$APP.fh),E1,$APP.fh)};$APP.f.Sh=function(){return kQa};
$APP.f.hh=function(a,b,c,d,e,h){rY(this,b,c,d,e,h);return EX($APP.gf.h(this,b),aZ(this,b,c,d,e,h,0,536870912),aZ(this,b,c,d,e,h,2147483647,2147483647))};$APP.f.jh=function(a,b,c,d,e,h){rY(this,b,c,d,e,h);return EX($APP.gf.h(this,b),aZ(this,b,c,d,e,h,0,536870912),VX.I(2147483647,null,null,2147483647))};
$APP.f.Zg=function(a,b,c,d){rY(this,E1,b,null,null,null);if(!(b instanceof $APP.k||"string"===typeof b))throw a=new $APP.G(null,KPa,new $APP.G(null,P5,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([b]))," at ",$APP.yl.l($APP.F([a])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,b,T2,a,$APP.xJ,S2],null));return EX(this.ac,$Y(this,null,b,c,null,0,536870912),$Y(this,null,b,d,null,
2147483647,2147483647))};$APP.f.Vg=$APP.yd;$APP.f.Xg=function(){return this.ec};$APP.f.Wg=function(a,b){a=this.oc;return a.g?a.g(b):a.call(null,b)};$APP.f.Th=$APP.yd;
$APP.f.ah=function(a,b){a=$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null);b=this.Lb;var h=this.jc,l=this.ac;$APP.jf(uY(this,z2),c);return $APP.m(a)?$APP.m(c)?null!=d?$APP.m(e)?EX(b,VX.I(a,c,d,e),VX.I(a,c,d,e)):EX(b,VX.I(a,c,d,536870912),VX.I(a,c,d,2147483647)):$APP.m(e)?$APP.XD($APP.ji.g(function(p){return $APP.B.h(e,p.gb(null))}),EX(b,VX.I(a,c,null,536870912),VX.I(a,c,null,2147483647))):EX(b,VX.I(a,c,null,536870912),VX.I(a,c,null,2147483647)):null!=d?$APP.m(e)?
$APP.XD($APP.ji.g(function(p){return $APP.B.h(d,p.v)&&$APP.B.h(e,p.gb(null))}),EX(b,VX.I(a,null,null,536870912),VX.I(a,null,null,2147483647))):$APP.XD($APP.ji.g(function(p){return $APP.B.h(d,p.v)}),EX(b,VX.I(a,null,null,536870912),VX.I(a,null,null,2147483647))):$APP.m(e)?$APP.XD($APP.ji.g(function(p){return $APP.B.h(e,p.gb(null))}),EX(b,VX.I(a,null,null,536870912),VX.I(a,null,null,2147483647))):EX(b,VX.I(a,null,null,536870912),VX.I(a,null,null,2147483647)):$APP.m(c)?null!=d?$APP.m(e)?qY(this,c)?$APP.XD($APP.ji.g(function(p){return $APP.B.h(e,
p.gb(null))}),EX(l,VX.I(0,c,d,536870912),VX.I(2147483647,c,d,2147483647))):$APP.XD($APP.ji.g(function(p){return $APP.B.h(d,p.v)&&$APP.B.h(e,p.gb(null))}),EX(h,VX.I(0,c,null,536870912),VX.I(2147483647,c,null,2147483647))):qY(this,c)?EX(l,VX.I(0,c,d,536870912),VX.I(2147483647,c,d,2147483647)):$APP.XD($APP.ji.g(function(p){return $APP.B.h(d,p.v)}),EX(h,VX.I(0,c,null,536870912),VX.I(2147483647,c,null,2147483647))):$APP.m(e)?$APP.XD($APP.ji.g(function(p){return $APP.B.h(e,p.gb(null))}),EX(h,VX.I(0,c,null,
536870912),VX.I(2147483647,c,null,2147483647))):EX(h,VX.I(0,c,null,536870912),VX.I(2147483647,c,null,2147483647)):null!=d?$APP.m(e)?$APP.ji.h(function(p){return $APP.B.h(d,p.v)&&$APP.B.h(e,p.gb(null))},b):$APP.ji.h(function(p){return $APP.B.h(d,p.v)},b):$APP.m(e)?$APP.ji.h(function(p){return $APP.B.h(e,p.gb(null))},b):b};$APP.f=zY.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "unfiltered-db":return this.qc;case "pred":return this.Yb;case "hash":return this.hash;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[x6,this.qc],null),new $APP.H(null,2,5,$APP.I,[$APP.cG,this.Yb],null),new $APP.H(null,2,5,$APP.I,[v2,this.hash],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[x6,$APP.cG,v2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new zY(this.qc,this.Yb,this.hash,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-351969977^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.qc,b.qc)&&$APP.B.h(this.Yb,b.Yb)&&$APP.B.h(this.hash,b.hash)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[v2,null,$APP.cG,null,x6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new zY(this.qc,this.Yb,this.hash,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(x6,b):$APP.Ig.call(null,x6,b))?new zY(c,this.Yb,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.cG,b):$APP.Ig.call(null,$APP.cG,b))?new zY(this.qc,c,this.hash,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(v2,b):$APP.Ig.call(null,v2,b))?new zY(this.qc,this.Yb,c,this.B,this.o,null):new zY(this.qc,this.Yb,this.hash,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf(x6,this.qc,null),new $APP.kf($APP.cG,this.Yb,null),new $APP.kf(v2,this.hash,null)],null),this.o))};$APP.f.X=function(a,b){return new zY(this.qc,this.Yb,this.hash,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.Fh=$APP.yd;$APP.f.ea=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.f.M=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.f.Ga=$APP.yd;$APP.f.V=function(a,b,c){return TY(this,b,c)};$APP.f.Eg=$APP.yd;$APP.f.Z=function(){return $APP.ie(mY(this,$APP.K1,null,null,null,null))};$APP.f.jf=$APP.yd;$APP.f.Y=function(){return RY(this)};$APP.f.R=function(a,b){return SY(this,b)};$APP.f.Fg=$APP.yd;$APP.f.Ha=function(){throw Error("-empty is not supported on FilteredDB");};$APP.f.Dg=$APP.yd;
$APP.f.ja=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.f.U=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.f.hh=function(a,b,c,d,e,h){return $APP.ji.h(this.Yb,mY(this.qc,b,c,d,e,h))};$APP.f.jh=function(a,b,c,d,e,h){return $APP.ji.h(this.Yb,nY(this.qc,b,c,d,e,h))};$APP.f.Zg=function(a,b,c,d){return $APP.ji.h(this.Yb,oY(this.qc,b,c,d))};$APP.f.Vg=$APP.yd;$APP.f.Xg=function(){return tY(this.qc)};$APP.f.Wg=function(a,b){return uY(this.qc,b)};
$APP.f.Th=$APP.yd;$APP.f.ah=function(a,b){return $APP.ji.h(this.Yb,kY(this.qc,b))};X4=function(a){a=$APP.ph(a);$APP.gf.h(a,$APP.F1);$APP.gf.h(a,$APP.K1);$APP.gf.h(a,W1);$APP.gf.h(a,E1);$APP.gf.h(a,Z1);$APP.gf.h(a,$1);return null};
X4=function(a){var b=$APP.ph(a);a=$APP.gf.h(b,$APP.F1);var c=$APP.gf.h(b,$APP.K1),d=$APP.gf.h(b,W1),e=$APP.gf.h(b,E1),h=$APP.gf.h(b,Z1),l=$APP.gf.h(b,$1);l=$APP.m(l)?l:536870912;var p=$APP.Cl.g(0);h=$APP.m(h)?h:0;var t=OW(),A=OW();b=p2.g(b);b=$APP.m(b)?b:JY($APP.bp.l($APP.F([new $APP.g(null,1,[cOa,new $APP.g(null,1,[w2,x2],null)],null),a])));return yY($APP.Oj([$APP.F1,$1,v2,W1,E1,Z1,$APP.K1,u2,s2,p2],[a,l,p,d,e,h,c,t,A,b]))};QY=function(){return null};
QY=function(a){var b=$APP.q(a.hash);return 0===b?$APP.Th(a.hash,IX($APP.zd(a.ec),$APP.zd(a.Lb))):b};RY=function(){return null};RY=function(a){var b=$APP.q(a.hash);(function(){var c=mY(a,$APP.K1,null,null,null,null);return $APP.m(c)?c:$APP.mk})();return 0===b?(b=function(){var c=mY(a,$APP.K1,null,null,null,null);return $APP.m(c)?c:$APP.mk}(),$APP.Th(a.hash,IX($APP.zd(tY(a)),$APP.Od(b)))):b};SY=function(){return null};
SY=function(a,b){var c;if(c=b instanceof $APP.vY||b instanceof zY)if(c=$APP.B.h(tY(a),tY(b)))a:for(a=mY(a,$APP.K1,null,null,null,null),c=mY(b,$APP.K1,null,null,null,null),b=$APP.u(a),a=$APP.u(c);;){if(null==b){c=null==a;break a}if($APP.B.h($APP.x(b),$APP.x(a)))b=$APP.z(b),a=$APP.z(a);else{c=!1;break a}}return c};TY=function(){return null};
TY=function(a,b,c){$APP.Mc(b,"#datascript/DB {");$APP.Mc(b,":schema ");$APP.Vk(tY(a),b,c);$APP.Mc(b,", :datoms ");$APP.Lk(b,function(d,e,h){return $APP.Lk(e,$APP.Vk,"["," ","]",h,new $APP.H(null,4,5,$APP.I,[d.e,d.a,d.v,d.gb(null)],null))},"["," ","]",c,mY(a,$APP.K1,null,null,null,null));return $APP.Mc(b,"}")};
var ZY=function ZY(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(ZY),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);},YY=function YY(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(YY),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);};$Y=function(){return null};
$Y=function(a,b,c,d,e,h,l){if(null!=c&&!(c instanceof $APP.k||"string"===typeof c))throw a=new $APP.G(null,jSa,new $APP.G(null,P5,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,new $APP.G(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([c]))," at ",$APP.yl.l($APP.F([a])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,c,T2,a,$APP.xJ,S2],null));return VX.I(null!=b?ZY(a,b):h,c,null!=d&&YY(a,c)?ZY(a,d):d,null!=e?ZY(a,
e):l)};aZ=function(){return null};aZ=function(a,b,c,d,e,h,l,p){b=b instanceof $APP.k?b.T:null;switch(b){case "eavt":return $Y(a,c,d,e,h,l,p);case "aevt":return $Y(a,d,c,e,h,l,p);case "avet":return $Y(a,e,c,d,h,l,p);default:throw Error(["No matching clause: ",$APP.n.g(b)].join(""));}};$APP.f=bZ.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "db-before":return this.ld;case "db-after":return this.kd;case "tx-data":return this.od;case "tempids":return this.md;case "tx-meta":return this.pd;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[J2,this.ld],null),new $APP.H(null,2,5,$APP.I,[K2,this.kd],null),new $APP.H(null,2,5,$APP.I,[L2,this.od],null),new $APP.H(null,2,5,$APP.I,[M2,this.md],null),new $APP.H(null,2,5,$APP.I,[N2,this.pd],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,5,new $APP.H(null,5,5,$APP.I,[J2,K2,L2,M2,N2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new bZ(this.ld,this.kd,this.od,this.md,this.pd,this.B,this.o,this.D)};$APP.f.Z=function(){return 5+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2022644885^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ld,b.ld)&&$APP.B.h(this.kd,b.kd)&&$APP.B.h(this.od,b.od)&&$APP.B.h(this.md,b.md)&&$APP.B.h(this.pd,b.pd)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,5,[M2,null,K2,null,J2,null,L2,null,N2,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new bZ(this.ld,this.kd,this.od,this.md,this.pd,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(J2,b):$APP.Ig.call(null,J2,b))?new bZ(c,this.kd,this.od,this.md,this.pd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(K2,b):$APP.Ig.call(null,K2,b))?new bZ(this.ld,c,this.od,this.md,this.pd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(L2,b):$APP.Ig.call(null,L2,b))?new bZ(this.ld,this.kd,c,this.md,this.pd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(M2,b):$APP.Ig.call(null,M2,b))?new bZ(this.ld,this.kd,this.od,c,this.pd,this.B,this.o,
null):$APP.m($APP.Ig.h?$APP.Ig.h(N2,b):$APP.Ig.call(null,N2,b))?new bZ(this.ld,this.kd,this.od,this.md,c,this.B,this.o,null):new bZ(this.ld,this.kd,this.od,this.md,this.pd,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.kf(J2,this.ld,null),new $APP.kf(K2,this.kd,null),new $APP.kf(L2,this.od,null),new $APP.kf(M2,this.md,null),new $APP.kf(N2,this.pd,null)],null),this.o))};
$APP.f.X=function(a,b){return new bZ(this.ld,this.kd,this.od,this.md,this.pd,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};gZ=function(a,b,c){return $APP.jf(uY(a,c),b)};hZ=function(a,b){return gZ(a,b,z2)};YY=function(){return null};YY=function(a,b){return gZ(a,b,A2)};O2=function(a,b){return gZ(a,b,B2)};qY=function(){return null};qY=function(a,b){return gZ(a,b,y2)};SNa=function(a,b){return gZ(a,b,D2)};
TNa=function(a,b){return gZ(a,b,aOa)};
kZ=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Fp.h(["Highest supported entity id is ",$APP.yl.l($APP.F([2147483647])),", got ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,a6,$APP.PJ,b],null));return b}if($APP.Je(b)){var c=b,d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);if($APP.ik.h($APP.ie(b),2))throw $APP.Fp.h(["Lookup ref should contain 2 elements: ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,FPa,a6,b],null));if(gZ(a,d,w2))return null==
c?null:$APP.EK.g($APP.x(mY(a,E1,d,c,null,null)));throw $APP.Fp.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,lPa,a6,b],null));}if($APP.nb(b))b=$APP.F(b);else{if(b instanceof $APP.k)return $APP.EK.g($APP.x(mY(a,E1,cOa,b,null,null)));throw $APP.Fp.h(["Expected number or lookup ref for entity id, got ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,KQa,a6,b],null));}}};
UNa=function(a,b){return $APP.B.h(b,$APP.EK.g($APP.x(nY(a,$APP.K1,b,null,null,null))))};ZY=function(){return null};ZY=function(a,b){a=kZ(a,b);if($APP.m(a))return a;throw $APP.Fp.h(["Nothing found for entity id ",$APP.yl.l($APP.F([b]))].join(""),new $APP.g(null,2,[$APP.xJ,VPa,a6,b],null));};
var DZ=function DZ(a,b){throw $APP.Fp.h(["Not implemented: (",$APP.n.g(DZ),$APP.En.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.uh);},GZ=new $APP.lk(null,new $APP.g(null,8,[ORa,null,WQa,null,oOa,null,BQa,null,X2,null,DPa,null,gSa,null,V2,null],null),null);DZ=function(){return null};
DZ=function(a,b){if(null!=b&&!$APP.Je(b))throw $APP.Fp.h(["Bad transaction data ",$APP.yl.l($APP.F([b])),", expected sequential collection"].join(""),new $APP.g(null,2,[$APP.xJ,S2,L2,b],null));for(var c=!$APP.Ee(uY(K2.g(a),D2)),d=c?$APP.Pq.h(b,$APP.Qq.g(LQa)):b,e=a,h=d;;){if($APP.Ee(h))return $APP.Eq.P($APP.Eq.P(nka(e),M2,$APP.K,fOa,mZ(e)),K2,$APP.Eq,$1,$APP.Ud);var l=h,p=$APP.u(l),t=$APP.x(p),A=$APP.z(p),y=t,D=A;if(null==y)h=D;else if($APP.B.h(LQa,y))if($APP.jf(e,R2)){var v=$APP.cp.h(e,R2),J=$APP.S.h(mka(e),
D);e=v;h=J}else h=D;else{var P=K2.g(e),W=M2.g(e);if($APP.Le(y)){var Z=U2.g(y);if(oZ(Z)){var na=mZ(e),pa=rZ(e,Z,na),sa=$APP.Fg($APP.K.j(y,U2,na),D);e=pa;h=sa}else if($APP.Je(Z)){na=ZY(P,Z);var Ba=e,za=$APP.Fg($APP.K.j(y,U2,na),D);e=Ba;h=za}else{var ra=jka(P,y),w=$APP.C.j(ra,0,null),E=$APP.C.j(ra,1,null),T=kka(w,E);if(null!=T){if(pZ(Z)&&$APP.jf(W,Z)&&$APP.ik.h(T,$APP.gf.h(W,Z)))return EZ(a,e,b,Z,T);var X=$APP.Eq.I(rZ(e,Z,T),W2,zZ,VX.I(T,null,null,536870912)),Y=$APP.S.h(yZ(P,$APP.K.j(w,U2,T)),D);e=X;
h=Y}else if("number"===typeof Z||null==Z||"string"===typeof Z){var qa=null==Z?$APP.Tf(Z1.g(P))+1:pZ(Z)?function(){var JS=$APP.gf.h(W,Z);return $APP.m(JS)?JS:$APP.Tf(Z1.g(P))+1}():Z,ua=$APP.K.j(y,U2,qa),va=rZ(e,Z,qa),Fa=$APP.S.h(yZ(P,ua),D);e=va;h=Fa}else throw $APP.Fp.h(["Expected number, string or lookup ref for :db/id, got ",$APP.yl.l($APP.F([Z]))].join(""),new $APP.g(null,2,[$APP.xJ,KQa,dQa,y],null));}}else if($APP.Je(y)){var Ha=y,Ka=$APP.C.j(Ha,0,null),Na=$APP.C.j(Ha,1,null),Za=$APP.C.j(Ha,2,
null),cb=$APP.C.j(Ha,3,null);if($APP.B.h(Ka,ORa)){var fb=$APP.u(y),ab=$APP.x(fb),ob=$APP.z(fb),ub=ab,yb=$APP.x(ob),Kb=$APP.z(ob),Nb=e,Zb=$APP.S.h($APP.nh.j(yb,P,Kb),D);e=Nb;h=Zb}else if(Ka instanceof $APP.k&&$APP.qb(GZ.g?GZ.g(Ka):GZ.call(null,Ka))){var pc=kZ(P,Ka);if(null==pc)throw $APP.Fp.h(["Can’t find entity for transaction fn ",$APP.yl.l($APP.F([Ka]))].join(""),new $APP.g(null,3,[$APP.xJ,S2,VRa,ORa,L2,y],null));var ld=P2.g(lY(P,new $APP.H(null,2,5,$APP.I,[pc,vPa],null)));Kb=$APP.z(y);if($APP.ye(ld)){var bc=
e,xg=$APP.S.h($APP.nh.j(ld,P,Kb),D);e=bc;h=xg}else throw $APP.Fp.h(["Entity ",$APP.yl.l($APP.F([Ka]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.g(null,3,[$APP.xJ,S2,VRa,ORa,L2,y],null));}else{if(pZ(Na)&&$APP.ik.h(Ka,V2))throw $APP.Fp.h(["Can't use tempid in '",$APP.yl.l($APP.F([y])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.g(null,2,[$APP.xJ,S2,$APP.jI,y],null));if($APP.B.h(Ka,gSa)||$APP.B.h(Ka,WQa)){var bj=y;ub=$APP.C.j(bj,0,null);var ki=$APP.C.j(bj,
1,null),Rk=$APP.C.j(bj,2,null),Sk=$APP.C.j(bj,3,null),Xl=$APP.C.j(bj,4,null),yg=ZY(P,ki),Yl=function(){var JS=Rk;if(JS instanceof $APP.k||"string"===typeof JS)return null;var KS=y;throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([JS]))," at ",$APP.yl.l($APP.F([KS])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,JS,T2,KS,$APP.xJ,S2],null));}(),Zl=YY(P,Rk)?ZY(P,Sk):Sk,bd=YY(P,Rk)?ZY(P,Xl):Xl,cj=null==bd?function(){var JS=y;throw $APP.Fp.h(["Cannot store nil as a value at ",
$APP.yl.l($APP.F([JS]))].join(""),new $APP.g(null,3,[$APP.PJ,null,T2,JS,$APP.xJ,S2],null));}():null,zh=$APP.uf(kY(P,new $APP.H(null,2,5,$APP.I,[yg,Rk],null)));if(hZ(P,Rk))if($APP.m($APP.Mh(function(JS,KS,LS,MS,NS,OS,PS,zg,QS,RS,SS){return function(TS){return $APP.B.h(TS.v,SS)}}(e,h,bj,ub,ki,Rk,Sk,Xl,yg,Yl,Zl,bd,cj,zh,Ha,Ka,Na,Za,cb,P,W,l,p,t,A,y,D,a,c,d),zh))){var li=AZ(e,new $APP.H(null,4,5,$APP.I,[V2,yg,Rk,bd],null)),Vj=D;e=li;h=Vj}else throw $APP.Fp.h([":db.fn/cas failed on datom [",$APP.yl.l($APP.F([yg])),
" ",$APP.yl.l($APP.F([Rk]))," ",$APP.yl.l($APP.F([$APP.Wk.h(P2,zh)])),"], expected ",$APP.yl.l($APP.F([Zl]))].join(""),new $APP.g(null,4,[$APP.xJ,vQa,lRa,zh,$APP.oI,Zl,SQa,bd],null));else{var Tk=P2.g($APP.x(zh));if($APP.B.h(Tk,Zl)){var $l=AZ(e,new $APP.H(null,4,5,$APP.I,[V2,yg,Rk,bd],null)),am=D;e=$l;h=am}else throw $APP.Fp.h([":db.fn/cas failed on datom [",$APP.yl.l($APP.F([yg]))," ",$APP.yl.l($APP.F([Rk]))," ",$APP.yl.l($APP.F([Tk])),"], expected ",$APP.yl.l($APP.F([Zl]))].join(""),new $APP.g(null,
4,[$APP.xJ,vQa,lRa,$APP.x(zh),$APP.oI,Zl,SQa,bd],null));}}else if(oZ(Na)){var jp=rZ(e,Na,mZ(e)),nt=$APP.Fg(new $APP.H(null,4,5,$APP.I,[Ka,mZ(e),Za,cb],null),D);e=jp;h=nt}else if(YY(P,Za)&&oZ(cb)){var Wj=rZ(e,cb,mZ(e)),ed=$APP.Fg(new $APP.H(null,4,5,$APP.I,[Ka,Na,Za,mZ(e)],null),D);e=Wj;h=ed}else if(YY(P,Za)&&pZ(cb))if(pc=$APP.gf.h(W,cb),null==pc){var vn=$APP.Tf(Z1.g(P))+1,kp=$APP.Eq.P(rZ(e,cb,vn),Y2,$APP.K,vn,cb),lp=h;e=kp;h=lp}else{vn=pc;var ot=kp=$APP.Eq.P(e,Y2,$APP.K,vn,cb),pt=$APP.Fg(new $APP.H(null,
4,5,$APP.I,[Ka,Na,Za,vn],null),D);e=ot;h=pt}else if(pZ(Na)){T=gZ(P,Za,x2)?$APP.EK.g($APP.x(mY(P,E1,Za,cb,null,null))):null;var qt=$APP.gf.h(W,Na);if($APP.m(function(){var JS=T;return $APP.m(JS)?(JS=qt,$APP.m(JS)?$APP.ik.h(T,qt):JS):JS}()))return EZ(a,e,b,Na,T);var rt=function(){var JS=T;if($APP.m(JS))return JS;JS=qt;return $APP.m(JS)?JS:$APP.Tf(Z1.g(P))+1}(),bm=rZ(e,Na,rt),st=$APP.Fg(new $APP.H(null,4,5,$APP.I,[Ka,rt,Za,cb],null),D);e=bm;h=st}else if($APP.qb(sOa.g($APP.Be(y)))&&SNa(P,Za)){var tt=
$APP.vp.h(P,new $APP.H(null,3,5,$APP.I,[$APP.F1,Za,C2],null));if($APP.B.h($APP.ie(tt),$APP.ie(cb))&&$APP.Kh($APP.rb,cb)&&$APP.Kh(function(JS,KS,LS,MS,NS,OS,PS,zg,QS){return function(RS){var SS=$APP.C.j(RS,0,null);RS=$APP.C.j(RS,1,null);SS=P2.g($APP.x(mY(QS,$APP.K1,OS,SS,null,null)));return $APP.B.h(RS,SS)}}(e,h,tt,Ha,Ka,Na,Za,cb,P,W,l,p,t,A,y,D,a,c,d),$APP.Wk.j($APP.Tt,tt,cb)))h=D;else throw $APP.Fp.h(["Can’t modify tuple attrs directly: ",$APP.yl.l($APP.F([y]))].join(""),new $APP.g(null,2,[$APP.xJ,
S2,L2,y],null));}else if($APP.B.h(Ka,V2)){var ut=AZ(e,y),be=D;e=ut;h=be}else if($APP.B.h(Ka,X2)&&null!=cb)if(pc=kZ(P,Na),null==pc)h=D;else{ki=pc;Tk=YY(P,Za)?ZY(P,cb):cb;var mp=Za;if(!(mp instanceof $APP.k||"string"===typeof mp)){var vt=y;throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([mp]))," at ",$APP.yl.l($APP.F([vt])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,mp,T2,vt,$APP.xJ,S2],null));}if(null==Tk){var wt=y;throw $APP.Fp.h(["Cannot store nil as a value at ",$APP.yl.l($APP.F([wt]))].join(""),
new $APP.g(null,3,[$APP.PJ,null,T2,wt,$APP.xJ,S2],null));}var mi=lY(P,new $APP.H(null,3,5,$APP.I,[ki,Za,Tk],null));if(null==mi)h=D;else{var df=BZ(e,mi),eg=D;e=df;h=eg}}else if($APP.B.h(Ka,DPa)||$APP.B.h(Ka,X2))if(pc=kZ(P,Na),null==pc)h=D;else{ki=pc;ub=function(){var JS=Za;if(JS instanceof $APP.k||"string"===typeof JS)return null;var KS=y;throw $APP.Fp.h(["Bad entity attribute ",$APP.yl.l($APP.F([JS]))," at ",$APP.yl.l($APP.F([KS])),", expected keyword or string"].join(""),new $APP.g(null,3,[F2,JS,
T2,KS,$APP.xJ,S2],null));}();zh=$APP.uf(kY(P,new $APP.H(null,2,5,$APP.I,[ki,Za],null)));var Ac=$APP.sf.j(BZ,e,zh),Rd=$APP.S.h(CZ(P,zh),D);e=Ac;h=Rd}else if($APP.B.h(Ka,oOa)||$APP.B.h(Ka,BQa))if(pc=kZ(P,Na),null==pc)h=D;else{ki=pc;var ec=$APP.uf(kY(P,new $APP.H(null,1,5,$APP.I,[ki],null))),He=$APP.uf($APP.hi.l(function(JS,KS,LS,MS,NS,OS,PS,zg,QS,RS,SS){return function(TS){return kY(SS,new $APP.H(null,3,5,$APP.I,[null,TS,MS],null))}}(e,h,ec,ki,pc,Ha,Ka,Na,Za,cb,P,W,l,p,t,A,y,D,a,c,d),$APP.F([uY(P,A2)]))),
xt=$APP.sf.j(BZ,e,$APP.S.h(ec,He)),wB=$APP.S.h(CZ(P,ec),D);e=xt;h=wB}else throw $APP.Fp.h(["Unknown operation at ",$APP.yl.l($APP.F([y])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new $APP.g(null,3,[$APP.xJ,S2,VRa,Ka,L2,y],null));}}else if(MX(y)){var oe=
y;Na=$APP.C.j(oe,0,null);Za=$APP.C.j(oe,1,null);cb=$APP.C.j(oe,2,null);var bw=$APP.C.j(oe,3,null),bF=$APP.C.j(oe,4,null);if($APP.m(bF)){var FS=AZ(e,new $APP.H(null,5,5,$APP.I,[V2,Na,Za,cb,bw],null)),GS=D;e=FS;h=GS}else{var HS=e,IS=$APP.Fg(new $APP.H(null,4,5,$APP.I,[X2,Na,Za,cb],null),D);e=HS;h=IS}}else throw $APP.Fp.h(["Bad entity type at ",$APP.yl.l($APP.F([y])),", expected map or vector"].join(""),new $APP.g(null,2,[$APP.xJ,S2,L2,y],null));}}};$APP.f=QZ.prototype;$APP.f.entry_set=function(){return $APP.tf($APP.Wk.h($APP.tf,PZ(this)))};
$APP.f.forEach=function(){function a(d,e){for(var h=$APP.u(PZ(this)),l=null,p=0,t=0;;)if(t<p){var A=l.fa(null,t),y=$APP.C.j(A,0,null);A=$APP.C.j(A,1,null);d.call(e,A,y,this);t+=1}else if(h=$APP.u(h))$APP.Oe(h)?(l=$APP.dd(h),h=$APP.fd(h),y=l,p=$APP.ie(l),l=y):(l=$APP.x(h),y=$APP.C.j(l,0,null),A=$APP.C.j(l,1,null),d.call(e,A,y,this),h=$APP.z(h),l=null,p=0),t=0;else return null}function b(d){for(var e=$APP.u(PZ(this)),h=null,l=0,p=0;;)if(p<l){var t=h.fa(null,p),A=$APP.C.j(t,0,null);t=$APP.C.j(t,1,null);
d.j?d.j(t,A,this):d.call(null,t,A,this);p+=1}else if(e=$APP.u(e))$APP.Oe(e)?(h=$APP.dd(e),e=$APP.fd(e),A=h,l=$APP.ie(h),h=A):(h=$APP.x(e),A=$APP.C.j(h,0,null),t=$APP.C.j(h,1,null),d.j?d.j(t,A,this):d.call(null,t,A,this),e=$APP.z(e),h=null,l=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.f.get=function(a){if($APP.B.h(a,":db/id"))return this.eid;if(tZ(a))return NZ(MZ(this.db,this.eid,uZ(a),null));var b=SZ?SZ(this,a):UZ.call(null,this,a);return hZ(this.db,a)?NZ(b):b};$APP.f.key_set=function(){return $APP.tf($APP.fk(this))};$APP.f.entries=function(){return $APP.$i(PZ(this))};$APP.f.value_set=function(){return $APP.tf($APP.Wk.h($APP.ne,PZ(this)))};$APP.f.toString=function(){return $APP.qd(this)};$APP.f.keys=function(){return $APP.Ld($APP.fk(this))};
$APP.f.values=function(){return $APP.Ld($APP.Wk.h($APP.ne,PZ(this)))};$APP.f.equiv=function(a){return RZ.h?RZ.h(this,a):RZ.call(null,this,a)};$APP.f.has=function(a){return null!=this.get(a)};$APP.f.ea=function(a,b){return TZ?TZ(this,b,null):UZ.call(null,this,b,null)};$APP.f.M=function(a,b,c){return TZ?TZ(this,b,c):UZ.call(null,this,b,c)};$APP.f.V=function(a,b,c){return $APP.Oc($APP.K.j($APP.q(this.cache),U2,this.eid),b,c)};$APP.f.Z=function(){OZ.g?OZ.g(this):OZ.call(null,this);return $APP.ie($APP.q(this.cache))};
$APP.f.Y=function(){return dOa.g?dOa.g(this):dOa.call(null,this)};$APP.f.R=function(a,b){return RZ.h?RZ.h(this,b):RZ.call(null,this,b)};$APP.f.ja=function(a,b){return $APP.ik.h(ZQa,TZ?TZ(this,b,ZQa):UZ.call(null,this,b,ZQa))};$APP.f.aa=function(){OZ.g?OZ.g(this):OZ.call(null,this);return $APP.u($APP.q(this.cache))};
$APP.f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length-1)].join(""));}};$APP.f.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Db(b)))};$APP.f.g=function(a){return SZ?SZ(this,a):UZ.call(null,this,a)};$APP.f.h=function(a,b){return TZ?TZ(this,a,b):UZ.call(null,this,a,b)};IW("datascript.impl.entity.Entity",QZ);var $2=function $2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return $2.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};$2.l=function(a){var b=$APP.ie(a);return $APP.ik.h($APP.ci.h(b/2,a),$APP.Yh.h(b/2,a))};$2.C=0;$2.G=function(a){return this.l($APP.u(a))};var a3=function a3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return a3.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)};
a3.l=function(a,b,c){return $APP.sf.j(function(d,e){d=$APP.x(kY(a,new $APP.H(null,2,5,$APP.I,[kZ(a,b),e],null)));return null==d?null:$APP.Wd(new $APP.H(null,2,5,$APP.I,[Q2.g(d),P2.g(d)],null))},null,c)};a3.C=2;a3.G=function(a){var b=$APP.x(a),c=$APP.z(a);a=$APP.x(c);c=$APP.z(c);return this.l(b,a,c)};var b3=function b3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return b3.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};
b3.l=function(a){return $APP.sf.j(function(b,c){return $APP.m(c)?c:$APP.Wd(c)},!0,a)};b3.C=0;b3.G=function(a){return this.l($APP.u(a))};var c3=function c3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return c3.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};c3.l=function(a){return $APP.sf.j(function(b,c){return $APP.m(c)?$APP.Wd(c):c},null,a)};c3.C=0;c3.G=function(a){return this.l($APP.u(a))};
var d3=function d3(a){switch(arguments.length){case 1:return d3.g(arguments[0]);case 2:return d3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return d3.l(arguments[0],arguments[1],new $APP.Fd(c.slice(2),0,null))}};d3.g=function(){return!0};d3.h=function(a,b){return 0>$X(a,b)};d3.l=function(a,b,c){for(;;)if(d3.h(a,b))if($APP.z(c))a=b,b=$APP.x(c),c=$APP.z(c);else return d3.h(b,$APP.x(c));else return!1};
d3.G=function(a){var b=$APP.x(a),c=$APP.z(a);a=$APP.x(c);c=$APP.z(c);return this.l(b,a,c)};d3.C=2;var e3=function e3(a){switch(arguments.length){case 1:return e3.g(arguments[0]);case 2:return e3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return e3.l(arguments[0],arguments[1],new $APP.Fd(c.slice(2),0,null))}};e3.g=function(){return!0};e3.h=function(a,b){return 0<$X(a,b)};
e3.l=function(a,b,c){for(;;)if(e3.h(a,b))if($APP.z(c))a=b,b=$APP.x(c),c=$APP.z(c);else return e3.h(b,$APP.x(c));else return!1};e3.G=function(a){var b=$APP.x(a),c=$APP.z(a);a=$APP.x(c);c=$APP.z(c);return this.l(b,a,c)};e3.C=2;
var f3=function f3(a){switch(arguments.length){case 1:return f3.g(arguments[0]);case 2:return f3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return f3.l(arguments[0],arguments[1],new $APP.Fd(c.slice(2),0,null))}};f3.g=function(){return!0};f3.h=function(a,b){return!(0<$X(a,b))};f3.l=function(a,b,c){for(;;)if(f3.h(a,b))if($APP.z(c))a=b,b=$APP.x(c),c=$APP.z(c);else return f3.h(b,$APP.x(c));else return!1};
f3.G=function(a){var b=$APP.x(a),c=$APP.z(a);a=$APP.x(c);c=$APP.z(c);return this.l(b,a,c)};f3.C=2;var g3=function g3(a){switch(arguments.length){case 1:return g3.g(arguments[0]);case 2:return g3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return g3.l(arguments[0],arguments[1],new $APP.Fd(c.slice(2),0,null))}};g3.g=function(){return!0};g3.h=function(a,b){return!(0>$X(a,b))};
g3.l=function(a,b,c){for(;;)if(g3.h(a,b))if($APP.z(c))a=b,b=$APP.x(c),c=$APP.z(c);else return g3.h(b,$APP.x(c));else return!1};g3.G=function(a){var b=$APP.x(a),c=$APP.z(a);a=$APP.x(c);c=$APP.z(c);return this.l(b,a,c)};g3.C=2;
var o_=$APP.Oj([$APP.rJ,$APP.vw,$APP.EB,mSa,$APP.aJ,$APP.RH,$APP.YI,$APP.$H,yRa,$APP.dz,nQa,$APP.PE,$APP.xn,$APP.WM,$APP.WG,$APP.cE,$APP.pH,ZOa,AQa,$APP.qI,$APP.TI,SPa,$APP.ZI,$APP.KJ,$APP.tI,$APP.RD,aQa,PQa,$APP.xC,$APP.EJ,$APP.$I,$APP.EH,$APP.tK,$APP.wK,$APP.rK,$APP.TB,$APP.sI,$APP.pF,$Pa,$APP.UB,$APP.YH,cRa,$APP.kI,$APP.lK,$APP.wD,$APP.fC,$APP.sE,$APP.ZB,$APP.fI,$APP.XI,$APP.wH,$APP.HJ,$APP.uI,$APP.nH,$APP.pB,$APP.gI,$APP.eE,$APP.vF,$APP.QB,bQa,$APP.eJ,$APP.cK,cSa,$APP.PF,$APP.AE,$APP.CH,$APP.HG,
$APP.DH,wQa,$APP.XF,$APP.fx,$APP.IJ,$APP.aI,$APP.FC],[$APP.Te,b3,$APP.Ph,function(a,b,c,d){if(null==d)throw $APP.Fp.h("get-else: nil default value is not supported",new $APP.g(null,1,[$APP.xJ,t5],null));a=$APP.x(kY(a,new $APP.H(null,2,5,$APP.I,[kZ(a,b),c],null)));return null==a?d:P2.g(a)},g3,$APP.UA,e3,$APP.ie,a3,$APP.mb,$APP.zf,$APP.Ud,$APP.Oz,$APP.gg,$APP.Se,$APP.qb,$APP.zf,$2,$APP.Tt,$APP.Hk,f3,$APP.Bn,$APP.B,$APP.Tz,$APP.Mz,$APP.sk,function(a,b,c){return null==$APP.gf.h(KZ(a,b),c)},$APP.zf,$APP.Fl,
$APP.Qh,$APP.on,$APP.oh,$APP.mf,$APP.kr,$APP.wv,$APP.Ee,$APP.Nz,$APP.yl,t2,$APP.Be,$APP.rg,$APP.ik,$APP.RA,$APP.Af,$APP.Jk,$APP.Tt,$APP.ik,$APP.gf,$APP.n,d3,$APP.Jg,$APP.Xk,$APP.zw,$APP.rb,$APP.qg,$APP.cB,$APP.Ek,$APP.R,$APP.jf,$APP.Cn,$APP.Ik,$APP.Rf,$APP.Dn,$APP.Ju,$APP.hg,$APP.Oh,$APP.zb,$APP.sg,$APP.zn,$APP.qh,c3,$APP.lb,$APP.qk,$APP.Fk]),h3=function h3(a){switch(arguments.length){case 1:return h3.g(arguments[0]);case 2:return h3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.n.g(arguments.length)].join(""));}};h3.g=function(a){return $APP.sf.j(function(b,c){return 0>$APP.mf(c,b)?c:b},$APP.x(a),$APP.z(a))};h3.h=function(a,b){return $APP.uf($APP.sf.j(function(c,d){return $APP.ie(c)<a?$APP.Iz.h($APP.mf,$APP.Cg.h(c,d)):0>$APP.mf(d,$APP.te(c))?$APP.Iz.h($APP.mf,$APP.Cg.h($APP.rk(c),d)):c},$APP.qi,b))};h3.C=2;
var i3=function i3(a){switch(arguments.length){case 1:return i3.g(arguments[0]);case 2:return i3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};i3.g=function(a){return $APP.sf.j(function(b,c){return 0<$APP.mf(c,b)?c:b},$APP.x(a),$APP.z(a))};i3.h=function(a,b){return $APP.uf($APP.sf.j(function(c,d){return $APP.ie(c)<a?$APP.Iz.h($APP.mf,$APP.Cg.h(c,d)):0<$APP.mf(d,$APP.x(c))?$APP.Iz.h($APP.mf,$APP.Cg.h($APP.z(c),d)):c},$APP.qi,b))};
i3.C=2;var j3=function j3(a){switch(arguments.length){case 1:return j3.g(arguments[0]);case 2:return j3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};j3.g=function(a){return $APP.Gl(a)};j3.h=function(a,b){return $APP.uf($APP.mt.h(a,function(){return $APP.Gl(b)}))};j3.C=2;
var Qla=$APP.Oj([zPa,$APP.$H,bSa,YQa,$APP.KJ,$APP.rK,IRa,$APP.pJ,zRa,UQa,$APP.gI,pQa],[XZ,$APP.ie,function(a){var b=$APP.Iz.g(a);a=$APP.ie(a);var c=a>>1,d=$APP.C.h(b,c);return $APP.Oh(a)?(d+$APP.C.h(b,c-1))/2:d},VZ,h3,i3,function(a){return $APP.ie($APP.IA.g(a))},$APP.qk,WZ,function(a){return Math.sqrt(XZ(a))},j3,function(a,b){return $APP.uf($APP.ci.h(a,$APP.vf(b)))}]);$APP.f=YZ.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "as":return this.as;case "default":return this.tc;case "limit":return this.nb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Zb;case "recursive?":return this.za;case "reverse?":return this.dc;case "xform":return this.pb;case "multival?":return this.Xb;case "ref?":return this.$b;case "component?":return this.Vb;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.S.h(new $APP.H(null,12,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.wr,this.as],null),new $APP.H(null,2,5,$APP.I,[$APP.Un,this.tc],null),new $APP.H(null,2,5,$APP.I,[w3,this.nb],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null),new $APP.H(null,2,5,$APP.I,[y3,this.Zb],null),new $APP.H(null,2,5,$APP.I,
[z3,this.za],null),new $APP.H(null,2,5,$APP.I,[A3,this.dc],null),new $APP.H(null,2,5,$APP.I,[C3,this.pb],null),new $APP.H(null,2,5,$APP.I,[D3,this.Xb],null),new $APP.H(null,2,5,$APP.I,[E3,this.$b],null),new $APP.H(null,2,5,$APP.I,[F3,this.Vb],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,12,new $APP.H(null,12,5,$APP.I,[$APP.wr,$APP.Un,w3,$APP.N,x3,y3,z3,A3,C3,D3,E3,F3],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,this.D)};$APP.f.Z=function(){return 12+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1743810262^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.as,b.as)&&$APP.B.h(this.default,b.default)&&$APP.B.h(this.nb,b.nb)&&$APP.B.h(this.name,b.name)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.Zb,b.Zb)&&$APP.B.h(this.za,b.za)&&$APP.B.h(this.dc,b.dc)&&$APP.B.h(this.pb,b.pb)&&$APP.B.h(this.Xb,b.Xb)&&$APP.B.h(this.$b,b.$b)&&$APP.B.h(this.Vb,b.Vb)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,12,[C3,null,w3,null,A3,null,y3,null,$APP.Un,null,$APP.N,null,$APP.wr,null,z3,null,F3,null,E3,null,D3,null,x3,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.wr,b):$APP.Ig.call(null,$APP.wr,b))?new YZ(c,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.Un,b):$APP.Ig.call(null,$APP.Un,b))?new YZ(this.as,c,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(w3,b):$APP.Ig.call(null,w3,b))?new YZ(this.as,this.tc,c,this.name,
this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.N,b):$APP.Ig.call(null,$APP.N,b))?new YZ(this.as,this.tc,this.nb,c,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,b):$APP.Ig.call(null,x3,b))?new YZ(this.as,this.tc,this.nb,this.name,c,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(y3,b):$APP.Ig.call(null,
y3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,c,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(z3,b):$APP.Ig.call(null,z3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,c,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(A3,b):$APP.Ig.call(null,A3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,c,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?
$APP.Ig.h(C3,b):$APP.Ig.call(null,C3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,c,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(D3,b):$APP.Ig.call(null,D3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,c,this.$b,this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(E3,b):$APP.Ig.call(null,E3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,c,
this.Vb,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(F3,b):$APP.Ig.call(null,F3,b))?new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,c,this.B,this.o,null):new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,12,5,$APP.I,[new $APP.kf($APP.wr,this.as,null),new $APP.kf($APP.Un,this.tc,null),new $APP.kf(w3,this.nb,null),new $APP.kf($APP.N,this.name,null),new $APP.kf(x3,this.pattern,null),new $APP.kf(y3,this.Zb,null),new $APP.kf(z3,this.za,null),new $APP.kf(A3,this.dc,null),new $APP.kf(C3,this.pb,null),new $APP.kf(D3,this.Xb,null),new $APP.kf(E3,this.$b,null),new $APP.kf(F3,this.Vb,null)],null),this.o))};
$APP.f.X=function(a,b){return new YZ(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.za,this.dc,this.pb,this.Xb,this.$b,this.Vb,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f=f_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "attrs":return this.oa;case "first-attr":return this.Pc;case "last-attr":return this.$c;case "reverse-attrs":return this.Kc;case "wildcard?":return this.ic;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[G3,this.oa],null),new $APP.H(null,2,5,$APP.I,[H3,this.Pc],null),new $APP.H(null,2,5,$APP.I,[K3,this.$c],null),new $APP.H(null,2,5,$APP.I,[P3,this.Kc],null),new $APP.H(null,2,5,$APP.I,[p4,this.ic],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,5,new $APP.H(null,5,5,$APP.I,[G3,H3,K3,P3,p4],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new f_(this.oa,this.Pc,this.$c,this.Kc,this.ic,this.B,this.o,this.D)};$APP.f.Z=function(){return 5+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-795554044^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.oa,b.oa)&&$APP.B.h(this.Pc,b.Pc)&&$APP.B.h(this.$c,b.$c)&&$APP.B.h(this.Kc,b.Kc)&&$APP.B.h(this.ic,b.ic)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,5,[P3,null,H3,null,G3,null,p4,null,K3,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new f_(this.oa,this.Pc,this.$c,this.Kc,this.ic,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(G3,b):$APP.Ig.call(null,G3,b))?new f_(c,this.Pc,this.$c,this.Kc,this.ic,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(H3,b):$APP.Ig.call(null,H3,b))?new f_(this.oa,c,this.$c,this.Kc,this.ic,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(K3,b):$APP.Ig.call(null,K3,b))?new f_(this.oa,this.Pc,c,this.Kc,this.ic,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(P3,b):$APP.Ig.call(null,P3,b))?new f_(this.oa,this.Pc,this.$c,c,this.ic,this.B,this.o,
null):$APP.m($APP.Ig.h?$APP.Ig.h(p4,b):$APP.Ig.call(null,p4,b))?new f_(this.oa,this.Pc,this.$c,this.Kc,c,this.B,this.o,null):new f_(this.oa,this.Pc,this.$c,this.Kc,this.ic,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.kf(G3,this.oa,null),new $APP.kf(H3,this.Pc,null),new $APP.kf(K3,this.$c,null),new $APP.kf(P3,this.Kc,null),new $APP.kf(p4,this.ic,null)],null),this.o))};
$APP.f.X=function(a,b){return new f_(this.oa,this.Pc,this.$c,this.Kc,this.ic,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};var q_=e_(new $APP.g(null,3,[$APP.N,U2,$APP.wr,U2,C3,$APP.zf],null)),k_=h_(new $APP.g(null,1,[G3,new $APP.G(null,q_,null,1,null)],null)),qka=$APP.K.j(k_,p4,!0);$APP.f=v_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "db":return this.db;case "visitor":return this.Vd;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[i6,this.db],null),new $APP.H(null,2,5,$APP.I,[D4,this.Vd],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[i6,D4],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new v_(this.db,this.Vd,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1727735959^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.db,b.db)&&$APP.B.h(this.Vd,b.Vd)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[i6,null,D4,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new v_(this.db,this.Vd,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "db":case "visitor":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(i6,b):$APP.Ig.call(null,i6,b))?new v_(c,this.Vd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(D4,b):$APP.Ig.call(null,D4,b))?new v_(this.db,c,this.B,this.o,null):new v_(this.db,this.Vd,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf(i6,this.db,null),new $APP.kf(D4,this.Vd,null)],null),this.o))};$APP.f.X=function(a,b){return new v_(this.db,this.Vd,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f=z_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "value":return this.value;case "datoms":return this.ua;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.PJ,this.value],null),new $APP.H(null,2,5,$APP.I,[$APP.I2,this.ua],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.PJ,$APP.I2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new z_(this.value,this.ua,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=836381841^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.value,b.value)&&$APP.B.h(this.ua,b.ua)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.PJ,null,$APP.I2,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new z_(this.value,this.ua,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "value":case "datoms":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.PJ,b):$APP.Ig.call(null,$APP.PJ,b))?new z_(c,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.I2,b):$APP.Ig.call(null,$APP.I2,b))?new z_(this.value,c,this.B,this.o,null):new z_(this.value,this.ua,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.PJ,this.value,null),new $APP.kf($APP.I2,this.ua,null)],null),this.o))};
$APP.f.X=function(a,b){return new z_(this.value,this.ua,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f=A_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "acc":return this.ka;case "attr":return this.ga;case "datoms":return this.ua;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[x5,this.ka],null),new $APP.H(null,2,5,$APP.I,[b6,this.ga],null),new $APP.H(null,2,5,$APP.I,[$APP.I2,this.ua],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[x5,b6,$APP.I2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new A_(this.ka,this.ga,this.ua,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1829867699^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ka,b.ka)&&$APP.B.h(this.ga,b.ga)&&$APP.B.h(this.ua,b.ua)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[x5,null,$APP.I2,null,b6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new A_(this.ka,this.ga,this.ua,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(x5,b):$APP.Ig.call(null,x5,b))?new A_(c,this.ga,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(b6,b):$APP.Ig.call(null,b6,b))?new A_(this.ka,c,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.I2,b):$APP.Ig.call(null,$APP.I2,b))?new A_(this.ka,this.ga,c,this.B,this.o,null):new A_(this.ka,this.ga,this.ua,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf(x5,this.ka,null),new $APP.kf(b6,this.ga,null),new $APP.kf($APP.I2,this.ua,null)],null),this.o))};$APP.f.X=function(a,b){return new A_(this.ka,this.ga,this.ua,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};
$APP.f.tf=function(){for(var a=this,b=a.ka,c=a.ua;;){var d=s_(c);if(null==d||$APP.ik.h(d.a,a.ga.name))return new $APP.H(null,1,5,$APP.I,[new z_(function(){var l=$APP.qh($APP.Vc(b)),p=a.ga.pb;return p.g?p.g(l):p.call(null,l)}(),function(){var l=c;return $APP.m(l)?l:$APP.Id}(),null,null,null)],null);if($APP.m(function(){var l=a.ga.nb;return $APP.m(l)?$APP.ie(b)>=a.ga.nb:l}()))for(var e=c;;){d=s_(e);if(null==d||$APP.ik.h(d.a,a.ga.name))return new $APP.H(null,1,5,$APP.I,[new z_($APP.Vc(b),function(){var l=
e;return $APP.m(l)?l:$APP.Id}(),null,null,null)],null);e=t_(e)}else{d=$APP.pi.h(b,d.v);var h=t_(c);b=d;c=h}}};$APP.f=B_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "datoms":return this.ua;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.S.h(new $APP.H(null,6,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[z5,this.qa],null),new $APP.H(null,2,5,$APP.I,[Y5,this.va],null),new $APP.H(null,2,5,$APP.I,[x5,this.ka],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null),new $APP.H(null,2,5,$APP.I,[b6,this.ga],null),new $APP.H(null,2,5,$APP.I,[$APP.I2,this.ua],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,6,new $APP.H(null,6,5,$APP.I,[z5,Y5,x5,x3,b6,$APP.I2],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new B_(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,this.D)};$APP.f.Z=function(){return 6+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1769511936^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.qa,b.qa)&&$APP.B.h(this.va,b.va)&&$APP.B.h(this.ka,b.ka)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.ga,b.ga)&&$APP.B.h(this.ua,b.ua)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,6,[x5,null,z5,null,Y5,null,$APP.I2,null,x3,null,b6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new B_(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(z5,b):$APP.Ig.call(null,z5,b))?new B_(c,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(Y5,b):$APP.Ig.call(null,Y5,b))?new B_(this.qa,c,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x5,b):$APP.Ig.call(null,x5,b))?new B_(this.qa,this.va,c,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,b):$APP.Ig.call(null,x3,b))?new B_(this.qa,
this.va,this.ka,c,this.ga,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(b6,b):$APP.Ig.call(null,b6,b))?new B_(this.qa,this.va,this.ka,this.pattern,c,this.ua,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.I2,b):$APP.Ig.call(null,$APP.I2,b))?new B_(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.B,this.o,null):new B_(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,6,5,$APP.I,[new $APP.kf(z5,this.qa,null),new $APP.kf(Y5,this.va,null),new $APP.kf(x5,this.ka,null),new $APP.kf(x3,this.pattern,null),new $APP.kf(b6,this.ga,null),new $APP.kf($APP.I2,this.ua,null)],null),this.o))};$APP.f.X=function(a,b){return new B_(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};
$APP.f.lg=function(a,b){a=this.qa;var c=this.va,d=this.ka;b=b.value;b=null==b?d:$APP.pi.h(d,b);return new B_(a,c,b,this.pattern,this.ga,t_(this.ua),null,null,null)};
$APP.f.tf=function(a,b){var c=this;a=s_(c.ua);if(null==a||$APP.ik.h(a.a,c.ga.name))return new $APP.H(null,1,5,$APP.I,[new z_(function(){var e=$APP.qh($APP.Vc(c.ka)),h=c.ga.pb;return h.g?h.g(e):h.call(null,e)}(),function(){var e=c.ua;return $APP.m(e)?e:$APP.Id}(),null,null,null)],null);if($APP.m(function(){var e=c.ga.nb;return $APP.m(e)?$APP.ie(c.ka)>=c.ga.nb:e}()))for(var d=c.ua;;){b=s_(d);if(null==b||$APP.ik.h(b.a,c.ga.name))return new $APP.H(null,1,5,$APP.I,[new z_($APP.Vc(c.ka),function(){var e=
d;return $APP.m(e)?e:$APP.Id}(),null,null,null)],null);d=t_(d)}else return a=$APP.m(c.ga.dc)?a.e:a.v,new $APP.H(null,2,5,$APP.I,[this,G_.ya?G_.ya(b,c.qa,c.va,c.pattern,c.ga,a):G_.call(null,b,c.qa,c.va,c.pattern,c.ga,a)],null)};$APP.f=C_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.oa;case "datoms":return this.ua;case "id":return this.id;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.S.h(new $APP.H(null,8,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[z5,this.qa],null),new $APP.H(null,2,5,$APP.I,[Y5,this.va],null),new $APP.H(null,2,5,$APP.I,[x5,this.ka],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null),new $APP.H(null,2,5,$APP.I,[b6,this.ga],null),new $APP.H(null,2,5,$APP.I,[G3,this.oa],null),new $APP.H(null,2,5,$APP.I,[$APP.I2,this.ua],
null),new $APP.H(null,2,5,$APP.I,[$APP.As,this.id],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,8,new $APP.H(null,8,5,$APP.I,[z5,Y5,x5,x3,b6,G3,$APP.I2,$APP.As],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new C_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,this.o,this.D)};$APP.f.Z=function(){return 8+$APP.ie(this.o)};
$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1127179791^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.qa,b.qa)&&$APP.B.h(this.va,b.va)&&$APP.B.h(this.ka,b.ka)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.ga,b.ga)&&$APP.B.h(this.oa,b.oa)&&$APP.B.h(this.ua,b.ua)&&$APP.B.h(this.id,b.id)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,8,[x5,null,z5,null,$APP.As,null,Y5,null,G3,null,$APP.I2,null,x3,null,b6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new C_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(z5,b):$APP.Ig.call(null,z5,b))?new C_(c,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(Y5,b):$APP.Ig.call(null,Y5,b))?new C_(this.qa,c,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x5,b):$APP.Ig.call(null,x5,b))?new C_(this.qa,this.va,c,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,
b):$APP.Ig.call(null,x3,b))?new C_(this.qa,this.va,this.ka,c,this.ga,this.oa,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(b6,b):$APP.Ig.call(null,b6,b))?new C_(this.qa,this.va,this.ka,this.pattern,c,this.oa,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(G3,b):$APP.Ig.call(null,G3,b))?new C_(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.ua,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.I2,b):$APP.Ig.call(null,$APP.I2,b))?new C_(this.qa,this.va,this.ka,
this.pattern,this.ga,this.oa,c,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.As,b):$APP.Ig.call(null,$APP.As,b))?new C_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,c,this.B,this.o,null):new C_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,8,5,$APP.I,[new $APP.kf(z5,this.qa,null),new $APP.kf(Y5,this.va,null),new $APP.kf(x5,this.ka,null),new $APP.kf(x3,this.pattern,null),new $APP.kf(b6,this.ga,null),new $APP.kf(G3,this.oa,null),new $APP.kf($APP.I2,this.ua,null),new $APP.kf($APP.As,this.id,null)],null),this.o))};$APP.f.X=function(a,b){return new C_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.ua,this.id,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.lg=function(a,b){a=this.qa;var c=this.va;var d=this.ka;var e=b.value;d=null==e?d:$APP.kj.j(d,this.ga.as,e);e=this.pattern;var h=s_(this.oa),l=t_(this.oa);b=b.ua;b=$APP.m(b)?b:t_(this.ua);return new C_(a,c,d,e,h,l,$APP.qh(b),this.id,null,null,null)};
$APP.f.tf=function(a,b){var c=this,d=c.ka,e=c.ga;a=c.oa;for(var h=c.ua;;){if(null==h&&null==e)return new $APP.H(null,1,5,$APP.I,[function(){var v=c.qa,J=c.va,P=d,W=c.pattern,Z=s_(c.pattern.Kc),na=t_(c.pattern.Kc),pa=c.id;return E_.Ja?E_.Ja(v,J,P,W,Z,na,pa):E_.call(null,v,J,P,W,Z,na,pa)}()],null);if(null!=e&&$APP.B.h(U2,e.name)){var l=$APP.kj.j(d,e.as,function(){var v=e.pb;return v.g?v.g(c.id):v.call(null,c.id)}()),p=s_(a);a=t_(a);d=l;e=p}else{var t=s_(h),A=$APP.m(function(){var v=t;return $APP.m(v)?
e:v}())?$APP.mf(e.name,t.a):null,y=function(){var v=null==e;if(v)return v;v=A;return $APP.m(v)?0<A:v}(),D=function(){var v=null==t;if(v)return v;v=A;return $APP.m(v)?0>A:v}();if($APP.m(function(){var v=c.pattern.ic;return $APP.m(v)?(v=null!=t)?y:v:v}()))p=MW(AY(b.db).mc,t.a,function(v,J,P,W,Z){return function(){return l_(b.db,Z.a)}}(d,e,a,h,t,A,y,D,this)),l=d,a=$APP.m(e)?u_(a,e):null,d=l,e=p;else if($APP.m(y))l=d,p=e,h=t_(h),d=l,e=p;else if(w_(b,mRa,c.id,e.name,null),$APP.m(function(){var v=D;return $APP.m(v)?
null==e:v}()))l=d,p=s_(a),a=t_(a),d=l,e=p;else if($APP.m(function(){var v=D;return $APP.m(v)?null!=$APP.Un.g(e):v}()))l=$APP.kj.j(d,e.as,$APP.Un.g(e)),p=s_(a),a=t_(a),d=l,e=p;else if($APP.m(D))l=function(){var v=e.pb;return v.g?v.g(null):v.call(null,null)}(),null==l?(l=d,p=s_(a),a=t_(a),d=l,e=p):(l=$APP.kj.j(d,e.as,l),p=s_(a),a=t_(a),d=l,e=p);else{if($APP.m(function(){var v=e.Xb;return $APP.m(v)?e.$b:v}()))return new $APP.H(null,2,5,$APP.I,[new C_(c.qa,c.va,d,c.pattern,e,a,h,c.id,null,null,null),
new B_(c.qa,c.va,$APP.Tc($APP.qi),c.pattern,e,h,null,null,null)],null);if($APP.m(e.Xb))return new $APP.H(null,2,5,$APP.I,[new C_(c.qa,c.va,d,c.pattern,e,a,h,c.id,null,null,null),new A_($APP.Tc($APP.qi),e,h,null,null,null)],null);if($APP.m(e.$b))return new $APP.H(null,2,5,$APP.I,[new C_(c.qa,c.va,d,c.pattern,e,a,h,c.id,null,null,null),function(){var v=c.qa,J=c.va,P=c.pattern,W=e,Z=t.v;return G_.ya?G_.ya(b,v,J,P,W,Z):G_.call(null,b,v,J,P,W,Z)}()],null);l=$APP.kj.j(d,e.as,function(){var v=t.v,J=e.pb;
return J.g?J.g(v):J.call(null,v)}());p=s_(a);a=t_(a);h=t_(h);d=l;e=p}}}};$APP.f=D_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.oa;case "id":return this.id;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.S.h(new $APP.H(null,7,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[z5,this.qa],null),new $APP.H(null,2,5,$APP.I,[Y5,this.va],null),new $APP.H(null,2,5,$APP.I,[x5,this.ka],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null),new $APP.H(null,2,5,$APP.I,[b6,this.ga],null),new $APP.H(null,2,5,$APP.I,[G3,this.oa],null),new $APP.H(null,2,5,$APP.I,[$APP.As,
this.id],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,7,new $APP.H(null,7,5,$APP.I,[z5,Y5,x5,x3,b6,G3,$APP.As],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new D_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.id,this.B,this.o,this.D)};$APP.f.Z=function(){return 7+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=470210558^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.qa,b.qa)&&$APP.B.h(this.va,b.va)&&$APP.B.h(this.ka,b.ka)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.ga,b.ga)&&$APP.B.h(this.oa,b.oa)&&$APP.B.h(this.id,b.id)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,7,[x5,null,z5,null,$APP.As,null,Y5,null,G3,null,x3,null,b6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new D_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.id,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(z5,b):$APP.Ig.call(null,z5,b))?new D_(c,this.va,this.ka,this.pattern,this.ga,this.oa,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(Y5,b):$APP.Ig.call(null,Y5,b))?new D_(this.qa,c,this.ka,this.pattern,this.ga,this.oa,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x5,b):$APP.Ig.call(null,x5,b))?new D_(this.qa,this.va,c,this.pattern,this.ga,this.oa,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,b):$APP.Ig.call(null,
x3,b))?new D_(this.qa,this.va,this.ka,c,this.ga,this.oa,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(b6,b):$APP.Ig.call(null,b6,b))?new D_(this.qa,this.va,this.ka,this.pattern,c,this.oa,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(G3,b):$APP.Ig.call(null,G3,b))?new D_(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.id,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.As,b):$APP.Ig.call(null,$APP.As,b))?new D_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,c,this.B,
this.o,null):new D_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.id,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,7,5,$APP.I,[new $APP.kf(z5,this.qa,null),new $APP.kf(Y5,this.va,null),new $APP.kf(x5,this.ka,null),new $APP.kf(x3,this.pattern,null),new $APP.kf(b6,this.ga,null),new $APP.kf(G3,this.oa,null),new $APP.kf($APP.As,this.id,null)],null),this.o))};
$APP.f.X=function(a,b){return new D_(this.qa,this.va,this.ka,this.pattern,this.ga,this.oa,this.id,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.lg=function(a,b){a=this.qa;var c=this.va,d=this.ka;b=b.value;b=null==b?d:$APP.kj.j(d,this.ga.as,b);return new D_(a,c,b,this.pattern,s_(this.oa),t_(this.oa),this.id,null,null,null)};
$APP.f.tf=function(a,b){var c=this.ka;a=this.ga;for(var d=this.oa;;){if(null==a)return new $APP.H(null,1,5,$APP.I,[new z_($APP.qh($APP.Vc(c)),null,null,null,null)],null);var e=a.name,h=b.db;h=h instanceof $APP.vY?EX(h.ac,VX.I(0,e,this.id,536870912),VX.I(2147483647,e,this.id,2147483647)):kY(h,new $APP.H(null,3,5,$APP.I,[null,e,this.id],null));w_(b,XPa,null,e,this.id);if($APP.Ee(h)&&null!=$APP.Un.g(a))c=$APP.kj.j(c,a.as,$APP.Un.g(a)),a=s_(d),d=e=t_(d);else if($APP.Ee(h))a=s_(d),d=e=t_(d);else{if($APP.m(a.Vb)){e=
$APP.I;c=new D_(this.qa,this.va,c,this.pattern,a,d,this.id,null,null,null);d=this.qa;var l=this.va,p=this.pattern;h=s_(h).e;b=G_.ya?G_.ya(b,d,l,p,a,h):G_.call(null,b,d,l,p,a,h);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.I,[new D_(this.qa,this.va,c,this.pattern,a,d,this.id,null,null,null),new B_(this.qa,this.va,$APP.Tc($APP.qi),this.pattern,a,h,null,null,null)],null);return b}}};
var k3=function k3(a){switch(arguments.length){case 3:return k3.j(arguments[0],arguments[1],arguments[2]);case 4:return k3.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};k3.j=function(a,b,c){return k3.I(a,b,c,$APP.uh)};k3.I=function(a,b,c,d){a=I_(a,b,d);return H_(a,c)};k3.C=4;
var l3=function l3(a){switch(arguments.length){case 3:return l3.j(arguments[0],arguments[1],arguments[2]);case 4:return l3.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};l3.j=function(a,b,c){return l3.I(a,b,c,$APP.uh)};l3.I=function(a,b,c,d){var e=I_(a,b,d);return $APP.lq.h(function(h){return H_(e,h)},c)};l3.C=4;var G6=function G6(a){switch(arguments.length){case 0:return G6.F();case 1:return G6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};G6.F=function(){return G6.g((new Date).getTime())};
G6.g=function(a){return $APP.qm([$APP.n.g(F4(a/1E3|0,8)),"-",$APP.n.g(F4($APP.Fl(65536),4)),"-",$APP.n.g(F4($APP.Fl(65536)&4095|16384,4)),"-",$APP.n.g(F4($APP.Fl(65536)&16383|32768,4)),"-",$APP.n.g(F4($APP.Fl(65536),4)),$APP.n.g(F4($APP.Fl(65536),4)),$APP.n.g(F4($APP.Fl(65536),4))].join(""))};G6.C=1;var P4,bPa=$APP.Cl.g($APP.uh),R4=$APP.Wh(1E6);$APP.f=L4.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "storage":return this.storage;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[r1,this.storage],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[r1],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new L4(this.storage,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1627330428^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.storage,b.storage)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[r1,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new L4(this.storage,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "storage":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(r1,b):$APP.Ig.call(null,r1,b))?new L4(c,this.B,this.o,null):new L4(this.storage,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(r1,this.storage,null)],null),this.o))};$APP.f.X=function(a,b){return new L4(this.storage,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.Al=function(a,b,c){a=$APP.m($APP.m(c)?b instanceof hX&&$APP.jf($APP.qk(b.Sb),c):c)?R4.Mc(null,R4.Oa(null)+1):$APP.m(c)?c:R4.Mc(null,R4.Oa(null)+1);c=$APP.lq.h(iOa,b.keys);c=new $APP.g(null,1,[$APP.pD,c],null);b=b instanceof hX?$APP.K.j(c,gQa,b.Sb):c;$APP.md(P4,$APP.pi.h($APP.q(P4),new $APP.H(null,2,5,$APP.I,[a,b],null)));return a};
$APP.f.zl=function(a,b){a=K4(this.storage,b);a=$APP.ph(a);var c=$APP.gf.h(a,$APP.pD);a=$APP.gf.h(a,gQa);if($APP.m(c)){c=$ja($APP.Wk.h(function(e){var h=$APP.C.j(e,0,null),l=$APP.C.j(e,1,null),p=$APP.C.j(e,2,null);e=$APP.C.j(e,3,null);return VX.I(h,l,p,e)},c));b=new $APP.g(null,2,[m1,b,qRa,!1],null);if($APP.m(a)){var d=Array($APP.ie(a));return kX(c,d,a,$APP.F([b]))}return q1.l(c,$APP.F([b]))}return null};$APP.f.Dl=function(){return null};
$APP.f.Cl=function(a,b){return $APP.Dl.I(bPa,$APP.Eq,this.storage,function(c){return $APP.In.h(c,$APP.Rq.h($APP.mb,b))})};var kOa=$APP.Cl.g($APP.qi),y5=function y5(a){switch(arguments.length){case 1:return y5.g(arguments[0]);case 2:return y5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};y5.g=function(a){var b=N4(a);if(null==b)throw $APP.Fp.h("Database has no associated storage",$APP.uh);return U4(a,b,!1)};
y5.h=function(a,b){var c=N4(a);if(null==c)return $APP.K1.g(a),c=new L4(b,null,null,null),U4(a,c,!1);var d=r1.g(c);if(d===b)return U4(a,c,!1);throw $APP.Fp.h("Database is already stored with another IStorage",new $APP.g(null,1,[r1,d],null));};y5.C=2;var H6=function H6(a){switch(arguments.length){case 1:return H6.g(arguments[0]);case 2:return H6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};H6.g=function(a){return H6.h(a,$APP.uh)};
H6.h=function(a,b){b=qOa(a,b);a=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);return rOa(a,b)};H6.C=2;var n3=function n3(a){switch(arguments.length){case 1:return n3.g(arguments[0]);case 2:return n3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};n3.g=function(a){return N_(a,$APP.uh)};n3.h=function(a,b){return N_(a,b)};n3.C=2;var o3=function o3(a){switch(arguments.length){case 1:return o3.g(arguments[0]);case 2:return o3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
o3.g=function(a){return o3.h(a,$APP.uh)};
o3.h=function(a,b){b=$APP.ph(b);var c=$APP.gf.j(b,jQa,$APP.m3),d=$APP.gf.j(b,rQa,wka),e=K_(a,"tx0"),h=function(){var y=K_(a,"schema");return c.g?c.g(y):c.call(null,y)}();(function(){var y=new $APP.Dd(function(){return PY},aRa,$APP.Oj([$APP.cx,$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[!0,$APP.HK,uQa,"datascript/db.cljc",23,1,922,922,$APP.R(new $APP.H(null,1,5,$APP.I,[A5],null)),null,$APP.m(PY)?PY.A:null]));return y.g?y.g(h):y.call(null,h)})();var l=$APP.lq.h(d,K_(a,
"attrs")),p=$APP.lq.h(d,K_(a,"keywords")),t=L_(function(y){var D=J_(y,0),v=$APP.C.h(l,J_(y,1)),J=J_(y,2);if("number"===typeof J)var P=J;else if("string"===typeof J)P=J;else if($APP.Ue(J))P=J;else if($APP.nb(J)||$APP.Ne(J))P=function(){var W=J_(J,0);if($APP.m($APP.on.h?$APP.on.h(0,W):$APP.on.call(null,0,W)))return $APP.C.h(p,J_(J,1));if($APP.m($APP.on.h?$APP.on.h(1,W):$APP.on.call(null,1,W)))return W=J_(J,1),c.g?c.g(W):c.call(null,W);if($APP.m($APP.on.h?$APP.on.h(2,W):$APP.on.call(null,2,W)))return Infinity;
if($APP.m($APP.on.h?$APP.on.h(3,W):$APP.on.call(null,3,W)))return-Infinity;if($APP.m($APP.on.h?$APP.on.h(4,W):$APP.on.call(null,4,W)))return NaN;throw $APP.Fp.h(["Unexpected value marker ",$APP.yl.l($APP.F([W]))," in ",$APP.yl.l($APP.F([$APP.yl.l($APP.F([J]))]))].join(""),new $APP.g(null,2,[$APP.xJ,qQa,$APP.PJ,J],null));}();else throw $APP.Fp.h(["Unexpected value type ",$APP.yl.l($APP.F([$APP.zb(J)]))," (",$APP.yl.l($APP.F([$APP.yl.l($APP.F([J]))])),")"].join(""),new $APP.g(null,2,[$APP.xJ,qQa,$APP.PJ,
J],null));y=e+J_(y,3);return VX.I(D,v,P,y)},K_(a,"eavt"));d=function(){var y=K_(a,"aevt");return null==y?null:L_(function(D){return t[D]},y)}();var A=function(){var y=K_(a,"avet");return null==y?null:L_(function(D){return t[D]},y)}();b=$APP.bp.l($APP.F([new $APP.g(null,2,[MNa,K_(a,"branching-factor"),RNa,function(){var y=K_(a,"ref-type");return null==y?null:$APP.Xk.g(y)}()],null),$APP.jk(b,new $APP.H(null,2,5,$APP.I,[MNa,RNa],null))]));return X4(new $APP.g(null,6,[$APP.F1,h,$APP.K1,k1(bY,t,b),W1,
k1(cY,d,b),E1,k1(dY,A,b),Z1,K_(a,"max-eid"),$1,K_(a,"max-tx")],null))};o3.C=2;$APP.f=Y_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){return $APP.gf.j(this.o,b,c)};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.S.h($APP.qi,this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,0,$APP.qi,$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new Y_(this.B,this.o,this.D)};$APP.f.Z=function(){return 0+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-528488587^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf($APP.mk,b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new Y_(this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){return $APP.jf(this.o,b)};$APP.f.U=function(a,b,c){return new Y_(this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h($APP.qi,this.o))};$APP.f.X=function(a,b){return new Y_(b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};
$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return c};$APP.f.mb=function(a,b){return b};$APP.f=Z_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "symbol":return this.Ia;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.wn,this.Ia],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.wn],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new Z_(this.Ia,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=736891289^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Ia,b.Ia)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.wn,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new Z_(this.Ia,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "symbol":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.wn,b):$APP.Ig.call(null,$APP.wn,b))?new Z_(c,this.B,this.o,null):new Z_(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.wn,this.Ia,null)],null),this.o))};$APP.f.X=function(a,b){return new Z_(this.Ia,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ia,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.Ia):c1.call(null,b,this.Ia)};$APP.f=$_.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "symbol":return this.Ia;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.wn,this.Ia],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.wn],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new $_(this.Ia,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1648766309^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Ia,b.Ia)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.wn,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new $_(this.Ia,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "symbol":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.wn,b):$APP.Ig.call(null,$APP.wn,b))?new $_(c,this.B,this.o,null):new $_(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.wn,this.Ia,null)],null),this.o))};$APP.f.X=function(a,b){return new $_(this.Ia,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;
$APP.f.lb=function(a,b,c){return T_(b,this.Ia,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.Ia):c1.call(null,b,this.Ia)};$APP.f=a0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){return $APP.gf.j(this.o,b,c)};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.S.h($APP.qi,this.o))};$APP.f.ia=function(){return new $APP.Yi(this,0,$APP.qi,$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new a0(this.B,this.o,this.D)};$APP.f.Z=function(){return 0+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-350962559^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf($APP.mk,b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new a0(this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){return $APP.jf(this.o,b)};$APP.f.U=function(a,b,c){return new a0(this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h($APP.qi,this.o))};$APP.f.X=function(a,b){return new a0(b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return c};$APP.f.mb=function(a,b){return b};$APP.f=b0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){return $APP.gf.j(this.o,b,c)};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.S.h($APP.qi,this.o))};$APP.f.ia=function(){return new $APP.Yi(this,0,$APP.qi,$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new b0(this.B,this.o,this.D)};$APP.f.Z=function(){return 0+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1504050517^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf($APP.mk,b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new b0(this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){return $APP.jf(this.o,b)};$APP.f.U=function(a,b,c){return new b0(this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h($APP.qi,this.o))};$APP.f.X=function(a,b){return new b0(b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return c};$APP.f.mb=function(a,b){return b};$APP.f=c0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "value":return this.value;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.PJ,this.value],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.PJ],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new c0(this.value,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-812884714^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.value,b.value)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.PJ,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new c0(this.value,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "value":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.PJ,b):$APP.Ig.call(null,$APP.PJ,b))?new c0(c,this.B,this.o,null):new c0(this.value,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.PJ,this.value,null)],null),this.o))};$APP.f.X=function(a,b){return new c0(this.value,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;
$APP.f.lb=function(a,b,c){return T_(b,this.value,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.value):c1.call(null,b,this.value)};$APP.f=d0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "symbol":return this.Ia;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.wn,this.Ia],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.wn],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new d0(this.Ia,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1509921913^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Ia,b.Ia)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.wn,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new d0(this.Ia,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "symbol":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.wn,b):$APP.Ig.call(null,$APP.wn,b))?new d0(c,this.B,this.o,null):new d0(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.wn,this.Ia,null)],null),this.o))};$APP.f.X=function(a,b){return new d0(this.Ia,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ia,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.Ia):c1.call(null,b,this.Ia)};$APP.f=n0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "required":return this.required;case "free":return this.wd;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.gP,this.required],null),new $APP.H(null,2,5,$APP.I,[h1,this.wd],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.gP,h1],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new n0(this.required,this.wd,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=892963297^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.required,b.required)&&$APP.B.h(this.wd,b.wd)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[h1,null,$APP.gP,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new n0(this.required,this.wd,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "required":case "free":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.gP,b):$APP.Ig.call(null,$APP.gP,b))?new n0(c,this.wd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(h1,b):$APP.Ig.call(null,h1,b))?new n0(this.required,c,this.B,this.o,null):new n0(this.required,this.wd,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.gP,this.required,null),new $APP.kf(h1,this.wd,null)],null),this.o))};$APP.f.X=function(a,b){return new n0(this.required,this.wd,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.wd,T_(b,this.required,c))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.required):c1.call(null,b,this.required);b=this.wd;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=s0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){return $APP.gf.j(this.o,b,c)};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.S.h($APP.qi,this.o))};$APP.f.ia=function(){return new $APP.Yi(this,0,$APP.qi,$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new s0(this.B,this.o,this.D)};$APP.f.Z=function(){return 0+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-890522983^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf($APP.mk,b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new s0(this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){return $APP.jf(this.o,b)};$APP.f.U=function(a,b,c){return new s0(this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h($APP.qi,this.o))};$APP.f.X=function(a,b){return new s0(b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return c};$APP.f.mb=function(a,b){return b};$APP.f=t0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "variable":return this.Hb;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[o5,this.Hb],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[o5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new t0(this.Hb,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1522792445^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Hb,b.Hb)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[o5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new t0(this.Hb,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "variable":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(o5,b):$APP.Ig.call(null,o5,b))?new t0(c,this.B,this.o,null):new t0(this.Hb,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(o5,this.Hb,null)],null),this.o))};$APP.f.X=function(a,b){return new t0(this.Hb,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Hb,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.Hb):c1.call(null,b,this.Hb)};$APP.f=u0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "bindings":return this.kc;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.vs,this.kc],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.vs],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new u0(this.kc,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1637239347^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.kc,b.kc)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.vs,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new u0(this.kc,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "bindings":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.vs,b):$APP.Ig.call(null,$APP.vs,b))?new u0(c,this.B,this.o,null):new u0(this.kc,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.vs,this.kc,null)],null),this.o))};$APP.f.X=function(a,b){return new u0(this.kc,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.kc,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.kc):c1.call(null,b,this.kc)};$APP.f=v0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "binding":return this.binding;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[D5,this.binding],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[D5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new v0(this.binding,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1930368089^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.binding,b.binding)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[D5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new v0(this.binding,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "binding":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(D5,b):$APP.Ig.call(null,D5,b))?new v0(c,this.B,this.o,null):new v0(this.binding,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(D5,this.binding,null)],null),this.o))};$APP.f.X=function(a,b){return new v0(this.binding,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;
$APP.f.lb=function(a,b,c){return T_(b,this.binding,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.binding):c1.call(null,b,this.binding)};Z_.prototype.kg=function(){return new $APP.H(null,1,5,$APP.I,[this.Ia],null)};$APP.f=A0.prototype;$APP.f.kg=function(){return z0($APP.te(this.xa))};$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "fn":return this.ha;case "args":return this.xa;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Aq,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Ao,this.xa],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Aq,$APP.Ao],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new A0(this.ha,this.xa,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-91097383^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ha,b.ha)&&$APP.B.h(this.xa,b.xa)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.Ao,null,$APP.Aq,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new A0(this.ha,this.xa,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "fn":case "args":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Aq,b):$APP.Ig.call(null,$APP.Aq,b))?new A0(c,this.xa,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.Ao,b):$APP.Ig.call(null,$APP.Ao,b))?new A0(this.ha,c,this.B,this.o,null):new A0(this.ha,this.xa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.Aq,this.ha,null),new $APP.kf($APP.Ao,this.xa,null)],null),this.o))};$APP.f.X=function(a,b){return new A0(this.ha,this.xa,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.xa,T_(b,this.ha,c))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.ha):c1.call(null,b,this.ha);b=this.xa;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=B0.prototype;$APP.f.kg=function(){return z0(this.Hb)};$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "source":return this.source;case "variable":return this.Hb;case "pattern":return this.pattern;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hm,this.source],null),new $APP.H(null,2,5,$APP.I,[o5,this.Hb],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hm,o5,x3],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new B0(this.source,this.Hb,this.pattern,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2108867663^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.source,b.source)&&$APP.B.h(this.Hb,b.Hb)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[o5,null,$APP.Hm,null,x3,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new B0(this.source,this.Hb,this.pattern,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "source":case "variable":case "pattern":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Hm,b):$APP.Ig.call(null,$APP.Hm,b))?new B0(c,this.Hb,this.pattern,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(o5,b):$APP.Ig.call(null,o5,b))?new B0(this.source,c,this.pattern,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,b):$APP.Ig.call(null,x3,b))?new B0(this.source,this.Hb,c,this.B,this.o,null):new B0(this.source,this.Hb,this.pattern,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf($APP.Hm,this.source,null),new $APP.kf(o5,this.Hb,null),new $APP.kf(x3,this.pattern,null)],null),this.o))};$APP.f.X=function(a,b){return new B0(this.source,this.Hb,this.pattern,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.pattern,T_(b,this.Hb,T_(b,this.source,c)))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.source):c1.call(null,b,this.source);b=this.Hb;a=c1.h?c1.h(a,b):c1.call(null,a,b);b=this.pattern;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=D0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "elements":return this.elements;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[S5,this.elements],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[S5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new D0(this.elements,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=744809563^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.elements,b.elements)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[S5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new D0(this.elements,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.sf=function(){return this.elements};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "elements":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(S5,b):$APP.Ig.call(null,S5,b))?new D0(c,this.B,this.o,null):new D0(this.elements,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(S5,this.elements,null)],null),this.o))};$APP.f.X=function(a,b){return new D0(this.elements,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;
$APP.f.lb=function(a,b,c){return T_(b,this.elements,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.elements):c1.call(null,b,this.elements)};$APP.f=E0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "element":return this.element;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[c6,this.element],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[c6],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new E0(this.element,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=124241361^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.element,b.element)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[c6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new E0(this.element,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.sf=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "element":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(c6,b):$APP.Ig.call(null,c6,b))?new E0(c,this.B,this.o,null):new E0(this.element,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(c6,this.element,null)],null),this.o))};
$APP.f.X=function(a,b){return new E0(this.element,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.element,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.element):c1.call(null,b,this.element)};$APP.f=F0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "element":return this.element;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[c6,this.element],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[c6],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new F0(this.element,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-661542332^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.element,b.element)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[c6,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new F0(this.element,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.sf=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "element":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(c6,b):$APP.Ig.call(null,c6,b))?new F0(c,this.B,this.o,null):new F0(this.element,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(c6,this.element,null)],null),this.o))};
$APP.f.X=function(a,b){return new F0(this.element,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.element,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.element):c1.call(null,b,this.element)};$APP.f=G0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "elements":return this.elements;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[S5,this.elements],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[S5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new G0(this.elements,this.B,this.o,this.D)};
$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=681530371^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.elements,b.elements)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[S5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new G0(this.elements,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.sf=function(){return this.elements};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "elements":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(S5,b):$APP.Ig.call(null,S5,b))?new G0(c,this.B,this.o,null):new G0(this.elements,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf(S5,this.elements,null)],null),this.o))};$APP.f.X=function(a,b){return new G0(this.elements,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.elements,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.elements):c1.call(null,b,this.elements)};$APP.f=L0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "type":return this.type;case "symbols":return this.Ad;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Im,this.type],null),new $APP.H(null,2,5,$APP.I,[n5,this.Ad],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Im,n5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new L0(this.type,this.Ad,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2025547471^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.type,b.type)&&$APP.B.h(this.Ad,b.Ad)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.Im,null,n5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new L0(this.type,this.Ad,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "type":case "symbols":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Im,b):$APP.Ig.call(null,$APP.Im,b))?new L0(c,this.Ad,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(n5,b):$APP.Ig.call(null,n5,b))?new L0(this.type,c,this.B,this.o,null):new L0(this.type,this.Ad,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.Im,this.type,null),new $APP.kf(n5,this.Ad,null)],null),this.o))};$APP.f.X=function(a,b){return new L0(this.type,this.Ad,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ad,T_(b,this.type,c))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.type):c1.call(null,b,this.type);b=this.Ad;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=N0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hm,this.source],null),new $APP.H(null,2,5,$APP.I,[x3,this.pattern],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Hm,x3],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new N0(this.source,this.pattern,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=575220587^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.source,b.source)&&$APP.B.h(this.pattern,b.pattern)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.Hm,null,x3,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new N0(this.source,this.pattern,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "source":case "pattern":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Hm,b):$APP.Ig.call(null,$APP.Hm,b))?new N0(c,this.pattern,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(x3,b):$APP.Ig.call(null,x3,b))?new N0(this.source,c,this.B,this.o,null):new N0(this.source,this.pattern,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.Hm,this.source,null),new $APP.kf(x3,this.pattern,null)],null),this.o))};$APP.f.X=function(a,b){return new N0(this.source,this.pattern,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.pattern,T_(b,this.source,c))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.source):c1.call(null,b,this.source);b=this.pattern;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=O0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "fn":return this.ha;case "args":return this.xa;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Aq,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Ao,this.xa],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Aq,$APP.Ao],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new O0(this.ha,this.xa,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1523376880^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ha,b.ha)&&$APP.B.h(this.xa,b.xa)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.Ao,null,$APP.Aq,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new O0(this.ha,this.xa,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "fn":case "args":return!0;default:return $APP.jf(this.o,b)}};$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Aq,b):$APP.Ig.call(null,$APP.Aq,b))?new O0(c,this.xa,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.Ao,b):$APP.Ig.call(null,$APP.Ao,b))?new O0(this.ha,c,this.B,this.o,null):new O0(this.ha,this.xa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.Aq,this.ha,null),new $APP.kf($APP.Ao,this.xa,null)],null),this.o))};$APP.f.X=function(a,b){return new O0(this.ha,this.xa,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.xa,T_(b,this.ha,c))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.ha):c1.call(null,b,this.ha);b=this.xa;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=P0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "fn":return this.ha;case "args":return this.xa;case "binding":return this.binding;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Aq,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Ao,this.xa],null),new $APP.H(null,2,5,$APP.I,[D5,this.binding],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Aq,$APP.Ao,D5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new P0(this.ha,this.xa,this.binding,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=589494199^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.ha,b.ha)&&$APP.B.h(this.xa,b.xa)&&$APP.B.h(this.binding,b.binding)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[$APP.Ao,null,$APP.Aq,null,D5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new P0(this.ha,this.xa,this.binding,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "fn":case "args":case "binding":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Aq,b):$APP.Ig.call(null,$APP.Aq,b))?new P0(c,this.xa,this.binding,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.Ao,b):$APP.Ig.call(null,$APP.Ao,b))?new P0(this.ha,c,this.binding,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(D5,b):$APP.Ig.call(null,D5,b))?new P0(this.ha,this.xa,c,this.B,this.o,null):new P0(this.ha,this.xa,this.binding,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf($APP.Aq,this.ha,null),new $APP.kf($APP.Ao,this.xa,null),new $APP.kf(D5,this.binding,null)],null),this.o))};$APP.f.X=function(a,b){return new P0(this.ha,this.xa,this.binding,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.binding,T_(b,this.xa,T_(b,this.ha,c)))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.ha):c1.call(null,b,this.ha);b=this.xa;a=c1.h?c1.h(a,b):c1.call(null,a,b);b=this.binding;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=Q0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "source":return this.source;case "name":return this.name;case "args":return this.xa;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hm,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.Ao,this.xa],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hm,$APP.N,$APP.Ao],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new Q0(this.source,this.name,this.xa,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-444662011^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.source,b.source)&&$APP.B.h(this.name,b.name)&&$APP.B.h(this.xa,b.xa)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[$APP.Ao,null,$APP.N,null,$APP.Hm,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new Q0(this.source,this.name,this.xa,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "source":case "name":case "args":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Hm,b):$APP.Ig.call(null,$APP.Hm,b))?new Q0(c,this.name,this.xa,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.N,b):$APP.Ig.call(null,$APP.N,b))?new Q0(this.source,c,this.xa,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.Ao,b):$APP.Ig.call(null,$APP.Ao,b))?new Q0(this.source,this.name,c,this.B,this.o,null):new Q0(this.source,this.name,this.xa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf($APP.Hm,this.source,null),new $APP.kf($APP.N,this.name,null),new $APP.kf($APP.Ao,this.xa,null)],null),this.o))};$APP.f.X=function(a,b){return new Q0(this.source,this.name,this.xa,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.xa,T_(b,this.name,T_(b,this.source,c)))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.source):c1.call(null,b,this.source);b=this.name;a=c1.h?c1.h(a,b):c1.call(null,a,b);b=this.xa;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=R0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "source":return this.source;case "vars":return this.Ib;case "clauses":return this.Ca;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hm,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.hJ,this.Ib],null),new $APP.H(null,2,5,$APP.I,[$APP.NK,this.Ca],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hm,$APP.hJ,$APP.NK],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new R0(this.source,this.Ib,this.Ca,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1394671061^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.source,b.source)&&$APP.B.h(this.Ib,b.Ib)&&$APP.B.h(this.Ca,b.Ca)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[$APP.Hm,null,$APP.NK,null,$APP.hJ,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new R0(this.source,this.Ib,this.Ca,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "source":case "vars":case "clauses":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Hm,b):$APP.Ig.call(null,$APP.Hm,b))?new R0(c,this.Ib,this.Ca,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.hJ,b):$APP.Ig.call(null,$APP.hJ,b))?new R0(this.source,c,this.Ca,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.NK,b):$APP.Ig.call(null,$APP.NK,b))?new R0(this.source,this.Ib,c,this.B,this.o,null):new R0(this.source,this.Ib,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf($APP.Hm,this.source,null),new $APP.kf($APP.hJ,this.Ib,null),new $APP.kf($APP.NK,this.Ca,null)],null),this.o))};$APP.f.X=function(a,b){return new R0(this.source,this.Ib,this.Ca,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ca,T_(b,this.Ib,T_(b,this.source,c)))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.source):c1.call(null,b,this.source);b=this.Ib;a=c1.h?c1.h(a,b):c1.call(null,a,b);b=this.Ca;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=S0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "source":return this.source;case "rule-vars":return this.bd;case "clauses":return this.Ca;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hm,this.source],null),new $APP.H(null,2,5,$APP.I,[$4,this.bd],null),new $APP.H(null,2,5,$APP.I,[$APP.NK,this.Ca],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hm,$4,$APP.NK],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new S0(this.source,this.bd,this.Ca,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1461934571^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.source,b.source)&&$APP.B.h(this.bd,b.bd)&&$APP.B.h(this.Ca,b.Ca)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[$4,null,$APP.Hm,null,$APP.NK,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new S0(this.source,this.bd,this.Ca,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.Hm,b):$APP.Ig.call(null,$APP.Hm,b))?new S0(c,this.bd,this.Ca,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($4,b):$APP.Ig.call(null,$4,b))?new S0(this.source,c,this.Ca,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.NK,b):$APP.Ig.call(null,$APP.NK,b))?new S0(this.source,this.bd,c,this.B,this.o,null):new S0(this.source,this.bd,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf($APP.Hm,this.source,null),new $APP.kf($4,this.bd,null),new $APP.kf($APP.NK,this.Ca,null)],null),this.o))};$APP.f.X=function(a,b){return new S0(this.source,this.bd,this.Ca,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ca,T_(b,this.bd,T_(b,this.source,c)))};
$APP.f.mb=function(a,b){a=c1.h?c1.h(b,this.source):c1.call(null,b,this.source);b=this.bd;a=c1.h?c1.h(a,b):c1.call(null,a,b);b=this.Ca;return c1.h?c1.h(a,b):c1.call(null,a,b)};$APP.f=T0.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "clauses":return this.Ca;default:return $APP.gf.j(this.o,b,c)}};
$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.NK,this.Ca],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,1,new $APP.H(null,1,5,$APP.I,[$APP.NK],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new T0(this.Ca,this.B,this.o,this.D)};$APP.f.Z=function(){return 1+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-131856804^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Ca,b.Ca)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,1,[$APP.NK,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new T0(this.Ca,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "clauses":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.NK,b):$APP.Ig.call(null,$APP.NK,b))?new T0(c,this.B,this.o,null):new T0(this.Ca,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,1,5,$APP.I,[new $APP.kf($APP.NK,this.Ca,null)],null),this.o))};$APP.f.X=function(a,b){return new T0(this.Ca,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;
$APP.f.lb=function(a,b,c){return T_(b,this.Ca,c)};$APP.f.mb=function(a,b){return c1.h?c1.h(b,this.Ca):c1.call(null,b,this.Ca)};var c1=function c1(a,b){return b instanceof Z_?$APP.Cg.h(a,b):b instanceof R0?$APP.In.h(a,b.Ib):b instanceof S0?(b=b.bd,c1.h?c1.h(a,b):c1.call(null,a,b)):(null!=b?$APP.yd===b.kb||(b.td?0:$APP.xb(O_,b)):$APP.xb(O_,b))?Q_(b,a):$APP.Je(b)?$APP.sf.j(c1,a,b):a};$APP.f=f1.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "vars":return this.Ib;case "clauses":return this.Ca;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.hJ,this.Ib],null),new $APP.H(null,2,5,$APP.I,[$APP.NK,this.Ca],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.hJ,$APP.NK],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new f1(this.Ib,this.Ca,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1024755006^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Ib,b.Ib)&&$APP.B.h(this.Ca,b.Ca)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.NK,null,$APP.hJ,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new f1(this.Ib,this.Ca,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "vars":case "clauses":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.hJ,b):$APP.Ig.call(null,$APP.hJ,b))?new f1(c,this.Ca,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.NK,b):$APP.Ig.call(null,$APP.NK,b))?new f1(this.Ib,c,this.B,this.o,null):new f1(this.Ib,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.hJ,this.Ib,null),new $APP.kf($APP.NK,this.Ca,null)],null),this.o))};
$APP.f.X=function(a,b){return new f1(this.Ib,this.Ca,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Ca,T_(b,this.Ib,c))};$APP.f.mb=function(a,b){return c1(c1(b,this.Ib),this.Ca)};$APP.f=g1.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "name":return this.name;case "branches":return this.sd;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[Q5,this.sd],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[$APP.N,Q5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new g1(this.name,this.sd,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=-900273052^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.name,b.name)&&$APP.B.h(this.sd,b.sd)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[$APP.N,null,Q5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new g1(this.name,this.sd,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "name":case "branches":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h($APP.N,b):$APP.Ig.call(null,$APP.N,b))?new g1(c,this.sd,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(Q5,b):$APP.Ig.call(null,Q5,b))?new g1(this.name,c,this.B,this.o,null):new g1(this.name,this.sd,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf($APP.N,this.name,null),new $APP.kf(Q5,this.sd,null)],null),this.o))};
$APP.f.X=function(a,b){return new g1(this.name,this.sd,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.sd,T_(b,this.name,c))};$APP.f.mb=function(a,b){return c1(c1(b,this.name),this.sd)};$APP.f=j1.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "qfind":return this.Qc;case "qwith":return this.Uc;case "qreturn-map":return this.Sc;case "qin":return this.Rc;case "qwhere":return this.Tc;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[g5,this.Qc],null),new $APP.H(null,2,5,$APP.I,[i5,this.Uc],null),new $APP.H(null,2,5,$APP.I,[j5,this.Sc],null),new $APP.H(null,2,5,$APP.I,[k5,this.Rc],null),new $APP.H(null,2,5,$APP.I,[l5,this.Tc],null)],null),this.o))};
$APP.f.ia=function(){return new $APP.Yi(this,5,new $APP.H(null,5,5,$APP.I,[g5,i5,j5,k5,l5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};$APP.f.ba=function(){return new j1(this.Qc,this.Uc,this.Sc,this.Rc,this.Tc,this.B,this.o,this.D)};$APP.f.Z=function(){return 5+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=181307977^$APP.Od(this)};
$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Qc,b.Qc)&&$APP.B.h(this.Uc,b.Uc)&&$APP.B.h(this.Sc,b.Sc)&&$APP.B.h(this.Rc,b.Rc)&&$APP.B.h(this.Tc,b.Tc)&&$APP.B.h(this.o,b.o)};$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,5,[g5,null,l5,null,k5,null,i5,null,j5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new j1(this.Qc,this.Uc,this.Sc,this.Rc,this.Tc,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};
$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(g5,b):$APP.Ig.call(null,g5,b))?new j1(c,this.Uc,this.Sc,this.Rc,this.Tc,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(i5,b):$APP.Ig.call(null,i5,b))?new j1(this.Qc,c,this.Sc,this.Rc,this.Tc,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(j5,b):$APP.Ig.call(null,j5,b))?new j1(this.Qc,this.Uc,c,this.Rc,this.Tc,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(k5,b):$APP.Ig.call(null,k5,b))?new j1(this.Qc,this.Uc,this.Sc,c,this.Tc,this.B,this.o,
null):$APP.m($APP.Ig.h?$APP.Ig.h(l5,b):$APP.Ig.call(null,l5,b))?new j1(this.Qc,this.Uc,this.Sc,this.Rc,c,this.B,this.o,null):new j1(this.Qc,this.Uc,this.Sc,this.Rc,this.Tc,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,5,5,$APP.I,[new $APP.kf(g5,this.Qc,null),new $APP.kf(i5,this.Uc,null),new $APP.kf(j5,this.Sc,null),new $APP.kf(k5,this.Rc,null),new $APP.kf(l5,this.Tc,null)],null),this.o))};
$APP.f.X=function(a,b){return new j1(this.Qc,this.Uc,this.Sc,this.Rc,this.Tc,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f.kb=$APP.yd;$APP.f.lb=function(a,b,c){return T_(b,this.Tc,T_(b,this.Rc,T_(b,this.Sc,T_(b,this.Uc,T_(b,this.Qc,c)))))};$APP.f.mb=function(a,b){return c1(c1(c1(c1(c1(b,this.Qc),this.Uc),this.Sc),this.Rc),this.Tc)};var Rla=OW();$APP.f=s1.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "rels":return this.Rd;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[q5,this.Rd],null),new $APP.H(null,2,5,$APP.I,[p5,this.sources],null),new $APP.H(null,2,5,$APP.I,[$APP.dI,this.rules],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,3,new $APP.H(null,3,5,$APP.I,[q5,p5,$APP.dI],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new s1(this.Rd,this.sources,this.rules,this.B,this.o,this.D)};$APP.f.Z=function(){return 3+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1014232958^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.Rd,b.Rd)&&$APP.B.h(this.sources,b.sources)&&$APP.B.h(this.rules,b.rules)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,3,[p5,null,$APP.dI,null,q5,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new s1(this.Rd,this.sources,this.rules,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "rels":case "sources":case "rules":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(q5,b):$APP.Ig.call(null,q5,b))?new s1(c,this.sources,this.rules,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(p5,b):$APP.Ig.call(null,p5,b))?new s1(this.Rd,c,this.rules,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h($APP.dI,b):$APP.Ig.call(null,$APP.dI,b))?new s1(this.Rd,this.sources,c,this.B,this.o,null):new s1(this.Rd,this.sources,this.rules,this.B,$APP.K.j(this.o,b,c),null)};
$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,3,5,$APP.I,[new $APP.kf(q5,this.Rd,null),new $APP.kf(p5,this.sources,null),new $APP.kf($APP.dI,this.rules,null)],null),this.o))};$APP.f.X=function(a,b){return new s1(this.Rd,this.sources,this.rules,b,this.o,this.D)};$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};$APP.f=t1.prototype;$APP.f.ea=function(a,b){return this.M(null,b,null)};
$APP.f.M=function(a,b,c){switch(b instanceof $APP.k?b.T:null){case "attrs":return this.oa;case "tuples":return this.je;default:return $APP.gf.j(this.o,b,c)}};$APP.f.ra=function(a,b,c){return $APP.sf.j(function(d,e){var h=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,h,e):b.call(null,d,h,e)},c,this)};
$APP.f.V=function(a,b,c){return $APP.Lk(b,function(d){return $APP.Lk(b,$APP.Vk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[G3,this.oa],null),new $APP.H(null,2,5,$APP.I,[r5,this.je],null)],null),this.o))};$APP.f.ia=function(){return new $APP.Yi(this,2,new $APP.H(null,2,5,$APP.I,[G3,r5],null),$APP.m(this.o)?$APP.od(this.o):$APP.vh())};$APP.f.W=function(){return this.B};
$APP.f.ba=function(){return new t1(this.oa,this.je,this.B,this.o,this.D)};$APP.f.Z=function(){return 2+$APP.ie(this.o)};$APP.f.Y=function(){var a=this.D;return null!=a?a:this.D=a=1107093117^$APP.Od(this)};$APP.f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.B.h(this.oa,b.oa)&&$APP.B.h(this.je,b.je)&&$APP.B.h(this.o,b.o)};
$APP.f.wa=function(a,b){return $APP.jf(new $APP.lk(null,new $APP.g(null,2,[r5,null,G3,null],null),null),b)?$APP.cp.h($APP.tc($APP.In.h($APP.uh,this),this.B),b):new t1(this.oa,this.je,this.B,$APP.qh($APP.cp.h(this.o,b)),null)};$APP.f.ja=function(a,b){switch(b instanceof $APP.k?b.T:null){case "attrs":case "tuples":return!0;default:return $APP.jf(this.o,b)}};
$APP.f.U=function(a,b,c){return $APP.m($APP.Ig.h?$APP.Ig.h(G3,b):$APP.Ig.call(null,G3,b))?new t1(c,this.je,this.B,this.o,null):$APP.m($APP.Ig.h?$APP.Ig.h(r5,b):$APP.Ig.call(null,r5,b))?new t1(this.oa,c,this.B,this.o,null):new t1(this.oa,this.je,this.B,$APP.K.j(this.o,b,c),null)};$APP.f.aa=function(){return $APP.u($APP.S.h(new $APP.H(null,2,5,$APP.I,[new $APP.kf(G3,this.oa,null),new $APP.kf(r5,this.je,null)],null),this.o))};$APP.f.X=function(a,b){return new t1(this.oa,this.je,b,this.o,this.D)};
$APP.f.da=function(a,b){return $APP.Ne(b)?this.U(null,$APP.ve(b,0),$APP.ve(b,1)):$APP.sf.j($APP.Pb,this,b)};
var y1=function y1(a,b){return $APP.B.h($APP.LI,a)?!0:$APP.B.h(new $APP.H(null,1,5,$APP.I,[$APP.sI],null),a)?$APP.Je(b):a instanceof $APP.r?$APP.B.h(b,a):$APP.Je(a)?$APP.B.h($APP.te(a),$APP.sI)?$APP.Je(b)&&$APP.Kh(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return y1.h?y1.h(e,d):y1.call(null,e,d)},$APP.Wk.j($APP.Tt,$APP.rk(a),b)):$APP.Je(b)&&$APP.B.h($APP.ie(b),$APP.ie(a))&&$APP.Kh(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return y1.h?y1.h(e,d):y1.call(null,e,d)},$APP.Wk.j($APP.Tt,
a,b)):a.g?a.g(b):a.call(null,b)},T1=function T1(a,b){var d=$APP.ph(a),e=$APP.gf.h(d,G3);d=$APP.gf.h(d,r5);var h=$APP.ph(b),l=$APP.gf.h(h,G3);h=$APP.gf.h(h,r5);if($APP.B.h(e,l))return new t1(e,$APP.In.h($APP.uf(d),h),null,null,null);if(Lka(e,l)){if($APP.Kh($APP.pb,$APP.hk(e))){var p=$APP.uf(function(){return function v(D){return new $APP.Rg(null,function(){for(;;){var J=$APP.u(D);if(J){if($APP.Oe(J)){var P=$APP.dd(J),W=$APP.ie(P),Z=$APP.Ug(W);a:for(var na=0;;)if(na<W){var pa=$APP.ve(P,na),sa=$APP.C.j(pa,
0,null);pa=$APP.C.j(pa,1,null);$APP.Yg(Z,new $APP.H(null,2,5,$APP.I,[pa,e.g?e.g(sa):e.call(null,sa)],null));na+=1}else{P=!0;break a}return P?$APP.Xg($APP.Zg(Z),v($APP.fd(J))):$APP.Xg($APP.Zg(Z),null)}P=$APP.x(J);Z=$APP.C.j(P,0,null);P=$APP.C.j(P,1,null);return $APP.Fg(new $APP.H(null,2,5,$APP.I,[P,e.g?e.g(Z):e.call(null,Z)],null),v($APP.Jd(J)))}return null}},null,null)}(l)}()),t=$APP.sf.h($APP.wv,$APP.hk(e))+1;b=$APP.Vc($APP.sf.j(function(y,D){for(var v=Array(t),J=$APP.u(p),P=null,W=0,Z=0;;)if(Z<
W){var na=P.fa(null,Z),pa=$APP.C.j(na,0,null);na=$APP.C.j(na,1,null);v[na]=D[pa];Z+=1}else if(J=$APP.u(J))$APP.Oe(J)?(W=$APP.dd(J),J=$APP.fd(J),P=W,W=$APP.ie(W)):(W=$APP.x(J),P=$APP.C.j(W,0,null),W=$APP.C.j(W,1,null),v[W]=D[P],J=$APP.z(J),P=null,W=0),Z=0;else break;return $APP.pi.h(y,v)},$APP.Tc($APP.uf(d)),h));return new t1(e,b,null,null,null)}var A=$APP.tk($APP.fk($APP.bp.l($APP.F([e,l]))),$APP.kr.F());d=function(){var y=new t1(A,$APP.qi,null,null,null);return T1.h?T1.h(y,a):T1.call(null,y,a)}();
return T1.h?T1.h(d,b):T1.call(null,d,b)}throw $APP.Fp.h(["Can’t sum relations with different attrs: ",$APP.yl.l($APP.F([e]))," and ",$APP.yl.l($APP.F([l]))].join(""),new $APP.g(null,1,[$APP.xJ,t5],null));},Q1=function Q1(a){switch(arguments.length){case 0:return Q1.F();case 2:return Q1.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};Q1.F=function(){return new t1($APP.uh,new $APP.H(null,1,5,$APP.I,[[]],null),null,null,null)};
Q1.h=function(a,b){var c=$APP.fk(G3.g(a)),d=$APP.fk(G3.g(b)),e=$APP.tf($APP.Wk.h(G3.g(a),c)),h=$APP.tf($APP.Wk.h(G3.g(b),d));return new t1($APP.tk($APP.S.h(c,d),$APP.kr.F()),$APP.Vc($APP.sf.j(function(l,p){return $APP.sf.j(function(t,A){return $APP.pi.h(t,A1(p,e,A,h))},l,r5.g(b))},$APP.Tc($APP.qi),r5.g(a))),null,null,null)};Q1.C=2;s0.prototype.uf=function(){return Q1.F()};
t0.prototype.uf=function(a,b){return new t1($APP.hj([$APP.vp.h(this,new $APP.H(null,2,5,$APP.I,[o5,$APP.wn],null)),0]),new $APP.H(null,1,5,$APP.I,[$APP.pp.g(new $APP.H(null,1,5,$APP.I,[b],null))],null),null,null,null)};
v0.prototype.uf=function(a,b){var c=this;if(HX(b))return $APP.Ee(b)?B1(c):$APP.sf.h(T1,$APP.Wk.h(function(d){return C1(c.binding,d)},b));throw $APP.Fp.h(["Cannot bind value ",$APP.yl.l($APP.F([b]))," to collection ",$APP.yl.l($APP.F([X_(c)]))].join(""),new $APP.g(null,3,[$APP.xJ,sQa,$APP.PJ,b,D5,X_(c)],null));};
u0.prototype.uf=function(a,b){if(HX(b)){if($APP.ie(b)<$APP.ie(this.kc))throw $APP.Fp.h(["Not enough elements in a collection ",$APP.yl.l($APP.F([b]))," to bind tuple ",$APP.yl.l($APP.F([X_(this)]))].join(""),new $APP.g(null,3,[$APP.xJ,sQa,$APP.PJ,b,D5,X_(this)],null));return $APP.sf.h(Q1,$APP.Wk.j(function(c,d){return C1(c,d)},this.kc,b))}throw $APP.Fp.h(["Cannot bind value ",$APP.yl.l($APP.F([b]))," to tuple ",$APP.yl.l($APP.F([X_(this)]))].join(""),new $APP.g(null,3,[$APP.xJ,sQa,$APP.PJ,b,D5,X_(this)],
null));};var G1=null,H1=null,Uka=$APP.Cl.g(0),Y1=function Y1(a){switch(arguments.length){case 2:return Y1.h(arguments[0],arguments[1]);case 3:return Y1.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};Y1.h=function(a,b){return Y1.j(a,b,b)};
Y1.j=function(a,b,c){for(;;){var d=y1,e=b;if($APP.m(function(){var pa=new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.sI],null)],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}()))return d2(c2(a),$APP.ji.h(w1,$APP.qe(b)),b),Ska(a,b);if($APP.m(function(){var pa=new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.sI],null),$APP.LI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}()))return d2(c2(a),$APP.ji.h(w1,$APP.qe(b)),b),Tka(a,b);if($APP.m(function(){var pa=
new $APP.H(null,2,5,$APP.I,[v1,$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){var h=$APP.u(b);c=$APP.x(h);h=$APP.z(h);var l=H1;H1=$APP.gf.h(p5.g(a),c);try{return Y1.j(a,h,b)}finally{H1=l}}else{if($APP.m(function(){var pa=new $APP.H(null,2,5,$APP.I,[$APP.fx,$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){var p=b,t=$APP.u(p),A=$APP.x(t),y=$APP.z(t);h=A;l=y;var D=bla(c2(a),l,b),v=$APP.Wk.h(function(pa){return function(sa){return f2.h?f2.h(pa,sa):f2.call(null,pa,sa)}}(a,
b,c,p,t,A,y,h,l,D,d,e),l);b=$APP.Wk.h(function(){return function(pa){return $APP.sf.h(L1,q5.g(pa))}}(a,b,c,p,t,A,y,h,l,D,v,d,e),v);return $APP.K.j($APP.x(v),q5,new $APP.H(null,1,5,$APP.I,[$APP.sf.h(T1,b)],null))}if($APP.m(function(){var pa=new $APP.H(null,3,5,$APP.I,[a5,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.sI],null),$APP.sI],null),$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){l=$APP.u(b);h=$APP.x(l);l=$APP.z(l);p=$APP.x(l);h=$APP.z(l);p=$APP.u(p);l=$APP.x(p);
p=$APP.z(p);D=l;l=h;h=c2(a);d2(h,D,c);e2(h,p,l);c=$APP.Ut.j(a5,$APP.S.h(D,p),l);h=b;b=c;c=h;continue}else{if($APP.m(function(){var pa=new $APP.H(null,3,5,$APP.I,[a5,new $APP.H(null,1,5,$APP.I,[$APP.sI],null),$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){A=b;y=$APP.u(A);var J=$APP.x(y),P=$APP.z(y);h=J;var W=$APP.x(P),Z=$APP.z(P);p=W;l=Z;var na=$APP.qk(p);D=e2(c2(a),na,l);t=b2(a,na);v=$APP.Wk.h(function(pa,sa,Ba,za,ra,w,E,T,X,Y,qa,ua,va,Fa,Ha){return function(Ka){return b2(f2.h?
f2.h(Ha,Ka):f2.call(null,Ha,Ka),va)}}(a,b,c,A,y,J,P,h,W,Z,p,l,na,D,t,d,e),l);b=$APP.Wk.h(function(){return function(pa){return $APP.sf.h(L1,q5.g(pa))}}(a,b,c,A,y,J,P,h,W,Z,p,l,na,D,t,v,d,e),v);b=$APP.sf.h(T1,b);return $APP.Eq.I(a,q5,N1,b)}if($APP.m(function(){var pa=new $APP.H(null,2,5,$APP.I,[$APP.vw,$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}()))return c=$APP.u(b),b=$APP.x(c),c=$APP.z(c),h=b,b=c,$APP.sf.j(f2,a,b);if($APP.m(function(){var pa=new $APP.H(null,2,5,$APP.I,[$APP.cE,
$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){h=$APP.u(b);b=$APP.x(h);l=$APP.z(h);h=b;b=l;h=c2(a);l=$APP.qk(X1(b));if($APP.Ee($APP.rz.h(h,l)))throw $APP.Fp.h(["Insufficient bindings: none of ",$APP.yl.l($APP.F([l]))," is bound in ",$APP.yl.l($APP.F([c]))].join(""),new $APP.g(null,2,[$APP.xJ,t5,$APP.RC,c],null));D=null;a=$APP.K.j(a,q5,new $APP.H(null,1,5,$APP.I,[$APP.sf.h(L1,q5.g(a))],null));b=$APP.sf.j(f2,a,b);b=M1($APP.x(q5.g(a)),$APP.sf.h(L1,q5.g(b)));return $APP.K.j(a,q5,new $APP.H(null,
1,5,$APP.I,[b],null))}if($APP.m(function(){var pa=new $APP.H(null,3,5,$APP.I,[MOa,new $APP.H(null,1,5,$APP.I,[$APP.sI],null),$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}()))return b=$APP.u(b),h=$APP.x(b),b=$APP.z(b),h=$APP.x(b),b=$APP.z(b),p=h,h=c2(a),D=d2(h,p,c),a=$APP.K.j(a,q5,new $APP.H(null,1,5,$APP.I,[$APP.sf.h(L1,q5.g(a))],null)),t=b2(a,p),b=b2($APP.sf.j(f2,t,b),p),b=M1($APP.x(q5.g(a)),$APP.sf.h(L1,q5.g(b))),$APP.K.j(a,q5,new $APP.H(null,1,5,$APP.I,[b],null));if($APP.m(function(){var pa=
new $APP.H(null,1,5,$APP.I,[$APP.sI],null),sa=e;return d.h?d.h(pa,sa):d.call(null,pa,sa)}())){c=H1;b=$ka(c,b);h=Qka(c,b);l=G1;G1=(null!=c?$APP.yd===c.Vg||(c.td?0:$APP.xb(sY,c)):$APP.xb(sY,c))?ala(c,b):G1;try{return $APP.Eq.I(a,q5,N1,h)}finally{G1=l}}else throw Error(["No matching clause: ",$APP.n.g(e)].join(""));}}break}};Y1.C=3;
var f2=function f2(a,b){if(U1(a,b))if(v1($APP.x(b))){var d=H1;H1=$APP.gf.h(p5.g(a),$APP.x(b));try{var e=$APP.z(b);return f2.h?f2.h(a,e):f2.call(null,a,e)}finally{H1=d}}else return $APP.Eq.I(a,q5,N1,Zka(a,b));else return Y1.h(a,b)};Z_.prototype.vf=function(a,b){return P1(b,this.Ia)};$_.prototype.vf=function(a,b){return $APP.vp.h(b,new $APP.H(null,2,5,$APP.I,[p5,this.Ia],null))};d0.prototype.vf=function(){var a=$APP.gf.h(Qla,this.Ia);return $APP.m(a)?a:null};c0.prototype.vf=function(){return this.value};
D0.prototype.wf=function(a,b,c){return null==b?c:j2(b,c)};E0.prototype.wf=function(a,b,c){return $APP.In.j($APP.qi,$APP.Wk.g($APP.x),c)};F0.prototype.wf=function(a,b,c){return $APP.pe(c)};G0.prototype.wf=function(a,b,c){return null!=b?$APP.x(j2(b,new $APP.H(null,1,5,$APP.I,[$APP.x(c)],null))):$APP.x(c)};var p3=function p3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return p3.l(arguments[0],1<c.length?new $APP.Fd(c.slice(1),0,null):null)};
p3.l=function(a,b){var c=MW(Rla,a,function(){return Kka(a)}),d=g5.g(c),e=C0(d),h=$APP.hi.l(z0,$APP.F([C0(d)])),l=$APP.ie(e),p=i5.g(c);p=$APP.S.h(h,$APP.Wk.h($APP.wn,p));h=$APP.Je(a)?n1(a):a;var t=$APP.aga.g(h);b=Nka(new s1($APP.qi,$APP.uh,$APP.uh,null,null,null),k5.g(c),b);p=dla(cla(b,t),p);h=$APP.m(UOa.g(h))?$APP.lq.h(function(A){return $APP.uf($APP.pn.j(A,0,l))},p):p;h=$APP.m($APP.Mh(H0,e))?fla(e,b,h):h;e=$APP.m($APP.Mh(I0,e))?hla(e,b,h):h;return k2(d,j5.g(c),e)};p3.C=1;
p3.G=function(a){var b=$APP.x(a);a=$APP.z(a);return this.l(b,a)};var I6=function I6(a){switch(arguments.length){case 0:return I6.F();case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};I6.F=function(){return Z2(null,$APP.uh)};I6.g=function(a){return Z2(a,$APP.uh)};I6.h=function(a,b){return Z2(a,QOa(b))};I6.C=2;
var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);case 3:return J6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};J6.g=function(a){return UY(a,null,$APP.uh)};J6.h=function(a,b){return UY(a,b,$APP.uh)};J6.j=function(a,b,c){return UY(a,b,QOa(c))};J6.C=3;m2.h=function(a,b){return m2.j(a,b,null)};
m2.j=function(a,b,c){if(a instanceof zY)throw $APP.Fp.h("Filtered DB cannot be modified",new $APP.g(null,1,[$APP.xJ,ZRa],null));return DZ(new bZ(a,a,$APP.qi,$APP.uh,c,null,null,null),b)};m2.C=3;
var q3=function q3(a){switch(arguments.length){case 2:return q3.h(arguments[0],arguments[1]);case 3:return q3.j(arguments[0],arguments[1],arguments[2]);case 4:return q3.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return q3.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return q3.ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
q3.h=function(a,b){return mY(a,b,null,null,null,null)};q3.j=function(a,b,c){return mY(a,b,c,null,null,null)};q3.I=function(a,b,c,d){return mY(a,b,c,d,null,null)};q3.P=function(a,b,c,d,e){return mY(a,b,c,d,e,null)};q3.ya=function(a,b,c,d,e,h){return mY(a,b,c,d,e,h)};q3.C=6;
var r3=function r3(a){switch(arguments.length){case 1:return r3.g(arguments[0]);case 2:return r3.h(arguments[0],arguments[1]);case 3:return r3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};r3.g=function(a){return q2(J6.g(a))};r3.h=function(a,b){return q2(J6.h(a,b))};r3.j=function(a,b,c){return q2(J6.j(a,b,c))};r3.C=3;
var s3=function s3(a){switch(arguments.length){case 0:return s3.F();case 1:return s3.g(arguments[0]);case 2:return s3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};s3.F=function(){return q2(I6.F())};s3.g=function(a){return q2(I6.g(a))};s3.h=function(a,b){return q2(I6.h(a,b))};s3.C=2;
var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};K6.g=function(a){return K6.h(a,$APP.uh)};K6.h=function(a,b){b=qOa(a,b);if(null==b)return null;a=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);return $APP.Cl.l(rOa(a,b),$APP.F([$APP.Xa,new $APP.g(null,3,[v5,$APP.Cl.g($APP.uh),cPa,$APP.Cl.g(b),dPa,$APP.Cl.g(a)],null)]))};K6.C=2;
var t3=function t3(a){switch(arguments.length){case 2:return t3.h(arguments[0],arguments[1]);case 3:return t3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};t3.h=function(a,b){return t3.j(a,b,null)};
t3.j=function(a,b,c){b=ila(a,b,c);a=v5.g($APP.Be(a));a=null==a?null:$APP.q(a);a=$APP.u(a);c=null;for(var d=0,e=0;;)if(e<d){var h=c.fa(null,e);$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);h.g?h.g(b):h.call(null,b);e+=1}else if(a=$APP.u(a))$APP.Oe(a)?(d=$APP.dd(a),a=$APP.fd(a),c=d,d=$APP.ie(d)):(c=$APP.x(a),$APP.C.j(c,0,null),c=$APP.C.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.z(a),c=null,d=0),e=0;else break;return b};t3.C=3;
var u3=function u3(a){switch(arguments.length){case 2:return u3.h(arguments[0],arguments[1]);case 3:return u3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};u3.h=function(a,b){return u3.j(a,b,null)};
u3.j=function(a,b,c){var d=$APP.q(a);c=fZ(new $APP.g(null,4,[J2,d,K2,b,L2,$APP.S.h($APP.Wk.h(function(t){return $APP.K.j(t,$APP.DE,!1)},q3.h(d,$APP.K1)),q3.h(b,$APP.K1)),N2,c],null));null!=O4(d)&&(y5.g(b),$APP.Th(cPa.g($APP.Be(a)),$APP.qi),$APP.Th(dPa.g($APP.Be(a)),b));$APP.Th(a,b);d=$APP.u(function(){var t=v5.g($APP.Be(a));return null==t?null:$APP.q(t)}());for(var e=null,h=0,l=0;;)if(l<h){var p=e.fa(null,l);$APP.C.j(p,0,null);p=$APP.C.j(p,1,null);p.g?p.g(c):p.call(null,c);l+=1}else if(d=$APP.u(d))$APP.Oe(d)?
(h=$APP.dd(d),d=$APP.fd(d),e=h,h=$APP.ie(h)):(e=$APP.x(d),$APP.C.j(e,0,null),e=$APP.C.j(e,1,null),e.g?e.g(c):e.call(null,c),d=$APP.z(d),e=null,h=0),l=0;else break;return b};u3.C=3;var v3=function v3(a){switch(arguments.length){case 2:return v3.h(arguments[0],arguments[1]);case 3:return v3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};v3.h=function(a,b){return v3.j(a,$APP.cB.F(),b)};
v3.j=function(a,b,c){$APP.Dl.I(v5.g($APP.Be(a)),$APP.K,b,c);return b};v3.C=3;
for(var wSa=$APP.u(new $APP.g(null,2,[OQa,$APP.XX,hSa,$APP.VY],null)),xSa=null,ySa=0,BSa=0;;)if(BSa<ySa){var CSa=xSa.fa(null,BSa),DSa=$APP.C.j(CSa,0,null),ESa=$APP.C.j(CSa,1,null),FSa=DSa,GSa=ESa;$APP.gf.h($APP.q($APP.dL),FSa);$APP.Dl.I($APP.dL,$APP.K,FSa,GSa);BSa+=1}else{var HSa=$APP.u(wSa);if(HSa){var L6=HSa;if($APP.Oe(L6)){var ISa=$APP.dd(L6),JSa=$APP.fd(L6),KSa=ISa,LSa=$APP.ie(ISa);wSa=JSa;xSa=KSa;ySa=LSa}else{var MSa=$APP.x(L6),NSa=$APP.C.j(MSa,0,null),OSa=$APP.C.j(MSa,1,null),PSa=NSa,SSa=OSa;
$APP.gf.h($APP.q($APP.dL),PSa);$APP.Dl.I($APP.dL,$APP.K,PSa,SSa);wSa=$APP.z(L6);xSa=null;ySa=0}BSa=0}else break}$APP.Cl.g(-1E6);var I3=$APP.py($APP.QJ),J3=$APP.py($APP.HK),zSa=$APP.py(XRa),ama=$APP.Oj([fQa,MQa,oPa,eSa,$APP.QI,LRa,oQa,PRa,mQa,NQa,tRa,iQa,uRa,YRa,P5,HRa,$Ra,kSa,fSa,pRa,SRa,iSa,$APP.VG,dSa,X5,GOa,LPa,CRa],[function(){var a=new $APP.Dd(function(){return m2},BPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,fQa,"datascript/core.cljc",11,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,3,$APP.kK,3,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P5,C5],
null),new $APP.H(null,3,5,$APP.I,[P5,C5,Z5],null)],null),$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,C5],null),new $APP.H(null,3,5,$APP.I,[P5,C5,Z5],null)),$APP.XG,$APP.R(null,null)],null),1,271,271,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,C5],null),new $APP.H(null,3,5,$APP.I,[P5,C5,Z5],null)),"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",$APP.m(m2)?m2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,
4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return l3},pSa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,MQa,"datascript/core.cljc",12,1,118,128,$APP.Id,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',
$APP.m(l3)?l3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return KZ},GRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,oPa,"datascript/core.cljc",9,1,25,75,vSa,$APP.Id,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.m(KZ)?KZ.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return H6},tPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,eSa,"datascript/core.cljc",54,1,814,814,$APP.Id,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",
$APP.m(H6)?H6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return p3},mPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,$APP.QI,"datascript/core.cljc",4,1,132,144,$APP.Id,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',
$APP.m(p3)?p3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return v3},zQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,LRa,"datascript/core.cljc",14,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,3,$APP.kK,
3,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[F5,$APP.mB],null),new $APP.H(null,3,5,$APP.I,[F5,$APP.ZH,$APP.mB],null)],null),$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,$APP.mB],null),new $APP.H(null,3,5,$APP.I,[F5,$APP.ZH,$APP.mB],null)),$APP.XG,$APP.R(null,null)],null),1,668,668,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,$APP.mB],null),new $APP.H(null,3,5,$APP.I,[F5,$APP.ZH,$APP.mB],null)),"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.m(v3)?v3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return VX},TRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,oQa,"datascript/core.cljc",8,1,185,192,w6,$APP.Id,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",
$APP.m(VX)?VX.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return n2},GQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,PRa,"datascript/core.cljc",18,1,280,280,v6,$APP.R(new $APP.H(null,2,5,$APP.I,
[P5,C5],null)),"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.m(n2)?n2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return o2},yQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,
$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,mQa,"datascript/core.cljc",18,1,423,423,$APP.R(new $APP.H(null,4,5,$APP.I,[P5,TPa,$APP.Iy,$APP.RJ],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.m(o2)?o2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return q2},nRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,NQa,"datascript/core.cljc",19,1,461,461,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null)),
"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.m(q2)?q2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return K6},URa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,
tRa,"datascript/core.cljc",19,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,2,$APP.kK,2,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null)],null),$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null)),$APP.XG,$APP.R(null,null)],null),1,501,501,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null)),"Lazy-load database from storage and make conn out of it.\n      Returns nil if there’s no database yet in storage",
$APP.m(K6)?K6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return u3},APa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,iQa,"datascript/core.cljc",18,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,3,$APP.kK,
3,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[F5,P5],null),new $APP.H(null,3,5,$APP.I,[F5,P5,Z5],null)],null),$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,P5],null),new $APP.H(null,3,5,$APP.I,[F5,P5,Z5],null)),$APP.XG,$APP.R(null,null)],null),1,630,630,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,P5],null),new $APP.H(null,3,5,$APP.I,[F5,P5,Z5],null)),"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",
$APP.m(u3)?u3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return t3},ZPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,uRa,"datascript/core.cljc",16,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,3,$APP.kK,
3,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[F5,C5],null),new $APP.H(null,3,5,$APP.I,[F5,C5,Z5],null)],null),$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,C5],null),new $APP.H(null,3,5,$APP.I,[F5,C5,Z5],null)),$APP.XG,$APP.R(null,null)],null),1,537,537,$APP.R(new $APP.H(null,2,5,$APP.I,[F5,C5],null),new $APP.H(null,3,5,$APP.I,[F5,C5,Z5],null)),'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       { :db-before ...       ; db value before transaction\n         :db-after  ...       ; db value after transaction\n         :tx-data   [...]     ; plain datoms that were added/retracted from db-before\n         :tempids   {...}     ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n         :tx-meta   tx-meta } ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.m(t3)?t3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return G6},ePa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,YRa,"datascript/core.cljc",38,1,789,789,$APP.Id,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",
$APP.m(G6)?G6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return r2},IPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,P5,"datascript/core.cljc",13,1,729,729,v6,$APP.R(new $APP.H(null,1,5,$APP.I,
[F5],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",$APP.m(r2)?r2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return n3},OPa,$APP.Oj([$APP.O,
$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,HRa,"datascript/core.cljc",15,1,210,222,$APP.Id,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.m(n3)?n3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return r3},lQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,$Ra,"datascript/core.cljc",23,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,3,$APP.kK,
3,$APP.VJ,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],null)],null),$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],null)),$APP.XG,$APP.R(null,null,null)],null),1,475,475,$APP.R(new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],null)),"Creates an empty DB and a mutable reference to it. See [[create-conn]].",
$APP.m(r3)?r3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return o3},XQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,kSa,"datascript/core.cljc",20,1,224,233,v6,$APP.Id,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.m(o3)?o3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return I6},RQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,fSa,"datascript/core.cljc",19,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,
2,$APP.kK,2,$APP.VJ,new $APP.H(null,3,5,$APP.I,[$APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)],null),$APP.U,$APP.R($APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)),$APP.XG,$APP.R(null,null,null)],null),1,154,154,v6,$APP.R($APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.m(I6)?I6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return J6},eRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,pRa,"datascript/core.cljc",18,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,
3,$APP.kK,3,$APP.VJ,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],null)],null),$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],null)),$APP.XG,$APP.R(null,null,null)],null),1,198,198,v6,$APP.R(new $APP.H(null,1,5,$APP.I,[X5],null),new $APP.H(null,2,5,$APP.I,[X5,A5],null),new $APP.H(null,3,5,$APP.I,[X5,A5,$APP.KH],
null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.m(J6)?J6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?
$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return OZ},wPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.QJ,SRa,"datascript/core.cljc",8,1,89,99,vSa,$APP.Id,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.m(OZ)?OZ.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return 536870912},FRa,$APP.Oj([$APP.OG,$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Cga,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[!0,$APP.QJ,iSa,"datascript/core.cljc",26,1,!0,20,20,$APP.Id,null,$APP.m(536870912)?
(536870912).A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return l2},kPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,$APP.VG,"datascript/core.cljc",13,1,250,250,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.JK],
null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",$APP.m(l2)?l2.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?
null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return y5},hQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,dSa,"datascript/core.cljc",45,1,805,805,$APP.Id,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",
$APP.m(y5)?y5.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return q3},ERa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,X5,"datascript/core.cljc",13,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,6,$APP.kK,
6,$APP.VJ,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P5,$APP.dH],null),new $APP.H(null,3,5,$APP.I,[P5,$APP.dH,E5],null),new $APP.H(null,4,5,$APP.I,[P5,$APP.dH,E5,$APP.hG],null),new $APP.H(null,5,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG],null),new $APP.H(null,6,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG,$APP.jG],null)],null),$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.dH],null),new $APP.H(null,3,5,$APP.I,[P5,$APP.dH,E5],null),new $APP.H(null,4,5,$APP.I,[P5,$APP.dH,E5,$APP.hG],null),
new $APP.H(null,5,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG],null),new $APP.H(null,6,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG,$APP.jG],null)),$APP.XG,$APP.R(null,null,null,null,null)],null),1,293,293,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.dH],null),new $APP.H(null,3,5,$APP.I,[P5,$APP.dH,E5],null),new $APP.H(null,4,5,$APP.I,[P5,$APP.dH,E5,$APP.hG],null),new $APP.H(null,5,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG],null),new $APP.H(null,6,5,$APP.I,[P5,$APP.dH,E5,$APP.hG,$APP.iG,$APP.jG],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.m(q3)?q3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return k3},QPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,GOa,"datascript/core.cljc",7,1,104,116,$APP.Id,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.m(k3)?k3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return TOa},tQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,LPa,"datascript/core.cljc",15,1,847,847,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null)),
null,$APP.m(TOa)?TOa.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),function(){var a=new $APP.Dd(function(){return s3},QQa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.QJ,CRa,"datascript/core.cljc",18,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,2,
$APP.kK,2,$APP.VJ,new $APP.H(null,3,5,$APP.I,[$APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)],null),$APP.U,$APP.R($APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)),$APP.XG,$APP.R(null,null,null)],null),1,484,484,$APP.R($APP.qi,new $APP.H(null,1,5,$APP.I,[A5],null),new $APP.H(null,2,5,$APP.I,[A5,$APP.KH],null)),"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.m(s3)?s3.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,I3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}()]),bma=new $APP.g(null,7,[YPa,function(){var a=new $APP.Dd(function(){return $APP.VY},JRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.HK,YPa,"datascript/db.cljc",21,1,1100,1100,$APP.R(new $APP.H(null,
1,5,$APP.I,[new $APP.g(null,1,[$APP.pD,new $APP.H(null,2,5,$APP.I,[A5,X5],null)],null)],null)),null,$APP.m($APP.VY)?$APP.VY.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),sRa,function(){var a=new $APP.Dd(function(){return $APP.XX},wRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,
$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.HK,sRa,"datascript/db.cljc",31,1,361,361,w6,$APP.R(new $APP.H(null,1,5,$APP.I,[$APP.oK],null)),null,$APP.m($APP.XX)?$APP.XX.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),jPa,function(){var a=new $APP.Dd(function(){return $APP.KX},EPa,$APP.Oj([$APP.fu,$APP.O,
$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[fPa,$APP.HK,jPa,"datascript/db.cljc",15,1,206,208,$APP.R(new $APP.H(null,1,5,$APP.I,[$APP.tG],null)),null,$APP.m($APP.KX)?$APP.KX.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),iPa,function(){var a=new $APP.Dd(function(){return $APP.JX},
eQa,$APP.Oj([$APP.fu,$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[fPa,$APP.HK,iPa,"datascript/db.cljc",12,1,206,207,$APP.R(new $APP.H(null,1,5,$APP.I,[$APP.tG],null)),null,$APP.m($APP.JX)?$APP.JX.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),oQa,function(){var a=
new $APP.Dd(function(){return VX},kRa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.mJ,$APP.io,$APP.Lm,$APP.BP,$APP.An,$APP.U,$APP.V,$APP.mH],[$APP.HK,oQa,"datascript/db.cljc",19,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,5,$APP.kK,5,$APP.VJ,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ],null),new $APP.H(null,4,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5],null),new $APP.H(null,5,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5,nPa],null)],null),$APP.U,$APP.R(new $APP.H(null,3,5,$APP.I,[$APP.BI,
$APP.wI,$APP.gJ],null),new $APP.H(null,4,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5],null),new $APP.H(null,5,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5,nPa],null)),$APP.XG,$APP.R(null,null,null)],null),1,285,285,w6,$APP.R(new $APP.H(null,3,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ],null),new $APP.H(null,4,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5],null),new $APP.H(null,5,5,$APP.I,[$APP.BI,$APP.wI,$APP.gJ,B5,nPa],null)),null,$APP.m(VX)?VX.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,
4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),v6,function(){var a=new $APP.Dd(function(){return $APP.vY},CQa,new $APP.g(null,8,[$APP.O,$APP.HK,$APP.V,null,$APP.Km,"datascript/db.cljc",$APP.Lm,665,$APP.io,22,$APP.N,v6,$APP.mH,$APP.m($APP.vY)?$APP.vY.A:null,$APP.U,$APP.Id],null)),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,
$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),w6,function(){var a=new $APP.Dd(function(){return $APP.LX},FQa,new $APP.g(null,8,[$APP.O,$APP.HK,$APP.V,null,$APP.Km,"datascript/db.cljc",$APP.Lm,212,$APP.io,10,$APP.N,w6,$APP.mH,$APP.m($APP.LX)?$APP.LX.A:null,$APP.U,$APP.Id],null)),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,4,[$APP.O,J3,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],
null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}()],null),M6,TSa=$APP.Cl.g($APP.uh),USa=$APP.Cl.g($APP.uh),VSa=$APP.Cl.g($APP.uh),ZSa=$APP.Cl.g($APP.uh),$Sa=$APP.gf.j($APP.uh,$APP.yt,$APP.Ll.F?$APP.Ll.F():$APP.Ll.call(null));M6=new $APP.im($APP.fl.h("nbb.impl.datascript","-store"),$APP.ux,$APP.Un,$Sa,TSa,USa,VSa,ZSa);
var N6,hTa=$APP.Cl.g($APP.uh),iTa=$APP.Cl.g($APP.uh),jTa=$APP.Cl.g($APP.uh),kTa=$APP.Cl.g($APP.uh),mTa=$APP.gf.j($APP.uh,$APP.yt,$APP.Ll.F?$APP.Ll.F():$APP.Ll.call(null));N6=new $APP.im($APP.fl.h("nbb.impl.datascript","-restore"),$APP.ux,$APP.Un,mTa,hTa,iTa,jTa,kTa);M6.Ea(null,$APP.BB,function(a,b){var c=$APP.Mn(a);c=$APP.gf.h(c,w5);return c.h?c.h(a,b):c.call(null,a,b)});var WSa=J4;M6.Ea(null,$APP.Un,function(a,b){return WSa.h?WSa.h(a,b):WSa.call(null,a,b)});J4=function(a,b){return M6.h(a,b)};
N6.Ea(null,$APP.BB,function(a,b){var c=$APP.Mn(a);c=$APP.gf.h(c,F6);return c.h?c.h(a,b):c.call(null,a,b)});var XSa=K4;N6.Ea(null,$APP.Un,function(a,b){return XSa.h?XSa.h(a,b):XSa.call(null,a,b)});K4=function(a,b){return N6.h(a,b)};var YSa,lTa=new $APP.g(null,3,[$APP.fu,YOa,$APP.cu,$APP.nk([N6,M6]),$APP.O,zSa],null);YSa=$APP.iy(lSa,lTa,$APP.Be(lSa));
var ASa=$APP.K.l($APP.gta($APP.Oj([$APP.Ae(cQa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[$APP.Ae($APP.yI,new $APP.g(null,1,[$APP.An,w6],null))],null)))],null)),$APP.Ae(oSa,new $APP.g(null,4,[rRa,!0,RRa,HQa,$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null))),$APP.V,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.Ae(UPa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R($APP.Ae(new $APP.H(null,1,5,$APP.I,[P5],null),new $APP.g(null,
1,[$APP.An,BRa],null))))],null)),$APP.Ae(VQa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.LH],null)))],null)),$APP.Ae(nSa,new $APP.g(null,4,[$APP.bua,!0,$APP.qga,new $APP.g(null,1,[$APP.cu,new $APP.g(null,2,[$APP.Ae(w5,new $APP.g(null,1,[$APP.V,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],null)),new $APP.H(null,
1,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.LI,aSa,JQa],null)],null),$APP.Ae(F6,new $APP.g(null,1,[$APP.V,"Read back and deserialize data stored under single `addr`"],null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.LI,JPa],null)],null)],null)],null),$APP.Lva,new $APP.g(null,2,[gPa,new $APP.g(null,3,[$APP.N,w5,$APP.U,$APP.R(new $APP.H(null,3,5,$APP.I,[$APP.LI,aSa,JQa],null)),$APP.V,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),CPa,new $APP.g(null,3,[$APP.N,F6,$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[$APP.LI,JPa],null)),$APP.V,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.vta,$APP.R("@interface")],null)),$APP.Ae(eSa,new $APP.g(null,2,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null))),$APP.mJ,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,2,$APP.kK,2,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,
2,5,$APP.I,[D6,$APP.KH],null)],null),$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null)),$APP.XG,$APP.R(null,null)],null)],null)),$APP.Ae(D6,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null)))],null)),$APP.Ae(w5,new $APP.g(null,3,[$APP.fu,MRa,$APP.V,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,3,5,$APP.I,[$APP.LI,aSa,JQa],null)))],null)),$APP.Ae(PPa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,3,5,$APP.I,[P5,fRa,QRa],null)))],null)),$APP.Ae(F6,new $APP.g(null,3,[$APP.fu,MRa,$APP.V,"Read back and deserialize data stored under single `addr`",$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,2,5,$APP.I,[$APP.LI,JPa],null)))],null)),$APP.Ae(RPa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],
null)))],null)),$APP.Ae(NPa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,2,5,$APP.I,[D6,uPa],null)))],null)),$APP.Ae(dSa,new $APP.g(null,2,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null),new $APP.H(null,2,5,$APP.I,[P5,D6],null))),$APP.mJ,new $APP.g(null,6,[$APP.bC,!1,$APP.Jv,2,$APP.kK,2,$APP.VJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[P5],null),new $APP.H(null,2,5,$APP.I,[P5,D6],null)],null),$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null),
new $APP.H(null,2,5,$APP.I,[P5,D6],null)),$APP.XG,$APP.R(null,null)],null)],null)),$APP.Ae(xRa,new $APP.g(null,4,[rRa,!0,RRa,$APP.un,$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,1,5,$APP.I,[TQa],null))),$APP.V,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.Ae(IQa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Bm,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.LH],null)))],null))],[new $APP.g(null,3,[$APP.N,GPa,$APP.xx,iOa,$APP.Xa,new $APP.g(null,
1,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[$APP.Ae($APP.yI,new $APP.g(null,1,[$APP.An,w6],null))],null))],null)],null),new $APP.g(null,3,[$APP.N,EQa,$APP.xx,function(a){return new L4(a,null,null,null)},$APP.Xa,new $APP.g(null,2,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null)),$APP.V,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.g(null,3,[$APP.N,WPa,$APP.xx,N4,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R($APP.Ae(new $APP.H(null,1,5,$APP.I,[P5],null),
new $APP.g(null,1,[$APP.An,BRa],null)))],null)],null),new $APP.g(null,3,[$APP.N,DQa,$APP.xx,pOa,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.LH],null))],null)],null),new $APP.g(null,3,[$APP.N,MRa,$APP.xx,YOa,$APP.Xa,$APP.uh],null),new $APP.g(null,3,[$APP.N,oRa,$APP.xx,H6,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[D6],null),new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null))],null)],null),new $APP.g(null,3,[$APP.N,KRa,$APP.xx,O4,$APP.Xa,new $APP.g(null,
1,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null))],null)],null),new $APP.g(null,3,[$APP.N,$Qa,$APP.xx,J4,$APP.Xa,new $APP.g(null,2,[$APP.U,$APP.R(new $APP.H(null,3,5,$APP.I,[$APP.LI,aSa,JQa],null)),$APP.V,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],null)],null),new $APP.g(null,3,[$APP.N,bRa,$APP.xx,U4,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,
3,5,$APP.I,[P5,fRa,QRa],null))],null)],null),new $APP.g(null,3,[$APP.N,yPa,$APP.xx,K4,$APP.Xa,new $APP.g(null,2,[$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[$APP.LI,JPa],null)),$APP.V,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.g(null,3,[$APP.N,qPa,$APP.xx,qOa,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[D6,$APP.KH],null))],null)],null),new $APP.g(null,3,[$APP.N,NRa,$APP.xx,jOa,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,2,
5,$APP.I,[D6,uPa],null))],null)],null),new $APP.g(null,3,[$APP.N,xQa,$APP.xx,y5,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[P5],null),new $APP.H(null,2,5,$APP.I,[P5,D6],null))],null)],null),new $APP.g(null,3,[$APP.N,ARa,$APP.xx,function(a){var b=$APP.cp.h(a,r1);b=$APP.Me(a)?$APP.In.h($APP.uh,b):b;return new L4(r1.g(a),null,$APP.qh(b),null)},$APP.Xa,new $APP.g(null,2,[$APP.U,$APP.R(new $APP.H(null,1,5,$APP.I,[TQa],null)),$APP.V,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],
null)],null),new $APP.g(null,3,[$APP.N,WRa,$APP.xx,rOa,$APP.Xa,new $APP.g(null,1,[$APP.U,$APP.R(new $APP.H(null,2,5,$APP.I,[P5,$APP.LH],null))],null)],null)]),zSa),w5,function(){var a=new $APP.Dd(function(){return M6},HPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.Ae(xPa,new $APP.g(null,1,[$APP.OG,!0],null)),w5,"nbb/impl/datascript.cljs",17,1,55,55,$APP.Id,null,$APP.m(M6)?M6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,
4,[$APP.O,zSa,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),$APP.F([F6,function(){var a=new $APP.Dd(function(){return N6},MPa,$APP.Oj([$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[$APP.Ae(xPa,new $APP.g(null,1,[$APP.OG,!0],null)),F6,"nbb/impl/datascript.cljs",19,1,56,56,$APP.Id,null,$APP.m(N6)?N6.A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),
d=new $APP.g(null,4,[$APP.O,zSa,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}(),nSa,YSa,sPa,function(){var a=new $APP.Dd(function(){return 1},DRa,$APP.Oj([$APP.cx,$APP.O,$APP.N,$APP.Km,$APP.vB,$APP.io,$APP.Lm,$APP.BP,$APP.U,$APP.V,$APP.mH],[!0,XRa,sPa,"datascript/storage.cljs",25,1,31,31,$APP.Id,null,$APP.m(1)?(1).A:null])),b=$APP.q(a);a=$APP.Be(a);var c=$APP.m(null)?null:$APP.N.g(a),d=new $APP.g(null,
4,[$APP.O,zSa,$APP.N,c,$APP.U,$APP.U.g(a),$APP.V,$APP.V.g(a)],null);return $APP.m($APP.Ys.g(a))?$APP.jy(c,b,d):$APP.m($APP.is.g(a))?$APP.ky(c,b,d):$APP.iy(c,b,d)}()]));$APP.Wy(new $APP.g(null,1,[$APP.Ts,new $APP.g(null,3,[$APP.QJ,ama,$APP.HK,bma,XRa,ASa],null)],null));