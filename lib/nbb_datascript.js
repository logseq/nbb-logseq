import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var GPa,IPa,NY,PY,OY,QY,SY,TY,KPa,LPa,MPa,NPa,VY,WY,XY,YY,ZY,$Y,bZ,dZ,eZ,PPa,QPa,RPa,fZ,gZ,hZ,SPa,iZ,jZ,kZ,lZ,mZ,nZ,oZ,pZ,qZ,TPa,sZ,tZ,uZ,wZ,vZ,UPa,xZ,zZ,AZ,BZ,CZ,EZ,GZ,IZ,VPa,JZ,HZ,KZ,LZ,MZ,WPa,XPa,PZ,QZ,RZ,SZ,VZ,XZ,$Z,c_,d_,e_,ZPa,k_,$Pa,aQa,m_,n_,o_,p_,q_,r_,s_,t_,u_,bQa,v_,w_,x_,y_,z_,A_,D_,E_,F_,G_,R_,S_,fQa,gQa,hQa,e0,h0,k0,l0,kQa,n0,mQa,q0,nQa,w0,x0,y0,z0,A0,oQa,B0,D0,pQa,G0,qQa,H0,UY,I0,J0,K0,tQa,M0,vQa,wQa,xQa,AQa,BQa,R0,CQa,FQa,GQa,HQa,X0,Y0,JQa,b1,KQa,LQa,NQa,OQa,g1,h1,i1,j1,k1,l1,m1,q1,
UQa,s1,t1,u1,v1,WQa,x1,y1,z1,A1,B1,F1,YQa,G1,I1,ZQa,$Qa,J1,L1,M1,H1,N1,O1,P1,aRa,bRa,K1,Q1,cRa,dRa,R1,eRa,a2,g2,i2,hRa,iRa,jRa,k2,kRa,lRa,n2,o2,p2,q2,oRa,r2,s2,t2,u2,v2,w2,x2,y2,z2,A2,C2,B2,D2,F2,G2,H2,I2,J2,qRa,rRa,sRa,vRa,K2,L2,M2,N2,O2,Q2,P2,R2,S2,T2,U2,V2,W2,X2,Y2,Z2,$2,a3,xRa,b3,c3,d3,yRa,e3,f3,zRa,i3,j3,k3,l3,m3,n3,ARa,BRa,CRa,o3,q3,r3,s3,t3,u3,v3,w3,x3,y3,z3,B3,GRa,C3,HRa,IRa,KRa,D3,E3,F3,G3,H3,I3,J3,LRa,K3,MRa,NRa,ORa,PRa,QRa,SRa,N3,TRa,Q3,R3,URa,WRa,XRa,T3,YRa,ZRa,$Ra,dSa,gSa,a4,b4,hSa,iSa,
jSa,c4,d4,kSa,lSa,mSa,nSa,e4,oSa,rSa,sSa,k4,tSa,m4,uSa,n4,vSa,wSa,xSa,ySa,zSa,ASa,o4,BSa,CSa,DSa,ESa,FSa,GSa,HSa,JSa,KSa,LSa,t4,MSa,OSa,PSa,A4,B4,C4,QSa,RSa,SSa,TSa,NSa,z4,USa,VSa,E4,WSa,XSa,YSa,ZSa,$Sa,aTa,bTa,cTa,dTa,eTa,fTa,F4,gTa,U_,c1,hTa,iTa,jTa,kTa,cSa,jQa,T0,W3,MQa,lTa,mTa,nTa,G4,oTa,S3,pTa,qTa,E1,rTa,ERa,sTa,f2,W0,tTa,uTa,vTa,Z3,wTa,d2,EQa,xTa,yTa,zTa,U1,ATa,Y_,BTa,CTa,DTa,ETa,U0,FTa,GTa,HTa,ITa,JTa,KTa,H4,LTa,MTa,t0,x4,NTa,OTa,PTa,Y3,c0,u0,U3,QTa,w4,RTa,X_,Q0,STa,TTa,s0,L3,UTa,I4,VTa,W_,
WTa,Z0,J4,XTa,YTa,ZTa,P3,$Ta,aUa,bUa,fSa,cUa,dUa,eUa,fUa,B_,K4,f1,gUa,hUa,JRa,lQa,iUa,WZ,Q_,jUa,Y1,fRa,L4,kUa,D1,lUa,M3,i0,uQa,K_,mUa,M4,nUa,N4,DQa,A3,YZ,oUa,pUa,O4,qUa,s4,Z_,P4,rUa,Q4,sUa,$_,V1,tUa,uUa,y4,vUa,SQa,aSa,wUa,l4,xUa,R4,yUa,S4,zUa,AUa,BUa,CUa,L_,DUa,EUa,FUa,GUa,HUa,g0,IUa,JUa,KUa,LUa,MUa,T4,m2,uRa,a0,NUa,V_,QQa,tRa,OUa,XQa,PUa,QUa,b_,T_,RUa,TQa,g4,SUa,U4,RQa,v0,TUa,UUa,VUa,WUa,T1,wRa,$0,XUa,YUa,dQa,ZUa,$Ua,N0,aVa,bVa,cVa,M_,dVa,c2,Z1,eVa,V4,E2,W4,fVa,q4,gVa,S0,hVa,iVa,jVa,h4,kVa,r0,lVa,
e1,zQa,YPa,yQa,mVa,nVa,oVa,pVa,w1,qVa,pRa,O_,rVa,sVa,tVa,uVa,f4,vVa,wVa,d0,$1,DRa,FRa,V0,P_,VQa,p3,xVa,yVa,X4,zVa,Y4,AVa,L0,BVa,Z4,b2,eQa,UZ,CVa,a_,DVa,EVa,X1,RRa,V3,eSa,FVa,g3,GVa,HVa,e2,f0,qSa,$4,W1,pSa,j0,IVa,JVa,KVa,LVa,a5,MVa,NVa,OVa,PVa,b5,QVa,v4,RVa,SVa,TVa,sQa,UVa,VVa,WVa,XVa,YVa,cQa,ZVa,X3,c5,$3,$Va,h2,aWa,d1,N_,bWa,d5,cWa,dWa,eWa,fWa,gWa,m0,C0,e5,bSa,P0,hWa,nRa,h3,iWa,ZZ,jWa,VRa,kWa,lWa,mWa,nWa,oWa,pWa,S1,qWa,rWa,f5;
GPa=function(a,b){a=a.split(".");var c=$APP.Ot;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};IPa=function(a){return $APP.Vf(function(b){return $APP.ue(a,b)},HPa)};NY=function(a,b,c,d,e){this.lf=a;this.Pi=b;this.Qi=c;this.Te=d;this.xb=e;this.J=2147484416;this.M=0};
PY=function(a,b,c){var d=a.lf,e=a.Pi,f=a.Qi,h=a.Te;a=a.xb;var m=f.h?f.h(b,null):f.call(null,b,null);if($APP.l(m))return new NY(d,$APP.$h.j($APP.ql.h(e,m),h,b),$APP.$h.j(f,b,h),h+1,a);b=new NY($APP.$h.j(d,b,c),$APP.$h.j(e,h,b),$APP.$h.j(f,b,h),h+1,a);return OY.g?OY.g(b):OY.call(null,b)};OY=function(a){if($APP.Gd(a.lf)>a.xb){var b=a.lf,c=a.Pi,d=a.Qi,e=a.Te;a=a.xb;var f=$APP.v(c),h=$APP.A.j(f,0,null);f=$APP.A.j(f,1,null);return new NY($APP.ql.h(b,f),$APP.ql.h(c,h),$APP.ql.h(d,f),e,a)}return a};
QY=function(a,b,c){if(null!=a&&null!=a.Mi)a=a.Mi(a,b,c);else{var d=QY[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=QY._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("ICache.-get",a);}return a};
SY=function(){var a=$APP.dg(new NY($APP.wf,$APP.Av(),$APP.wf,0,100));if("undefined"===typeof datascript||"undefined"===typeof JPa||"undefined"===typeof RY)RY=function(b,c,d){this.xb=b;this.wf=c;this.uk=d;this.J=393216;this.M=0},RY.prototype.X=function(b,c){return new RY(this.xb,this.wf,c)},RY.prototype.W=function(){return this.uk},RY.prototype.Mi=function(b,c,d){b=$APP.D.j($APP.q(this.wf),c,null);if(null==b)return d=d.C?d.C():d.call(null),$APP.Rc(this.wf,$APP.$h.j($APP.q(this.wf),c,d)),d;$APP.Rc(this.wf,
$APP.$h.j($APP.q(this.wf),c,b));return b},RY.uc=!0,RY.ic="datascript.lru/t_datascript$lru35182",RY.zc=function(b){return $APP.nc(b,"datascript.lru/t_datascript$lru35182")};return new RY(100,a,$APP.wf)};TY=function(a,b){a=a.toString(16);var c=$APP.Gd(a);return c>b?$APP.zi.j(a,0,b):c<b?[$APP.p.g($APP.Xf.h($APP.p,$APP.Lm.h(b-c,"0"))),$APP.p.g(a)].join(""):a};
KPa=function(a,b){return $APP.Bc($APP.Md($APP.De.j(function(c,d){var e=$APP.A.j(c,0,null),f=$APP.A.j(c,1,null),h=a.g?a.g(d):a.call(null,d);return $APP.ue(e,h)?c:new $APP.H(null,2,5,$APP.I,[$APP.pg.h(e,h),$APP.pg.h(f,d)],null)},new $APP.H(null,2,5,$APP.I,[$APP.zc($APP.di),$APP.zc($APP.qg)],null),b)))};LPa=function(a,b){return $APP.De.j(function(c,d){return $APP.l(a.g?a.g(d):a.call(null,d))?$APP.xd(d):null},null,b)};
MPa=function(a){var b=UY;return $APP.Bc($APP.Ge(function(c,d,e){return $APP.l(b.g?b.g(d):b.call(null,d))?c:$APP.hh.j(c,d,e)},$APP.zc($APP.Sd(a)),a))};NPa=function(a,b,c){return $APP.v($APP.De.j(function(d,e){var f=$APP.A.j(d,0,null);d=$APP.A.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.yd(e)?$APP.xd(new $APP.H(null,2,5,$APP.I,[e,d],null)):new $APP.H(null,2,5,$APP.I,[e,d+1],null)},new $APP.H(null,2,5,$APP.I,[b,0],null),c))};
VY=function(a){return $APP.De.j(function(b,c){b.push(c);return b},[],a)};WY=function(a){return a instanceof Array};XY=function(a,b){if(null!=a&&null!=a.Ti)a=a.Ti(a,b);else{var c=XY[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=XY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IStorage.restore",a);}return a};
YY=function(a,b){if(null==a||null==a.lk){var c=YY[$APP.da(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=YY._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IStorage.accessed",a);}};ZY=function(a,b,c){if(null!=a&&null!=a.Ui)a=a.Ui(a,b,c);else{var d=ZY[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ZY._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("IStorage.store",a);}return a};
$Y=function(a,b){if(null!=a&&null!=a.Si)a.Si(a,b);else{var c=$Y[$APP.da(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=$Y._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IStorage.delete",a);}};bZ=function(a,b){return 6>b?a>>>5*b&OPa:Math.floor(a/aZ[b])&OPa};dZ=function(a,b,c){var d=a<cZ&&6>b,e=bZ(a,b);return a-(d?e<<5*b:e*aZ[b])+(d?c<<5*b:c*aZ[b])};
eZ=function(a,b,c,d){for(var e=0,f=$APP.Le(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.h?a.h(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e};PPa=function(a,b,c,d){for(var e=0,f=$APP.Le(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.h?a.h(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e};QPa=function(a,b,c){var d=b.length,e=eZ(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};RPa=function(a,b,c){var d=b.length;a=eZ(a,b,d-1,c);return a===d?-1:a};
fZ=function(a,b,c,d,e,f){var h=f.length,m=d-b,r=m+h,n=Array(m+h+(c-e));d-=b;for(var w=0;;)if(w<d)n[w+0]=a[w+b],w+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+m]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+r]=a[f+e],f+=1;else break;return n};gZ=function(a,b,c,d){return fZ(a,0,a.length,b,c,d)};
hZ=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var m=c-0,r=0;;)if(r<m)h[r+0]=a[r+0],r+=1;else break;a=f-c;for(m=0;;)if(m<a)h[m+c]=b[m+0],m+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{m=f-0;for(r=0;;)if(r<m)h[r+0]=a[r+0],r+=1;else break;m=c-f;for(r=0;;)if(r<m)e[r+0]=a[r+f],r+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]};
SPa=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],m=e[f+0];if(0!==(a.h?a.h(h,m):a.call(null,h,m)))return!1;f+=1}else return f};iZ=function(a,b){return $APP.l(a)?$APP.l(b)?[a,b]:[a]:[b]};jZ=function(a,b,c){return $APP.l(a)?$APP.l(b)?$APP.l(c)?[a,b,c]:[a,b]:$APP.l(c)?[a,c]:[a]:$APP.l(b)?$APP.l(c)?[b,c]:[b]:[c]};
kZ=function(a){if(null!=a&&null!=a.Zh)a=a.Zh(a);else{var b=kZ[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=kZ._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("INode.node-lim-key",a);}return a};lZ=function(a){if(null!=a&&null!=a.Ri)a=a.keys.length;else{var b=lZ[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=lZ._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("INode.node-len",a);}return a};
mZ=function(a,b,c){if(null!=a&&null!=a.ai)a=a.ai(a,b,c);else{var d=mZ[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=mZ._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("INode.node-merge",a);}return a};nZ=function(a,b){if(null!=a&&null!=a.bi)a=a.bi(a,b);else{var c=nZ[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=nZ._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("INode.node-merge-n-split",a);}return a};
oZ=function(a,b,c,d){if(null!=a&&null!=a.$h)a=a.$h(a,b,c,d);else{var e=oZ[$APP.da(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=oZ._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.qb("INode.node-lookup",a);}return a};
pZ=function(a,b,c,d){if(null!=a&&null!=a.Xh)a=a.Xh(a,b,c,d);else{var e=pZ[$APP.da(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=pZ._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.qb("INode.node-conj",a);}return a};
qZ=function(a,b,c,d,e,f,h){if(null!=a&&null!=a.Yh)a=a.Yh(a,b,c,d,e,f,h);else{var m=qZ[$APP.da(null==a?null:a)];if(null!=m)a=m.Fa?m.Fa(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h);else if(m=qZ._,null!=m)a=m.Fa?m.Fa(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h);else throw $APP.qb("INode.node-disj",a);}return a};
TPa=function(a,b,c,d,e){if($APP.l(b))return[a];if(lZ(a)>rZ)return jZ(c,a,d);if($APP.l($APP.l(c)?lZ(c)<=rZ:c))return iZ(mZ(c,a,e),d);if($APP.l($APP.l(d)?lZ(d)<=rZ:d))return iZ(c,mZ(a,d,e));if($APP.l($APP.l(c)?null==d||lZ(c)<lZ(d):c))return a=nZ(c,a),jZ(a[0],a[1],d);a=nZ(a,d);return jZ(c,a[0],a[1])};
sZ=function(a,b){if(null!=a&&null!=a.pf)a=a.pf(a,b);else{var c=sZ[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=sZ._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IStore.store-aux",a);}return a};tZ=function(a){a=$APP.Ii.h(function(b){return b.qb},a);return VY(a)};uZ=function(a,b){$APP.ae(a.$c)&&(b=$APP.u(a.children)?tZ(a.children):Array(b),a.$c=b)};wZ=function(a,b,c,d,e){c=null==c?$APP.u(b)?tZ(b):Array(a.length):c;return new vZ(a,b,c,d,e)};
vZ=function(a,b,c,d,e){this.keys=a;this.children=b;this.$c=c;this.qb=d;this.Of=e};UPa=function(a,b,c){this.keys=a;this.qb=b;this.Of=c};xZ=function(a){if(null!=a&&null!=a.ye)a=a.ye(a);else{var b=xZ[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=xZ._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IRoot.-ensure-root-node",a);}return a};
$APP.yZ=function(a,b,c,d,e,f,h,m){this.storage=a;this.root=b;this.shift=c;this.O=d;this.Wc=e;this.K=f;this.ad=h;this.qb=m;this.J=2297303311;this.M=8332};zZ=function(a,b,c){return a instanceof vZ?a.Ve(b,c):null};AZ=function(a,b){for(var c=a.shift,d=xZ(a);;)if(0<c){var e=c-1;d=zZ(d,bZ(b,c),a.storage);c=e}else return d.keys};BZ=function(a,b,c,d){return new $APP.yZ(a.storage,b,c,d,a.Wc,a.K,null,null)};
CZ=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.l(f)?f:zZ(a,e,d);b=dZ(b,c,e);--c}else return $APP.l(a)?dZ(b,0,a.keys.length-1):null};EZ=function(a,b){if(0>b)return 0;b=DZ(a,xZ(a),b,a.shift);return $APP.l(b)?b:CZ(xZ(a),0,a.shift,a.storage)+1};GZ=function(a,b){if(0<bZ(b,a.shift+1))return CZ(xZ(a),b,a.shift,a.storage);a=FZ(a,xZ(a),b,a.shift);return $APP.l(a)?a:-1};
IZ=function(a){if(0<lZ(xZ(a))){var b=CZ(xZ(a),0,a.shift,a.storage);b=EZ(a,b);return HZ.j?HZ.j(a,0,b):HZ.call(null,a,0,b)}return null};VPa=function(a,b,c){this.H=a;this.yb=b;this.end=c;this.J=524306;this.M=0};JZ=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};HZ=function(a,b,c){return new JZ(a,b,c,AZ(a,b),bZ(b,0))};KZ=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
LZ=function(a,b,c){return new KZ(a,b,c,AZ(a,c),bZ(c,0))};
MZ=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.ye(null),f=0,h=a.shift;;)if($APP.l(e)){var m=lZ(e);if(0===h){var r=e.keys;r=eZ(d,r,m-1,b);b=m===r?null:dZ(f,0,r);break a}r=e.keys;r=eZ(d,r,m-2,b);e=zZ(e,r,a.storage);f=dZ(f,h,r);--h}else{b=null;break a}if(null==b)return null;a:if(null==c)c=CZ(a.ye(null),0,a.shift,a.storage)+1;else for(e=a.ye(null),h=0,f=a.shift;;)if($APP.l(e)){m=lZ(e);if(0===f){r=e.keys;m=PPa(d,r,m-1,c);c=h=dZ(h,0,m);break a}r=e.keys;m=PPa(d,r,m-2,c);h=dZ(h,f,m);e=zZ(e,m,a.storage);
--f}else{c=null;break a}return b<c?new JZ(a,b,c,AZ(a,b),bZ(b,0)):null};WPa=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};XPa=function(a){var b=a.length,c=$APP.zc($APP.qg);if(0<b)for(var d=0;;){var e=b-d;if(e<=NZ){$APP.pg.h(c,a.slice(d));break}else e>=OZ+rZ?($APP.pg.h(c,a.slice(d,d+OZ)),d+=OZ):(e>>>=1,$APP.pg.h(c,a.slice(d,d+e)),d+=e)}return $APP.Ee($APP.Bc(c))};
PZ=function(a,b,c){b=pZ(a.ye(null),c,b,a.storage);if(null!=b)if(1===b.length)a=BZ(a,b[0],a.shift,a.O+1);else{c=b.map(kZ);var d=tZ(b);b=wZ(c,b,d,null,!0);a=BZ(a,b,a.shift+1,a.O+1)}return a};QZ=function(a,b,c){b=qZ(a.ye(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof vZ&&1===b.children.length?BZ(a,b.children[0],a.shift-1,a.O-1):BZ(a,b,a.shift,a.O-1)};RZ=function(a,b,c){return MZ(a,b,c,a.Wc)};SZ=function(a,b,c){a=MZ(a,c,b,a.Wc);return null==a?null:$APP.ic(a)};
VZ=function(a,b,c){var d=WPa(TZ,XPa(b));c=UZ.g(c);for(var e=d,f=0;;){var h=$APP.Gd(e);switch(h){case 0:return new $APP.yZ(c,TZ.g([]),0,0,a,null,null,null);case 1:return new $APP.yZ(c,$APP.v(e),f,b.length,a,null,null,null);default:e=WPa(function(){return function(m){var r=m.map(kZ);return wZ(r,m,null,null,!0)}}(e,f,h,d,c),XPa(e)),f+=1}}};XZ=function(a){var b=UZ.g(a),c=TZ.g([]),d=WZ.g(a);return new $APP.yZ(b,c,0,0,$APP.l(d)?d:$APP.xe,$APP.Ta.g(a),null,null)};
$Z=function(a,b,c,d){d=$APP.xf(d);d=$APP.D.h(d,YZ);return new $APP.yZ(c,null,ZZ.g(d),$APP.uI.g(d),a,null,null,b)};c_=function(){return new $APP.k(null,2,[a_,NZ,b_,YPa],null)};d_=function(a){return"string"!==typeof a&&($APP.oe(a)||WY(a))};e_=function(a,b){return $APP.ed(a,b)};
$APP.f_=function(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=$APP.f_[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.f_._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IDatom.datom-tx",a);}return a};$APP.g_=function(a){if(null!=a&&null!=a.ld)a=a.ld(a);else{var b=$APP.g_[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.g_._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IDatom.datom-added",a);}return a};
$APP.h_=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.ad=f;this.J=2162164496;this.M=0};ZPa=function(a){return a instanceof $APP.h_};$APP.j_=function(a){return $APP.Xf.h(i_,a)};k_=function(a,b){return null==a?0:null==b?0:$APP.Le($APP.xe(a,b))};$Pa=function(a,b){return $APP.Ma($APP.sb($APP.pb(a)),$APP.sb($APP.pb(b)))};
aQa=function(a,b){var c=$APP.Gd(a),d=$APP.Gd(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.ae(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.y(a),b=$APP.y(b);else{if(null==c)return-1;if(null==d)return 1;c=l_(c,d);if($APP.z.h(c,0))a=$APP.y(a),b=$APP.y(b);else return c}}};m_=function(a,b){return null==a?0:null==b?0:l_(a,b)};n_=function(a,b){var c=a.e-b.e;return 0===c?(c=k_(a.a,b.a),0===c?(c=m_(a.v,b.v),0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};
o_=function(a,b){var c=k_(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=m_(a.v,b.v),0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};p_=function(a,b){var c=k_(a.a,b.a);return 0===c?(c=m_(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};q_=function(a,b){return a instanceof $APP.G?$APP.Ic(a,b):$APP.Ma(a,b)};r_=function(a,b){var c=a.e-b.e;return 0===c?(c=q_(a.a,b.a),0===c?(a=l_(a.v,b.v),0===a?0:a):c):c};
s_=function(a,b){var c=a.e-b.e;return 0===c?(c=q_(a.a,b.a),0===c?(c=l_(a.v,b.v),0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};t_=function(a,b){var c=q_(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=l_(a.v,b.v),0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};u_=function(a,b){var c=q_(a.a,b.a);return 0===c?(c=l_(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ib(null)-b.ib(null),0===a?0:a):c):c):c};bQa=function(){};
v_=function(a,b){if(null!=a&&null!=a.Sh)a=a.Sh(a,b);else{var c=v_[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=v_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("ISearch.-search",a);}return a};w_=function(a,b){return $APP.v(v_(a,b))};
x_=function(a,b,c,d,e,f){if(null!=a&&null!=a.Oh)a=a.Oh(a,b,c,d,e,f);else{var h=x_[$APP.da(null==a?null:a)];if(null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=x_._,null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw $APP.qb("IIndexAccess.-datoms",a);}return a};
y_=function(a,b,c,d,e,f){if(null!=a&&null!=a.Rh)a=a.Rh(a,b,c,d,e,f);else{var h=y_[$APP.da(null==a?null:a)];if(null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=y_._,null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw $APP.qb("IIndexAccess.-seek-datoms",a);}return a};
z_=function(a,b,c,d,e,f){if(null!=a&&null!=a.Qh)a=a.Qh(a,b,c,d,e,f);else{var h=z_[$APP.da(null==a?null:a)];if(null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=z_._,null!=h)a=h.ja?h.ja(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw $APP.qb("IIndexAccess.-rseek-datoms",a);}return a};
A_=function(a,b,c,d){if(null!=a&&null!=a.Ph)a=a.Ph(a,b,c,d);else{var e=A_[$APP.da(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=A_._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.qb("IIndexAccess.-index-range",a);}return a};
D_=function(a,b,c,d,e,f){if($APP.z.h(b,B_)&&null!=c&&!C_(a,c))throw $APP.Al.h(["Attribute ",$APP.aj.l($APP.C([c]))," should be marked as :db/index true"].join(""),new $APP.k(null,3,[$APP.TI,cQa,dQa,B_,eQa,new $APP.H(null,4,5,$APP.I,[c,d,e,f],null)],null));};E_=function(){};F_=function(a){if(null!=a&&null!=a.Nh)a=a.Nh(a);else{var b=F_[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=F_._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IDB.-schema",a);}return a};
G_=function(a,b){if(null!=a&&null!=a.Mh)a=a.Mh(a,b);else{var c=G_[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=G_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IDB.-attrs-by",a);}return a};$APP.H_=function(a,b,c,d,e,f,h,m,r,n,w,x,B){this.rc=a;this.Wb=b;this.tc=c;this.fc=d;this.Lc=e;this.Mc=f;this.vc=h;this.Cc=m;this.Bc=r;this.hash=n;this.B=w;this.o=x;this.D=B;this.J=2230716170;this.M=139264};
R_=function(a){var b=$APP.ql.l(a,$APP.I_,$APP.C([$APP.J_,K_,B_,L_,M_,N_,O_,P_,Q_]));b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new $APP.H_($APP.I_.g(a),$APP.J_.g(a),K_.g(a),B_.g(a),L_.g(a),M_.g(a),N_.g(a),O_.g(a),P_.g(a),Q_.g(a),null,$APP.yf(b),null)};S_=function(a,b,c,d,e,f){this.wc=a;this.cc=b;this.hash=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};fQa=function(a){return a instanceof S_?a.wc:a};
gQa=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.I,[T_,U_,V_],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.I,[T_,W_,V_],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.I,[X_],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.I,[Y_,V_],null);default:return $APP.z.h(Z_,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[Z_],null):$APP.z.h(V_,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[V_],null):$APP.z.h($_,a)?new $APP.H(null,
2,5,$APP.I,[a0,V_],null):$APP.qg}};hQa=function(a,b){return $APP.De.j(function(c,d){return NPa(function(e,f,h){return $APP.Am.P(e,f,$APP.$h,d,h)},c,$_.g($APP.D.h(a,d)))},$APP.wf,a0.g(b))};e0=function(a){var b=$APP.Ge(function(c,d,e){return e instanceof $APP.G?c:$APP.Ge(function(f,h,m){return $APP.De.j(function(r,n){return $APP.Am.F(r,n,b0,d)},f,gQa(h,m))},$APP.Am.j(c,c0,function(f){return $APP.l(f)?$APP.We.h(f,d):$APP.ei([d])}),e)},$APP.wf,a);return $APP.$h.j(b,d0,hQa(a,b))};
h0=function(a,b,c,d){if(null!=c&&!$APP.ue(d,c))throw $APP.Al.h(["Bad attribute specification for ",$APP.aj.l($APP.C([$APP.vf([a,$APP.vf([b,c])])])),", expected one of ",$APP.p.g(d)].join(""),new $APP.k(null,4,[$APP.TI,f0,g0,a,$APP.XB,b,$APP.$I,c],null));};
k0=function(a){for(var b=$APP.u(a),c=null,d=0,e=0;;)if(e<d){var f=c.da(null,e),h=$APP.A.j(f,0,null),m=$APP.A.j(f,1,null),r=Z_.h(m,!1);h0(h,Z_,Z_.g(m),new $APP.ci(null,new $APP.k(null,2,[!0,null,!1,null],null),null));if($APP.l(function(){var Y=r;return $APP.l(Y)?$APP.Zh.h(i0.g(m),Y_):Y}()))throw $APP.Al.h(["Bad attribute specification for ",$APP.aj.l($APP.C([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,Z_],null));
h0(h,T_,T_.g(m),new $APP.ci(null,new $APP.k(null,2,[U_,null,W_,null],null),null));h0(h,i0,i0.g(m),iQa);h0(h,j0,j0.g(m),new $APP.ci(null,new $APP.k(null,2,[X_,null,jQa,null],null),null));if($APP.z.h(a0,i0.g(m))&&!$APP.ue(m,$_))throw $APP.Al.h(["Bad attribute specification for ",$APP.aj.l($APP.C([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,i0],null));if($APP.ue(m,$_)){f=new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,$_],null);
if($APP.z.h(X_,j0.g(m)))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=$_.g(m);if(!$APP.de(n))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.aj.l($APP.C([n]))].join(""),f);if($APP.ae(n))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t be empty"].join(""),f);n=$APP.u(n);for(var w=null,x=0,B=0;;)if(B<x){var F=w.da(null,B),M=$APP.$h.j(f,$APP.$I,F);if($APP.ue($APP.D.h(a,
F),$_))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.aj.l($APP.C([F]))].join(""),M);if($APP.z.h(X_,j0.g($APP.D.h(a,F))))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.aj.l($APP.C([F]))].join(""),M);B+=1}else if(n=$APP.u(n)){if($APP.je(n))x=$APP.Kc(n),n=$APP.Lc(n),w=x,x=$APP.Gd(x);else{w=$APP.v(n);x=$APP.$h.j(f,$APP.$I,w);if($APP.ue($APP.D.h(a,w),$_))throw $APP.Al.h([$APP.aj.l($APP.C([h])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.aj.l($APP.C([w]))].join(""),x);if($APP.z.h(X_,j0.g($APP.D.h(a,w))))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.aj.l($APP.C([w]))].join(""),x);n=$APP.y(n);w=null;x=0}B=0}else break}e+=1}else if(h=$APP.u(b)){b=h;if($APP.je(b))c=$APP.Kc(b),b=$APP.Lc(b),h=c,d=$APP.Gd(c),c=h;else{c=$APP.v(b);h=$APP.A.j(c,0,null);m=$APP.A.j(c,1,null);var U=Z_.h(m,!1);h0(h,Z_,Z_.g(m),new $APP.ci(null,
new $APP.k(null,2,[!0,null,!1,null],null),null));if($APP.l(function(){var Y=U;return $APP.l(Y)?$APP.Zh.h(i0.g(m),Y_):Y}()))throw $APP.Al.h(["Bad attribute specification for ",$APP.aj.l($APP.C([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,Z_],null));h0(h,T_,T_.g(m),new $APP.ci(null,new $APP.k(null,2,[U_,null,W_,null],null),null));h0(h,i0,i0.g(m),iQa);h0(h,j0,j0.g(m),new $APP.ci(null,new $APP.k(null,2,[X_,null,jQa,
null],null),null));if($APP.z.h(a0,i0.g(m))&&!$APP.ue(m,$_))throw $APP.Al.h(["Bad attribute specification for ",$APP.aj.l($APP.C([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,i0],null));if($APP.ue(m,$_)){c=new $APP.k(null,3,[$APP.TI,f0,g0,h,$APP.XB,$_],null);if($APP.z.h(X_,j0.g(m)))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=$_.g(m);if(!$APP.de(d))throw $APP.Al.h([$APP.aj.l($APP.C([h])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.aj.l($APP.C([d]))].join(""),c);if($APP.ae(d))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.u(d);e=null;for(n=f=0;;)if(n<f){w=e.da(null,n);x=$APP.$h.j(c,$APP.$I,w);if($APP.ue($APP.D.h(a,w),$_))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.aj.l($APP.C([w]))].join(""),x);if($APP.z.h(X_,j0.g($APP.D.h(a,w))))throw $APP.Al.h([$APP.aj.l($APP.C([h])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.aj.l($APP.C([w]))].join(""),x);n+=1}else if(d=$APP.u(d)){if($APP.je(d))f=$APP.Kc(d),d=$APP.Lc(d),e=f,f=$APP.Gd(f);else{e=$APP.v(d);f=$APP.$h.j(c,$APP.$I,e);if($APP.ue($APP.D.h(a,e),$_))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.aj.l($APP.C([e]))].join(""),f);if($APP.z.h(X_,j0.g($APP.D.h(a,e))))throw $APP.Al.h([$APP.aj.l($APP.C([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.aj.l($APP.C([e]))].join(""),f);d=$APP.y(d);e=null;f=0}n=0}else break}b=$APP.y(b);c=null;d=0}e=0}else return null};l0=function(a,b){k0(a);return R_($APP.Ih([$APP.I_,M_,Q_,K_,B_,L_,$APP.J_,P_,O_,N_],[a,536870912,$APP.cj.g(0),XZ($APP.$h.j(b,WZ,o_)),XZ($APP.$h.j(b,WZ,p_)),0,XZ($APP.$h.j(b,WZ,n_)),SY(),SY(),e0($APP.pl.l($APP.C([new $APP.k(null,1,[c0,new $APP.k(null,1,[T_,U_],null)],null),a])))]))};
kQa=function(a,b,c){var d=function(){var e=SZ(b,i_.F(536870911,null,null,2147483647),i_.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.nL.g(e)}();d=$APP.l($APP.l(d)?0<d:d)?d:0;a=Y_.g(a);return $APP.De.j(function(e,f){f=SZ(c,i_.F(536870911,f,536870911,2147483647),i_.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:m0.g(f);return $APP.l($APP.l(f)?f>e:f)?f:e},d,a)};
n0=function(a,b,c){var d=$APP.v($APP.si.h(ZPa,a));if(null!=d)throw $APP.Al.h(["init-db expects list of Datoms, got ",$APP.aj.l($APP.C([$APP.pb(d)]))].join(""),new $APP.k(null,1,[$APP.TI,lQa],null));k0(b);d=e0($APP.pl.l($APP.C([new $APP.k(null,1,[c0,new $APP.k(null,1,[T_,U_],null)],null),b])));var e=V_.g(d),f=WY(a)?a:VY(a);f.sort(s_);var h=VZ(n_,f,c);f.sort(t_);f=VZ(o_,f,c);a=$APP.og.h(function(r){return $APP.ue(e,r.a)},a);a=$APP.Ee(a);a.sort(u_);c=VZ(p_,a,c);a=kQa(d,h,c);var m=$APP.Iu.F($APP.Ii.g(function(r){return r.ib(null)}),
$APP.Mm,536870912,h);return R_($APP.Ih([$APP.I_,M_,Q_,K_,B_,L_,$APP.J_,P_,O_,N_],[b,m,$APP.cj.g(0),f,c,a,h,SY(),SY(),d]))};mQa=function(a,b){return $APP.$h.l(a,$APP.I_,b,$APP.C([N_,e0($APP.pl.l($APP.C([new $APP.k(null,1,[c0,new $APP.k(null,1,[T_,U_],null)],null),b]))),O_,SY(),P_,SY(),Q_,$APP.cj.g(0)]))};
$APP.p0=function(a){var b=$APP.xf(a);a=$APP.D.h(b,$APP.I_);b=$APP.D.h(b,$APP.o0);return n0($APP.Ii.h(function(c){var d=$APP.A.j(c,0,null),e=$APP.A.j(c,1,null),f=$APP.A.j(c,2,null);c=$APP.A.j(c,3,null);return i_.F(d,e,f,c)},b),a,$APP.wf)};q0=function(a,b,c,d,e,f,h,m){this.Ad=a;this.zd=b;this.Dd=c;this.Bd=d;this.Ed=e;this.B=f;this.o=h;this.D=m;this.J=2230716170;this.M=139264};
nQa=function(a){var b=$APP.ql.l(a,r0,$APP.C([s0,t0,u0,v0]));b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new q0(r0.g(a),s0.g(a),t0.g(a),u0.g(a),v0.g(a),null,$APP.yf(b),null)};w0=function(){return null};x0=function(){return null};y0=function(){return null};z0=function(){return null};A0=function(){return null};oQa=function(){return null};B0=function(){return null};
D0=function(a){if(a instanceof $APP.G)return B0(a)?$APP.Ji.h($APP.cf(a),$APP.zi.h($APP.ji(a),1)):$APP.Ji.h($APP.cf(a),["_",$APP.ji(a)].join(""));if("string"===typeof a){var b=$APP.vi(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.A.j(b,0,null);a=$APP.A.j(b,1,null);b=$APP.A.j(b,2,null);return $APP.z.h("_",$APP.A.h(b,0))?$APP.l(a)?[$APP.p.g(a),"/",$APP.zi.h(b,1)].join(""):$APP.zi.h(b,1):$APP.l(a)?[$APP.p.g(a),"/_",$APP.p.g(b)].join(""):["_",$APP.p.g(b)].join("")}throw $APP.Al.h(["Bad attribute type: ",$APP.aj.l($APP.C([a])),
", expected keyword or string"].join(""),new $APP.k(null,2,[$APP.TI,C0,g0,a],null));};pQa=function(a,b,c){return $APP.Qm.j(function(d,e){return E0(a,d)&&$APP.de(e)?F0(a,e):e},$_.g($APP.D.h(F_(a),b)),c)};G0=function(){return null};qQa=function(){return null};H0=function(){this.id=$APP.dj.h(rQa,$APP.ud);this.J=2147483648;this.M=0};UY=function(){return null};I0=function(a){return $APP.Le(M_.g(r0.g(a)))+1};
J0=function(a){return $APP.z.h(a,sQa)||$APP.z.h(a,":db/current-tx")||$APP.z.h(a,"datomic.tx")||$APP.z.h(a,"datascript.tx")};K0=function(a){return"number"===typeof a&&0>a||"string"===typeof a||UY(a)};tQa=function(a,b){return b>L_.g(a)&&536870912>b?$APP.$h.j(a,L_,b):a};
M0=function(a,b,c){var d=J0(b)?$APP.Am.ja($APP.Am.P(a,u0,$APP.$h,b,c),L0,$APP.Am,c,b0,b):a;d=K0(b)?$APP.Am.ja($APP.Am.P(d,u0,$APP.$h,b,c),L0,$APP.Am,c,b0,b):d;if(b=!K0(b))a=s0.g(a),b=c>L_.g(a)&&536870912>c;a=b?$APP.Am.P(d,u0,$APP.$h,c,c):d;return $APP.Am.F(a,s0,tQa,c)};
vQa=function(a,b){var c=$APP.I_.g(a),d=b.e,e=b.a,f=b.v;if($APP.z.h(e,c0)){if($APP.ib(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.p.g(f)," does not exist"].join(""),d=new $APP.k(null,2,[$APP.TI,uQa,g0,f],null),$APP.Al.h(a,d);return $APP.nl.j($APP.Np(a,new $APP.H(null,2,5,$APP.I,[$APP.I_,d],null),$APP.ql.h(c.g?c.g(f):c.call(null,f),e)),new $APP.H(null,1,5,$APP.I,[$APP.I_],null),function(h){return $APP.ql.h(h,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.l(b))return $APP.l(c.g?c.g(b):
c.call(null,b))?$APP.nl.j(a,new $APP.H(null,2,5,$APP.I,[$APP.I_,b],null),function(h){return $APP.ql.h(h,e)}):$APP.nl.j(a,new $APP.H(null,2,5,$APP.I,[$APP.I_,d],null),function(h){return $APP.ql.l(h,e,$APP.C([f]))});a=["Schema with entity id ",$APP.p.g(d)," does not exist"].join("");d=new $APP.k(null,4,[$APP.TI,uQa,N0,d,g0,e,$APP.$I,d],null);throw $APP.Al.h(a,d);};wQa=function(a){a=$APP.I_.g(a);return $APP.l(a)?a:$APP.wf};
xQa=function(a){return $APP.$h.j(a,N_,e0($APP.pl.l($APP.C([new $APP.k(null,1,[c0,new $APP.k(null,1,[T_,U_],null)],null),wQa(a)]))))};
AQa=function(a,b){var c=b.ld(null);c=$APP.l(c)?w0(a,b.a,T_):c;if($APP.l(c)&&(c=$APP.yf(x_(a,B_,b.a,b.v,null,null)),null!=c))throw $APP.Al.h(["Cannot add ",$APP.aj.l($APP.C([b]))," because of unique constraint: ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,yQa,g0,b.a,zQa,b],null));var d=C_(a,b.a);c=b.a;c=O0.g?O0.g(c):O0.call(null,c);if($APP.l(b.ld(null))){a=$APP.Am.P(a,$APP.J_,PZ,b,s_);a=$APP.Am.P(a,K_,PZ,b,t_);d=d?$APP.Am.P(a,B_,PZ,b,u_):a;d=tQa(d,b.e);d=$APP.$h.j(d,Q_,$APP.cj.g(0));
if($APP.l(c)){var e=wQa(d);c=b.e;a=b.a;b=b.v;if($APP.z.h(a,c0)){var f=new $APP.H(null,2,5,$APP.I,[$APP.I_,b],null),h=$APP.pl.l,m=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.ee(m)?$APP.pl.l($APP.C([m,e])):e;b=$APP.Np($APP.Np(d,f,h.call($APP.pl,$APP.C([$APP.l(e)?e:$APP.wf,$APP.Ih([a],[b])]))),new $APP.H(null,2,5,$APP.I,[$APP.I_,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.l(f)?$APP.l(e.g?e.g(f):e.call(null,f))?$APP.Np(d,new $APP.H(null,3,5,$APP.I,[$APP.I_,f,a],null),b):$APP.Np(d,
new $APP.H(null,3,5,$APP.I,[$APP.I_,c,a],null),b):$APP.Np(d,new $APP.H(null,2,5,$APP.I,[$APP.I_,c],null),$APP.Ih([a],[b]));b=xQa(b)}else b=d;return b}e=w_(a,new $APP.H(null,3,5,$APP.I,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.Am.P(a,$APP.J_,QZ,e,s_);a=$APP.Am.P(a,K_,QZ,e,t_);d=d?$APP.Am.P(a,B_,QZ,e,u_):a;d=$APP.$h.j(d,Q_,$APP.cj.g(0));return $APP.l(c)?xQa(vQa(d,b)):d};
BQa=function(a,b,c,d,e){return $APP.Ge(function(f,h,m){var r=$APP.D.h(f,h);$APP.l(r)||(r=m0.g($APP.v(x_(c,$APP.J_,d,h,null,null))),r=$APP.l(r)?r:$APP.Fe($APP.Lm.h($APP.Gd($_.g($APP.D.h(F_(c),h))),null)));m=$APP.$h.j(r,m,e);return $APP.$h.j(f,h,m)},a,b)};
R0=function(a,b){var c=s0.g(a),d=P0.g(b);a=$APP.Am.F($APP.$h.j(a,s0,AQa(c,b)),t0,$APP.We,b);if(oQa(c,d)){var e=$APP.nL.g(b);b=$APP.l($APP.g_(b))?m0.g(b):null;var f=$APP.D.h(Q0.g(a),e);f=$APP.l(f)?f:$APP.wf;d=$APP.D.h(G_(c,d0),d);c=BQa(f,d,c,e,b);return $APP.Am.P(a,Q0,$APP.$h,e,c)}return a};
CQa=function(a,b){function c(f,h){return $APP.De.j(function(m,r){var n=d(f,r);return null==n?$APP.Am.F(m,0,$APP.We,r):$APP.Am.P(m,1,$APP.$h,r,n)},new $APP.H(null,2,5,$APP.I,[$APP.qg,$APP.wf],null),h)}function d(f,h){return E0(a,f)?K0(h)?null:$APP.nL.g($APP.v(x_(a,B_,f,G0(a,h),null,null))):$APP.nL.g($APP.v(x_(a,B_,f,h,null,null)))}var e=$APP.yf(G_(a,U_));return null==e?new $APP.H(null,2,5,$APP.I,[b,null],null):$APP.Ge(function(f,h,m){var r=$APP.A.j(f,0,null);f=$APP.A.j(f,1,null);if(!(h instanceof $APP.G||
"string"===typeof h))throw $APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([h]))," at ",$APP.aj.l($APP.C([b])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,h,S0,b,$APP.TI,C0],null));if(null==m)throw $APP.Al.h(["Cannot store nil as a value at ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.$I,null,S0,b,$APP.TI,C0],null));if($APP.ue(e,h)){if(y0(a,h,m)){var n=c(h,m);m=$APP.A.j(n,0,null);n=$APP.A.j(n,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.ae(m)?r:$APP.$h.j(r,
h,m),$APP.ae(n)?f:$APP.$h.j(f,h,n)],null)}n=d(h,m);return null==n?new $APP.H(null,2,5,$APP.I,[$APP.$h.j(r,h,m),f],null):new $APP.H(null,2,5,$APP.I,[r,$APP.$h.j(f,h,$APP.vf([m,n]))],null)}return new $APP.H(null,2,5,$APP.I,[$APP.$h.j(r,h,m),f],null)},new $APP.H(null,2,5,$APP.I,[$APP.wf,$APP.wf],null),b)};
FQa=function(a,b){var c=$APP.Ge(function(h,m,r){return $APP.Ge(function(n,w,x){return $APP.$h.j(n,x,new $APP.H(null,2,5,$APP.I,[m,w],null))},h,r)},$APP.wf,b);if(2<=$APP.Gd(c)){b=$APP.v(c);a=$APP.A.j(b,0,null);var d=$APP.A.j(b,1,null);b=$APP.A.j(d,0,null);d=$APP.A.j(d,1,null);var e=$APP.Md(c);c=$APP.A.j(e,0,null);var f=$APP.A.j(e,1,null);e=$APP.A.j(f,0,null);f=$APP.A.j(f,1,null);throw $APP.Al.h(["Conflicting upserts: ",$APP.aj.l($APP.C([new $APP.H(null,2,5,$APP.I,[b,d],null)]))," resolves to ",$APP.aj.l($APP.C([a])),
", but ",$APP.aj.l($APP.C([new $APP.H(null,2,5,$APP.I,[e,f],null)]))," resolves to ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,T0,DQa,new $APP.H(null,3,5,$APP.I,[a,b,d],null),EQa,new $APP.H(null,3,5,$APP.I,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.A.j(d,0,null);c=$APP.A.j(d,1,null);d=$APP.A.j(c,0,null);c=$APP.A.j(c,1,null);a=U0.g(a);if(null!=b&&null!=a&&!K0(a)&&$APP.Zh.h(b,a))throw $APP.Al.h(["Conflicting upsert: ",$APP.aj.l($APP.C([new $APP.H(null,2,5,$APP.I,[d,c],null)]))," resolves to ",
$APP.aj.l($APP.C([b])),", but entity already has :db/id ",$APP.aj.l($APP.C([a]))].join(""),new $APP.k(null,3,[$APP.TI,T0,DQa,new $APP.H(null,3,5,$APP.I,[b,d,c],null),EQa,new $APP.k(null,1,[U0,a],null)],null));return b};GQa=function(a,b,c){return B0(b)||x0(a,b)?WY(c)||$APP.be(c)&&!$APP.ee(c)?$APP.z.h($APP.Gd(c),2)&&w0(a,$APP.v(c),U_)?new $APP.H(null,1,5,$APP.I,[c],null):c:new $APP.H(null,1,5,$APP.I,[c],null):new $APP.H(null,1,5,$APP.I,[c],null)};
HQa=function(a,b){var c=U0.g(b),d=$APP.Xf.h($APP.K,$APP.De.j(function(e,f){var h=$APP.A.j(f,0,null);f=$APP.A.j(f,1,null);return $APP.Am.F(e,A0(a,h)?1:0,$APP.We,new $APP.H(null,2,5,$APP.I,[h,f],null))},new $APP.H(null,2,5,$APP.I,[$APP.qg,$APP.qg],null),b));return function h(f){return new $APP.gf(null,function(){for(var m=f;;){var r=$APP.u(m);if(r){var n=r,w=$APP.v(n),x=$APP.A.j(w,0,null),B=$APP.A.j(w,1,null);if($APP.Zh.h(x,U0)){var F=function(){var Y=x;if(Y instanceof $APP.G||"string"===typeof Y)return null;
var ba=$APP.vf([U0,c,x,B]);throw $APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([Y]))," at ",$APP.aj.l($APP.C([ba])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,Y,S0,ba,$APP.TI,C0],null));}(),M=B0(x),U=M?D0(x):x;if(M&&!E0(a,U))throw $APP.Al.h(["Bad attribute ",$APP.aj.l($APP.C([x])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.k(null,3,[$APP.TI,C0,g0,x,S0,$APP.vf([U0,c,x,B])],null));if(r=$APP.u(function(Y,ba,ca,ea,la,ta,pa,V,
P,X,R,W){return function oa(na){return new $APP.gf(null,function(wa,Ca,La,Ra,$a,jb,nb,db,hb,rb,ub){return function(){for(;;){var Sb=$APP.u(na);if(Sb){if($APP.je(Sb)){var Zb=$APP.Kc(Sb),tc=$APP.Gd(Zb),Gc=$APP.jf(tc);a:for(var $d=0;;)if($d<tc){var pc=$APP.Td(Zb,$d);$APP.nf(Gc,E0(a,Ra)&&$APP.ee(pc)?$APP.$h.j(pc,D0(nb),ub):La?new $APP.H(null,4,5,$APP.I,[V0,pc,Ra,ub],null):new $APP.H(null,4,5,$APP.I,[V0,ub,Ra,pc],null));$d+=1}else{Zb=!0;break a}return Zb?$APP.mf($APP.of(Gc),oa($APP.Lc(Sb))):$APP.mf($APP.of(Gc),
null)}Gc=$APP.v(Sb);return $APP.$e(E0(a,Ra)&&$APP.ee(Gc)?$APP.$h.j(Gc,D0(nb),ub):La?new $APP.H(null,4,5,$APP.I,[V0,Gc,Ra,ub],null):new $APP.H(null,4,5,$APP.I,[V0,ub,Ra,Gc],null),oa($APP.nd(Sb)))}return null}}}(Y,ba,ca,ea,la,ta,pa,V,P,X,R,W),null,null)}}(m,F,M,U,null,w,x,B,n,r,c,d)(GQa(a,x,B))))return $APP.K.h(r,h($APP.nd(m)))}m=$APP.nd(m)}else return null}},null,null)}(d)};
X0=function(a,b){$APP.A.j(b,0,null);var c=$APP.A.j(b,1,null),d=$APP.A.j(b,2,null),e=$APP.A.j(b,3,null),f=$APP.A.j(b,4,null);if(!(d instanceof $APP.G||"string"===typeof d))throw $APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([d]))," at ",$APP.aj.l($APP.C([b])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,d,S0,b,$APP.TI,C0],null));if(null==e)throw $APP.Al.h(["Cannot store nil as a value at ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.$I,null,S0,b,$APP.TI,C0],null));
b=$APP.l(f)?f:I0(a);f=s0.g(a);c=F0(f,c);e=E0(f,d)?F0(f,e):e;var h=i_.F(c,d,e,b);f=x0(f,d)?w_(f,new $APP.H(null,3,5,$APP.I,[c,d,e],null)):w_(f,new $APP.H(null,2,5,$APP.I,[c,d],null));return null==f?R0(a,h):$APP.z.h(f.v,e)?$APP.Am.F(a,W0,IQa,h):R0(R0(a,i_.P(c,d,f.v,b,!1)),h)};Y0=function(a,b){var c=I0(a);return R0(a,i_.P(b.e,b.a,b.v,c,!1))};
JQa=function(a,b){return $APP.fh.j($APP.di,$APP.tp.h($APP.og.g(function(c){return z0(a,c.a)}),$APP.Ii.g(function(c){return new $APP.H(null,2,5,$APP.I,[Z0,c.v],null)})),b)};
b1=function(a,b,c,d,e){var f=$APP.D.h($0.g(a),d);if(null==f)return b=$APP.$h.j(u0.g(b),d,e),a=$APP.Am.P($APP.$h.j(a,u0,b),$0,$APP.$h,d,e),a1(a,c);throw $APP.Al.h(["Conflicting upsert: ",$APP.aj.l($APP.C([d]))," resolves both to ",$APP.aj.l($APP.C([e]))," and ",$APP.aj.l($APP.C([f]))].join(""),new $APP.k(null,1,[$APP.TI,T0],null));};
KQa=function(a){var b=s0.g(a);return $APP.Ge(function(c,d,e){return $APP.Ge(function(f,h,m){m=$APP.Qf($APP.fb,m)?null:m;var r=m0.g($APP.v(x_(b,$APP.J_,d,h,null,null)));return $APP.z.h(m,r)?f:null==m?$APP.We.h(f,$APP.Wd(new $APP.H(null,4,5,$APP.I,[c1,d,h,r],null),new $APP.k(null,1,[d1,!0],null))):$APP.We.h(f,$APP.Wd(new $APP.H(null,4,5,$APP.I,[V0,d,h,m],null),new $APP.k(null,1,[d1,!0],null)))},c,e)},$APP.qg,Q0.g(a))};
LQa=function(a){var b=e1.g(a);if($APP.l(b)){var c=$APP.zc(b);b=function(d,e){return $APP.l($APP.g_(e))?$APP.fv.h(d,$APP.nL.g(e)):d};c=$APP.De.j(b,c,t0.g(a));b=$APP.De.j(b,c,W0.g(a));if(0===$APP.Gd(b))return $APP.ql.l(a,e1,$APP.C([W0]));throw $APP.Al.h(["Tempids used only as value in transaction: ",$APP.aj.l($APP.C([$APP.lk.g($APP.Yh($APP.Bc(b)))]))].join(""),new $APP.k(null,2,[$APP.TI,C0,u0,b],null));}return $APP.ql.l(a,e1,$APP.C([W0]))};
NQa=function(a){if($APP.l(IPa(a))){var b;if(b=$APP.ue(a,c0)){b=c0.g(a);var c=b instanceof $APP.G||"string"===typeof b;c?(b=$APP.cf($APP.Ji.g(b)),b=$APP.l(b)?$APP.z.h("db",$APP.v($APP.Jk.h(b,/\./))):!1):b=c}if(b)throw $APP.Al.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.k(null,2,[$APP.TI,MQa,f1,a],null));b=j0.g(a);b=$APP.l(b)?b:i0.g(a);if(b=$APP.l(b))b=c0.g(a),b=$APP.l(b)?j0.g(a):b,b=!$APP.l(b);if(b)throw $APP.Al.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.k(null,2,[$APP.TI,MQa,f1,a],null));}};OQa=function(){};g1=function(a,b,c){if(null!=a&&null!=a.ek)a=a.ek(a,b,c);else{var d=g1[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=g1._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("IStorage.-store",a);}return a};
h1=function(a,b){if(null!=a&&null!=a.dk)a=a.dk(a,b);else{var c=h1[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=h1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IStorage.-restore",a);}return a};i1=function(a){return new $APP.H(null,4,5,$APP.I,[a.e,a.a,a.v,a.tx],null)};j1=function(a,b,c,d){this.storage=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};k1=function(a){return new j1(a,null,null,null)};
l1=function(a){return $APP.l(a)?$APP.J_.g(a).storage:null};m1=function(a){a=l1(a);return null==a?null:UZ.g(a)};
q1=function(a,b,c){$APP.dj.j(PQa,$APP.We,a);var d=n1;n1=$APP.dg($APP.zc($APP.qg));try{var e=$APP.J_.g(a),f=K_.g(a),h=B_.g(a),m=e.pf(null,b),r=f.pf(null,b),n=h.pf(null,b),w=$APP.pl.l($APP.C([$APP.Ih([$APP.I_,M_,K_,QQa,B_,L_,$APP.J_,RQa,SQa,TQa],[$APP.I_.g(a),M_.g(a),r,$APP.q(o1),n,L_.g(a),m,new $APP.k(null,2,[$APP.uI,f.O,ZZ,f.shift],null),new $APP.k(null,2,[$APP.uI,h.O,ZZ,h.shift],null),new $APP.k(null,2,[$APP.uI,e.O,ZZ,e.shift],null)]),c_($APP.J_.g(a))]));if($APP.l($APP.l(c)?c:0<$APP.Gd($APP.q(n1)))){$APP.Rc(n1,
$APP.pg.h($APP.q(n1),new $APP.H(null,2,5,$APP.I,[0,w],null)));$APP.Rc(n1,$APP.pg.h($APP.q(n1),new $APP.H(null,2,5,$APP.I,[1,$APP.qg],null)));var x=UZ.g(b),B=$APP.Dv.g($APP.D.h($APP.q(p1),x));$APP.dj.F(p1,$APP.$h,x,null);g1(x,$APP.Bc($APP.q(n1)),B)}return a}finally{n1=d}};UQa=function(a,b){return g1(m1(a),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[1,$APP.Qm.h(function(c){return $APP.Qm.h(i1,c)},b)],null)],null),null)};
s1=function(a,b){var c=h1(a,0);if(null==c)return null;var d=h1(a,1),e=$APP.xf(c),f=$APP.D.h(e,SQa),h=$APP.D.h(e,TQa),m=$APP.D.h(e,$APP.I_),r=$APP.D.h(e,M_),n=$APP.D.h(e,K_),w=$APP.D.h(e,QQa),x=$APP.D.h(e,B_),B=$APP.D.h(e,L_),F=$APP.D.h(e,$APP.J_);e=$APP.D.h(e,RQa);o1.hc(null,function(){var M=o1.Ia(null);return M>w?M:w}());b=$APP.pl.l($APP.C([c,b]));a=k1(a,b);f=r1(new $APP.k(null,6,[$APP.I_,m,$APP.J_,$Z(n_,F,a,$APP.$h.j(b,YZ,h)),K_,$Z(o_,n,a,$APP.$h.j(b,YZ,e)),B_,$Z(p_,x,a,$APP.$h.j(b,YZ,f)),L_,B,
M_,r],null));$APP.dj.j(PQa,$APP.We,f);return new $APP.H(null,2,5,$APP.I,[f,$APP.Qm.h(function(M){return $APP.Qm.h(function(U){var Y=$APP.A.j(U,0,null),ba=$APP.A.j(U,1,null),ca=$APP.A.j(U,2,null);U=$APP.A.j(U,3,null);return i_.F(Y,ba,ca,U)},M)},d)],null)};t1=function(a,b){return $APP.De.j(function(c,d){if($APP.ae(d))return c;try{var e=$APP.De.j(AQa,c,d);return $APP.$h.j(e,M_,VQa.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};u1=function(a){return null==UZ.g(a)?a:$APP.Am.F(a,UZ,k1,a)};
v1=function(a,b,c,d){this.Rf=a;this.tf=b;this.sb=c;this.K=d;this.M=98306;this.J=6455552};WQa=function(a,b){if(null!=a&&!$APP.l(a.g?a.g(b):a.call(null,b)))throw $APP.Al.h("Invalid reference state",new $APP.k(null,1,[$APP.$I,b],null));};
x1=function(a,b,c){var d=$APP.q(a);b=$APP.Xf.j(b,d,c);WQa(a.tf,b);$APP.Kba(a.Rf,$APP.$h.j($APP.q(a.Rf),w1,d),$APP.$h.j($APP.q(a.Rf),w1,b));a:{c=$APP.u(a.sb);for(var e=null,f=0,h=0;;)if(h<f){var m=e.da(null,h),r=$APP.A.j(m,0,null);m=$APP.A.j(m,1,null);m.F?m.F(r,a,d,b):m.call(null,r,a,d,b);h+=1}else if(c=$APP.u(c))$APP.je(c)?(e=$APP.Kc(c),c=$APP.Lc(c),r=e,f=$APP.Gd(e),e=r):(e=$APP.v(c),r=$APP.A.j(e,0,null),m=$APP.A.j(e,1,null),m.F?m.F(r,a,d,b):m.call(null,r,a,d,b),c=$APP.y(c),e=null,f=0),h=0;else break a}return new $APP.H(null,
2,5,$APP.I,[d,b],null)};y1=function(a,b,c,d){return new v1(a,b,c,d)};z1=function(a){a=$APP.cj.g(a);return y1.g?y1.g(a):y1.call(null,a)};A1=function(a){switch(arguments.length){case 2:return A1.h(arguments[0],arguments[1]);case 3:return A1.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};B1=function(a,b){return s0.g(A1.h(a,b))};
F1=function(a){if(null==m1(a))return z1(new $APP.k(null,1,[w1,a],null));C1.g(a);return z1(new $APP.k(null,3,[w1,a,D1,$APP.qg,E1,a],null))};
YQa=function(a,b,c){var d=$APP.dg(null),e=XQa.g(c),f=$APP.ql.h(c,XQa);$APP.dj.h(a,function(r){r=A1.j(r,b,f);$APP.Rc(d,r);return s0.g(r)});if(null!=m1($APP.q(a))){c=$APP.q(d);var h=$APP.xf(c);c=$APP.D.h(h,s0);var m=$APP.D.h(h,t0);h=c_($APP.J_.g(c));a=$APP.NE.g(a);m=D1.g($APP.dj.l(a,$APP.Am,D1,$APP.We,$APP.C([m])));$APP.l(e)||($APP.Iu.F($APP.Ii.g($APP.Gd),$APP.Ju,0,m)>a_.g(h)?(q1(c,l1(c),!1),$APP.dj.l(a,$APP.$h,D1,$APP.qg,$APP.C([E1,c]))):UQa(c,m))}return $APP.q(d)};
G1=function(a,b){b=$APP.dj.j(a,mQa,b);null!=m1($APP.q(a))&&(q1(b,l1(b),!0),$APP.dj.l($APP.NE.g(a),$APP.$h,D1,$APP.qg,$APP.C([E1,b])));return b};I1=function(a,b){b="number"===typeof b||$APP.de(b)||b instanceof $APP.G?G0(a,b):null;if($APP.l(b)&&qQa(a,b)){var c=$APP.dg(!1),d=$APP.dg($APP.wf);return H1.F?H1.F(a,b,c,d):H1.call(null,a,b,c,d)}return null};
ZQa=function(a,b,c){return x0(a,b)?E0(a,b)?$APP.De.j(function(d,e){return $APP.We.h(d,I1(a,m0.g(e)))},$APP.di,c):$APP.De.j(function(d,e){return $APP.We.h(d,m0.g(e))},$APP.di,c):E0(a,b)?I1(a,m0.g($APP.v(c))):m0.g($APP.v(c))};$Qa=function(a,b,c,d){b=$APP.yf(v_(a,new $APP.H(null,3,5,$APP.I,[null,c,b],null)));return $APP.l(b)?z0(a,c)?I1(a,$APP.nL.g($APP.v(b))):$APP.De.j(function(e,f){return $APP.We.h(e,I1(a,$APP.nL.g(f)))},$APP.di,b):d};J1=function(a){return $APP.l(a)?$APP.Ee(a):null};
L1=function(a){K1.g?K1.g(a):K1.call(null,a);return function d(c){return new $APP.gf(null,function(){for(;;){var e=$APP.u(c);if(e){if($APP.je(e)){var f=$APP.Kc(e),h=$APP.Gd(f),m=$APP.jf(h);a:for(var r=0;;)if(r<h){var n=$APP.Td(f,r),w=$APP.A.j(n,0,null);n=$APP.A.j(n,1,null);$APP.nf(m,x0(a.db,w)?new $APP.H(null,2,5,$APP.I,[w,J1(n)],null):new $APP.H(null,2,5,$APP.I,[w,n],null));r+=1}else{f=!0;break a}return f?$APP.mf($APP.of(m),d($APP.Lc(e))):$APP.mf($APP.of(m),null)}f=$APP.v(e);m=$APP.A.j(f,0,null);
f=$APP.A.j(f,1,null);return $APP.$e(x0(a.db,m)?new $APP.H(null,2,5,$APP.I,[m,J1(f)],null):new $APP.H(null,2,5,$APP.I,[m,f],null),d($APP.nd(e)))}return null}},null,null)}($APP.q(a.cache))};M1=function(a,b,c,d){this.db=a;this.eid=b;this.li=c;this.cache=d;this.J=2162164483;this.M=0};H1=function(a,b,c,d){return new M1(a,b,c,d)};N1=function(a){return a instanceof M1};O1=function(a,b){return b instanceof M1&&a.db===b.db&&$APP.z.h(a.eid,b.eid)};P1=function(a){return e_($APP.dd(a.eid),$APP.ia(a.db))};
aRa=function(a,b){return $APP.Ge(function(c,d,e){return $APP.$h.j(c,d,z0(a,d)?x0(a,d)?$APP.gi($APP.Ii.h(K1,e)):K1.g?K1.g(e):K1.call(null,e):e)},$APP.wf,b)};bRa=function(a,b){return $APP.De.j(function(c,d){var e=P0.g($APP.v(d));return $APP.$h.j(c,e,ZQa(a,e,d))},$APP.wf,$APP.Iv.h(P0,b))};K1=function(a){if(null!=a){if(!$APP.l($APP.q(a.li))){var b=$APP.yf(v_(a.db,new $APP.H(null,1,5,$APP.I,[a.eid],null)));$APP.l(b)&&($APP.eg(a.cache,aRa(a.db,bRa(a.db,b))),$APP.Rc(a.li,!0))}return a}return null};
Q1=function(a){return $APP.De.j($APP.Ju,0,a)};cRa=function(a){return Q1(a)/$APP.Gd(a)};
dRa=function(a){var b=cRa(a);return Q1(function(){return function e(d){return new $APP.gf(null,function(){for(;;){var f=$APP.u(d);if(f){if($APP.je(f)){var h=$APP.Kc(f),m=$APP.Gd(h),r=$APP.jf(m);a:for(var n=0;;)if(n<m){var w=$APP.Td(h,n)-b;r.add(w*w);n+=1}else{h=!0;break a}return h?$APP.mf($APP.of(r),e($APP.Lc(f))):$APP.mf($APP.of(r),null)}r=$APP.v(f)-b;return $APP.$e(r*r,e($APP.nd(f)))}return null}},null,null)}(a)}())/$APP.Gd(a)};
R1=function(a,b,c,d,e,f,h,m,r,n,w,x,B,F,M){this.as=a;this.Fc=b;this.xb=c;this.name=d;this.pattern=e;this.mc=f;this.ya=h;this.qc=m;this.zb=r;this.lc=n;this.nc=w;this.jc=x;this.B=B;this.o=F;this.D=M;this.J=2230716170;this.M=139264};
eRa=function(a){var b=$APP.ql.l(a,$APP.qn,$APP.C([$APP.mm,S1,$APP.O,T1,U1,V1,W1,X1,Y1,Z1,$1]));b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new R1($APP.qn.g(a),$APP.mm.g(a),S1.g(a),$APP.O.g(a),T1.g(a),U1.g(a),V1.g(a),W1.g(a),X1.g(a),Y1.g(a),Z1.g(a),$1.g(a),null,$APP.yf(b),null)};a2=function(a,b,c,d,e,f,h,m){this.qa=a;this.dd=b;this.od=c;this.Yc=d;this.xc=e;this.B=f;this.o=h;this.D=m;this.J=2230716170;this.M=139264};
g2=function(a){var b=$APP.ql.l(a,b2,$APP.C([c2,d2,e2,f2]));b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new a2(b2.g(a),c2.g(a),d2.g(a),e2.g(a),f2.g(a),null,$APP.yf(b),null)};i2=function(a,b,c){if($APP.l(a))return null;throw $APP.Al.h(["Expected ",$APP.p.g(b),", got: ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.TI,fRa,h2,c],null));};
hRa=function(a,b){var c=B0(b),d=c?D0(b):b,e=E0(a,d),f=z0(a,d);a=x0(a,d);if(c){i2(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return eRa($APP.Ih([X1,S1,W1,$APP.O,$APP.qn,$1,Z1,Y1,T1],[$APP.He,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?j2:f?gRa:j2:null]))};iRa=function(a,b,c){i2("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);i2(x0(a,$APP.O.g(b)),"limit attribute having :db.cardinality/many",$APP.O.g(b))};
jRa=function(a,b){var c=function(){var d=$APP.v(b);return k2.h?k2.h(a,d):k2.call(null,a,d)}();if(null==c)return null;i2($APP.Wf($APP.Gd($APP.y(b))),"even number of opts",b);return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);switch(f instanceof $APP.G?f.S:null){case "as":return $APP.$h.j(d,$APP.qn,e);case "limit":return iRa(a,d,e),$APP.$h.j(d,S1,e);case "default":return $APP.$h.j(d,$APP.mm,e);case "xform":f=$APP.$h.j;var h=$APP.Ud(e)?e:null;if($APP.l(h))e=h;else if(h=$APP.D.h(l2,
e),$APP.l(h))e=h;else throw $APP.Al.h(["Can't resolve symbol ",$APP.aj.l($APP.C([e]))].join(""),new $APP.k(null,2,[$APP.TI,fRa,h2,e],null));return f.call($APP.$h,d,X1,e);default:return i2(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.up.h(2,$APP.y(b)))};
k2=function(a,b){var c;!(c=b instanceof $APP.G)&&(c="string"===typeof b)&&(c=new $APP.ci(null,new $APP.k(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.ib(c));if(c)return hRa(a,b);if($APP.de(b)){c=jRa(a,b);if($APP.l(c))return c;c=$APP.v(b);var d=new $APP.ci(null,new $APP.k(null,2,[$APP.Ana,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.l(c)?(i2($APP.z.h($APP.Gd(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.A.j(b,0,null),d=$APP.A.j(b,
1,null),c=$APP.A.j(b,2,null),d=k2.h?k2.h(a,d):k2.call(null,a,d),iRa(a,d,c),c=$APP.$h.j(d,S1,c)):c=null;if($APP.l(c))return c;c=$APP.v(b);d=new $APP.ci(null,new $APP.k(null,2,[$APP.NK,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.l(c)?(i2($APP.z.h($APP.Gd(b),3),"['default attr-name any-value]",b),$APP.A.j(b,0,null),d=$APP.A.j(b,1,null),c=$APP.A.j(b,2,null),a=k2.h?k2.h(a,d):k2.call(null,a,d),a=$APP.$h.j(a,$APP.mm,c)):a=null;return $APP.l(a)?a:i2(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};kRa=function(a,b){return $APP.Vf(function(c){var d=$APP.A.j(c,0,null);c=$APP.A.j(c,1,null);return $APP.l(a.g?a.g(d):a.call(null,d))?c:null},$APP.Ii.j($APP.rv,b,$APP.$m.C()))};lRa=function(a,b){var c=$APP.l(W1.g(b))?e2:b2,d=kRa(function(e){return $APP.z.h($APP.qn.g(e),$APP.qn.g(b))},$APP.D.h(a,c));return null==d?$APP.Am.F(a,c,$APP.We,b):$APP.Am.P(a,c,$APP.$h,d,b)};
n2=function(a,b){i2($APP.de(b),"pattern to be sequential?",b);for(var c=g2(new $APP.k(null,3,[b2,$APP.qg,e2,$APP.qg,f2,null],null));;){if($APP.ae(b)){var d=c.qa,e=function(){return function(m){m=m.name;var r=new $APP.ci(null,new $APP.k(null,2,[U0,null,":db/id",null],null),null);return r.g?r.g(m):r.call(null,m)}}(b,c,d);b=function(){return function(m){m=$APP.O.g(m);return m instanceof $APP.G?m:$APP.z.h(":",$APP.zi.j(m,0,1))?$APP.Ji.g($APP.zi.h(m,1)):$APP.Ji.g(m)}}(b,c,d,e);d=$APP.l(function(){var m=
c.xc;return $APP.l(m)?$APP.ib($APP.Vf(e,c.qa)):m}())?$APP.We.h(d,mRa):d;d=$APP.Kr.g($APP.Gu.h(b,d));var f=$APP.kr.h(e,d),h=$APP.v(f);f=$APP.Rd(f);return g2(new $APP.k(null,5,[b2,d,c2,h,d2,f,e2,$APP.Kr.g($APP.Gu.h(b,c.Yc)),f2,c.xc],null))}h=$APP.v(b);if($APP.z.h($APP.VG,h)||$APP.z.h("*",h)||$APP.z.h(nRa,h))b=$APP.y(b),c=d=$APP.$h.j(c,f2,!0);else if($APP.ee(h))d=$APP.Ge(function(){return function(m,r,n){var w=k2(a,r);i2(null!=w,"attr-name | attr-expr",r);i2(E0(a,$APP.O.g(w)),"attribute having :db.type/ref",
r);$APP.z.h(m2,n)||$APP.z.h("...",n)?r=$APP.$h.l(w,T1,null,$APP.C([V1,!0,U1,null])):"number"===typeof n?(i2(0<n,"(positive-num | ...)",$APP.vf([r,n])),r=$APP.$h.l(w,T1,null,$APP.C([V1,!0,U1,n]))):r=$APP.$h.j(w,T1,n2.h?n2.h(a,n):n2.call(null,a,n));return lRa(m,r)}}(b,c,h),c,h),b=$APP.y(b),c=d;else{d=k2(a,h);if(null==d)return i2(!1,"attr-name | attr-expr | map-spec | *",h);b=$APP.y(b);c=d=lRa(c,d)}}};o2=function(a){return null==a?null:$APP.Eb(a)};p2=function(a){return null==a?null:$APP.Hb(a)};
q2=function(a,b){return null==a?new $APP.E(null,b,null,1,null):$APP.Cb(a,b)};oRa=function(a,b,c){return null==c?a:$APP.hh.j(a,b,c)};r2=function(a,b,c,d,e){this.db=a;this.ne=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};s2=function(a,b,c,d,e){a=a.ne;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
t2=function(a,b){if(null!=a&&null!=a.Xg)a=a.Xg(a,b);else{var c=t2[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=t2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IFrame.-merge",a);}return a};u2=function(a,b){if(null!=a&&null!=a.eg)a=a.eg(a,b);else{var c=u2[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=u2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IFrame.-run",a);}return a};
v2=function(a,b,c,d,e){this.value=a;this.va=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};w2=function(a,b,c,d,e,f){this.ma=a;this.ia=b;this.va=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};x2=function(a,b,c,d,e,f,h,m,r){this.ra=a;this.wa=b;this.ma=c;this.pattern=d;this.ia=e;this.va=f;this.B=h;this.o=m;this.D=r;this.J=2230716170;this.M=139264};
y2=function(a,b,c,d,e,f,h,m,r,n,w){this.ra=a;this.wa=b;this.ma=c;this.pattern=d;this.ia=e;this.qa=f;this.va=h;this.id=m;this.B=r;this.o=n;this.D=w;this.J=2230716170;this.M=139264};z2=function(a,b,c,d,e,f,h,m,r,n){this.ra=a;this.wa=b;this.ma=c;this.pattern=d;this.ia=e;this.qa=f;this.id=h;this.B=m;this.o=r;this.D=n;this.J=2230716170;this.M=139264};A2=function(a,b,c,d,e,f,h){return new z2(a,b,c,d,e,f,h,null,null,null)};
C2=function(a,b,c,d,e,f){var h=e.ya;$APP.l(h)||(h=e.jc,h=$APP.l(h)?e.pattern.xc:h);if($APP.ib(h))return d=e.pattern,B2.P?B2.P(a,b,c,d,f):B2.call(null,a,b,c,d,f);if($APP.l(b.g?b.g(f):b.call(null,f)))return new v2(new $APP.k(null,1,[U0,f],null),null,null,null,null);h=c.g?c.g(e):c.call(null,e);if($APP.l($APP.l(h)?0>=h&&!0:h))return new v2(null,null,null,null,null);b=$APP.We.h(b,f);c=$APP.l(h)?$APP.Am.j(c,e,$APP.Ie):$APP.l(e.mc)?$APP.$h.j(c,e,e.mc-1):c;d=$APP.l(e.ya)?d:e.pattern;return B2.P?B2.P(a,b,
c,d,f):B2.call(null,a,b,c,d,f)};
B2=function(a,b,c,d,e){var f=a.db,h=function(){var m=d.xc;if($APP.l($APP.l(m)?f instanceof $APP.H_&&!0:m))return RZ(f.Wb,i_.F(e,null,null,536870912),i_.F(e,null,null,2147483647));if($APP.l(d.xc))return v_(f,new $APP.H(null,1,5,$APP.I,[e],null));if(null==d.dd)return null;m=d.dd.name;var r=d.od.name;return f instanceof $APP.H_?RZ(f.Wb,i_.F(e,m,null,536870912),i_.F(e,r,null,2147483647)):y_(f,$APP.J_,e,null,null,null)}();$APP.l(d.xc)&&s2(a,pRa,e,null,null);return new y2(b,c,$APP.zc($APP.wf),d,o2(d.qa),
p2(d.qa),h,e,null,null,null)};D2=function(a,b){var c=$APP.xf(a);a=$APP.D.h(c,S0);c=$APP.D.h(c,T1);b=G0(a.db,b);if(null==b)return null;for(c=new $APP.E(null,B2(a,$APP.di,$APP.wf,c,b),null,1,null);;){b=o2(c);var d=p2(c);if(b instanceof v2){if(null==d)return b.value;c=o2(d);d=p2(d);c=q2(d,t2(c,b))}else c=$APP.De.j(q2,d,u2(b,a))}};F2=function(a,b,c){c=$APP.xf(c);c=$APP.D.h(c,E2);return new $APP.k(null,2,[T1,QY(fQa(a).Cc,b,function(){return n2(a,b)}),S0,new r2(a,c,null,null,null)],null)};
G2=function(a,b){return $APP.gb(a)?a[b]:$APP.A.h(a,b)};H2=function(a,b){return $APP.ee(a)?a.g?a.g(b):a.call(null,b):a[b]};I2=function(a,b){var c=Array($APP.Gd(b));$APP.De.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};J2=function(a,b){var c=Array($APP.Gd(b));$APP.De.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};qRa=function(a,b){return null==b.a?-1:0>=$APP.xe(a.a,b.a)?-1:1};
rRa=function(a){if($APP.ae(K_.g(a)))return $APP.qg;for(var b=$APP.zc(new $APP.H(null,1,5,$APP.I,[P0.g($APP.v(K_.g(a)))],null));;){var c=$APP.A.h(b,$APP.Gd(b)-1),d=i_.j(0,c,null),e=i_.j(2147483647,null,null);c=P0;var f=c.g,h=K_.g(a);d=MZ(h,d,e,qRa);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.pg.h(b,c);else return $APP.Bc(b)}};sRa=function(a){return $APP.Aa(a,":")?$APP.Ji.g($APP.zi.h(a,1)):a};
vRa=function(a,b){b=$APP.xf(b);var c=$APP.D.j(b,tRa,$APP.aj),d=$APP.D.j(b,uRa,$APP.p);if($APP.l(m1(a)))throw $APP.Al.h("serializable doesn't work with databases that have :storage",$APP.wf);var e=rRa(a),f=$APP.fh.h($APP.wf,$APP.Ii.j($APP.rv,e,$APP.$m.C())),h=$APP.dg($APP.zc($APP.qg)),m=$APP.dg($APP.zc($APP.wf));b=J2(function(x,B){B.idx=x|0;x=B.e;var F=B.a;F=f.g?f.g(F):f.call(null,F);var M=B.v;if("string"!==typeof M)if("number"===typeof M)M=Infinity===M?[2]:-Infinity===M?[3]:$APP.l(isNaN(M))?[4]:M;
else if(!$APP.me(M))if(M instanceof $APP.G){var U=$APP.D.h($APP.q(m),M);$APP.l(U)?M=U:(U=h.hc(null,$APP.pg.h(h.Ia(null),M)),U=$APP.Gd(U)-1,m.hc(null,$APP.hh.j(m.Ia(null),M,U)),M=U);M=[0,M]}else M=[1,c.g?c.g(M):c.call(null,M)];return[x,F,M,B.tx-536870912]},$APP.J_.g(a));var r=J2(function(x,B){return B.idx},K_.g(a)),n=J2(function(x,B){return B.idx},B_.g(a)),w=function(){var x=$APP.I_.g(a);return c.g?c.g(x):c.call(null,x)}();e=I2(d,e);d=I2(d,$APP.Bc($APP.q(h)));return{count:$APP.Gd($APP.J_.g(a)),tx0:536870912,
"max-eid":L_.g(a),"max-tx":M_.g(a),schema:w,attrs:e,keywords:d,eavt:b,aevt:r,avet:n}};K2=function(){};L2=function(a,b,c){if(null!=a&&null!=a.vb)a=a.vb(a,b,c);else{var d=L2[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=L2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("ITraversable.-collect",a);}return a};
M2=function(a,b){if(null!=a&&null!=a.wb)a=a.wb(a,b);else{var c=M2[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=M2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("ITraversable.-collect-vars",a);}return a};N2=function(a,b){return $APP.de(a)&&$APP.z.h($APP.Gd(a),b)};O2=function(a,b){return $APP.de(b)?$APP.De.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.l(d)?$APP.We.h(c,d):$APP.xd(null)},$APP.qg,b):null};Q2=function(a,b){return P2(a,b,$APP.qg)};
P2=function(a,b,c){return $APP.l(a.g?a.g(b):a.call(null,b))?$APP.We.h(c,b):(null!=b?$APP.cd===b.ub||(b.yd?0:$APP.ob(K2,b)):$APP.ob(K2,b))?L2(b,a,c):d_(b)?$APP.De.j(function(d,e){return P2(a,e,d)},c,b):c};R2=function(a){var b=$APP.ae(a);return b?b:$APP.Xf.h($APP.eo,a)};S2=function(a,b){return $APP.Wd(a,new $APP.k(null,1,[$APP.ol,b],null))};T2=function(a){var b=$APP.ol.g($APP.Xd(a));return $APP.l(b)?b:a};U2=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.M=139264};
V2=function(a,b,c,d){this.La=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};W2=function(a,b,c,d){this.La=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};X2=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.M=139264};Y2=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.M=139264};Z2=function(a,b,c,d){this.value=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};
$2=function(a,b,c,d){this.La=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};a3=function(a){return a instanceof $APP.t&&$APP.z.h($APP.v($APP.ji(a)),"?")?new V2(a,null,null,null):null};xRa=function(a){var b=a3(a);if($APP.l(b))return b;throw $APP.Al.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.aj.l($APP.C([a]))].join(""),new $APP.k(null,2,[$APP.TI,wRa,$APP.ly,a],null));};
b3=function(a){return a instanceof $APP.t&&$APP.z.h($APP.v($APP.ji(a)),"$")?new W2(a,null,null,null):null};c3=function(a){return a instanceof $APP.t&&$APP.z.h($APP.v($APP.ji(a)),"?")?null:new Z2(a,null,null,null)};d3=function(a){return a instanceof $APP.t&&$APP.ib(a3(a))&&$APP.ib(b3(a))&&$APP.ib($APP.z.h($APP.UG,a)?new Y2(null,null,null):null)&&$APP.ib($APP.z.h($APP.aH,a)?new U2(null,null,null):null)?new $2(a,null,null,null):null};yRa=function(a){return $APP.l(d3(a))?new V2(a,null,null,null):null};
e3=function(a){var b=a3(a);if($APP.l(b))return b;b=b3(a);return $APP.l(b)?b:c3(a)};f3=function(a,b,c,d,e){this.required=a;this.Nd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
zRa=function(a){if($APP.de(a)){var b=$APP.de($APP.v(a))?new $APP.H(null,2,5,$APP.I,[$APP.v(a),$APP.y(a)],null):new $APP.H(null,2,5,$APP.I,[null,a],null),c=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);c=O2(xRa,c);b=O2(xRa,b);if($APP.ae(c)&&$APP.ae(b))throw $APP.Al.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.k(null,2,[$APP.TI,g3,$APP.ly,a],null));if(!$APP.l(R2($APP.K.h(c,b))))throw $APP.Al.h("Rule variables should be distinct",new $APP.k(null,2,[$APP.TI,g3,$APP.ly,
a],null));return new f3(c,b,null,null,null)}throw $APP.Al.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.k(null,2,[$APP.TI,g3,$APP.ly,a],null));};i3=function(a){return $APP.K.h($APP.l($APP.$F.g(a))?new $APP.H(null,1,5,$APP.I,[$APP.Qm.h($APP.cm,$APP.$F.g(a))],null):null,$APP.Qm.h($APP.cm,h3.g(a)))};j3=function(a){return new $APP.H(null,2,5,$APP.I,[$APP.Gd($APP.$F.g(a)),$APP.Gd(h3.g(a))],null)};
k3=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.M=139264};l3=function(a,b,c,d){this.Tb=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};m3=function(a,b,c,d){this.yc=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};n3=function(a,b,c,d){this.Rb=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};ARa=function(a){return $APP.z.h($APP.aH,a)?S2(new k3(null,null,null),a):null};
BRa=function(a){var b=ARa(a);return $APP.l(b)?b:o3.g?o3.g(a):o3.call(null,a)};CRa=function(a){var b=O2(BRa,a);if($APP.l(b)){if($APP.ae(b))throw $APP.Al.h("Tuple binding cannot be empty",new $APP.k(null,2,[$APP.TI,p3,$APP.ly,a],null));return S2(new m3(b,null,null,null),a)}return null};
o3=function(a){a:{if(N2(a,2)&&$APP.z.h($APP.Md(a),m2)){var b=$APP.v(a);b=o3.g?o3.g(b):o3.call(null,b);if($APP.l(b)){b=S2(new n3(b,null,null,null),a);break a}throw $APP.Al.h("Cannot parse collection binding",new $APP.k(null,2,[$APP.TI,p3,$APP.ly,a],null));}b=null}if($APP.l(b))return b;b=N2(a,1)&&$APP.de($APP.v(a))?S2(new n3(CRa($APP.v(a)),null,null,null),a):null;if($APP.l(b))return b;b=CRa(a);if($APP.l(b))return b;b=ARa(a);if($APP.l(b))return b;b=a3(a);b=$APP.l(b)?S2(new l3(b,null,null,null),a):null;
if($APP.l(b))return b;throw $APP.Al.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.k(null,2,[$APP.TI,p3,$APP.ly,a],null));};q3=function(a){if(null!=a&&null!=a.Wg)a=a.Wg(a);else{var b=q3[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=q3._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IFindVars.-find-vars",a);}return a};r3=function(a,b,c,d,e){this.ha=a;this.xa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
s3=function(a,b,c,d,e,f){this.source=a;this.Tb=b;this.pattern=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};t3=function(a){if(null!=a&&null!=a.dg)a=a.dg(a);else{var b=t3[$APP.da(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=t3._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.qb("IFindElements.find-elements",a);}return a};u3=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};
v3=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};w3=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};x3=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};y3=function(a){return a instanceof r3};z3=function(a){return a instanceof s3};
B3=function(a){var b=a3(a);if($APP.l(b))return b;a:{if($APP.de(a)&&$APP.z.h($APP.v(a),A3)){if(3<=$APP.Gd(a)&&4>=$APP.Gd(a)){var c=(b=$APP.z.h($APP.Gd(a),4))?$APP.A.h(a,1):DRa;b=b?$APP.Qd(a):$APP.y(a);var d=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);c=b3(c);d=a3(d);var e=a3(b);$APP.l(e)?b=e:(e=yRa(b),b=$APP.l(e)?e:c3(b));if($APP.l($APP.l(c)?$APP.l(d)?b:d:c)){b=new s3(c,d,b,null,null,null);break a}}throw $APP.Al.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.k(null,2,[$APP.TI,ERa,h2,a],null));}b=null}if($APP.l(b))return b;a:{if($APP.de(a)&&$APP.z.h($APP.v(a),FRa)){if(3<=$APP.Gd(a)&&(b=$APP.u(a),$APP.v(b),c=$APP.y(b),b=$APP.v(c),c=$APP.y(c),b=a3(b),c=O2(e3,c),$APP.l($APP.l(b)?c:b))){b=new r3(b,c,null,null,null);break a}throw $APP.Al.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.k(null,2,[$APP.TI,ERa,h2,a],null));}b=null}$APP.l(b)?a=b:$APP.de(a)&&2<=$APP.Gd(a)?(b=$APP.u(a),a=$APP.v(b),b=$APP.y(b),a=d3(a),
b=O2(e3,b),a=$APP.l($APP.l(a)?b:a)?new r3(a,b,null,null,null):null):a=null;return a};
GRa=function(a){var b=O2(B3,a);b=null==b?null:new u3(b,null,null,null);if($APP.l(b))return b;a:{if($APP.de(a)&&$APP.z.h($APP.Gd(a),1)&&(b=$APP.v(a),$APP.de(b)&&$APP.z.h($APP.Gd(b),2)&&$APP.z.h($APP.Md(b),m2))){b=B3($APP.v(b));b=null==b?null:new v3(b,null,null,null);break a}b=null}if($APP.l(b))return b;$APP.de(a)&&$APP.z.h($APP.Gd(a),2)&&$APP.z.h($APP.Md(a),$APP.Xj)?(b=B3($APP.v(a)),b=null==b?null:new w3(b,null,null,null)):b=null;if($APP.l(b))return b;$APP.de(a)&&$APP.z.h($APP.Gd(a),1)?(b=$APP.v(a),
b=O2(B3,b),b=null==b?null:new x3(b,null,null,null)):b=null;if($APP.l(b))return b;throw $APP.Al.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.k(null,2,[$APP.TI,ERa,h2,a],null));};C3=function(a,b,c,d,e){this.type=a;this.Sd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
HRa=function(a,b){if(!$APP.ae(b)&&$APP.Qf($APP.fd,b))switch(a instanceof $APP.G?a.S:null){case "keys":return new C3(a,$APP.Qm.h($APP.Ji,b),null,null,null);case "syms":return new C3(a,$APP.Fe(b),null,null,null);case "strs":return new C3(a,$APP.Qm.h($APP.p,b),null,null,null);default:return null}else return null};IRa=function(a){var b=b3(a);$APP.l(b)||(b=$APP.z.h($APP.UG,a)?new Y2(null,null,null):null,b=$APP.l(b)?b:yRa(a));return $APP.l(b)?S2(new l3(b,null,null,null),a):o3(a)};
KRa=function(a){var b=O2(IRa,a);if($APP.l(b))return b;throw $APP.Al.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.k(null,2,[$APP.TI,JRa,$APP.ly,a],null));};D3=function(a,b,c,d,e){this.source=a;this.pattern=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};E3=function(a,b,c,d,e){this.ha=a;this.xa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
F3=function(a,b,c,d,e,f){this.ha=a;this.xa=b;this.Rb=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};G3=function(a,b,c,d,e,f){this.source=a;this.name=b;this.xa=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};H3=function(a,b,c,d,e,f){this.source=a;this.Ub=b;this.Ca=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};I3=function(a,b,c,d,e,f){this.source=a;this.qd=b;this.Ca=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};
J3=function(a,b,c,d){this.Ca=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.M=139264};LRa=function(a){var b=$APP.z.h($APP.aH,a)?new U2(null,null,null):null;if($APP.l(b))return b;b=a3(a);return $APP.l(b)?b:c3(a)};K3=function(a){if($APP.de(a)){var b=b3($APP.v(a));return $APP.l(b)?new $APP.H(null,2,5,$APP.I,[b,$APP.y(a)],null):new $APP.H(null,2,5,$APP.I,[new X2(null,null,null),a],null)}return null};
MRa=function(a){if($APP.de(a)){var b=$APP.u(a);a=$APP.v(b);b=$APP.y(b);b=null==b?$APP.qg:b;var c=d3(a);a=$APP.l(c)?c:a3(a);b=O2(e3,b);return $APP.l($APP.l(a)?b:a)?new $APP.H(null,2,5,$APP.I,[a,b],null):null}return null};NRa=function(a,b,c){if($APP.ae(a)&&$APP.ae(b))throw $APP.Al.h("Join variables should not be empty",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,c],null));};ORa=function(a,b){NRa(null,$APP.UH.g(a),b);return a};
PRa=function(a,b){var c=$APP.xf(a);c=$APP.D.h(c,M3);var d=$APP.xf(c);c=$APP.D.h(d,$APP.$F);d=$APP.D.h(d,h3);NRa(c,d,b);return a};QRa=function(a){if($APP.de(a)&&$APP.z.h($APP.ns,$APP.v(a))){var b=$APP.y(a);b=N3.g?N3.g(b):N3.call(null,b);if($APP.l($APP.yf(b)))return new J3(b,null,null,null);throw $APP.Al.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));}return null};
SRa=function(a){a:{var b=K3(a);if($APP.l(b)){var c=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);var d=$APP.u(b);b=$APP.v(d);d=$APP.y(d);if($APP.z.h($APP.rz,b)){b=N3.g?N3.g(d):N3.call(null,d);if($APP.l(b)){c=ORa(S2(new H3(c,$APP.Fe($APP.Dv.g(O3($APP.qg,b))),b,null,null,null),a),a);break a}throw $APP.Al.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));}}c=null}if($APP.l(c))return c;a:{b=K3(a);if($APP.l(b)){c=$APP.A.j(b,0,null);b=$APP.A.j(b,
1,null);d=$APP.u(b);b=$APP.v(d);var e=$APP.y(d);d=$APP.v(e);e=$APP.y(e);if($APP.z.h(RRa,b)){b=O2(a3,d);d=N3.g?N3.g(e):N3.call(null,e);if($APP.l($APP.l(b)?d:b)){c=ORa(S2(new H3(c,b,d,null,null,null),a),a);break a}throw $APP.Al.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));}}c=null}if($APP.l(c))return c;a:{b=K3(a);if($APP.l(b)&&(c=$APP.A.j(b,0,null),b=$APP.A.j(b,1,null),d=$APP.u(b),b=$APP.v(d),d=$APP.y(d),$APP.z.h($APP.ss,
b))){b=O2($APP.mv.h(QRa,SRa),d);if($APP.l(b)){c=PRa(S2(new I3(c,new f3(null,$APP.Fe($APP.Dv.g(O3($APP.qg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Al.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));}c=null}if($APP.l(c))return c;a:{b=K3(a);if($APP.l(b)&&(c=$APP.A.j(b,0,null),b=$APP.A.j(b,1,null),d=$APP.u(b),b=$APP.v(d),e=$APP.y(d),d=$APP.v(e),e=$APP.y(e),$APP.z.h(P3,b))){b=zRa(d);d=O2($APP.mv.h(QRa,SRa),e);if($APP.l($APP.l(b)?
d:b)){c=PRa(S2(new I3(c,b,d,null,null,null),a),a);break a}throw $APP.Al.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));}c=null}if($APP.l(c))return c;a:{if(N2(a,1)&&(b=MRa($APP.v(a)),$APP.l(b))){c=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);c=S2(new E3(c,b,null,null,null),a);break a}c=null}if($APP.l(c))return c;a:{if(N2(a,2)&&(b=$APP.A.j(a,0,null),c=$APP.A.j(a,1,null),d=MRa(b),$APP.l(d))){b=$APP.A.j(d,0,null);d=$APP.A.j(d,
1,null);c=o3(c);c=$APP.l(c)?S2(new F3(b,d,c,null,null,null),a):null;break a}c=null}if($APP.l(c))return c;a:{b=K3(a);if($APP.l(b)&&(c=$APP.A.j(b,0,null),b=$APP.A.j(b,1,null),b=$APP.u(b),d=$APP.v(b),b=$APP.y(b),d=d3(d),e=O2(LRa,b),$APP.l(d))){if($APP.ae(b))throw $APP.Al.h("rule-expr requires at least one argument",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));if(null==e)throw $APP.Al.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,
a],null));c=new G3(c,d,e,null,null,null);break a}c=null}if($APP.l(c))return c;a:{b=K3(a);if($APP.l(b)&&(c=$APP.A.j(b,0,null),b=$APP.A.j(b,1,null),b=O2(LRa,b),$APP.l(b))){if($APP.ae(b))throw $APP.Al.h("Pattern could not be empty",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));c=S2(new D3(c,b,null,null,null),a);break a}c=null}if($APP.l(c))return c;throw $APP.Al.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));};N3=function(a){return O2(SRa,a)};TRa=function(a){var b=N3(a);if($APP.l(b))return b;throw $APP.Al.h("Cannot parse :where clause, expected [clause+]",new $APP.k(null,2,[$APP.TI,L3,$APP.ly,a],null));};Q3=function(a,b,c,d,e){this.Ub=a;this.Ca=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};R3=function(a,b,c,d,e){this.name=a;this.Hd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
URa=function(a){if($APP.de(a)){var b=$APP.u(a),c=$APP.v(b),d=$APP.y(b);if($APP.de(c)){b=$APP.u(c);var e=$APP.v(b);c=$APP.y(b);b=function(){var h=d3(e);if($APP.l(h))return h;throw $APP.Al.h("Cannot parse rule name, expected plain-symbol",new $APP.k(null,2,[$APP.TI,S3,$APP.ly,a],null));}();c=zRa(c);var f=function(){var h=$APP.yf(N3(d));if($APP.l(h))return h;throw $APP.Al.h("Rule branch should have clauses",new $APP.k(null,2,[$APP.TI,S3,$APP.ly,a],null));}();return new $APP.k(null,3,[$APP.O,b,$APP.UH,
c,$APP.JL,f],null)}throw $APP.Al.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.TI,S3,$APP.ly,a],null));}throw $APP.Al.h("Cannot parse rule, expected [rule-head clause+]",new $APP.k(null,2,[$APP.TI,S3,$APP.ly,a],null));};
WRa=function(a,b){var c=$APP.UH.g($APP.v(b)),d=j3(c);b=$APP.u($APP.y(b));for(var e=null,f=0,h=0;;)if(h<f){var m=e.da(null,h);m=$APP.UH.g(m);if($APP.Zh.h(d,j3(m)))throw $APP.Al.h(["Arity mismatch for rule '",$APP.aj.l($APP.C([$APP.cm.g(a)])),"': ",$APP.aj.l($APP.C([i3(c)]))," vs. ",$APP.aj.l($APP.C([i3(m)]))].join(""),new $APP.k(null,2,[$APP.TI,S3,VRa,a],null));h+=1}else if(b=$APP.u(b)){if($APP.je(b))f=$APP.Kc(b),b=$APP.Lc(b),e=f,f=$APP.Gd(f);else{m=$APP.v(b);e=$APP.UH.g(m);if($APP.Zh.h(d,j3(e)))throw $APP.Al.h(["Arity mismatch for rule '",
$APP.aj.l($APP.C([$APP.cm.g(a)])),"': ",$APP.aj.l($APP.C([i3(c)]))," vs. ",$APP.aj.l($APP.C([i3(e)]))].join(""),new $APP.k(null,2,[$APP.TI,S3,VRa,a],null));b=$APP.y(b);e=null;f=0}h=0}else break};
XRa=function(a){$APP.Fe(function(){return function d(c){return new $APP.gf(null,function(){for(;;){var e=$APP.u(c);if(e){var f=e;if($APP.je(f)){var h=$APP.Kc(f),m=$APP.Gd(h),r=$APP.jf(m);return function(){for(var B=0;;)if(B<m){var F=$APP.Td(h,B),M=$APP.A.j(F,0,null),U=$APP.A.j(F,1,null);F=$APP.Qm.h(function(){return function(Y){return new Q3($APP.UH.g(Y),$APP.JL.g(Y),null,null,null)}}(B,F,M,U,h,m,r,f,e),U);U=r;WRa(M,F);U.add(new R3(M,F,null,null,null));B+=1}else return!0}()?$APP.mf($APP.of(r),d($APP.Lc(f))):
$APP.mf($APP.of(r),null)}var n=$APP.v(f),w=$APP.A.j(n,0,null),x=$APP.A.j(n,1,null);n=$APP.Qm.h(function(){return function(B){return new Q3($APP.UH.g(B),$APP.JL.g(B),null,null,null)}}(n,w,x,f,e),x);WRa(w,n);return $APP.$e(new R3(w,n,null,null,null),d($APP.nd(f)))}return null}},null,null)}($APP.gj($APP.O,O2(URa,a)))}())};T3=function(a,b,c,d,e,f,h,m){this.ed=a;this.jd=b;this.gd=c;this.fd=d;this.hd=e;this.B=f;this.o=h;this.D=m;this.J=2230716170;this.M=139264};
YRa=function(a){var b=$APP.ql.l(a,U3,$APP.C([V3,W3,X3,Y3]));b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new T3(U3.g(a),V3.g(a),W3.g(a),X3.g(a),Y3.g(a),null,$APP.yf(b),null)};ZRa=function(a){for(var b=$APP.wf,c=null;;){var d=$APP.v(a);if($APP.l(d))d instanceof $APP.G?(c=d,a=$APP.y(a)):(b=$APP.nl.F(b,new $APP.H(null,1,5,$APP.I,[c],null),$APP.ym.h($APP.We,$APP.qg),d),a=$APP.y(a));else return b}};$Ra=function(a){var b=$APP.ol.g(a);return a instanceof D3?b:null!=b?b instanceof X2?null:b:null};
dSa=function(a,b,c){var d=$APP.gi(O3($APP.qg,U3.g(a))),e=$APP.gi(V3.g(a)),f=$APP.gi(O3($APP.qg,X3.g(a))),h=$APP.gi(O3($APP.qg,Y3.g(a)));f=$APP.qu.h($APP.LM.h(d,e),$APP.LM.h(h,f));d=$APP.ru.h(d,e);if(!$APP.ae(f))throw $APP.Al.h(["Query for unknown vars: ",$APP.aj.l($APP.C([$APP.Qm.h($APP.cm,f)]))].join(""),new $APP.k(null,3,[$APP.TI,Z3,$APP.UH,f,$APP.ly,b],null));if(!$APP.ae(d))throw $APP.Al.h([":find and :with should not use same variables: ",$APP.aj.l($APP.C([$APP.Qm.h($APP.cm,d)]))].join(""),new $APP.k(null,
3,[$APP.TI,Z3,$APP.UH,d,$APP.ly,b],null));d=W3.g(a);if(null!=d){if(U3.g(a)instanceof w3)throw $APP.Al.h([$APP.aj.l($APP.C([$APP.vl.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));if(U3.g(a)instanceof v3)throw $APP.Al.h([$APP.aj.l($APP.C([$APP.vl.g(d)]))," does not work with collection :find"].join(""),new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));}d=$3.g(W3.g(a));if(null!=d&&(e=t3(U3.g(a)),!$APP.z.h($APP.Gd(d),$APP.Gd(e))))throw $APP.Al.h(["Count of ",
$APP.aj.l($APP.C([$APP.vl.g(W3.g(a))]))," must match count of :find"].join(""),new $APP.k(null,4,[$APP.TI,Z3,aSa,$APP.$e($APP.vl.g(W3.g(a)),d),bSa,e,$APP.ly,b],null));if(1<$APP.Gd($APP.og.h($APP.kb,new $APP.H(null,3,5,$APP.I,[$APP.Iy.g(c),$APP.vr.g(c),cSa.g(c)],null))))throw $APP.Al.h("Only one of :keys/:syms/:strs must be present",new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));var m=O3($APP.qg,X3.g(a)),r=Q2(function(w){return w instanceof W2},X3.g(a)),n=Q2(function(w){return w instanceof Y2},X3.g(a));
if(!$APP.l(function(){var w=R2(m);return $APP.l(w)?(w=R2(r),$APP.l(w)?R2(n):w):w}()))throw $APP.Al.h("Vars used in :in should be distinct",new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));c=O3($APP.qg,V3.g(a));if(!$APP.l(R2(c)))throw $APP.Al.h("Vars used in :with should be distinct",new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));c=P2(function(w){return w instanceof W2},X3.g(a),$APP.di);d=P2(function(w){return w instanceof W2},Y3.g(a),$APP.di);c=$APP.qu.h(d,c);if(!$APP.ae(c))throw $APP.Al.h(["Where uses unknown source vars: ",
$APP.aj.l($APP.C([$APP.Qm.h($APP.cm,c)]))].join(""),new $APP.k(null,3,[$APP.TI,Z3,$APP.UH,c,$APP.ly,b],null));c=Q2(function(w){return w instanceof G3},Y3.g(a));a=Q2(function(w){return w instanceof Y2},X3.g(a));if(!$APP.ae(c)&&$APP.ae(a))throw $APP.Al.h("Missing rules var '%' in :in",new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,b],null));};
gSa=function(a){if($APP.ee(a))var b=a;else if($APP.de(a))b=ZRa(a);else throw $APP.Al.h("Query should be a vector or a map",new $APP.k(null,2,[$APP.TI,Z3,$APP.ly,a],null));var c=b,d=TRa($APP.DC.h(c,$APP.qg));b=YRa(new $APP.k(null,5,[U3,GRa(bSa.g(c)),V3,function(){var e=eSa.g(c);if($APP.l(e)){var f=O2(a3,e);if($APP.l(f))e=f;else throw $APP.Al.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.k(null,2,[$APP.TI,fSa,$APP.ly,e],null));}else e=null;return e}(),W3,function(){var e=HRa($APP.Iy,
$APP.Iy.g(c));if($APP.l(e))return e;e=HRa($APP.vr,$APP.vr.g(c));return $APP.l(e)?e:HRa(cSa,cSa.g(c))}(),X3,KRa(function(){var e=$APP.xsa.g(c);return $APP.l(e)?e:$APP.ae(Q2($Ra,d))?$APP.qg:new $APP.H(null,1,5,$APP.I,[DRa],null)}()),Y3,d],null));dSa(b,a,c);return b};a4=function(a,b,c,d,e,f){this.je=a;this.sources=b;this.rules=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.M=139264};b4=function(a,b,c,d,e){this.qa=a;this.Ce=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.M=139264};
hSa=function(a,b){return $APP.ru.h($APP.gi($APP.Wh(a)),$APP.gi($APP.Wh(b)))};iSa=function(a,b){return $APP.z.h($APP.Gd(a),$APP.Gd(b))&&$APP.Qf(function(c){return $APP.ue(b,c)},$APP.Wh(a))&&$APP.Qf(function(c){return $APP.ue(a,c)},$APP.Wh(b))};jSa=function(a){return a instanceof $APP.t&&$APP.z.h("$",$APP.v($APP.ji(a)))};c4=function(a){return a instanceof $APP.t&&$APP.z.h("?",$APP.v($APP.ji(a)))};d4=function(a){return a instanceof $APP.G||"string"===typeof a};
kSa=function(a){return($APP.de(a)||WY(a))&&$APP.z.h(2,$APP.Gd(a))&&d4($APP.v(a))};lSa=function(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),m=0;;)if(m<e)h[m]=a[b[m]],m+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h};
mSa=function(a,b,c,d){var e=$APP.Fe(function(){return function r(m){return new $APP.gf(null,function(){for(;;){var n=$APP.u(m);if(n){if($APP.je(n)){var w=$APP.Kc(n),x=$APP.Gd(w),B=$APP.jf(x);a:for(var F=0;;)if(F<x){var M=$APP.Td(w,F),U=$APP.A.j(M,0,null);M=$APP.A.j(M,1,null);$APP.nf(B,new $APP.H(null,2,5,$APP.I,[M,a.g?a.g(U):a.call(null,U)],null));F+=1}else{w=!0;break a}return w?$APP.mf($APP.of(B),r($APP.Lc(n))):$APP.mf($APP.of(B),null)}w=$APP.v(n);B=$APP.A.j(w,0,null);w=$APP.A.j(w,1,null);return $APP.$e(new $APP.H(null,
2,5,$APP.I,[w,a.g?a.g(B):a.call(null,B)],null),r($APP.nd(n)))}return null}},null,null)}(c)}()),f=$APP.De.h($APP.Mm,$APP.Yh(a))+1;b=$APP.Bc($APP.De.j(function(h,m){for(var r=Array(f),n=$APP.u(e),w=null,x=0,B=0;;)if(B<x){var F=w.da(null,B),M=$APP.A.j(F,0,null);F=$APP.A.j(F,1,null);r[F]=m[M];B+=1}else if(n=$APP.u(n))$APP.je(n)?(x=$APP.Kc(n),n=$APP.Lc(n),w=x,x=$APP.Gd(x)):(x=$APP.v(n),w=$APP.A.j(x,0,null),x=$APP.A.j(x,1,null),r[x]=m[w],n=$APP.y(n),w=null,x=0),B=0;else break;return $APP.pg.h(h,r)},$APP.zc($APP.Fe(b)),
d));return new b4(a,b,null,null,null)};nSa=function(a){a=$APP.Ii.h($APP.cm,$APP.Fe($APP.Dv.g(O3($APP.qg,a))));return new b4($APP.ki(a,$APP.$m.C()),$APP.qg,null,null,null)};e4=function(a,b){if(null!=a&&null!=a.fg)a=a.fg(a,b);else{var c=e4[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=e4._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IBinding.in-\x3erel",a);}return a};
oSa=function(a,b){var c=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);c instanceof l3&&f4.g(c)instanceof W2?a=$APP.Am.P(a,g4,$APP.$h,$APP.Ao.h(c,new $APP.H(null,2,5,$APP.I,[f4,$APP.cm],null)),b):c instanceof l3&&f4.g(c)instanceof Y2?(c=$APP.$h.j,b="string"===typeof b?$APP.xm.g(b):b,XRa(b),b=$APP.gj($APP.Nd,b),a=c.call($APP.$h,a,$APP.IE,b)):a=$APP.Am.F(a,h4,$APP.We,e4(c,b));return a};
rSa=function(a,b,c){var d=$APP.Gd(b),e=$APP.Gd(c);if(d<e)throw $APP.Al.h(["Extra inputs passed, expected: ",$APP.aj.l($APP.C([$APP.Qm.h(function(f){return $APP.ol.g($APP.Xd(f))},b)])),", got: ",$APP.aj.l($APP.C([e]))].join(""),new $APP.k(null,3,[$APP.TI,pSa,$APP.xG,b,qSa,c],null));if(d>e)throw $APP.Al.h(["Too few inputs passed, expected: ",$APP.aj.l($APP.C([$APP.Qm.h(function(f){return $APP.ol.g($APP.Xd(f))},b)])),", got: ",$APP.aj.l($APP.C([e]))].join(""),new $APP.k(null,3,[$APP.TI,pSa,$APP.xG,b,
qSa,c],null));return $APP.De.j(oSa,a,$APP.ki(b,c))};sSa=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.ue(i4,b)){if($APP.re(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.de(e)?G0(j4,e):WY(e)?G0(j4,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.de(e)?G0(j4,e):WY(e)?G0(j4,e):e}}return $APP.re(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
k4=function(a,b){var c=$APP.Gd(b);if(1===c)return sSa(a,$APP.v(b));b=$APP.Ar.g(b);for(var d=0;;)if(d<c)b[d]=sSa(a,b[d]),d+=1;else return function(e,f,h){return function(m){return $APP.Kr.g(f.map(function(){return function(r){return r.g?r.g(m):r.call(null,m)}}(e,f,h)))}}(d,b,c)};tSa=function(a,b){var c=$APP.md;return $APP.Bc($APP.De.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.hh.j(d,f,$APP.We.h($APP.D.j(d,f,c),e))},$APP.zc($APP.wf),b))};
m4=function(a,b){var c=l4.g(a),d=l4.g(b),e=b2.g(a),f=b2.g(b),h=$APP.Fe(hSa(b2.g(a),b2.g(b)));a=$APP.Wh(e);b=$APP.Bc($APP.Ge(function(B,F){return $APP.l(e.g?e.g(F):e.call(null,F))?B:$APP.pg.h(B,F)},$APP.zc($APP.qg),f));var m=$APP.Ee($APP.Yh(e)),r=$APP.Ee($APP.Xi($APP.Ii.g(f),b)),n=k4(e,h),w=k4(f,h),x=tSa(n,c);c=$APP.Bc($APP.De.j(function(B,F){var M=w(F);M=$APP.D.h(x,M);return null==M?B:$APP.De.j(function(U,Y){return $APP.pg.h(U,lSa(Y,m,F,r))},B,M)},$APP.zc($APP.qg),d));return new b4($APP.ki($APP.K.h(a,
b),$APP.$m.C()),c,null,null,null)};uSa=function(a,b){var c=$APP.xf(a),d=$APP.D.h(c,b2);c=$APP.D.h(c,l4);var e=$APP.xf(b);b=$APP.D.h(e,b2);e=$APP.D.h(e,l4);var f=$APP.Fe(hSa(d,b));b=k4(b,f);var h=tSa(b,e),m=k4(d,f);return $APP.$h.j(a,l4,$APP.rg(function(r){r=m(r);return null==(h.g?h.g(r):h.call(null,r))},c))};n4=function(a,b){return $APP.Vf(function(c){return $APP.ue(b2.g(c),b)?c:null},h4.g(a))};
vSa=function(a,b){if(c4(b)){var c=n4(a,b);if(null==c)return null;a=$APP.v(l4.g(c));if(null==a)return null;if(null==$APP.Pd(l4.g(c)))return b=$APP.D.h(b2.g(c),b),a[b]}return null};wSa=function(a,b){return $APP.Qm.h(function(c){var d=vSa(a,c);return $APP.l(d)?d:c},b)};
xSa=function(a,b){if(null!=a?$APP.cd===a.Lh||(a.yd?0:$APP.ob(E_,a)):$APP.ob(E_,a)){var c=$APP.A.j(b,0,null),d=$APP.A.j(b,1,null),e=$APP.A.j(b,2,null),f=$APP.A.j(b,3,null);c=kSa(c)||d4(c)?F0(a,c):c;e=$APP.l($APP.l(e)?d4(d)&&E0(a,d)&&(kSa(e)||d4(e)):e)?F0(a,e):e;a=kSa(f)?F0(a,f):f;return $APP.Ik.j(new $APP.H(null,4,5,$APP.I,[c,d,e,a],null),0,$APP.Gd(b))}return b};
ySa=function(a,b,c){a=$APP.Qm.h(function(d){return $APP.z.h(d,$APP.aH)||c4(d)?null:d},xSa(b,wSa(a,c)));b=v_(b,a);c=$APP.fh.h($APP.wf,$APP.og.h(function(d){var e=$APP.A.j(d,0,null);$APP.A.j(d,1,null);return c4(e)},$APP.Ii.j($APP.rv,c,new $APP.H(null,4,5,$APP.I,["e","a","v","tx"],null))));return new b4(c,b,null,null,null)};
zSa=function(a,b){a=$APP.og.h(function(d){a:for(var e=b;;){var f=d;if($APP.l($APP.l(f)?e:f)){f=$APP.v(d);var h=$APP.v(e);if($APP.z.h(h,$APP.aH)||c4(h)||$APP.z.h(f,h))d=$APP.y(d),e=$APP.y(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.fh.h($APP.wf,$APP.og.h(function(d){var e=$APP.A.j(d,0,null);$APP.A.j(d,1,null);return c4(e)},$APP.Ii.j($APP.rv,b,$APP.$m.C())));return new b4(c,$APP.Qm.h($APP.Ee,a),null,null,null)};
ASa=function(a,b,c){return(null!=b?$APP.cd===b.Li||(b.yd?0:$APP.ob(bQa,b)):$APP.ob(bQa,b))?ySa(a,b,c):zSa(b,c)};o4=function(a,b){for(var c=$APP.qg;;){var d=$APP.v(a);if(null==d)return $APP.We.h(c,b);$APP.l($APP.yf(hSa(b2.g(b),b2.g(d))))?(a=$APP.y(a),b=m4(d,b)):(a=$APP.y(a),c=$APP.We.h(c,d))}};BSa=function(a,b){var c=n4(a,b);if(null==c)return null;a=$APP.v(l4.g(c));null==a?b=null:(c=b2.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
CSa=function(a,b){return $APP.Vf(function(c){return $APP.ue(b2.g(a),c)},b)};DSa=function(a,b){var c=$APP.og.h(function(e){return CSa(e,b)},h4.g(a)),d=$APP.De.h(p4,c);return new $APP.H(null,2,5,$APP.I,[$APP.Am.j(a,h4,function(e){return $APP.kr.h($APP.gi(c),e)}),d],null)};
ESa=function(a,b,c,d){a=g4.g(a);b=b2.g(b);for(var e=$APP.Gd(d),f=Array(e),h=Array(e),m=0;;)if(m<e){var r=$APP.A.h(d,m);if(r instanceof $APP.t){var n=$APP.D.h(a,r);null==n?h[m]=$APP.D.h(b,r):f[m]=n}else f[m]=r;m+=1}else break;return c===$APP.rv?function(w){for(var x=f.slice(0),B=0;;)if(B<e){var F=h[B];null!=F&&(x[B]=w[F]);B+=1}else break;return $APP.Xf.h(c,x)}:function(w){for(var x=0;;)if(x<e){var B=h[x];null!=B&&(f[x]=w[B]);x+=1}else break;return $APP.Xf.h(c,f)}};
FSa=function(a,b){var c=$APP.A.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c),f=function(){var r=$APP.D.h(l2,d);if($APP.l(r))return r;r=BSa(a,d);if($APP.l(r))return r;if($APP.l(null))return null;if(null==n4(a,d))throw $APP.Al.h(["Unknown predicate '",$APP.aj.l($APP.C([d]))," in ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,b,$APP.ao,d],null));return null}();c=DSa(a,$APP.og.h($APP.fd,e));var h=$APP.A.j(c,0,null),m=$APP.A.j(c,1,null);c=$APP.l(f)?function(){var r=ESa(h,
m,f,e);return $APP.Am.j(m,l4,function(n){return $APP.og.h(r,n)})}():$APP.$h.j(m,l4,$APP.qg);return $APP.Am.F(h,h4,$APP.We,c)};
GSa=function(a,b){var c=$APP.A.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c);c=$APP.A.j(b,1,null);var f=o3(c),h=function(){var n=$APP.D.h(l2,d);if($APP.l(n))return n;n=BSa(a,d);if($APP.l(n))return n;if($APP.l(null))return null;if(null==n4(a,d))throw $APP.Al.h(["Unknown function '",$APP.aj.l($APP.C([d]))," in ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,b,$APP.ao,d],null));return null}();c=DSa(a,$APP.og.h($APP.fd,e));var m=$APP.A.j(c,0,null),r=$APP.A.j(c,1,null);c=
$APP.l(h)?function(){var n=ESa(m,r,h,e),w=function(){return function F(B){return new $APP.gf(null,function(){for(var M=B;;)if(M=$APP.u(M)){if($APP.je(M)){var U=$APP.Kc(M),Y=$APP.Gd(U),ba=$APP.jf(Y);a:for(var ca=0;;)if(ca<Y){var ea=$APP.Td(U,ca),la=n(ea);null!=la&&$APP.nf(ba,p4.h(new b4(b2.g(r),new $APP.H(null,1,5,$APP.I,[ea],null),null,null,null),e4(f,la)));ca+=1}else{U=!0;break a}return U?$APP.mf($APP.of(ba),F($APP.Lc(M))):$APP.mf($APP.of(ba),null)}ba=$APP.v(M);U=n(ba);if(null!=U)return $APP.$e(p4.h(new b4(b2.g(r),
new $APP.H(null,1,5,$APP.I,[ba],null),null,null,null),e4(f,U)),F($APP.nd(M)));M=$APP.nd(M)}else return null},null,null)}(l4.g(r))}();return $APP.ae(w)?p4.h(r,nSa(f)):$APP.De.h(r4,w)}():p4.h($APP.$h.j(r,l4,$APP.qg),nSa(f));return $APP.Am.F(m,h4,o4,c)};
HSa=function(a,b){if($APP.de(b)){var c=jSa($APP.v(b))?$APP.Md(b):$APP.v(b);if(c instanceof $APP.t){if(c4(c)||$APP.ue(new $APP.ci(null,new $APP.k(null,6,[$APP.ns,null,$APP.rz,null,RRa,null,P3,null,$APP.ss,null,$APP.aH,null],null),null),c))return!1;if($APP.ue($APP.IE.g(a),c))return!0;throw $APP.Al.h(["Unknown rule '",$APP.aj.l($APP.C([c]))," in ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,q4,$APP.ly,b],null));}}return!1};
JSa=function(a,b){var c=$APP.u(a),d=$APP.v(c),e=$APP.y(c),f=$APP.dj.h(ISa,$APP.ud),h=$APP.D.h($APP.IE.g(b),d);return function n(r){return new $APP.gf(null,function(){for(;;){var w=$APP.u(r);if(w){var x=w;if($APP.je(x)){var B=$APP.Kc(x),F=$APP.Gd(B),M=$APP.jf(F);return function(){for(var ja=0;;)if(ja<F){var na=$APP.Td(B,ja),oa=na,wa=$APP.u(oa),Ca=$APP.v(wa),La=$APP.y(wa),Ra=Ca,$a=$APP.u(Ra),jb=$APP.v($a),nb=$APP.y($a),db=jb,hb=nb,rb=La,ub=$APP.ki(hb,e);$APP.nf(M,$APP.Gs(function(Sb,Zb,tc,Gc,$d,pc,
Xe,Rf,Lg,Mg,Ah,xj,ug,Bh,ck,sd,Ri,Di,hi,oc,$c,he,Sf,ze,Nh,jg){return function(Hd){if(c4(Hd)){var Mf=ug.g?ug.g(Hd):ug.call(null,Hd);return null==Mf?$APP.Oi.g([$APP.ji(Hd),"__auto__",$APP.p.g(jg)].join("")):Mf}return Hd}}(ja,oa,wa,Ca,La,Ra,$a,jb,nb,db,hb,rb,ub,na,B,F,M,x,w,a,c,d,e,d,e,f,h),rb));ja+=1}else return!0}()?$APP.mf($APP.of(M),n($APP.Lc(x))):$APP.mf($APP.of(M),null)}var U=$APP.v(x),Y=U,ba=$APP.u(Y),ca=$APP.v(ba),ea=$APP.y(ba),la=ca,ta=$APP.u(la),pa=$APP.v(ta),V=$APP.y(ta),P=pa,X=V,R=ea,W=$APP.ki(X,
e);return $APP.$e($APP.Gs(function(ja,na,oa,wa,Ca,La,Ra,$a,jb,nb,db,hb,rb,ub,Sb,Zb,tc,Gc,$d,pc,Xe,Rf){return function(Lg){if(c4(Lg)){var Mg=hb.g?hb.g(Lg):hb.call(null,Lg);return null==Mg?$APP.Oi.g([$APP.ji(Lg),"__auto__",$APP.p.g(Rf)].join("")):Mg}return Lg}}(Y,ba,ca,ea,la,ta,pa,V,P,X,R,W,U,x,w,a,c,d,e,d,e,f,h),R),n($APP.nd(x)))}return null}},null,null)}(h)};
KSa=function(a,b){a=$APP.kr.h(function(c){var d=$APP.A.j(c,0,null);c=$APP.A.j(c,1,null);return $APP.z.h(d,c)},$APP.Ii.j($APP.rv,a,b));return new $APP.H(null,2,5,$APP.I,[$APP.Ii.h($APP.v,a),$APP.Ii.h($APP.Md,a)],null)};
LSa=function(a,b){a=$APP.u(a);var c=$APP.v(a),d=$APP.y(a);return function h(f){return new $APP.gf(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.je(m)){var r=$APP.Kc(m),n=$APP.Gd(r),w=$APP.jf(n);a:for(var x=0;;)if(x<n){var B=$APP.Td(r,x),F=KSa(d,B);B=$APP.A.j(F,0,null);F=$APP.A.j(F,1,null);$APP.nf(w,new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[s4],null),B,$APP.C([F]))],null));x+=1}else{r=!0;break a}return r?$APP.mf($APP.of(w),h($APP.Lc(m))):$APP.mf($APP.of(w),null)}w=$APP.v(m);
r=KSa(d,w);w=$APP.A.j(r,0,null);r=$APP.A.j(r,1,null);return $APP.$e(new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[s4],null),w,$APP.C([r]))],null),h($APP.nd(m)))}return null}},null,null)}($APP.D.h(b,c))};t4=function(a){var b=$APP.cj.g($APP.qg);$APP.Gs(function(c){$APP.l(c4.g?c4.g(c):c4.call(null,c))&&$APP.dj.j(b,$APP.We,c);return c},a);return $APP.q(b)};
MSa=function(a,b){function c(e){e=$APP.A.j(e,0,null);e=$APP.u(e);$APP.v(e);e=$APP.y(e);return $APP.Qf(d,e)}var d=$APP.gi(t4(a));return new $APP.H(null,2,5,$APP.I,[$APP.og.h(c,b),$APP.kr.h(c,b)],null)};
OSa=function(a,b){function c(La){return $APP.Vf(function(Ra){return $APP.ae(l4.g(Ra))},h4.g(La))}function d(La,Ra){return $APP.De.j(u4,La,Ra)}for(var e=$APP.og.h(c4,b),f=$APP.ki(e,$APP.$m.C()),h=new $APP.E(null,new $APP.k(null,5,[v4,$APP.qg,w4,a,$APP.JL,new $APP.H(null,1,5,$APP.I,[b],null),x4,$APP.wf,y4,$APP.wf],null),null,1,null),m=new b4(f,$APP.qg,null,null,null);;){var r=$APP.v(h);if(null==r)return m;var n=r,w=$APP.ti(function(){return function(La){return!HSa(a,La)}}(h,m,n,r,e,f,d,c),$APP.JL.g(n)),
x=$APP.A.j(w,0,null),B=$APP.A.j(w,1,null),F=$APP.u(B),M=$APP.v(F),U=$APP.y(F),Y=M,ba=U;if(null==Y){b=d(w4.g(n),x);b=KPa($APP.Fe,z4?z4(b,e):NSa.call(null,b,e));var ca=new b4(f,b,null,null,null);b=$APP.y(h);ca=r4(m,ca);h=b;m=ca}else{var ea=Y,la=$APP.u(ea),ta=$APP.v(la),pa=$APP.y(la),V=ta,P=pa,X=LSa(Y,x4.g(n)),R=MSa($APP.K.h(v4.g(n),x),$APP.K.h(X,y4.g(n))),W=$APP.A.j(R,0,null),ja=$APP.A.j(R,1,null);if($APP.l($APP.Vf(function(){return function(La){return $APP.z.h(La,new $APP.H(null,1,5,$APP.I,[$APP.J(s4)],
null))}}(h,m,ea,la,ta,pa,V,P,X,R,W,ja,w,x,B,F,M,U,Y,ba,n,r,e,f,d,c),W)))b=$APP.y(h),ca=m,h=b,m=ca;else{var na=$APP.K.h(x,W),oa=d(w4.g(n),na);if($APP.l(c(oa)))b=$APP.y(h),ca=m,h=b,m=ca;else{var wa=$APP.$h.j(x4.g(n),V,$APP.We.h($APP.D.j(x4.g(n),V,$APP.qg),P)),Ca=JSa(Y,a);b=$APP.K.h(function(){return function(La,Ra,$a,jb,nb,db,hb,rb,ub,Sb,Zb,tc,Gc,$d,pc,Xe,Rf,Lg,Mg,Ah,xj,ug,Bh,ck,sd,Ri,Di,hi,oc,$c){return function ze(Sf){return new $APP.gf(null,function(Nh,jg,Hd,Mf,yj,Cg,Oh,Kl,dk,fo,Si,Sm,Ei,go,se,ek,
Tm,Tk,Ph,Tf,Uf,ad,fe,wc){return function(){for(;;){var Ef=$APP.u(Sf);if(Ef){if($APP.je(Ef)){var ho=$APP.Kc(Ef),Ir=$APP.Gd(ho),pf=$APP.jf(Ir);a:for(var vg=0;;)if(vg<Ir){var SD=$APP.Td(ho,vg);$APP.nf(pf,new $APP.k(null,5,[v4,yj,w4,Cg,$APP.JL,$APP.fh.j($APP.qg,$APP.Vi,$APP.C([SD,wc])),x4,Hd,y4,ek],null));vg+=1}else{ho=!0;break a}return ho?$APP.mf($APP.of(pf),ze($APP.Lc(Ef))):$APP.mf($APP.of(pf),null)}pf=$APP.v(Ef);return $APP.$e(new $APP.k(null,5,[v4,yj,w4,Cg,$APP.JL,$APP.fh.j($APP.qg,$APP.Vi,$APP.C([pf,
wc])),x4,Hd,y4,ek],null),ze($APP.nd(Ef)))}return null}}}(La,Ra,$a,jb,nb,db,hb,rb,ub,Sb,Zb,tc,Gc,$d,pc,Xe,Rf,Lg,Mg,Ah,xj,ug,Bh,ck,sd,Ri,Di,hi,oc,$c),null,null)}}(h,m,wa,Ca,na,oa,ea,la,ta,pa,V,P,X,R,W,ja,w,x,B,F,M,U,Y,ba,n,r,e,f,d,c)(Ca)}(),$APP.y(h));ca=m;h=b;m=ca}}}}};PSa=function(a,b){var c=$APP.A.j(b,0,null),d=$APP.A.j(b,1,null),e=$APP.A.j(b,2,null);b=$APP.A.j(b,3,null);c=c4(c)?$APP.We.h($APP.di,c):$APP.di;c=c4(b)?$APP.We.h(c,b):c;return c4(e)&&!c4(d)&&E0(a,d)?$APP.We.h(c,e):c};
A4=function(a,b){return $APP.$h.j(a,h4,$APP.Vm.h(function(c){var d=$APP.yf($APP.ai(b2.g(c),b));return null==d?null:$APP.$h.j(c,b2,d)},h4.g(a)))};B4=function(a){return $APP.fh.h($APP.di,$APP.ng.l(function(b){return $APP.Wh(b2.g(b))},$APP.C([h4.g(a)])))};
C4=function(a,b,c){if($APP.Aja(b,a))return null;a=$APP.qu.h($APP.gi(b),a);throw $APP.Al.h(["Insufficient bindings: ",$APP.aj.l($APP.C([a]))," not bound in ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,c,$APP.UH,a],null));};
QSa=function(a,b,c){b=$APP.Qm.h(function(d){return $APP.qu.h($APP.gi(t4(d)),a)},b);if($APP.l($APP.Xf.h($APP.z,b)))return null;throw $APP.Al.h(["All clauses in 'or' must use same set of free vars, had ",$APP.aj.l($APP.C([b]))," in ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,c,$APP.UH,b],null));};
RSa=function(a,b,c){for(var d=$APP.gi($APP.kr.h(a,b)),e=$APP.u(c),f=null,h=0,m=0;;)if(m<h){c=f.da(null,m);var r=$APP.yf($APP.qu.h(d,$APP.gi(t4(c))));if(null!=r)throw e=r,$APP.Bt.l($APP.C([c,a,b,d])),$APP.Al.h(["All clauses in 'or' must use same set of free vars, had ",$APP.aj.l($APP.C([e]))," not bound in ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,c,$APP.UH,e],null));m+=1}else if(c=$APP.u(e)){e=c;if($APP.je(e))f=$APP.Kc(e),e=$APP.Lc(e),c=f,h=$APP.Gd(f),f=c;else{c=$APP.v(e);
f=$APP.yf($APP.qu.h(d,$APP.gi(t4(c))));if(null!=f)throw e=f,$APP.Bt.l($APP.C([c,a,b,d])),$APP.Al.h(["All clauses in 'or' must use same set of free vars, had ",$APP.aj.l($APP.C([e]))," not bound in ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.TI,q4,$APP.ly,c,$APP.UH,e],null));e=$APP.y(e);f=null;h=0}m=0}else return null};SSa=function(a,b){var c=j4;j4=$APP.D.h(g4.g(a),DRa);try{return $APP.De.j(D4,a,b)}finally{j4=c}};
TSa=function(a,b,c,d){return $APP.Xi($APP.tp.h($APP.Ii.g(function(e){return $APP.Xi($APP.Ii.g(function(f){for(var h=$APP.vb(e),m=0;;)if(m<c){var r=d[m];null!=r&&(h[m]=f[r]);m+=1}else break;return h}),l4.g(b))}),$APP.Vi),a)};NSa=function(a){switch(arguments.length){case 2:return z4(arguments[0],arguments[1]);case 3:return USa(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};
z4=function(a,b){a=h4.g(a);return USa(new $APP.H(null,1,5,$APP.I,[Array($APP.Gd(b))],null),a,b)};USa=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.ae(l4.g(d)))return $APP.qg;var e=$APP.ai(b2.g(d),c);if($APP.ae(e))b=$APP.y(b);else{e=$APP.Ee($APP.Ii.h(function(h,m,r,n){return function(w){return $APP.D.h(n,w)}}(a,b,c,e,d),c));var f=$APP.Gd(c);a=TSa(a,d,f,e);b=$APP.y(b)}}};VSa=function(a,b){return $APP.fh.j($APP.di,$APP.Ii.g($APP.Fe),z4(a,b))};
E4=function(a,b){if(null!=a&&null!=a.gg)a=a.gg(a,b);else{var c=E4[$APP.da(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=E4._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.qb("IContextResolve.-context-resolve",a);}return a};
WSa=function(a,b,c){return $APP.Qm.F(function(d,e,f){if(y3(d)){e=E4($APP.bo.g(d),b);d=$APP.Ii.h(function(m){return E4(m,b)},$APP.ii($APP.Gm.g(d)));var h=$APP.Ii.h(function(m){return $APP.A.h(m,f)},c);return $APP.Xf.h(e,$APP.K.h(d,new $APP.H(null,1,5,$APP.I,[h],null)))}return e},a,$APP.v(c),$APP.$m.C())};XSa=function(a){var b=$APP.Yf(y3);return $APP.kr.h($APP.fb,$APP.Ii.j(function(c,d){return $APP.l(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.$m.C()))};
YSa=function(a,b,c){var d=XSa(a);return function h(f){return new $APP.gf(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.je(m)){var r=$APP.Kc(m),n=$APP.Gd(r),w=$APP.jf(n);a:for(var x=0;;)if(x<n){var B=$APP.Td(r,x);$APP.A.j(B,0,null);B=$APP.A.j(B,1,null);$APP.nf(w,WSa(a,b,B));x+=1}else{r=!0;break a}return r?$APP.mf($APP.of(w),h($APP.Lc(m))):$APP.mf($APP.of(w),null)}w=$APP.v(m);$APP.A.j(w,0,null);w=$APP.A.j(w,1,null);return $APP.$e(WSa(a,b,w),h($APP.nd(m)))}return null}},null,null)}($APP.gj(function(f){return $APP.Ii.h(function(h){return $APP.A.h(f,
h)},d)},c))};ZSa=function(a,b){return $APP.De.j(function(c,d){return $APP.We.h(c,a.g?a.g(d):a.call(null,d))},$APP.Sd(b),b)};$Sa=function(a,b){var c=$3.g(a),d=$APP.$m.h(0,$APP.Gd(c));return ZSa(function(e){return $APP.De.j(function(f,h){return $APP.$h.j(f,$APP.A.h(c,h),$APP.A.h(e,h))},$APP.wf,d)},b)};
aTa=function(a,b,c){if(null!=a&&null!=a.hg)a=a.hg(a,b,c);else{var d=aTa[$APP.da(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=aTa._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.qb("IPostProcess.-post-process",a);}return a};
bTa=function(a,b,c){var d=function(){return function h(f){return new $APP.gf(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.je(m)){var r=$APP.Kc(m),n=$APP.Gd(r),w=$APP.jf(n);return function(){for(var B=0;;)if(B<n){var F=$APP.Td(r,B),M=w;if(z3(F)){var U=E4($APP.ol.g(F),b);F=E4(T1.g(F),b);U=F2(U,F,null)}else U=null;M.add(U);B+=1}else return!0}()?$APP.mf($APP.of(w),h($APP.Lc(m))):$APP.mf($APP.of(w),null)}var x=$APP.v(m);return $APP.$e(z3(x)?function(){var B=E4($APP.ol.g(x),b),F=E4(T1.g(x),b);
return F2(B,F,null)}():null,h($APP.nd(m)))}return null}},null,null)}(a)}();return function h(f){return new $APP.gf(null,function(){for(;;){var m=$APP.u(f);if(m){var r=m;if($APP.je(r)){var n=$APP.Kc(r),w=$APP.Gd(n),x=$APP.jf(w);return function(){for(var F=0;;)if(F<w){var M=$APP.Td(n,F);$APP.nf(x,$APP.Qm.j(function(){return function(U,Y){return $APP.l(U)?D2(U,Y):Y}}(F,M,n,w,x,r,m,d),d,M));F+=1}else return!0}()?$APP.mf($APP.of(x),h($APP.Lc(r))):$APP.mf($APP.of(x),null)}var B=$APP.v(r);return $APP.$e($APP.Qm.j(function(){return function(F,
M){return $APP.l(F)?D2(F,M):M}}(B,r,m,d),d,B),h($APP.nd(r)))}return null}},null,null)}(c)};cTa=function(a,b){if(a instanceof S_){var c=a.cc,d=a.wc;return new S_(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.l(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.cj.g(0),null,null,null)}return new S_(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.cj.g(0),null,null,null)};dTa=function(a,b,c,d){return A_(a,b,c,d)};eTa=function(a){return $APP.q(a)};fTa=function(a){return c_($APP.J_.g(a))};
F4=function F4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F4.l(0<c.length?new $APP.jd(c.slice(0),0,null):null)};F4.l=function(a){return $APP.qca(a,$APP.$h.j($APP.Ya(),$APP.Qa,!1))};F4.A=0;F4.G=function(a){return this.l($APP.u(a))};gTa=new $APP.t("datascript.core","squuid","datascript.core/squuid",-408746813,null);U_=new $APP.G("db.unique","identity","db.unique/identity",1675950722);c1=new $APP.G("db","retract","db/retract",-1549825231);
hTa=new $APP.t("datascript.db","IDatom","datascript.db/IDatom",293960966,null);iTa=new $APP.G(null,"-store","-store",86010660);jTa=new $APP.G(null,"incomparable","incomparable",1634329662);kTa=new $APP.t(null,"datom-tx","datom-tx",1349109608,null);cSa=new $APP.G(null,"strs","strs",1175537277);jQa=new $APP.G("db.cardinality","one","db.cardinality/one",1428352190);T0=new $APP.G("transact","upsert","transact/upsert",412688078);W3=new $APP.G(null,"qreturn-map","qreturn-map",1841215994);
MQa=new $APP.G("transact","schema","transact/schema",1426844139);lTa=new $APP.t(null,"datom-added","datom-added",-363961980,null);mTa=new $APP.t(null,"entity?","entity?",555338193,null);nTa=new $APP.t("datascript.core","filter","datascript.core/filter",-1276765471,null);G4=new $APP.G(null,"acc","acc",838566312);oTa=new $APP.G("lookup-ref","unique","lookup-ref/unique",-960647710);S3=new $APP.G("parser","rule","parser/rule",-464044566);
pTa=new $APP.t("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);qTa=new $APP.t("datascript.core","q","datascript.core/q",2106686416,null);E1=new $APP.G(null,"db-last-stored","db-last-stored",-2068760702);rTa=new $APP.t(null,"added","added",-596784081,null);ERa=new $APP.G("parser","find","parser/find",-801023103);sTa=new $APP.t(null,"entity","entity",1189561251,null);f2=new $APP.G(null,"wildcard?","wildcard?",-686044101);
W0=new $APP.G("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);tTa=new $APP.t("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);uTa=new $APP.t(null,"tail-addr","tail-addr",1565233666,null);vTa=new $APP.t("datascript.core","restore","datascript.core/restore",-655548009,null);Z3=new $APP.G("parser","query","parser/query",1877320671);wTa=new $APP.t(null,"_opts","_opts",1634624069,null);d2=new $APP.G(null,"last-attr","last-attr",-526000708);
EQa=new $APP.G(null,"conflict","conflict",1978796605);xTa=new $APP.G("db","fn","db/fn",-1175261470);yTa=new $APP.t("datascript.core","touch","datascript.core/touch",632058772,null);zTa=new $APP.t(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);U1=new $APP.G(null,"recursion-limit","recursion-limit",52345639);ATa=new $APP.t("datascript.storage","-restore","datascript.storage/-restore",708714346,null);Y_=new $APP.G("db.type","ref","db.type/ref",-1728373079);
BTa=new $APP.t(null,"variance","variance",-1522424942,null);CTa=new $APP.t("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);DTa=new $APP.t("datascript.core","with","datascript.core/with",-1124098173,null);ETa=new $APP.G(null,"-restore","-restore",-515892319);U0=new $APP.G("db","id","db/id",-1388397098);FTa=new $APP.G("db.fn","retractAttribute","db.fn/retractAttribute",937402164);GTa=new $APP.t("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);
HTa=new $APP.G("lookup-ref","syntax","lookup-ref/syntax",-317304012);ITa=new $APP.t("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);JTa=new $APP.t("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);KTa=new $APP.t("datascript.core","db","datascript.core/db",667170070,null);H4=new $APP.t(null,"addr","addr",42880790,null);LTa=new $APP.t(null,"-index-range","-index-range",898114142,null);
MTa=new $APP.t(null,"settings","settings",-1098290894,null);t0=new $APP.G(null,"tx-data","tx-data",934159761);x4=new $APP.G(null,"used-args","used-args",23596256);NTa=new $APP.t("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);OTa=new $APP.t("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);PTa=new $APP.t(null,"make-storage-adapter","make-storage-adapter",937815346,null);Y3=new $APP.G(null,"qwhere","qwhere",-1645067378);
c0=new $APP.G("db","ident","db/ident",-737096);u0=new $APP.G(null,"tempids","tempids",1767509089);U3=new $APP.G(null,"qfind","qfind",1529332972);QTa=new $APP.t("datascript.core","serializable","datascript.core/serializable",-630048076,null);w4=new $APP.G(null,"prefix-context","prefix-context",-1269613591);RTa=new $APP.t(null,"store-impl!","store-impl!",901017629,null);X_=new $APP.G("db.cardinality","many","db.cardinality/many",772806234);
Q0=new $APP.G("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);STa=new $APP.t("datascript.core","pull","datascript.core/pull",-1213970902,null);TTa=new $APP.t("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);s0=new $APP.G(null,"db-after","db-after",-571884666);L3=new $APP.G("parser","where","parser/where",-966053850);UTa=new $APP.t(null,"restore-impl","restore-impl",1420181842,null);I4=new $APP.G(null,"seen","seen",-518999789);
VTa=new $APP.t("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);W_=new $APP.G("db.unique","value","db.unique/value",276903088);WTa=new $APP.G("db","tupleTypes","db/tupleTypes",1512507626);Z0=new $APP.G("db.fn","retractEntity","db.fn/retractEntity",-1423535441);J4=new $APP.t(null,"attr","attr",1036399174,null);XTa=new $APP.t(null,"storage-adapter","storage-adapter",-1255219640,null);YTa=new $APP.G("entity-id","missing","entity-id/missing",1234588374);
ZTa=new $APP.t("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);P3=new $APP.t(null,"or-join","or-join",591375469,null);$Ta=new $APP.G("db.pull","reverse","db.pull/reverse",1999788297);aUa=new $APP.t(null,"db-from-reader","db-from-reader",1527469533,null);bUa=new $APP.t(null,"println-str","println-str",-2049216703,null);fSa=new $APP.G("parser","with","parser/with",-386255821);cUa=new $APP.t(null,"missing?","missing?",-1710383910,null);
dUa=new $APP.t("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);eUa=new $APP.t("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);fUa=new $APP.t("datascript.core","transact!","datascript.core/transact!",1506351773,null);B_=new $APP.G(null,"avet","avet",1383857032);K4=new $APP.t(null,"schema","schema",58529736,null);f1=new $APP.G(null,"entity","entity",-450970276);gUa=new $APP.t(null,"serializable-datom","serializable-datom",451141133,null);
hUa=new $APP.t("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);JRa=new $APP.G("parser","in","parser/in",1617442048);lQa=new $APP.G(null,"init-db","init-db",1595181278);iUa=new $APP.G(null,"addresses","addresses",-559529694);WZ=new $APP.G(null,"cmp","cmp",575646375);Q_=new $APP.G(null,"hash","hash",-13781596);jUa=new $APP.t(null,"with","with",104234651,null);Y1=new $APP.G(null,"multival?","multival?",1072388383);fRa=new $APP.G("parser","pull","parser/pull",-2147427204);
L4=new $APP.t(null,"tx","tx",2107161945,null);kUa=new $APP.t("datascript.core","store","datascript.core/store",1386427333,null);D1=new $APP.G(null,"tx-tail","tx-tail",1116487556);lUa=new $APP.t(null,"reset-conn!","reset-conn!",1315177148,null);M3=new $APP.G(null,"rule-vars","rule-vars",1665972520);i0=new $APP.G("db","valueType","db/valueType",1827971944);uQa=new $APP.G("retract","schema","retract/schema",1546437764);K_=new $APP.G(null,"aevt","aevt",-585148059);
mUa=new $APP.G("datascript","db","datascript/db",-1190971692);M4=new $APP.t(null,"-store","-store",1726542187,null);nUa=new $APP.G(null,"thaw-fn","thaw-fn",-240544261);N4=new $APP.G(null,"binding","binding",539932593);DQa=new $APP.G(null,"assertion","assertion",-1645134882);$APP.o0=new $APP.G(null,"datoms","datoms",-290874434);A3=new $APP.t(null,"pull","pull",779986722,null);YZ=new $APP.G(null,"set-metadata","set-metadata",1293757705);
oUa=new $APP.t("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);pUa=new $APP.t(null,"untuple","untuple",-606149900,null);O4=new $APP.t(null,"c0","c0",2105080311,null);qUa=new $APP.t(null,"index-range","index-range",1044940937,null);s4=new $APP.t(null,"-differ?","-differ?",1465687357,null);Z_=new $APP.G("db","isComponent","db/isComponent",423352398);P4=new $APP.t(null,"db","db",-1661185010,null);rUa=new $APP.t(null,"sample","sample",1719555128,null);
Q4=new $APP.t(null,"datom","datom",1268975437,null);sUa=new $APP.G(null,"serialize","serialize",-69216574);$_=new $APP.G("db","tupleAttrs","db/tupleAttrs",250080092);V1=new $APP.G(null,"recursive?","recursive?",1340075244);tUa=new $APP.t(null,"conn","conn",1918841190,null);uUa=new $APP.G(null,"thaw-kw","thaw-kw",1076733097);y4=new $APP.G(null,"pending-guards","pending-guards",-1255527308);vUa=new $APP.G("query","binding","query/binding",698240489);
SQa=new $APP.G(null,"avet-metadata","avet-metadata",1556019837);aSa=new $APP.G(null,"return-map","return-map",1620104901);wUa=new $APP.t("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);l4=new $APP.G(null,"tuples","tuples",-676032639);xUa=new $APP.t("datascript.core","settings","datascript.core/settings",273729994,null);R4=new $APP.G(null,"branches","branches",-1240337268);
yUa=new $APP.t("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);S4=new $APP.t(null,"datoms","datoms",1349657093,null);zUa=new $APP.G("transact","cas","transact/cas",816687170);AUa=new $APP.t("clojure.string","blank?","clojure.string/blank?",1772874244,null);BUa=new $APP.G(null,"listeners","listeners",394544445);CUa=new $APP.t(null,"validate-schema","validate-schema",758884380,null);$APP.J_=new $APP.G(null,"eavt","eavt",-666437073);
L_=new $APP.G(null,"max-eid","max-eid",2134868075);DUa=new $APP.t("datascript.storage","store","datascript.storage/store",-769865397,null);EUa=new $APP.t("datascript.core","index-range","datascript.core/index-range",-1484576383,null);FUa=new $APP.t(null,"tuple","tuple",1167864243,null);GUa=new $APP.G("db","retractEntity","db/retractEntity",-1452737935);HUa=new $APP.t("datascript.core","listen!","datascript.core/listen!",1659161258,null);g0=new $APP.G(null,"attribute","attribute",-2074029119);
$APP.I_=new $APP.G(null,"schema","schema",-1582001791);IUa=new $APP.t(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);JUa=new $APP.t("datascript.db","DB","datascript.db/DB",348347258,null);KUa=new $APP.t("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);LUa=new $APP.t("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);MUa=new $APP.t("datascript.db","Datom","datascript.db/Datom",1951800754,null);
T4=new $APP.G(null,"recursion-limits","recursion-limits",1762857814);m2=new $APP.t(null,"...","...",-1926939749,null);uRa=new $APP.G(null,"freeze-kw","freeze-kw",391758233);a0=new $APP.G("db.type","tuple","db.type/tuple",938234914);NUa=new $APP.t(null,"lookup-entity","lookup-entity",-936060612,null);V_=new $APP.G("db","index","db/index",-1531680669);QQa=new $APP.G(null,"max-addr","max-addr",1373100454);tRa=new $APP.G(null,"freeze-fn","freeze-fn",-575885995);
OUa=new $APP.t("datascript.core","db-with","datascript.core/db-with",-1263574350,null);XQa=new $APP.G(null,"skip-store?","skip-store?",-484019625);PUa=new $APP.t(null,"db-with-tail","db-with-tail",-1072910014,null);QUa=new $APP.t("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);b_=new $APP.G(null,"ref-type","ref-type",-1367328851);T_=new $APP.G("db","unique","db/unique",329396388);RUa=new $APP.G("entity-id","syntax","entity-id/syntax",1921317045);
TQa=new $APP.G(null,"eavt-metadata","eavt-metadata",-1384819842);g4=new $APP.G(null,"sources","sources",-321166424);SUa=new $APP.G("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);U4=new $APP.t(null,"delete-addrs","delete-addrs",742195107,null);RQa=new $APP.G(null,"aevt-metadata","aevt-metadata",-1844063817);v0=new $APP.G(null,"tx-meta","tx-meta",1159283194);TUa=new $APP.t(null,"pull-many","pull-many",1857679657,null);
UUa=new $APP.t(null,"conn-from-db","conn-from-db",-184109372,null);VUa=new $APP.t(null,"ground","ground",-1460862835,null);WUa=new $APP.t("datascript","Datom","datascript/Datom",-901340080,null);T1=new $APP.G(null,"pattern","pattern",242135423);wRa=new $APP.G("parser","rule-var","parser/rule-var",-1584354459);$0=new $APP.G("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);XUa=new $APP.t("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);
YUa=new $APP.G(null,"new","new",-2085437848);dQa=new $APP.G(null,"index","index",-1531685915);ZUa=new $APP.t("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);$Ua=new $APP.t(null,"stddev","stddev",775056588,null);N0=new $APP.G(null,"entity-id","entity-id",1485898093);aVa=new $APP.t(null,"store-tail","store-tail",-757879320,null);bVa=new $APP.G("db","cas","db/cas",-451542322);
cVa=new $APP.t("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);M_=new $APP.G(null,"max-tx","max-tx",1119558339);dVa=new $APP.G("db","tupleType","db/tupleType",448013354);c2=new $APP.G(null,"first-attr","first-attr",-1993039831);Z1=new $APP.G(null,"ref?","ref?",1932693720);eVa=new $APP.t(null,"sum","sum",1777518341,null);V4=new $APP.G(null,"attr","attr",-604132353);E2=new $APP.G(null,"visitor","visitor",-1026865865);
W4=new $APP.G(null,"elements","elements",657646735);fVa=new $APP.G("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);q4=new $APP.G("query","where","query/where",-1935159429);gVa=new $APP.t("datascript.storage","-store","datascript.storage/-store",-1879938067,null);S0=new $APP.G(null,"context","context",-830191113);hVa=new $APP.t("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);
iVa=new $APP.t("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);jVa=new $APP.t(null,"!\x3d","!\x3d",-201205829,null);h4=new $APP.G(null,"rels","rels",1770187185);kVa=new $APP.t("datascript.core","init-db","datascript.core/init-db",1493526573,null);r0=new $APP.G(null,"db-before","db-before",-553691536);lVa=new $APP.t(null,"adapter","adapter",444204808,null);e1=new $APP.G("datascript.db","value-tempids","datascript.db/value-tempids",244806162);
zQa=new $APP.G(null,"datom","datom",-371556090);YPa=new $APP.G(null,"strong","strong",269529E3);yQa=new $APP.G("transact","unique","transact/unique",-940992320);mVa=new $APP.t("datascript.db","datom","datascript.db/datom",399198004,null);nVa=new $APP.t(null,"seek-datoms","seek-datoms",-1423344839,null);oVa=new $APP.G(null,"old","old",-1825222690);pVa=new $APP.G("db.pull","attr","db.pull/attr",-533298746);w1=new $APP.G(null,"db","db",993250759);
qVa=new $APP.t("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);pRa=new $APP.G("db.pull","wildcard","db.pull/wildcard",116316031);O_=new $APP.G(null,"pull-patterns","pull-patterns",-343695048);rVa=new $APP.t("datascript.storage","restore","datascript.storage/restore",1486895617,null);sVa=new $APP.t(null,"init-db","init-db",-1059254491,null);tVa=new $APP.G(null,"internal-ctor","internal-ctor",937392560);
uVa=new $APP.t(null,"datom-from-reader","datom-from-reader",1334075127,null);f4=new $APP.G(null,"variable","variable",-281346492);vVa=new $APP.t(null,"restore-conn","restore-conn",-1560700042,null);wVa=new $APP.t(null,"transact!","transact!",817805717,null);d0=new $APP.G("db","attrTuples","db/attrTuples",860541631);$1=new $APP.G(null,"component?","component?",407783990);DRa=new $APP.t(null,"$","$",-1580747756,null);FRa=new $APP.t(null,"aggregate","aggregate",-1142967327,null);
V0=new $APP.G("db","add","db/add",235286841);P_=new $APP.G(null,"pull-attrs","pull-attrs",-974863177);VQa=new $APP.G(null,"tx","tx",466630418);p3=new $APP.G("parser","binding","parser/binding",-346395752);xVa=new $APP.t("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);yVa=new $APP.t(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);X4=new $APP.G(null,"element","element",1974019749);
zVa=new $APP.t("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);Y4=new $APP.t(null,"DB","DB",1622874957,null);AVa=new $APP.t(null,"get-some","get-some",409442058,null);L0=new $APP.G("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);BVa=new $APP.t(null,"avg","avg",1837937727,null);Z4=new $APP.G(null,"unfiltered-db","unfiltered-db",-1363720391);b2=new $APP.G(null,"attrs","attrs",-2090668713);
eQa=new $APP.G(null,"components","components",-1073188942);UZ=new $APP.G(null,"storage","storage",1867247511);CVa=new $APP.t(null,"StorageAdapter","StorageAdapter",106942083,null);a_=new $APP.G(null,"branching-factor","branching-factor",1903198601);DVa=new $APP.t(null,"create-conn","create-conn",2071410861,null);EVa=new $APP.t("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);X1=new $APP.G(null,"xform","xform",-1725711008);
RRa=new $APP.t(null,"not-join","not-join",-645515756,null);V3=new $APP.G(null,"qwith","qwith",-45809392);eSa=new $APP.G(null,"with","with",-1536296876);FVa=new $APP.t("datascript.core","datoms","datascript.core/datoms",961250077,null);g3=new $APP.G("parser","rule-vars","parser/rule-vars",-1493174969);GVa=new $APP.t("datascript.core","tx0","datascript.core/tx0",1432817831,null);HVa=new $APP.t("datascript.core","entity","datascript.core/entity",-1406213973,null);
e2=new $APP.G(null,"reverse-attrs","reverse-attrs",630097702);f0=new $APP.G("schema","validation","schema/validation",1178447161);qSa=new $APP.G(null,"got","got",-1674745710);$4=new $APP.t(null,"Datom","Datom",1208901035,null);W1=new $APP.G(null,"reverse?","reverse?",-1672868474);pSa=new $APP.G("query","inputs","query/inputs",1042810394);j0=new $APP.G("db","cardinality","db/cardinality",-104975659);IVa=new $APP.t(null,"serializable","serializable",1941609404,null);
JVa=new $APP.t("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);KVa=new $APP.t(null,"count-distinct","count-distinct",-1566572514,null);LVa=new $APP.t("datascript.storage","storage","datascript.storage/storage",-366769060,null);a5=new $APP.t(null,"datascript.impl.entity","datascript.impl.entity",1561405407,null);MVa=new $APP.t(null,"listen!","listen!",-115577950,null);NVa=new $APP.t("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);
OVa=new $APP.t("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);PVa=new $APP.t(null,"db-with","db-with",233242042,null);b5=new $APP.G("db.fn","call","db.fn/call",-151594418);QVa=new $APP.t(null,"force?","force?",-815397094,null);v4=new $APP.G(null,"prefix-clauses","prefix-clauses",1294180028);RVa=new $APP.G("db","doc","db/doc",1913350069);SVa=new $APP.t(null,"touch","touch",-1158163300,null);
TVa=new $APP.t("datascript.core","datom","datascript.core/datom",-1596234155,null);sQa=new $APP.G("db","current-tx","db/current-tx",1600722132);UVa=new $APP.t(null,"G__38611","G__38611",1637238664,null);VVa=new $APP.t(null,"reset-schema!","reset-schema!",1937111832,null);WVa=new $APP.t("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);XVa=new $APP.t("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);
YVa=new $APP.G(null,"operation","operation",-1267664310);cQa=new $APP.G(null,"index-access","index-access",-1548960265);ZVa=new $APP.t(null,"datascript.storage","datascript.storage",315947890,null);X3=new $APP.G(null,"qin","qin",1372651151);c5=new $APP.t(null,"storage","storage",-787188258,null);$3=new $APP.G(null,"symbols","symbols",1211743);$Va=new $APP.t(null,"squuid","squuid",-1898207797,null);h2=new $APP.G(null,"fragment","fragment",826775688);
aWa=new $APP.G("transaction","filtered","transaction/filtered",1699706605);d1=new $APP.G("datascript.db","internal","datascript.db/internal",-249301114);N_=new $APP.G(null,"rschema","rschema",-1196134054);bWa=new $APP.t(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);d5=new $APP.t(null,"addr+data-seq","addr+data-seq",1516602343,null);cWa=new $APP.t(null,"store","store",-1142205747,null);dWa=new $APP.t(null,"median","median",-2084869638,null);
eWa=new $APP.t("clojure.string","includes?","clojure.string/includes?",-1842146260,null);fWa=new $APP.t(null,"restore","restore",1907703951,null);gWa=new $APP.t(null,"empty-db","empty-db",1486862004,null);m0=new $APP.G(null,"v","v",21465059);C0=new $APP.G("transact","syntax","transact/syntax",-299207078);e5=new $APP.t(null,"-restore","-restore",1124639208,null);bSa=new $APP.G(null,"find","find",496279456);P0=new $APP.G(null,"a","a",-2123407586);
hWa=new $APP.t("datascript","DB","datascript/DB",-487332776,null);nRa=new $APP.G(null,"*","*",-1294732318);h3=new $APP.G(null,"free","free",801364328);iWa=new $APP.G("db.fn","cas","db.fn/cas",-379352172);ZZ=new $APP.G(null,"shift","shift",997140064);jWa=new $APP.t(null,"tx0","tx0",-4656209,null);VRa=new $APP.G(null,"rule","rule",729973257);kWa=new $APP.t(null,"rseek-datoms","rseek-datoms",857788390,null);lWa=new $APP.t(null,"from-serializable","from-serializable",945516427,null);
mWa=new $APP.t(null,"resolve-datom","resolve-datom",-294110827,null);nWa=new $APP.t(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);oWa=new $APP.t(null,"IStorage","IStorage",668238001,null);pWa=new $APP.t(null,"get-else","get-else",1312024065,null);S1=new $APP.G(null,"limit","limit",-1355822363);qWa=new $APP.t(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);rWa=new $APP.t("datascript.core","pull-many","datascript.core/pull-many",394351057,null);
f5=new $APP.t(null,"Entity","Entity",1953938502,null);var HPa,O0,iQa;datascript={};HPa=new $APP.ci(null,new $APP.k(null,12,[V_,null,T_,null,i0,null,dVa,null,WTa,null,new $APP.G("db","noHistory","db/noHistory",-1975127444),null,Z_,null,new $APP.G("db.install","_attribute","db.install/_attribute",1853441294),null,j0,null,RVa,null,c0,null,$_,null],null),null);O0=new $APP.ci(null,new $APP.k(null,11,[V_,null,T_,null,i0,null,dVa,null,WTa,null,Z_,null,j0,null,RVa,null,U0,null,c0,null,$_,null],null),null);
iQa=new $APP.ci(null,new $APP.k(null,7,[new $APP.G("db.type","number","db.type/number",-508502688),null,new $APP.G("db.type","instant","db.type/instant",-1024769248),null,a0,null,new $APP.G("db.type","uuid","db.type/uuid",1543195203),null,new $APP.G("db.type","string","db.type/string",1432572808),null,new $APP.G("db.type","keyword","db.type/keyword",205926793),null,Y_,null],null),null);var JPa={},RY;$APP.g=NY.prototype;$APP.g.U=function(a,b,c){return PY.j?PY.j(this,b,c):PY.call(null,this,b,c)};$APP.g.ka=function(a,b){return $APP.Jb(this.lf,b)};$APP.g.fa=function(a,b){return $APP.Au(this.lf,b,null)};$APP.g.N=function(a,b,c){return $APP.Au(this.lf,b,c)};$APP.g.V=function(a,b,c){return $APP.rc(this.lf,b,c)};var g5=function g5(a){switch(arguments.length){case 0:return g5.C();case 1:return g5.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};g5.C=function(){return g5.g((new Date).getTime())};
g5.g=function(a){return $APP.Ej([$APP.p.g(TY(a/1E3|0,8)),"-",$APP.p.g(TY($APP.ej(65536),4)),"-",$APP.p.g(TY($APP.ej(65536)&4095|16384,4)),"-",$APP.p.g(TY($APP.ej(65536)&16383|32768,4)),"-",$APP.p.g(TY($APP.ej(65536),4)),$APP.p.g(TY($APP.ej(65536),4)),$APP.p.g(TY($APP.ej(65536),4))].join(""))};g5.A=1;var IQa=$APP.ym.h($APP.We,$APP.qg),b0=$APP.ym.h($APP.We,$APP.di);var cZ=Math.pow(2,31),NZ=Math.pow(2,5),rZ=NZ/2,OZ=NZ+rZ>>>1,OPa=NZ-1,aZ=VY($APP.Ii.h(function(a){return Math.pow(2,a)},$APP.$m.j(0,52,5)));$APP.g=vZ.prototype;$APP.g.pf=function(a,b){var c=this;uZ(this,$APP.Gd(c.children));$APP.Lv.g($APP.At.h(function(d,e){var f=c.children[d];e=$APP.l(f)?(e=null==e)?e:f.Of:f;return $APP.l(e)?(f=sZ(f,b),c.$c[d]=f):null},c.$c));a=ZY(b,this,c.qb);c.Of=!1;return c.qb=a};$APP.g.Zh=function(){var a=this.keys;return a[a.length-1]};$APP.g.Ri=function(){return this.keys.length};
$APP.g.ai=function(a,b,c){uZ(this,$APP.Gd(this.children));uZ(b,$APP.Gd(b.children));a=b.qb;$APP.l(a)&&$Y(c,new $APP.H(null,1,5,$APP.I,[a],null));return wZ(this.keys.concat(b.keys),this.children.concat(b.children),this.$c.concat(b.$c),this.qb,!0)};$APP.g.bi=function(a,b){uZ(this,$APP.Gd(this.children));uZ(b,$APP.Gd(b.children));a=hZ(this.keys,b.keys);var c=hZ(this.children,b.children),d=hZ(this.$c,b.$c);return iZ(wZ(a[0],c[0],d[0],this.qb,!0),wZ(a[1],c[1],d[1],b.qb,!0))};
$APP.g.Ve=function(a,b){if($APP.z.h(-1,a))return null;var c=$APP.l(this.$c)?this.$c[a]:null;$APP.ib(this.children[a])?(b=XY(b,c),this.children[a]=b):$APP.l($APP.l(b)?c:b)&&YY(b,c);return this.children[a]};$APP.g.$h=function(a,b,c,d){a=RPa(b,this.keys,c);a=this.Ve(a,d);return $APP.l(a)?oZ(a,b,c,d):null};
$APP.g.Xh=function(a,b,c,d){uZ(this,$APP.Gd(this.children));a=eZ(b,this.keys,this.keys.length-2,c);var e=this.Ve(a,d);c=$APP.l(e)?pZ(e,b,c,d):null;if($APP.l(c)){d=this.keys;e=a+1;var f=c.map(kZ);b=SPa(b,d,a,e,f,f.length)?d:gZ(d,a,e,f);d=gZ(this.children,a,a+1,c);a=gZ(this.$c,a,a+1,tZ(c));if(d.length<=NZ)return[wZ(b,d,a,this.qb,!0)];c=d.length>>>1;return[wZ(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.qb,!0),wZ(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.Yh=function(a,b,c,d,e,f,h){uZ(this,$APP.Gd(this.children));var m=RPa(b,this.keys,c);if(-1===m)return null;var r=this.Ve(m,h);a=0<=m-1?this.Ve(m-1,h):null;var n=m+1<this.children.length?this.Ve(m+1,h):null;c=qZ(r,b,c,!1,a,n,h);return $APP.l(c)?(a=$APP.l(a)?m-1:m,m=$APP.l(n)?2+m:1+m,n=this.keys,r=c.map(kZ),b=SPa(b,n,a,m,r,r.length)?n:gZ(n,a,m,r),n=gZ(this.children,a,m,c),c=gZ(this.$c,a,m,tZ(c)),m>a&&(a=$APP.qu.h($APP.gi($APP.kr.h($APP.fb,this.$c.slice(a,m))),$APP.gi($APP.kr.h($APP.fb,c))),$APP.l($APP.l(h)?
$APP.u(a):h)&&$Y(h,a)),TPa(wZ(b,n,c,this.qb,!0),d,e,f,h)):null};var TZ=function TZ(a){switch(arguments.length){case 1:return TZ.g(arguments[0]);case 2:return TZ.h(arguments[0],arguments[1]);case 3:return TZ.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};TZ.g=function(a){return TZ.h(a,null)};TZ.h=function(a,b){return TZ.j(a,b,!0)};TZ.j=function(a,b,c){return new UPa(a,b,c)};TZ.A=3;$APP.g=UPa.prototype;
$APP.g.pf=function(a,b){a=this.Of;return $APP.l($APP.l(a)?a:null==this.qb)?(b=ZY(b,this,this.qb),this.Of=!1,this.qb=b):this.qb};$APP.g.Zh=function(){var a=this.keys;return a[a.length-1]};$APP.g.Ri=function(){return this.keys.length};$APP.g.ai=function(a,b,c){a=b.qb;$APP.l(a)&&$Y(c,new $APP.H(null,1,5,$APP.I,[a],null));return TZ.h(this.keys.concat(b.keys),this.qb)};$APP.g.bi=function(a,b){a=hZ(this.keys,b.keys);return iZ(TZ.h(a[0],this.qb),TZ.h(a[1],b.qb))};$APP.g.Ve=function(a){return this.keys[a]};
$APP.g.$h=function(a,b,c,d){a=QPa(b,this.keys,c);return-1===a?null:this.Ve(a,d)};$APP.g.Xh=function(a,b,c){a=eZ(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===NZ?(b=d+1>>>1,a>b?[TZ.h(this.keys.slice(0,b),this.qb),TZ.g(fZ(this.keys,b,d,a,a,[c]))]:[TZ.h(fZ(this.keys,0,b,a,a,[c]),this.qb),TZ.g(this.keys.slice(b,d))]):[TZ.h(gZ(this.keys,a,a,[c]),this.qb)]};
$APP.g.Yh=function(a,b,c,d,e,f,h){a=QPa(b,this.keys,c);if(-1===a)return null;a=gZ(this.keys,a,a+1,[]);return TPa(TZ.h(a,this.qb),d,e,f,h)};$APP.g=$APP.yZ.prototype;$APP.g.ye=function(){var a=this.root;return $APP.l(a)?a:$APP.l(this.qb)?this.root=a=XY(this.storage,this.qb):null};$APP.g.toString=function(){return $APP.Uc(this)};$APP.g.fa=function(a,b){this.ye(null);return oZ(this.root,this.Wc,b,this.storage)};
$APP.g.N=function(a,b,c){this.ye(null);a=oZ(this.root,this.Wc,b,this.storage);return $APP.l(a)?a:c};$APP.g.V=function(a,b,c){return $APP.Ci(b,$APP.Hi,"#{"," ","}",c,$APP.u(this))};$APP.g.W=function(){return this.K};$APP.g.ba=function(){return new $APP.yZ(this.storage,this.root,this.shift,this.O,this.Wc,this.K,this.ad,this.qb)};$APP.g.aa=function(){return this.O};$APP.g.bd=function(){return $APP.ic(IZ.g?IZ.g(this):IZ.call(null,this))};$APP.g.Y=function(){var a=this.ad;return null!=a?a:this.ad=a=$APP.rd(this)};
$APP.g.R=function(a,b){var c=this;return $APP.ce(b)&&this.O===$APP.Gd(b)&&$APP.Qf(function(d){return $APP.ue(c,d)},b)};$APP.g.qe=function(){return this};$APP.g.Ja=function(){return new $APP.yZ(this.storage,TZ.g([]),0,0,this.Wc,this.K,null,null)};$APP.g.Hg=function(a,b){return QZ.j?QZ.j(this,b,this.Wc):QZ.call(null,this,b,this.Wc)};$APP.g.Ta=function(a,b){a=IZ.g?IZ.g(this):IZ.call(null,this);return $APP.l(a)?$APP.Bu(a,b):b.C?b.C():b.call(null)};
$APP.g.Qa=function(a,b,c){a=IZ.g?IZ.g(this):IZ.call(null,this);return $APP.l(a)?$APP.Bu(a,b,c):c};$APP.g.Zd=function(a,b){return PZ.j?PZ.j(this,b,this.Wc):PZ.call(null,this,b,this.Wc)};$APP.g.Ge=function(){return this};$APP.g.pf=function(a,b){null==this.storage&&(this.storage=b);this.ye(null);null==this.qb&&(this.qb=sZ(this.root,this.storage));return this.qb};$APP.g.Z=function(){return IZ.g?IZ.g(this):IZ.call(null,this)};
$APP.g.Dh=function(a,b){return QZ.j?QZ.j(this,b,this.Wc):QZ.call(null,this,b,this.Wc)};$APP.g.X=function(a,b){return new $APP.yZ(this.storage,this.root,this.shift,this.O,this.Wc,b,this.ad,this.qb)};$APP.g.ca=function(a,b){return PZ.j?PZ.j(this,b,this.Wc):PZ.call(null,this,b,this.Wc)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.vb(b)))};$APP.g.g=function(a){return this.fa(null,a)};$APP.g.h=function(a,b){return this.N(null,a,b)};
var DZ=function DZ(a,b,c,d){var f=bZ(c,d);if(0<d){var h=zZ(b,f,a.storage),m=d-1;a=DZ.F?DZ.F(a,h,c,m):DZ.call(null,a,h,c,m);return null==a?f+1<b.children.length?dZ(0,d,f+1):null:dZ(a,d,f)}return f+1<b.keys.length?dZ(0,0,f+1):null},FZ=function FZ(a,b,c,d){var f=bZ(c,d);if(0===d&&0===f)return null;if(0===d)return dZ(0,0,f-1);if(f>=lZ(b))return CZ(b,c,d,a.storage);var h=zZ(b,f,a.storage);var m=d-1;h=FZ.F?FZ.F(a,h,c,m):FZ.call(null,a,h,c,m);if(null!=h)return dZ(h,d,f);if(0===f)return null;a=CZ(zZ(b,f-
1,a.storage),c,d-1,a.storage);return dZ(a,d,f-1)};$APP.g=VPa.prototype;$APP.g.aa=function(){return this.end-this.yb};$APP.g.da=function(a,b){return this.H[this.yb+b]};$APP.g.Va=function(a,b,c){return 0<=b&&b<this.end-this.yb?this.H[this.yb+b]:c};$APP.g.Uf=function(){if(this.yb===this.end)throw Error("-drop-first of empty chunk");return new $APP.kf(this.H,this.yb+1,this.end)};$APP.g.Ta=function(a,b){return this.yb===this.end?b.C?b.C():b.call(null):$APP.Bu(this.Uf(null),b,this.H[this.yb])};
$APP.g.Qa=function(a,b,c){for(a=this.yb;;)if(a<this.end){var d=this.H[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.yd(c))return $APP.q(c);a+=1}else return c};$APP.g=JZ.prototype;$APP.g.toString=function(){return $APP.Uc(this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,$APP.Hi,"("," ",")",c,$APP.u(this))};
$APP.g.Pa=function(){if($APP.l(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new JZ(this.set,a,this.right,this.keys,this.idx+1):null}a=EZ(this.set,this.left);return a<this.right?this.Zg(a,this.right):null}return null};$APP.g.bd=function(){if($APP.l(this.keys)){var a=this.set,b=GZ(this.set,this.left),c=GZ(this.set,this.right);return LZ.j?LZ.j(a,b,c):LZ.call(null,a,b,c)}return null};$APP.g.R=function(a,b){return $APP.Te(this,b)};
$APP.g.Ta=function(a,b){if(null==this.keys)return b.C?b.C():b.call(null);a=this.Ua(null);var c=this.Pa(null);return null==c?a:$APP.Bu(c,b,a)};$APP.g.Qa=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.yd(c))return $APP.q(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=EZ(this.set,a),a<this.right)f=a,d=AZ(this.set,a),e=bZ(a,0),a=f;else return c}};
$APP.g.Ua=function(){return $APP.l(this.keys)?this.keys[this.idx]:null};$APP.g.ob=function(){var a=this.Pa(null);return $APP.l(a)?a:$APP.md};$APP.g.Z=function(){return $APP.l(this.keys)?this:null};$APP.g.zf=function(){var a=this.left,b=this.right;return new VPa(this.keys,this.idx,(a<cZ&&b<cZ?a>>>5===b>>>5:Math.floor(a/NZ)===Math.floor(b/NZ))?bZ(this.right,0):this.keys.length)};$APP.g.Ee=function(){var a=this.bf();return $APP.l(a)?a:$APP.md};
$APP.g.Zg=function(a,b){return new JZ(this.set,a,b,AZ(this.set,a),bZ(a,0))};$APP.g.bf=function(){var a=EZ(this.set,dZ(this.left,0,this.keys.length-1));return a<this.right?this.Zg(a,this.right):null};$APP.g=KZ.prototype;$APP.g.toString=function(){return $APP.Uc(this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,$APP.Hi,"("," ",")",c,$APP.u(this))};
$APP.g.Pa=function(){if($APP.l(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new KZ(this.set,this.left,a,this.keys,this.idx-1):null}a=GZ(this.set,this.right);return this.left<a?this.Zg(this.left,a):null}return null};$APP.g.bd=function(){return $APP.l(this.keys)?HZ(this.set,EZ(this.set,this.left),EZ(this.set,this.right)):null};$APP.g.R=function(a,b){return $APP.Te(this,b)};$APP.g.Ua=function(){return $APP.l(this.keys)?this.keys[this.idx]:null};
$APP.g.ob=function(){var a=this.Pa(null);return $APP.l(a)?a:$APP.md};$APP.g.Z=function(){return $APP.l(this.keys)?this:null};$APP.g.Zg=function(a,b){return new KZ(this.set,a,b,AZ(this.set,b),bZ(b,0))};var sWa=Error,h5=function h5(a){throw $APP.Al.h(["Not implemented: (",$APP.p.g(h5),$APP.Om.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.wf);},i5=function i5(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(i5),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);},j5=function j5(a){throw $APP.Al.h(["Not implemented: (",$APP.p.g(j5),$APP.Om.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.wf);},k5=function k5(a){switch(arguments.length){case 2:return k5.h(arguments[0],
arguments[1]);case 3:return k5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};k5.h=function(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(k5),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);};k5.j=function(a,b,c){throw $APP.Al.h(["Not implemented: (",$APP.p.g(k5),$APP.Om.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.wf);};k5.A=3;
var l5=function l5(a,b,c){throw $APP.Al.h(["Not implemented: (",$APP.p.g(l5),$APP.Om.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.wf);},m5=function m5(a,b,c){throw $APP.Al.h(["Not implemented: (",$APP.p.g(m5),$APP.Om.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.wf);};$APP.g=$APP.h_.prototype;$APP.g.ib=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.ld=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.ad?this.ad=h5(this):this.ad};
$APP.g.R=function(a,b){return b instanceof $APP.h_&&i5(this,b)};$APP.g.Z=function(){return j5(this)};$APP.g.fa=function(a,b){return m5(this,b,null)};$APP.g.N=function(a,b,c){return m5(this,b,c)};$APP.g.da=function(a,b){return k5.h(this,b)};$APP.g.Va=function(a,b,c){return k5.j(this,b,c)};$APP.g.U=function(a,b,c){return l5(this,b,c)};$APP.g.V=function(a,b,c){return $APP.Ci(b,$APP.Hi,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.I,[this.e,this.a,this.v,this.ib(null),this.ld(null)],null))};
GPa("datascript.db.Datom",$APP.h_);var i_=function i_(a){switch(arguments.length){case 3:return i_.j(arguments[0],arguments[1],arguments[2]);case 4:return i_.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return i_.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};i_.j=function(a,b,c){return new $APP.h_(a,b,c,536870912,0,0)};i_.F=function(a,b,c,d){return new $APP.h_(a,b,c,d,0,0)};
i_.P=function(a,b,c,d,e){return new $APP.h_(a,b,c,$APP.l(e)?d:-d,0,0)};i_.A=5;h5=function(){return null};h5=function(a){return e_(e_($APP.dd(a.e),$APP.dd(a.a)),$APP.dd(a.v))};i5=function(){return null};i5=function(a,b){return a.e===b.e&&$APP.z.h(a.a,b.a)&&$APP.z.h(a.v,b.v)};j5=function(){return null};j5=function(a){return new $APP.E(null,a.e,new $APP.E(null,a.a,new $APP.E(null,a.v,new $APP.E(null,a.ib(null),new $APP.E(null,a.ld(null),null,1,null),2,null),3,null),4,null),5,null)};m5=function(){return null};
m5=function(a,b,c){if(b instanceof $APP.G)switch(b instanceof $APP.G?b.S:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ib(null);case "added":return a.ld(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ib(null);case "added":return a.ld(null);default:return c}else return c};
k5=function(a){switch(arguments.length){case 2:return k5.h(arguments[0],arguments[1]);case 3:return k5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};k5.h=function(){return null};k5.j=function(){return null};k5.A=3;
k5=function(a){switch(arguments.length){case 2:return k5.h(arguments[0],arguments[1]);case 3:return k5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};k5.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ib(null);case 4:return a.ld(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.p.g(b)].join(""));}};
k5.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ib(null);case 4:return a.ld(null);default:return c}};k5.A=3;l5=function(){return null};
l5=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "e":return i_.P(c,a.a,a.v,a.ib(null),a.ld(null));case "a":return i_.P(a.e,c,a.v,a.ib(null),a.ld(null));case "v":return i_.P(a.e,a.a,c,a.ib(null),a.ld(null));case "tx":return i_.P(a.e,a.a,a.v,c,a.ld(null));case "added":return i_.P(a.e,a.a,a.v,a.ib(null),c);default:throw new sWa(["invalid key for #datascript/Datom: ",$APP.p.g(b)].join(""));}};
var l_=function l_(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(l_),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);};l_=function(){return null};
l_=function(a,b){try{return $APP.z.h(a,b)?0:$APP.de(a)&&$APP.de(b)?aQa(a,b):(null!=a?a.M&2048||$APP.cd===a.Xd||(a.M?0:$APP.ob($APP.Hc,a)):$APP.ob($APP.Hc,a))?$APP.Ic(a,b):$APP.pb(a)===$APP.pb(b)?"number"===typeof a||"string"===typeof a||$APP.gb(a)||!0===a||!1===a?$APP.Ma(a,b):$APP.dd(a)-$APP.dd(b):$Pa(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.pb(a)===$APP.pb(b))throw c;return $Pa(a,b)}throw d;}};
var n5=function n5(a){throw $APP.Al.h(["Not implemented: (",$APP.p.g(n5),$APP.Om.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.wf);},o5=function o5(a){throw $APP.Al.h(["Not implemented: (",$APP.p.g(o5),$APP.Om.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.wf);},p5=function p5(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(p5),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);},r1=function r1(a){throw $APP.Al.h(["Not implemented: (",$APP.p.g(r1),
$APP.Om.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.wf);},C_=function C_(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(C_),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);},q5=function q5(a,b,c){throw $APP.Al.h(["Not implemented: (",$APP.p.g(q5),$APP.Om.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.wf);},r5=function r5(a,b,c,d,e,f,h){throw $APP.Al.h(["Not implemented: (",$APP.p.g(r5),$APP.Om.h(" ",new $APP.H(null,7,5,$APP.I,[a,b,c,d,e,
f,h],null))].join(""),$APP.wf);},s5=function s5(a,b,c,d,e,f,h,m){throw $APP.Al.h(["Not implemented: (",$APP.p.g(s5),$APP.Om.h(" ",new $APP.H(null,8,5,$APP.I,[a,b,c,d,e,f,h,m],null))].join(""),$APP.wf);};$APP.g=$APP.H_.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "schema":return this.rc;case "eavt":return this.Wb;case "aevt":return this.tc;case "avet":return this.fc;case "max-eid":return this.Lc;case "max-tx":return this.Mc;case "rschema":return this.vc;case "pull-patterns":return this.Cc;case "pull-attrs":return this.Bc;case "hash":return this.hash;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.I_,this.rc],null),new $APP.H(null,2,5,$APP.I,[$APP.J_,this.Wb],null),new $APP.H(null,2,5,$APP.I,[K_,this.tc],null),new $APP.H(null,2,5,$APP.I,[B_,this.fc],null),new $APP.H(null,2,5,$APP.I,[L_,this.Lc],null),new $APP.H(null,2,5,$APP.I,[M_,this.Mc],null),new $APP.H(null,2,5,$APP.I,[N_,this.vc],null),new $APP.H(null,
2,5,$APP.I,[O_,this.Cc],null),new $APP.H(null,2,5,$APP.I,[P_,this.Bc],null),new $APP.H(null,2,5,$APP.I,[Q_,this.hash],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,10,new $APP.H(null,10,5,$APP.I,[$APP.I_,$APP.J_,K_,B_,L_,M_,N_,O_,P_,Q_],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,this.o,this.D)};
$APP.g.aa=function(){return 10+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1515640948^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.rc,b.rc)&&$APP.z.h(this.Wb,b.Wb)&&$APP.z.h(this.tc,b.tc)&&$APP.z.h(this.fc,b.fc)&&$APP.z.h(this.Lc,b.Lc)&&$APP.z.h(this.Mc,b.Mc)&&$APP.z.h(this.vc,b.vc)&&$APP.z.h(this.Cc,b.Cc)&&$APP.z.h(this.Bc,b.Bc)&&$APP.z.h(this.hash,b.hash)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,10,[$APP.I_,null,M_,null,Q_,null,K_,null,B_,null,L_,null,$APP.J_,null,P_,null,O_,null,N_,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.I_,b):$APP.bf.call(null,$APP.I_,b))?new $APP.H_(c,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.J_,b):$APP.bf.call(null,$APP.J_,b))?new $APP.H_(this.rc,c,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(K_,b):$APP.bf.call(null,K_,b))?new $APP.H_(this.rc,this.Wb,c,this.fc,this.Lc,this.Mc,this.vc,
this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(B_,b):$APP.bf.call(null,B_,b))?new $APP.H_(this.rc,this.Wb,this.tc,c,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(L_,b):$APP.bf.call(null,L_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,c,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(M_,b):$APP.bf.call(null,M_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,c,this.vc,this.Cc,
this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(N_,b):$APP.bf.call(null,N_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,c,this.Cc,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(O_,b):$APP.bf.call(null,O_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,c,this.Bc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(P_,b):$APP.bf.call(null,P_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,
c,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(Q_,b):$APP.bf.call(null,Q_,b))?new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,c,this.B,this.o,null):new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.ve($APP.I_,this.rc,null),new $APP.ve($APP.J_,this.Wb,null),new $APP.ve(K_,this.tc,null),new $APP.ve(B_,this.fc,null),new $APP.ve(L_,this.Lc,null),new $APP.ve(M_,this.Mc,null),new $APP.ve(N_,this.vc,null),new $APP.ve(O_,this.Cc,null),new $APP.ve(P_,this.Bc,null),new $APP.ve(Q_,this.hash,null)],null),this.o))};
$APP.g.X=function(a,b){return new $APP.H_(this.rc,this.Wb,this.tc,this.fc,this.Lc,this.Mc,this.vc,this.Cc,this.Bc,this.hash,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};
$APP.g.Ji=function(a,b){a:for(var c=$APP.J_.g(b),d=b=a=$APP.qg,e=this.Wb;;){if($APP.ae(e)){var f=new $APP.H(null,3,5,$APP.I,[$APP.yf(a),$APP.yf($APP.fh.h(b,c)),$APP.yf(d)],null);break a}if($APP.ae(c)){f=new $APP.H(null,3,5,$APP.I,[$APP.yf($APP.fh.h(a,e)),$APP.yf(b),$APP.yf(d)],null);break a}var h=$APP.v(e),m=$APP.v(c);try{f=r_.h?r_.h(h,m):r_.call(null,h,m)}catch(r){if(r instanceof Error)f=jTa;else throw r;}if($APP.z.h(f,jTa))a=$APP.We.h(a,h),b=$APP.We.h(b,m),e=$APP.y(e),c=$APP.y(c);else if(0===f)d=
$APP.We.h(d,h),e=$APP.y(e),c=$APP.y(c);else if(0>f)a=$APP.We.h(a,h),e=$APP.y(e);else if(0<f)b=$APP.We.h(b,m),c=$APP.y(c);else{f=null;break a}}return f};$APP.g.Ka=$APP.cd;$APP.g.V=function(a,b,c){return q5(this,b,c)};$APP.g.sh=$APP.cd;$APP.g.aa=function(){return $APP.Gd(this.Wb)};$APP.g.Wj=$APP.cd;$APP.g.bd=function(){return $APP.ic(this.Wb)};$APP.g.Vf=$APP.cd;$APP.g.Y=function(){return n5(this)};$APP.g.R=function(a,b){return p5(this,b)};$APP.g.th=$APP.cd;
$APP.g.qe=function(){return $APP.Am.j($APP.Am.j($APP.Am.j(this,$APP.J_,$APP.rf),K_,$APP.rf),B_,$APP.rf)};$APP.g.uh=$APP.cd;$APP.g.Ja=function(){return $APP.Wd(r1(new $APP.k(null,5,[$APP.I_,this.rc,N_,this.vc,$APP.J_,$APP.Sd(this.Wb),K_,$APP.Sd(this.tc),B_,$APP.Sd(this.fc)],null)),$APP.Xd(this))};$APP.g.Zd=function(){throw $APP.Al.h("datascript.DB/conj! is not supported",$APP.wf);};$APP.g.Ge=function(){return $APP.Am.j($APP.Am.j($APP.Am.j(this,$APP.J_,$APP.sf),K_,$APP.sf),B_,$APP.sf)};$APP.g.Ki=function(){return mUa};
$APP.g.Oh=function(a,b,c,d,e,f){D_(this,b,c,d,e,f);return RZ($APP.D.h(this,b),s5(this,b,c,d,e,f,0,536870912),s5(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.Rh=function(a,b,c,d,e,f){D_(this,b,c,d,e,f);return RZ($APP.D.h(this,b),s5(this,b,c,d,e,f,0,536870912),i_.F(2147483647,null,null,2147483647))};$APP.g.Qh=function(a,b,c,d,e,f){D_(this,b,c,d,e,f);return SZ($APP.D.h(this,b),s5(this,b,c,d,e,f,2147483647,2147483647),i_.F(0,null,null,536870912))};
$APP.g.Ph=function(a,b,c,d){D_(this,B_,b,null,null,null);if(!(b instanceof $APP.G||"string"===typeof b))throw a=new $APP.E(null,LTa,new $APP.E(null,P4,new $APP.E(null,b,new $APP.E(null,c,new $APP.E(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([b]))," at ",$APP.aj.l($APP.C([a])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,b,S0,a,$APP.TI,C0],null));return RZ(this.fc,r5(this,null,b,c,null,0,536870912),r5(this,null,b,d,null,
2147483647,2147483647))};$APP.g.Lh=$APP.cd;$APP.g.Nh=function(){return this.rc};$APP.g.Mh=function(a,b){a=this.vc;return a.g?a.g(b):a.call(null,b)};$APP.g.Li=$APP.cd;
$APP.g.Sh=function(a,b){a=$APP.A.j(b,0,null);var c=$APP.A.j(b,1,null),d=$APP.A.j(b,2,null),e=$APP.A.j(b,3,null);b=this.Wb;var f=this.tc,h=this.fc;$APP.ue(G_(this,X_),c);return $APP.l(a)?$APP.l(c)?null!=d?$APP.l(e)?RZ(b,i_.F(a,c,d,e),i_.F(a,c,d,e)):RZ(b,i_.F(a,c,d,536870912),i_.F(a,c,d,2147483647)):$APP.l(e)?$APP.Xi($APP.og.g(function(m){return $APP.z.h(e,m.ib(null))}),RZ(b,i_.F(a,c,null,536870912),i_.F(a,c,null,2147483647))):RZ(b,i_.F(a,c,null,536870912),i_.F(a,c,null,2147483647)):null!=d?$APP.l(e)?
$APP.Xi($APP.og.g(function(m){return $APP.z.h(d,m.v)&&$APP.z.h(e,m.ib(null))}),RZ(b,i_.F(a,null,null,536870912),i_.F(a,null,null,2147483647))):$APP.Xi($APP.og.g(function(m){return $APP.z.h(d,m.v)}),RZ(b,i_.F(a,null,null,536870912),i_.F(a,null,null,2147483647))):$APP.l(e)?$APP.Xi($APP.og.g(function(m){return $APP.z.h(e,m.ib(null))}),RZ(b,i_.F(a,null,null,536870912),i_.F(a,null,null,2147483647))):RZ(b,i_.F(a,null,null,536870912),i_.F(a,null,null,2147483647)):$APP.l(c)?null!=d?$APP.l(e)?C_(this,c)?$APP.Xi($APP.og.g(function(m){return $APP.z.h(e,
m.ib(null))}),RZ(h,i_.F(0,c,d,536870912),i_.F(2147483647,c,d,2147483647))):$APP.Xi($APP.og.g(function(m){return $APP.z.h(d,m.v)&&$APP.z.h(e,m.ib(null))}),RZ(f,i_.F(0,c,null,536870912),i_.F(2147483647,c,null,2147483647))):C_(this,c)?RZ(h,i_.F(0,c,d,536870912),i_.F(2147483647,c,d,2147483647)):$APP.Xi($APP.og.g(function(m){return $APP.z.h(d,m.v)}),RZ(f,i_.F(0,c,null,536870912),i_.F(2147483647,c,null,2147483647))):$APP.l(e)?$APP.Xi($APP.og.g(function(m){return $APP.z.h(e,m.ib(null))}),RZ(f,i_.F(0,c,null,
536870912),i_.F(2147483647,c,null,2147483647))):RZ(f,i_.F(0,c,null,536870912),i_.F(2147483647,c,null,2147483647)):null!=d?$APP.l(e)?$APP.og.h(function(m){return $APP.z.h(d,m.v)&&$APP.z.h(e,m.ib(null))},b):$APP.og.h(function(m){return $APP.z.h(d,m.v)},b):$APP.l(e)?$APP.og.h(function(m){return $APP.z.h(e,m.ib(null))},b):b};$APP.g=S_.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":return this.wc;case "pred":return this.cc;case "hash":return this.hash;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z4,this.wc],null),new $APP.H(null,2,5,$APP.I,[$APP.jB,this.cc],null),new $APP.H(null,2,5,$APP.I,[Q_,this.hash],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[Z4,$APP.jB,Q_],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new S_(this.wc,this.cc,this.hash,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-351969977^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.wc,b.wc)&&$APP.z.h(this.cc,b.cc)&&$APP.z.h(this.hash,b.hash)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[Q_,null,$APP.jB,null,Z4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new S_(this.wc,this.cc,this.hash,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(Z4,b):$APP.bf.call(null,Z4,b))?new S_(c,this.cc,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.jB,b):$APP.bf.call(null,$APP.jB,b))?new S_(this.wc,c,this.hash,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(Q_,b):$APP.bf.call(null,Q_,b))?new S_(this.wc,this.cc,c,this.B,this.o,null):new S_(this.wc,this.cc,this.hash,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve(Z4,this.wc,null),new $APP.ve($APP.jB,this.cc,null),new $APP.ve(Q_,this.hash,null)],null),this.o))};$APP.g.X=function(a,b){return new S_(this.wc,this.cc,this.hash,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.yi=$APP.cd;$APP.g.fa=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.N=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.Ka=$APP.cd;$APP.g.V=function(a,b,c){return q5(this,b,c)};$APP.g.sh=$APP.cd;$APP.g.aa=function(){return $APP.Gd(x_(this,$APP.J_,null,null,null,null))};$APP.g.Vf=$APP.cd;$APP.g.Y=function(){return o5(this)};$APP.g.R=function(a,b){return p5(this,b)};$APP.g.uh=$APP.cd;$APP.g.Ja=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.rh=$APP.cd;
$APP.g.ka=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.U=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.Oh=function(a,b,c,d,e,f){return $APP.og.h(this.cc,x_(this.wc,b,c,d,e,f))};$APP.g.Rh=function(a,b,c,d,e,f){return $APP.og.h(this.cc,y_(this.wc,b,c,d,e,f))};$APP.g.Qh=function(a,b,c,d,e,f){return $APP.og.h(this.cc,z_(this.wc,b,c,d,e,f))};$APP.g.Ph=function(a,b,c,d){return $APP.og.h(this.cc,A_(this.wc,b,c,d))};$APP.g.Lh=$APP.cd;
$APP.g.Nh=function(){return F_(this.wc)};$APP.g.Mh=function(a,b){return G_(this.wc,b)};$APP.g.Li=$APP.cd;$APP.g.Sh=function(a,b){return $APP.og.h(this.cc,v_(this.wc,b))};r1=function(a){a=$APP.xf(a);$APP.D.h(a,$APP.I_);$APP.D.h(a,$APP.J_);$APP.D.h(a,K_);$APP.D.h(a,B_);$APP.D.h(a,L_);$APP.D.h(a,M_);return null};
r1=function(a){var b=$APP.xf(a);a=$APP.D.h(b,$APP.I_);var c=$APP.D.h(b,$APP.J_),d=$APP.D.h(b,K_),e=$APP.D.h(b,B_),f=$APP.D.h(b,L_),h=$APP.D.h(b,M_);h=$APP.l(h)?h:536870912;var m=$APP.cj.g(0);f=$APP.l(f)?f:0;var r=SY(),n=SY();b=N_.g(b);b=$APP.l(b)?b:e0($APP.pl.l($APP.C([new $APP.k(null,1,[c0,new $APP.k(null,1,[T_,U_],null)],null),a])));return R_($APP.Ih([$APP.I_,M_,Q_,K_,B_,L_,$APP.J_,P_,O_,N_],[a,h,m,d,e,f,c,r,n,b]))};n5=function(){return null};
n5=function(a){var b=$APP.q(a.hash);return 0===b?$APP.ag(a.hash,e_($APP.dd(a.rc),$APP.dd(a.Wb))):b};o5=function(){return null};o5=function(a){var b=$APP.q(a.hash);(function(){var c=x_(a,$APP.J_,null,null,null,null);return $APP.l(c)?c:$APP.di})();return 0===b?(b=function(){var c=x_(a,$APP.J_,null,null,null,null);return $APP.l(c)?c:$APP.di}(),$APP.ag(a.hash,e_($APP.dd(F_(a)),$APP.rd(b)))):b};p5=function(){return null};
p5=function(a,b){var c;if(c=b instanceof $APP.H_||b instanceof S_)if(c=$APP.z.h(F_(a),F_(b)))a:for(a=x_(a,$APP.J_,null,null,null,null),c=x_(b,$APP.J_,null,null,null,null),b=$APP.u(a),a=$APP.u(c);;){if(null==b){c=null==a;break a}if($APP.z.h($APP.v(b),$APP.v(a)))b=$APP.y(b),a=$APP.y(a);else{c=!1;break a}}return c};q5=function(){return null};
q5=function(a,b,c){$APP.nc(b,"#datascript/DB {");$APP.nc(b,":schema ");$APP.Hi(F_(a),b,c);$APP.nc(b,", :datoms ");$APP.Ci(b,function(d,e,f){return $APP.Ci(e,$APP.Hi,"["," ","]",f,new $APP.H(null,4,5,$APP.I,[d.e,d.a,d.v,$APP.f_(d)],null))},"["," ","]",c,x_(a,$APP.J_,null,null,null,null));return $APP.nc(b,"}")};
var F0=function F0(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(F0),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);},E0=function E0(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(E0),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);};r5=function(){return null};
r5=function(a,b,c,d,e,f,h){if(null!=c&&!(c instanceof $APP.G||"string"===typeof c))throw a=new $APP.E(null,mWa,new $APP.E(null,P4,new $APP.E(null,b,new $APP.E(null,c,new $APP.E(null,d,new $APP.E(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([c]))," at ",$APP.aj.l($APP.C([a])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,c,S0,a,$APP.TI,C0],null));return i_.F(null!=b?F0(a,b):f,c,null!=d&&E0(a,c)?F0(a,d):d,null!=e?F0(a,
e):h)};s5=function(){return null};s5=function(a,b,c,d,e,f,h,m){b=b instanceof $APP.G?b.S:null;switch(b){case "eavt":return r5(a,c,d,e,f,h,m);case "aevt":return r5(a,d,c,e,f,h,m);case "avet":return r5(a,e,c,d,f,h,m);default:throw Error(["No matching clause: ",$APP.p.g(b)].join(""));}};$APP.g=q0.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db-before":return this.Ad;case "db-after":return this.zd;case "tx-data":return this.Dd;case "tempids":return this.Bd;case "tx-meta":return this.Ed;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[r0,this.Ad],null),new $APP.H(null,2,5,$APP.I,[s0,this.zd],null),new $APP.H(null,2,5,$APP.I,[t0,this.Dd],null),new $APP.H(null,2,5,$APP.I,[u0,this.Bd],null),new $APP.H(null,2,5,$APP.I,[v0,this.Ed],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,5,new $APP.H(null,5,5,$APP.I,[r0,s0,t0,u0,v0],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new q0(this.Ad,this.zd,this.Dd,this.Bd,this.Ed,this.B,this.o,this.D)};$APP.g.aa=function(){return 5+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2022644885^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ad,b.Ad)&&$APP.z.h(this.zd,b.zd)&&$APP.z.h(this.Dd,b.Dd)&&$APP.z.h(this.Bd,b.Bd)&&$APP.z.h(this.Ed,b.Ed)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,5,[u0,null,s0,null,r0,null,t0,null,v0,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new q0(this.Ad,this.zd,this.Dd,this.Bd,this.Ed,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(r0,b):$APP.bf.call(null,r0,b))?new q0(c,this.zd,this.Dd,this.Bd,this.Ed,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(s0,b):$APP.bf.call(null,s0,b))?new q0(this.Ad,c,this.Dd,this.Bd,this.Ed,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(t0,b):$APP.bf.call(null,t0,b))?new q0(this.Ad,this.zd,c,this.Bd,this.Ed,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(u0,b):$APP.bf.call(null,u0,b))?new q0(this.Ad,this.zd,this.Dd,c,this.Ed,this.B,this.o,
null):$APP.l($APP.bf.h?$APP.bf.h(v0,b):$APP.bf.call(null,v0,b))?new q0(this.Ad,this.zd,this.Dd,this.Bd,c,this.B,this.o,null):new q0(this.Ad,this.zd,this.Dd,this.Bd,this.Ed,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.ve(r0,this.Ad,null),new $APP.ve(s0,this.zd,null),new $APP.ve(t0,this.Dd,null),new $APP.ve(u0,this.Bd,null),new $APP.ve(v0,this.Ed,null)],null),this.o))};
$APP.g.X=function(a,b){return new q0(this.Ad,this.zd,this.Dd,this.Bd,this.Ed,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};w0=function(a,b,c){return $APP.ue(G_(a,c),b)};x0=function(a,b){return w0(a,b,X_)};y0=function(a,b,c){return w0(a,b,X_)&&(WY(c)||$APP.be(c)&&!$APP.ee(c))};E0=function(){return null};E0=function(a,b){return w0(a,b,Y_)};z0=function(a,b){return w0(a,b,Z_)};C_=function(){return null};
C_=function(a,b){return w0(a,b,V_)};A0=function(a,b){return w0(a,b,a0)};oQa=function(a,b){return w0(a,b,d0)};B0=function(a){if(a instanceof $APP.G)return $APP.z.h("_",$APP.A.h($APP.ji(a),0));if("string"===typeof a)return $APP.Pa($APP.vi(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Al.h(["Bad attribute type: ",$APP.aj.l($APP.C([a])),", expected keyword or string"].join(""),new $APP.k(null,2,[$APP.TI,C0,g0,a],null));};
G0=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Al.h(["Highest supported entity id is ",$APP.aj.l($APP.C([2147483647])),", got ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,N0,$APP.$I,b],null));return b}if($APP.de(b)){var c=b,d=$APP.A.j(c,0,null);c=$APP.A.j(c,1,null);if($APP.Zh.h($APP.Gd(b),2))throw $APP.Al.h(["Lookup ref should contain 2 elements: ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,HTa,N0,b],null));if(w0(a,d,T_))return A0(a,
d)?(b=pQa(a,d,c),$APP.nL.g($APP.v(x_(a,B_,d,b,null,null)))):null==c?null:$APP.nL.g($APP.v(x_(a,B_,d,c,null,null)));throw $APP.Al.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,oTa,N0,b],null));}if($APP.gb(b))b=$APP.C(b);else{if(b instanceof $APP.G)return $APP.nL.g($APP.v(x_(a,B_,c0,b,null,null)));throw $APP.Al.h(["Expected number or lookup ref for entity id, got ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,RUa,
N0,b],null));}}};qQa=function(a,b){return $APP.z.h(b,$APP.nL.g($APP.v(y_(a,$APP.J_,b,null,null,null))))};F0=function(){return null};F0=function(a,b){a=G0(a,b);if($APP.l(a))return a;throw $APP.Al.h(["Nothing found for entity id ",$APP.aj.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.TI,YTa,N0,b],null));};var rQa=$APP.cj.g(0);H0.prototype.V=function(a,b,c){return $APP.Ci(b,$APP.Hi,"#datascript/AutoTempid ["," ","]",c,new $APP.H(null,1,5,$APP.I,[this.id],null))};
UY=function(a){return a instanceof H0};
var t5=function t5(a,b){return function f(e){return new $APP.gf(null,function(){for(;;){var h=$APP.u(e);if(h){var m=h;if($APP.je(m)){var r=$APP.Kc(m),n=$APP.Gd(r),w=$APP.jf(n);return function(){for(var B=0;;)if(B<n){var F=$APP.Td(r,B);$APP.nf(w,$APP.ee(F)?$APP.Ge(function(){return function(M,U,Y){return U instanceof $APP.G||"string"===typeof U?E0(a,U)&&y0(a,U,Y)?$APP.$h.j(M,U,t5.h?t5.h(a,Y):t5.call(null,a,Y)):E0(a,U)?$APP.$h.j(M,U,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Y],null);return t5.h?
t5.h(a,ba):t5.call(null,a,ba)}())):B0(U)&&$APP.de(Y)?$APP.$h.j(M,U,t5.h?t5.h(a,Y):t5.call(null,a,Y)):B0(U)?$APP.$h.j(M,U,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Y],null);return t5.h?t5.h(a,ba):t5.call(null,a,ba)}())):$APP.$h.j(M,U,Y):$APP.$h.j(M,U,Y)}}(B,F,r,n,w,m,h),$APP.wf,$APP.ue(F,U0)?F:$APP.$h.j(F,U0,new H0)):function(){var M=$APP.dg(null);if(function(){var la=$APP.de(F);if(la){la=$APP.Rc(M,F);var ta=$APP.A.j(la,0,null);$APP.A.j(la,1,null);var pa=$APP.A.j(la,2,null);$APP.A.j(la,
3,null);return $APP.z.h(V0,ta)&&E0(a,pa)&&!0}return la}()){var U=$APP.q(M),Y=$APP.A.j(U,0,null),ba=$APP.A.j(U,1,null),ca=$APP.A.j(U,2,null),ea=$APP.A.j(U,3,null);return y0(a,ca,ea)?new $APP.H(null,4,5,$APP.I,[Y,ba,ca,t5.h?t5.h(a,ea):t5.call(null,a,ea)],null):new $APP.H(null,4,5,$APP.I,[Y,ba,ca,$APP.v(function(){var la=new $APP.H(null,1,5,$APP.I,[ea],null);return t5.h?t5.h(a,la):t5.call(null,a,la)}())],null)}return F}());B+=1}else return!0}()?$APP.mf($APP.of(w),f($APP.Lc(m))):$APP.mf($APP.of(w),null)}var x=
$APP.v(m);return $APP.$e($APP.ee(x)?$APP.Ge(function(){return function(B,F,M){return F instanceof $APP.G||"string"===typeof F?E0(a,F)&&y0(a,F,M)?$APP.$h.j(B,F,t5.h?t5.h(a,M):t5.call(null,a,M)):E0(a,F)?$APP.$h.j(B,F,$APP.v(function(){var U=new $APP.H(null,1,5,$APP.I,[M],null);return t5.h?t5.h(a,U):t5.call(null,a,U)}())):B0(F)&&$APP.de(M)?$APP.$h.j(B,F,t5.h?t5.h(a,M):t5.call(null,a,M)):B0(F)?$APP.$h.j(B,F,$APP.v(function(){var U=new $APP.H(null,1,5,$APP.I,[M],null);return t5.h?t5.h(a,U):t5.call(null,
a,U)}())):$APP.$h.j(B,F,M):$APP.$h.j(B,F,M)}}(x,m,h),$APP.wf,$APP.ue(x,U0)?x:$APP.$h.j(x,U0,new H0)):function(){var B=$APP.dg(null);if(function(){var ca=$APP.de(x);if(ca){ca=$APP.Rc(B,x);var ea=$APP.A.j(ca,0,null);$APP.A.j(ca,1,null);var la=$APP.A.j(ca,2,null);$APP.A.j(ca,3,null);return $APP.z.h(V0,ea)&&E0(a,la)&&!0}return ca}()){var F=$APP.q(B),M=$APP.A.j(F,0,null),U=$APP.A.j(F,1,null),Y=$APP.A.j(F,2,null),ba=$APP.A.j(F,3,null);return y0(a,Y,ba)?new $APP.H(null,4,5,$APP.I,[M,U,Y,t5.h?t5.h(a,ba):
t5.call(null,a,ba)],null):new $APP.H(null,4,5,$APP.I,[M,U,Y,$APP.v(function(){var ca=new $APP.H(null,1,5,$APP.I,[ba],null);return t5.h?t5.h(a,ca):t5.call(null,a,ca)}())],null)}return x}(),f($APP.nd(m)))}return null}},null,null)}(b)},a1=function a1(a,b){throw $APP.Al.h(["Not implemented: (",$APP.p.g(a1),$APP.Om.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.wf);},tWa=new $APP.ci(null,new $APP.k(null,8,[b5,null,bVa,null,Z0,null,GUa,null,c1,null,FTa,null,iWa,null,V0,null],null),null);
a1=function(){return null};
a1=function(a,b){for(var c=!$APP.ae(G_(s0.g(a),a0)),d=c?$APP.Fm.h(b,$APP.Lm.g(SUa)):b,e=a,f=d;;){if($APP.ae(f))return $APP.Am.P($APP.Am.P($APP.Am.j($APP.ql.h($APP.ql.h(LQa(e),$0),L0),u0,function(){return function(wd){return MPa(wd)}}(e,f,a,c,d)),u0,$APP.$h,sQa,I0(e)),s0,$APP.Am,M_,$APP.ud);var h=f,m=$APP.u(h),r=$APP.v(m),n=$APP.y(m),w=r,x=n;if(null==w)f=x;else if($APP.z.h(SUa,w))if($APP.ue(e,Q0)){var B=$APP.ql.h(e,Q0),F=$APP.K.h(KQa(e),x);e=B;f=F}else f=x;else{var M=s0.g(e),U=u0.g(e);if($APP.ee(w)){var Y=
U0.g(w);NQa(w);if(J0(Y)){var ba=I0(e),ca=M0(e,Y,ba),ea=$APP.$e($APP.$h.j(w,U0,ba),x);e=ca;f=ea}else if($APP.de(Y)){ba=F0(M,Y);var la=e,ta=$APP.$e($APP.$h.j(w,U0,ba),x);e=la;f=ta}else{var pa=CQa(M,w),V=$APP.A.j(pa,0,null),P=$APP.A.j(pa,1,null),X=FQa(V,P);if(null!=X){if(K0(Y)&&$APP.ue(U,Y)&&$APP.Zh.h(X,$APP.D.h(U,Y)))return b1(a,e,b,Y,X);var R=$APP.Am.F(M0(e,Y,X),W0,IQa,i_.F(X,null,null,536870912)),W=$APP.K.h(HQa(M,$APP.$h.j(V,U0,X)),x);e=R;f=W}else if("number"===typeof Y||null==Y||"string"===typeof Y||
UY(Y)){var ja=e,na=$APP.K.h(HQa(M,w),x);e=ja;f=na}else throw $APP.Al.h(["Expected number, string or lookup ref for :db/id, got ",$APP.aj.l($APP.C([Y]))].join(""),new $APP.k(null,2,[$APP.TI,RUa,f1,w],null));}}else if($APP.de(w)){var oa=w,wa=$APP.A.j(oa,0,null),Ca=$APP.A.j(oa,1,null),La=$APP.A.j(oa,2,null),Ra=$APP.A.j(oa,3,null);if($APP.z.h(wa,b5)){var $a=$APP.u(w),jb=$APP.v($a),nb=$APP.y($a),db=jb,hb=$APP.v(nb),rb=$APP.y(nb),ub=e,Sb=$APP.K.h(t5(M,$APP.Xf.j(hb,M,rb)),x);e=ub;f=Sb}else if(wa instanceof
$APP.G&&$APP.ib(tWa.g?tWa.g(wa):tWa.call(null,wa))){var Zb=G0(M,wa);if(null==Zb)throw $APP.Al.h(["Can’t find entity for transaction fn ",$APP.aj.l($APP.C([wa]))].join(""),new $APP.k(null,3,[$APP.TI,C0,YVa,b5,t0,w],null));var tc=m0.g(w_(M,new $APP.H(null,2,5,$APP.I,[Zb,xTa],null)));rb=$APP.y(w);if($APP.Ud(tc)){var Gc=e,$d=$APP.K.h($APP.Xf.j(tc,M,rb),x);e=Gc;f=$d}else throw $APP.Al.h(["Entity ",$APP.aj.l($APP.C([wa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.k(null,3,[$APP.TI,
C0,YVa,b5,t0,w],null));}else{if(K0(Ca)&&$APP.Zh.h(wa,V0))throw $APP.Al.h(["Can't use tempid in '",$APP.aj.l($APP.C([w])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.k(null,2,[$APP.TI,C0,$APP.lG,w],null));if($APP.z.h(wa,iWa)||$APP.z.h(wa,bVa)){var pc=w;db=$APP.A.j(pc,0,null);var Xe=$APP.A.j(pc,1,null),Rf=$APP.A.j(pc,2,null),Lg=$APP.A.j(pc,3,null),Mg=$APP.A.j(pc,4,null),Ah=F0(M,Xe),xj=function(){var wd=Rf;if(wd instanceof $APP.G||"string"===typeof wd)return null;var fk=w;throw $APP.Al.h(["Bad entity attribute ",
$APP.aj.l($APP.C([wd]))," at ",$APP.aj.l($APP.C([fk])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,wd,S0,fk,$APP.TI,C0],null));}(),ug=E0(M,Rf)?F0(M,Lg):Lg,Bh=E0(M,Rf)?F0(M,Mg):Mg,ck=null==Bh?function(){var wd=w;throw $APP.Al.h(["Cannot store nil as a value at ",$APP.aj.l($APP.C([wd]))].join(""),new $APP.k(null,3,[$APP.$I,null,S0,wd,$APP.TI,C0],null));}():null,sd=$APP.Fe(v_(M,new $APP.H(null,2,5,$APP.I,[Ah,Rf],null)));if(x0(M,Rf))if($APP.l($APP.Vf(function(wd,fk,Qh,TD,oJ,pJ,qJ,UD,
rJ,sJ,rA){return function(Jr){return $APP.z.h(Jr.v,rA)}}(e,f,pc,db,Xe,Rf,Lg,Mg,Ah,xj,ug,Bh,ck,sd,oa,wa,Ca,La,Ra,M,U,h,m,r,n,w,x,a,c,d),sd))){var Ri=X0(e,new $APP.H(null,4,5,$APP.I,[V0,Ah,Rf,Bh],null)),Di=x;e=Ri;f=Di}else throw $APP.Al.h([":db.fn/cas failed on datom [",$APP.aj.l($APP.C([Ah]))," ",$APP.aj.l($APP.C([Rf]))," ",$APP.aj.l($APP.C([$APP.Ii.h(m0,sd)])),"], expected ",$APP.aj.l($APP.C([ug]))].join(""),new $APP.k(null,4,[$APP.TI,zUa,oVa,sd,$APP.xG,ug,YUa,Bh],null));else{var hi=m0.g($APP.v(sd));
if($APP.z.h(hi,ug)){var oc=X0(e,new $APP.H(null,4,5,$APP.I,[V0,Ah,Rf,Bh],null)),$c=x;e=oc;f=$c}else throw $APP.Al.h([":db.fn/cas failed on datom [",$APP.aj.l($APP.C([Ah]))," ",$APP.aj.l($APP.C([Rf]))," ",$APP.aj.l($APP.C([hi])),"], expected ",$APP.aj.l($APP.C([ug]))].join(""),new $APP.k(null,4,[$APP.TI,zUa,oVa,$APP.v(sd),$APP.xG,ug,YUa,Bh],null));}}else if(J0(Ca)){var he=M0(e,Ca,I0(e)),Sf=$APP.$e(new $APP.H(null,4,5,$APP.I,[wa,I0(e),La,Ra],null),x);e=he;f=Sf}else if(E0(M,La)&&J0(Ra)){var ze=M0(e,
Ra,I0(e)),Nh=$APP.$e(new $APP.H(null,4,5,$APP.I,[wa,Ca,La,I0(e)],null),x);e=ze;f=Nh}else if(E0(M,La)&&K0(Ra))if(Zb=$APP.D.h(U,Ra),null==Zb){var jg=$APP.Le(L_.g(M))+1,Hd=$APP.Am.P(M0(e,Ra,jg),e1,$APP.$h,jg,Ra),Mf=f;e=Hd;f=Mf}else{jg=Zb;var yj=Hd=$APP.Am.P(e,e1,$APP.$h,jg,Ra),Cg=$APP.$e(new $APP.H(null,4,5,$APP.I,[wa,Ca,La,jg],null),x);e=yj;f=Cg}else{var Oh=$APP.dg(null);if(function(){var wd=$APP.z.h(wa,V0)||$APP.z.h(wa,c1);return wd?(wd=$APP.ib(d1.g($APP.Xd(w))))?(wd=A0(M,La))?(wd=$APP.eg(Oh,pQa(M,
La,Ra)),$APP.Zh.h(Ra,wd)&&!0):wd:wd:wd}()){var Kl=$APP.q(Oh),dk=e,fo=$APP.$e(new $APP.H(null,4,5,$APP.I,[wa,Ca,La,Kl],null),x);e=dk;f=fo}else if(K0(Ca)){X=w0(M,La,U_)?$APP.nL.g($APP.v(x_(M,B_,La,Ra,null,null))):null;var Si=$APP.D.h(U,Ca);if($APP.l(function(){var wd=X;return $APP.l(wd)?(wd=Si,$APP.l(wd)?$APP.Zh.h(X,Si):wd):wd}()))return b1(a,e,b,Ca,X);var Sm=function(){var wd=X;if($APP.l(wd))return wd;wd=Si;return $APP.l(wd)?wd:$APP.Le(L_.g(M))+1}(),Ei=M0(e,Ca,Sm),go=$APP.$e(new $APP.H(null,4,5,$APP.I,
[wa,Sm,La,Ra],null),x);e=Ei;f=go}else{var se=$APP.dg(null);if($APP.l(function(){var wd=w0(M,La,U_);if(wd){if(wd=$APP.ue(L0.g(e),Ca)){wd=$APP.eg(se,$APP.nL.g($APP.v(x_(M,B_,La,Ra,null,null))));var fk=Ca;return $APP.l(fk)?$APP.l(wd)?$APP.Zh.h(Ca,wd)&&!0:wd:fk}return wd}return wd}())){X=$APP.q(se);var ek=$APP.D.h(L0.g(e),Ca),Tm=LPa(function(wd){return function(fk){return!$APP.ue($0.g(wd),fk)}}(e,f,ek,X,se,Oh,oa,wa,Ca,La,Ra,M,U,h,m,r,n,w,x,a,c,d),ek);if($APP.l(Tm))return b1(a,e,b,Tm,X);throw $APP.Al.h(["Conflicting upsert: ",
$APP.aj.l($APP.C([Ca]))," resolves to ",$APP.aj.l($APP.C([X]))," via ",$APP.aj.l($APP.C([w]))].join(""),new $APP.k(null,1,[$APP.TI,T0],null));}if($APP.ib(d1.g($APP.Xd(w)))&&A0(M,La)){var Tk=$APP.Ao.h(M,new $APP.H(null,3,5,$APP.I,[$APP.I_,La,$_],null));if($APP.z.h($APP.Gd(Tk),$APP.Gd(Ra))&&$APP.Qf($APP.kb,Ra)&&$APP.Qf(function(wd,fk,Qh,TD,oJ,pJ,qJ,UD,rJ,sJ,rA){return function(Jr){var Pw=$APP.A.j(Jr,0,null);Jr=$APP.A.j(Jr,1,null);Pw=m0.g($APP.v(x_(rA,$APP.J_,UD,Pw,null,null)));return $APP.z.h(Jr,Pw)}}(e,
f,Tk,se,Oh,oa,wa,Ca,La,Ra,M,U,h,m,r,n,w,x,a,c,d),$APP.Ii.j($APP.rv,Tk,Ra)))f=x;else throw $APP.Al.h(["Can’t modify tuple attrs directly: ",$APP.aj.l($APP.C([w]))].join(""),new $APP.k(null,2,[$APP.TI,C0,t0,w],null));}else if($APP.z.h(wa,V0)){var Ph=X0(e,w),Tf=x;e=Ph;f=Tf}else if($APP.z.h(wa,c1)&&null!=Ra)if(Zb=G0(M,Ca),null==Zb)f=x;else{Xe=Zb;hi=E0(M,La)?F0(M,Ra):Ra;var Uf=La;if(!(Uf instanceof $APP.G||"string"===typeof Uf)){var ad=w;throw $APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([Uf])),
" at ",$APP.aj.l($APP.C([ad])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,Uf,S0,ad,$APP.TI,C0],null));}if(null==hi){var fe=w;throw $APP.Al.h(["Cannot store nil as a value at ",$APP.aj.l($APP.C([fe]))].join(""),new $APP.k(null,3,[$APP.$I,null,S0,fe,$APP.TI,C0],null));}var wc=w_(M,new $APP.H(null,3,5,$APP.I,[Xe,La,hi],null));if(null==wc)f=x;else{var Ef=Y0(e,wc),ho=x;e=Ef;f=ho}}else if($APP.z.h(wa,FTa)||$APP.z.h(wa,c1))if(Zb=G0(M,Ca),null==Zb)f=x;else{Xe=Zb;db=function(){var wd=La;
if(wd instanceof $APP.G||"string"===typeof wd)return null;var fk=w;throw $APP.Al.h(["Bad entity attribute ",$APP.aj.l($APP.C([wd]))," at ",$APP.aj.l($APP.C([fk])),", expected keyword or string"].join(""),new $APP.k(null,3,[g0,wd,S0,fk,$APP.TI,C0],null));}();sd=$APP.Fe(v_(M,new $APP.H(null,2,5,$APP.I,[Xe,La],null)));var Ir=$APP.De.j(Y0,e,sd),pf=$APP.K.h(JQa(M,sd),x);e=Ir;f=pf}else if($APP.z.h(wa,Z0)||$APP.z.h(wa,GUa))if(Zb=G0(M,Ca),null==Zb)f=x;else{Xe=Zb;var vg=$APP.Fe(v_(M,new $APP.H(null,1,5,$APP.I,
[Xe],null))),SD=$APP.Fe($APP.ng.l(function(wd,fk,Qh,TD,oJ,pJ,qJ,UD,rJ,sJ,rA,Jr,Pw){return function(fP){return v_(Pw,new $APP.H(null,3,5,$APP.I,[null,fP,TD],null))}}(e,f,vg,Xe,Zb,se,Oh,oa,wa,Ca,La,Ra,M,U,h,m,r,n,w,x,a,c,d),$APP.C([G_(M,Y_)]))),YO=$APP.De.j(Y0,e,$APP.K.h(vg,SD)),ZO=$APP.K.h(JQa(M,vg),x);e=YO;f=ZO}else throw $APP.Al.h(["Unknown operation at ",$APP.aj.l($APP.C([w])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.k(null,3,[$APP.TI,C0,YVa,wa,t0,w],null));}}}}else if(ZPa(w)){var Ow=w;Ca=$APP.A.j(Ow,0,null);La=$APP.A.j(Ow,1,null);Ra=$APP.A.j(Ow,2,null);var $O=$APP.A.j(Ow,3,null),aP=$APP.A.j(Ow,4,null);if($APP.l(aP)){var bP=X0(e,new $APP.H(null,5,5,$APP.I,[V0,Ca,La,Ra,$O],null)),cP=x;e=bP;f=cP}else{var dP=e,eP=$APP.$e(new $APP.H(null,4,5,$APP.I,[c1,Ca,La,Ra],null),x);e=dP;f=eP}}else throw $APP.Al.h(["Bad entity type at ",$APP.aj.l($APP.C([w])),", expected map or vector"].join(""),new $APP.k(null,2,[$APP.TI,
C0,t0,w],null));}}};var n1,p1=$APP.cj.g($APP.wf),o1=$APP.dg(1E6);$APP.g=j1.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "storage":return this.storage;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[UZ,this.storage],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[UZ],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new j1(this.storage,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1627330428^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.storage,b.storage)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[UZ,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new j1(this.storage,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "storage":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(UZ,b):$APP.bf.call(null,UZ,b))?new j1(c,this.B,this.o,null):new j1(this.storage,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(UZ,this.storage,null)],null),this.o))};$APP.g.X=function(a,b){return new j1(this.storage,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.Ui=function(a,b,c){a=$APP.l($APP.l(c)?b instanceof vZ&&$APP.ue($APP.gi(b.$c),c):c)?o1.hc(null,o1.Ia(null)+1):$APP.l(c)?c:o1.hc(null,o1.Ia(null)+1);c=$APP.Qm.h(i1,b.keys);c=new $APP.k(null,1,[$APP.Iy,c],null);b=b instanceof vZ?$APP.$h.j(c,iUa,b.$c):c;$APP.Rc(n1,$APP.pg.h($APP.q(n1),new $APP.H(null,2,5,$APP.I,[a,b],null)));return a};
$APP.g.Ti=function(a,b){if($APP.l(b)){a=h1(this.storage,b);a=$APP.xf(a);var c=$APP.D.h(a,$APP.Iy);a=$APP.D.h(a,iUa);if($APP.l(c)){c=VY($APP.Ii.h(function(e){var f=$APP.A.j(e,0,null),h=$APP.A.j(e,1,null),m=$APP.A.j(e,2,null);e=$APP.A.j(e,3,null);return i_.F(f,h,m,e)},c));if($APP.l(a)){var d=Array($APP.Gd(a));return wZ(c,d,a,b,!1)}return TZ.j(c,b,!1)}}return null};$APP.g.lk=function(){return null};
$APP.g.Si=function(a,b){return $APP.dj.F(p1,$APP.Am,this.storage,function(c){return $APP.fh.h(c,$APP.kr.h($APP.fb,b))})};var PQa=$APP.cj.g($APP.qg),C1=function C1(a){switch(arguments.length){case 1:return C1.g(arguments[0]);case 2:return C1.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};C1.g=function(a){var b=l1(a);if(null==b)throw $APP.Al.h("Database has no associated storage",$APP.wf);return q1(a,b,!1)};
C1.h=function(a,b){var c=l1(a);if(null==c)return $APP.J_.g(a),c=new j1(b,null,null,null),q1(a,c,!1);var d=UZ.g(c);if(d===b)return q1(a,c,!1);throw $APP.Al.h("Database is already stored with another IStorage",new $APP.k(null,1,[UZ,d],null));};C1.A=2;var u5=function u5(a){switch(arguments.length){case 1:return u5.g(arguments[0]);case 2:return u5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};u5.g=function(a){return u5.h(a,$APP.wf)};
u5.h=function(a,b){b=s1(a,b);a=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);return t1(a,b)};u5.A=2;$APP.g=v1.prototype;$APP.g.equiv=function(a){return this.R(null,a)};$APP.g.ef=function(a,b,c){a=$APP.u(this.sb);for(var d=null,e=0,f=0;;)if(f<e){var h=d.da(null,f),m=$APP.A.j(h,0,null);h=$APP.A.j(h,1,null);h.F?h.F(m,this,b,c):h.call(null,m,this,b,c);f+=1}else if(a=$APP.u(a))$APP.je(a)?(d=$APP.Kc(a),a=$APP.Lc(a),m=d,e=$APP.Gd(d),d=m):(d=$APP.v(a),m=$APP.A.j(d,0,null),h=$APP.A.j(d,1,null),h.F?h.F(m,this,b,c):h.call(null,m,this,b,c),a=$APP.y(a),d=null,e=0),f=0;else return null};
$APP.g.Ef=function(a,b,c){this.sb=$APP.$h.j(this.sb,b,c);return this};$APP.g.Ff=function(a,b){return this.sb=$APP.ql.h(this.sb,b)};$APP.g.R=function(a,b){return this===b};$APP.g.Y=function(){return $APP.ia(this)};$APP.g.Qc=function(a,b){return $APP.A.h(x1(this,$APP.Zf(b),$APP.md),1)};$APP.g.Yf=function(a,b){return $APP.A.h(x1(this,b,$APP.md),1)};$APP.g.Zf=function(a,b,c){return $APP.A.h(x1(this,b,new $APP.E(null,c,null,1,null)),1)};
$APP.g.$f=function(a,b,c,d){return $APP.A.h(x1(this,b,new $APP.E(null,c,new $APP.E(null,d,null,1,null),2,null)),1)};$APP.g.ag=function(a,b,c,d,e){return $APP.A.h(x1(this,b,$APP.$e(c,$APP.$e(d,e))),1)};$APP.g.W=function(){return this.K};$APP.g.Ia=function(){return w1.g($APP.q(this.Rf))};$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "atom":return this.Rf;default:return c}};
y1=function(a){switch(arguments.length){case 1:return y1.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return y1.l(arguments[0],new $APP.jd(b.slice(1),0,null))}};y1.g=function(a){return new v1(a,null,$APP.wf,$APP.wf)};y1.l=function(a,b){b=$APP.Xf.h($APP.jo,b);a=new v1(a,null,$APP.wf,$APP.wf);var c=$APP.iv.g(b);null!=c&&(WQa(c,$APP.q(a)),a.tf=c);b=$APP.Ta.g(b);null!=b&&(a.K=b);return a};
y1.G=function(a){var b=$APP.v(a);a=$APP.y(a);return this.l(b,a)};y1.A=1;A1.h=function(a,b){return A1.j(a,b,null)};A1.j=function(a,b,c){if(a instanceof S_)throw $APP.Al.h("Filtered DB cannot be modified",new $APP.k(null,1,[$APP.TI,aWa],null));a=new q0(a,a,$APP.qg,$APP.wf,c,null,null,null);if(null!=b&&!$APP.de(b))throw $APP.Al.h(["Bad transaction data ",$APP.aj.l($APP.C([b])),", expected sequential collection"].join(""),new $APP.k(null,2,[$APP.TI,C0,t0,b],null));b=t5(r0.g(a),b);return a1(a,b)};
A1.A=3;var v5=function v5(a){switch(arguments.length){case 1:return v5.g(arguments[0]);case 2:return v5.h(arguments[0],arguments[1]);case 3:return v5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};v5.g=function(a){return F1(n0(a,null,$APP.wf))};v5.h=function(a,b){return F1(n0(a,b,$APP.wf))};v5.j=function(a,b,c){return F1(n0(a,b,u1(c)))};v5.A=3;
var w5=function w5(a){switch(arguments.length){case 0:return w5.C();case 1:return w5.g(arguments[0]);case 2:return w5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};w5.C=function(){return F1(l0(null,$APP.wf))};w5.g=function(a){return F1(l0(a,$APP.wf))};w5.h=function(a,b){return F1(l0(a,u1(b)))};w5.A=2;
var x5=function x5(a){switch(arguments.length){case 1:return x5.g(arguments[0]);case 2:return x5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};x5.g=function(a){return x5.h(a,$APP.wf)};x5.h=function(a,b){b=s1(a,b);if(null==b)return null;a=$APP.A.j(b,0,null);b=$APP.A.j(b,1,null);return z1(new $APP.k(null,3,[w1,t1(a,b),D1,b,E1,a],null))};x5.A=2;
var y5=function y5(a){switch(arguments.length){case 2:return y5.h(arguments[0],arguments[1]);case 3:return y5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};y5.h=function(a,b){return y5.j(a,b,null)};
y5.j=function(a,b,c){b=YQa(a,b,c);a=$APP.u(BUa.g($APP.q($APP.NE.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.da(null,e);$APP.A.j(f,0,null);f=$APP.A.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.u(a))$APP.je(a)?(d=$APP.Kc(a),a=$APP.Lc(a),c=d,d=$APP.Gd(d)):(c=$APP.v(a),$APP.A.j(c,0,null),c=$APP.A.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.y(a),c=null,d=0),e=0;else break;return b};y5.A=3;
var z5=function z5(a){switch(arguments.length){case 2:return z5.h(arguments[0],arguments[1]);case 3:return z5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};z5.h=function(a,b){return z5.j(a,b,null)};
z5.j=function(a,b,c){var d=$APP.q(a);c=nQa(new $APP.k(null,4,[r0,d,s0,b,t0,$APP.K.h($APP.l(d)?$APP.Ii.h(function(m){return $APP.$h.j(m,$APP.Pz,!1)},x_(d,$APP.J_,null,null,null,null)):null,x_(b,$APP.J_,null,null,null,null)),v0,c],null));null==m1(d)?$APP.ag(a,b):(C1.g(b),$APP.dj.l($APP.NE.g(a),$APP.$h,w1,b,$APP.C([D1,$APP.qg,E1,b])));a=$APP.u(BUa.g($APP.q($APP.NE.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var h=d.da(null,f);$APP.A.j(h,0,null);h=$APP.A.j(h,1,null);h.g?h.g(c):h.call(null,c);f+=1}else if(a=
$APP.u(a))$APP.je(a)?(e=$APP.Kc(a),a=$APP.Lc(a),d=e,e=$APP.Gd(e)):(d=$APP.v(a),$APP.A.j(d,0,null),d=$APP.A.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.y(a),d=null,e=0),f=0;else break;return b};z5.A=3;var A5=function A5(a){switch(arguments.length){case 2:return A5.h(arguments[0],arguments[1]);case 3:return A5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};A5.h=function(a,b){return A5.j(a,$APP.Vv.C(),b)};
A5.j=function(a,b,c){$APP.dj.l($APP.NE.g(a),$APP.Am,BUa,$APP.$h,$APP.C([b,c]));return b};A5.A=3;$APP.g=M1.prototype;$APP.g.entry_set=function(){return $APP.Ee($APP.Ii.h($APP.Ee,L1(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.u(L1(this)),h=null,m=0,r=0;;)if(r<m){var n=h.da(null,r),w=$APP.A.j(n,0,null);n=$APP.A.j(n,1,null);d.call(e,n,w,this);r+=1}else if(f=$APP.u(f))$APP.je(f)?(h=$APP.Kc(f),f=$APP.Lc(f),w=h,m=$APP.Gd(h),h=w):(h=$APP.v(f),w=$APP.A.j(h,0,null),n=$APP.A.j(h,1,null),d.call(e,n,w,this),f=$APP.y(f),h=null,m=0),r=0;else return null}function b(d){for(var e=$APP.u(L1(this)),f=null,h=0,m=0;;)if(m<h){var r=f.da(null,m),n=$APP.A.j(r,0,null);r=$APP.A.j(r,1,null);
d.j?d.j(r,n,this):d.call(null,r,n,this);m+=1}else if(e=$APP.u(e))$APP.je(e)?(f=$APP.Kc(e),e=$APP.Lc(e),n=f,h=$APP.Gd(f),f=n):(f=$APP.v(e),n=$APP.A.j(f,0,null),r=$APP.A.j(f,1,null),d.j?d.j(r,n,this):d.call(null,r,n,this),e=$APP.y(e),f=null,h=0),m=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.z.h(a,":db/id"))return this.eid;if(B0(a))return J1($Qa(this.db,this.eid,D0(a),null));var b=B5.h?B5.h(this,a):B5.call(null,this,a);return x0(this.db,a)?J1(b):b};$APP.g.key_set=function(){return $APP.Ee($APP.Wh(this))};$APP.g.entries=function(){return $APP.Zg(L1(this))};$APP.g.value_set=function(){return $APP.Ee($APP.Ii.h($APP.Md,L1(this)))};$APP.g.toString=function(){return $APP.Uc(this)};$APP.g.keys=function(){return $APP.od($APP.Wh(this))};
$APP.g.values=function(){return $APP.od($APP.Ii.h($APP.Md,L1(this)))};$APP.g.equiv=function(a){return O1.h?O1.h(this,a):O1.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.fa=function(a,b){return B5.j?B5.j(this,b,null):B5.call(null,this,b,null)};$APP.g.N=function(a,b,c){return B5.j?B5.j(this,b,c):B5.call(null,this,b,c)};$APP.g.V=function(a,b,c){return $APP.rc($APP.$h.j($APP.q(this.cache),U0,this.eid),b,c)};$APP.g.aa=function(){K1.g?K1.g(this):K1.call(null,this);return $APP.Gd($APP.q(this.cache))};
$APP.g.Y=function(){return P1.g?P1.g(this):P1.call(null,this)};$APP.g.R=function(a,b){return O1.h?O1.h(this,b):O1.call(null,this,b)};$APP.g.ka=function(a,b){return $APP.Zh.h(fVa,B5.j?B5.j(this,b,fVa):B5.call(null,this,b,fVa))};$APP.g.Z=function(){K1.g?K1.g(this):K1.call(null,this);return $APP.u($APP.q(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.vb(b)))};$APP.g.g=function(a){return B5.h?B5.h(this,a):B5.call(null,this,a)};$APP.g.h=function(a,b){return B5.j?B5.j(this,a,b):B5.call(null,this,a,b)};
var B5=function B5(a){switch(arguments.length){case 2:return B5.h(arguments[0],arguments[1]);case 3:return B5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};B5.h=function(a,b){return B5.j(a,b,null)};
B5.j=function(a,b,c){if($APP.z.h(b,U0))return a.eid;if(B0(b))return $Qa(a.db,a.eid,D0(b),c);var d=$APP.q(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.l($APP.q(a.li)))return c;d=$APP.yf(v_(a.db,new $APP.H(null,2,5,$APP.I,[a.eid,b],null)));if(null==d)return c;c=ZQa(a.db,b,d);$APP.eg(a.cache,$APP.$h.j($APP.q(a.cache),b,c));return c}return d};B5.A=3;GPa("datascript.impl.entity.Entity",M1);var C5=function C5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return C5.l(0<c.length?new $APP.jd(c.slice(0),0,null):null)};C5.l=function(a){var b=$APP.Gd(a);return $APP.Zh.h($APP.hg.h(b/2,a),$APP.ig.h(b/2,a))};C5.A=0;C5.G=function(a){return this.l($APP.u(a))};var D5=function D5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D5.l(arguments[0],arguments[1],2<c.length?new $APP.jd(c.slice(2),0,null):null)};
D5.l=function(a,b,c){return $APP.De.j(function(d,e){d=$APP.v(v_(a,new $APP.H(null,2,5,$APP.I,[G0(a,b),e],null)));return null==d?null:$APP.xd(new $APP.H(null,2,5,$APP.I,[P0.g(d),m0.g(d)],null))},null,c)};D5.A=2;D5.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};var E5=function E5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E5.l(0<c.length?new $APP.jd(c.slice(0),0,null):null)};
E5.l=function(a){return $APP.De.j(function(b,c){return $APP.l(c)?c:$APP.xd(c)},!0,a)};E5.A=0;E5.G=function(a){return this.l($APP.u(a))};var F5=function F5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F5.l(0<c.length?new $APP.jd(c.slice(0),0,null):null)};F5.l=function(a){return $APP.De.j(function(b,c){return $APP.l(c)?$APP.xd(c):c},null,a)};F5.A=0;F5.G=function(a){return this.l($APP.u(a))};
var G5=function G5(a){switch(arguments.length){case 1:return G5.g(arguments[0]);case 2:return G5.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G5.l(arguments[0],arguments[1],new $APP.jd(c.slice(2),0,null))}};G5.g=function(){return!0};G5.h=function(a,b){return 0>l_(a,b)};G5.l=function(a,b,c){for(;;)if(G5.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return G5.h(b,$APP.v(c));else return!1};
G5.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};G5.A=2;var H5=function H5(a){switch(arguments.length){case 1:return H5.g(arguments[0]);case 2:return H5.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H5.l(arguments[0],arguments[1],new $APP.jd(c.slice(2),0,null))}};H5.g=function(){return!0};H5.h=function(a,b){return 0<l_(a,b)};
H5.l=function(a,b,c){for(;;)if(H5.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return H5.h(b,$APP.v(c));else return!1};H5.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};H5.A=2;
var I5=function I5(a){switch(arguments.length){case 1:return I5.g(arguments[0]);case 2:return I5.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I5.l(arguments[0],arguments[1],new $APP.jd(c.slice(2),0,null))}};I5.g=function(){return!0};I5.h=function(a,b){return!(0<l_(a,b))};I5.l=function(a,b,c){for(;;)if(I5.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return I5.h(b,$APP.v(c));else return!1};
I5.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};I5.A=2;var J5=function J5(a){switch(arguments.length){case 1:return J5.g(arguments[0]);case 2:return J5.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J5.l(arguments[0],arguments[1],new $APP.jd(c.slice(2),0,null))}};J5.g=function(){return!0};J5.h=function(a,b){return!(0>l_(a,b))};
J5.l=function(a,b,c){for(;;)if(J5.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return J5.h(b,$APP.v(c));else return!1};J5.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};J5.A=2;
var l2=$APP.Ih([$APP.xI,$APP.ns,$APP.Uw,pWa,$APP.MH,$APP.uF,$APP.EH,$APP.XE,AVa,$APP.qw,pUa,$APP.Yz,$APP.dm,$APP.TL,$APP.rC,$APP.rz,$APP.yD,s4,FUa,$APP.KG,$APP.AH,VTa,$APP.FH,$APP.wJ,$APP.XG,$APP.lz,cUa,VUa,$APP.Ox,$APP.iJ,$APP.KH,$APP.XD,$APP.UK,$APP.XK,$APP.TK,$APP.kx,$APP.VG,$APP.sA,bUa,$APP.px,$APP.RF,jVa,$APP.mG,$APP.KK,$APP.Py,$APP.yx,$APP.Fz,$APP.rx,$APP.sF,$APP.DH,$APP.mD,$APP.kJ,$APP.YG,$APP.lD,$APP.Fw,$APP.iG,$APP.tz,$APP.xA,$APP.hx,dUa,$APP.SH,$APP.jK,eWa,$APP.QA,$APP.Nz,$APP.yE,$APP.LB,
$APP.zE,AUa,$APP.YA,$APP.ss,$APP.nJ,$APP.SF,$APP.Zx],[$APP.le,E5,$APP.Jba,function(a,b,c,d){if(null==d)throw $APP.Al.h("get-else: nil default value is not supported",new $APP.k(null,1,[$APP.TI,q4],null));a=$APP.v(v_(a,new $APP.H(null,2,5,$APP.I,[G0(a,b),c],null)));return null==a?d:m0.g(a)},J5,$APP.Ov,H5,$APP.Gd,D5,$APP.fb,$APP.He,$APP.ud,$APP.Lu,$APP.Me,$APP.Oaa,$APP.ib,$APP.He,C5,$APP.rv,$APP.yi,I5,$APP.Mk,$APP.z,$APP.Qu,$APP.Ju,$APP.ji,function(a,b,c){return null==$APP.D.h(I1(a,b),c)},$APP.He,$APP.ej,
$APP.Yf,$APP.Hk,$APP.ko,$APP.xe,$APP.$m,$APP.Mm,$APP.ae,$APP.Ku,$APP.aj,F4,$APP.Xd,$APP.Qe,$APP.Zh,$APP.Mv,$APP.Ie,$APP.Ai,$APP.rv,$APP.Zh,$APP.D,$APP.p,G5,$APP.cf,$APP.Ji,$APP.Xn,$APP.kb,$APP.Pe,$APP.Vv,$APP.vi,$APP.J,$APP.ue,$APP.Tca,$APP.zi,$APP.Ke,$APP.Nk,$APP.jo,$APP.Ne,$APP.Wf,$APP.pb,$APP.Re,$APP.Lk,$APP.yf,F5,$APP.eb,$APP.gi,$APP.wi]),K5=function K5(a){switch(arguments.length){case 1:return K5.g(arguments[0]);case 2:return K5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.p.g(arguments.length)].join(""));}};K5.g=function(a){return $APP.De.j(function(b,c){return 0>$APP.xe(c,b)?c:b},$APP.v(a),$APP.y(a))};K5.h=function(a,b){return $APP.Fe($APP.De.j(function(c,d){return $APP.Gd(c)<a?$APP.lk.h($APP.xe,$APP.We.h(c,d)):0>$APP.xe(d,$APP.Rd(c))?$APP.lk.h($APP.xe,$APP.We.h($APP.ii(c),d)):c},$APP.qg,b))};K5.A=2;
var L5=function L5(a){switch(arguments.length){case 1:return L5.g(arguments[0]);case 2:return L5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};L5.g=function(a){return $APP.De.j(function(b,c){return 0<$APP.xe(c,b)?c:b},$APP.v(a),$APP.y(a))};L5.h=function(a,b){return $APP.Fe($APP.De.j(function(c,d){return $APP.Gd(c)<a?$APP.lk.h($APP.xe,$APP.We.h(c,d)):0<$APP.xe(d,$APP.v(c))?$APP.lk.h($APP.xe,$APP.We.h($APP.y(c),d)):c},$APP.qg,b))};
L5.A=2;var M5=function M5(a){switch(arguments.length){case 1:return M5.g(arguments[0]);case 2:return M5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};M5.g=function(a){return $APP.fj(a)};M5.h=function(a,b){return $APP.Fe($APP.Or.h(a,function(){return $APP.fj(b)}))};M5.A=2;
var uWa=$APP.Ih([BTa,$APP.XE,dWa,eVa,$APP.wJ,$APP.TK,KVa,$APP.oI,BVa,$Ua,$APP.iG,rUa],[dRa,$APP.Gd,function(a){var b=$APP.lk.g(a);a=$APP.Gd(a);var c=a>>1,d=$APP.A.h(b,c);return $APP.Wf(a)?(d+$APP.A.h(b,c-1))/2:d},Q1,K5,L5,function(a){return $APP.Gd($APP.Dv.g(a))},$APP.gi,cRa,function(a){return Math.sqrt(dRa(a))},M5,function(a,b){return $APP.Fe($APP.hg.h(a,$APP.Saa(b)))}]);$APP.g=R1.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "as":return this.as;case "default":return this.Fc;case "limit":return this.xb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.mc;case "recursive?":return this.ya;case "reverse?":return this.qc;case "xform":return this.zb;case "multival?":return this.lc;case "ref?":return this.nc;case "component?":return this.jc;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.qn,this.as],null),new $APP.H(null,2,5,$APP.I,[$APP.mm,this.Fc],null),new $APP.H(null,2,5,$APP.I,[S1,this.xb],null),new $APP.H(null,2,5,$APP.I,[$APP.O,this.name],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null),new $APP.H(null,2,5,$APP.I,[U1,this.mc],null),new $APP.H(null,2,5,$APP.I,
[V1,this.ya],null),new $APP.H(null,2,5,$APP.I,[W1,this.qc],null),new $APP.H(null,2,5,$APP.I,[X1,this.zb],null),new $APP.H(null,2,5,$APP.I,[Y1,this.lc],null),new $APP.H(null,2,5,$APP.I,[Z1,this.nc],null),new $APP.H(null,2,5,$APP.I,[$1,this.jc],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,12,new $APP.H(null,12,5,$APP.I,[$APP.qn,$APP.mm,S1,$APP.O,T1,U1,V1,W1,X1,Y1,Z1,$1],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,this.D)};$APP.g.aa=function(){return 12+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1743810262^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.as,b.as)&&$APP.z.h(this.default,b.default)&&$APP.z.h(this.xb,b.xb)&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.mc,b.mc)&&$APP.z.h(this.ya,b.ya)&&$APP.z.h(this.qc,b.qc)&&$APP.z.h(this.zb,b.zb)&&$APP.z.h(this.lc,b.lc)&&$APP.z.h(this.nc,b.nc)&&$APP.z.h(this.jc,b.jc)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,12,[X1,null,S1,null,W1,null,U1,null,$APP.mm,null,$APP.O,null,$APP.qn,null,V1,null,$1,null,Z1,null,Y1,null,T1,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.qn,b):$APP.bf.call(null,$APP.qn,b))?new R1(c,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.mm,b):$APP.bf.call(null,$APP.mm,b))?new R1(this.as,c,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(S1,b):$APP.bf.call(null,S1,b))?new R1(this.as,this.Fc,c,this.name,
this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.O,b):$APP.bf.call(null,$APP.O,b))?new R1(this.as,this.Fc,this.xb,c,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,b):$APP.bf.call(null,T1,b))?new R1(this.as,this.Fc,this.xb,this.name,c,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(U1,b):$APP.bf.call(null,
U1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,c,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V1,b):$APP.bf.call(null,V1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,c,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(W1,b):$APP.bf.call(null,W1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,c,this.zb,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?
$APP.bf.h(X1,b):$APP.bf.call(null,X1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,c,this.lc,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(Y1,b):$APP.bf.call(null,Y1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,c,this.nc,this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(Z1,b):$APP.bf.call(null,Z1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,c,
this.jc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($1,b):$APP.bf.call(null,$1,b))?new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,c,this.B,this.o,null):new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.ve($APP.qn,this.as,null),new $APP.ve($APP.mm,this.Fc,null),new $APP.ve(S1,this.xb,null),new $APP.ve($APP.O,this.name,null),new $APP.ve(T1,this.pattern,null),new $APP.ve(U1,this.mc,null),new $APP.ve(V1,this.ya,null),new $APP.ve(W1,this.qc,null),new $APP.ve(X1,this.zb,null),new $APP.ve(Y1,this.lc,null),new $APP.ve(Z1,this.nc,null),new $APP.ve($1,this.jc,null)],null),this.o))};
$APP.g.X=function(a,b){return new R1(this.as,this.Fc,this.xb,this.name,this.pattern,this.mc,this.ya,this.qc,this.zb,this.lc,this.nc,this.jc,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g=a2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.qa;case "first-attr":return this.dd;case "last-attr":return this.od;case "reverse-attrs":return this.Yc;case "wildcard?":return this.xc;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[b2,this.qa],null),new $APP.H(null,2,5,$APP.I,[c2,this.dd],null),new $APP.H(null,2,5,$APP.I,[d2,this.od],null),new $APP.H(null,2,5,$APP.I,[e2,this.Yc],null),new $APP.H(null,2,5,$APP.I,[f2,this.xc],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,5,new $APP.H(null,5,5,$APP.I,[b2,c2,d2,e2,f2],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new a2(this.qa,this.dd,this.od,this.Yc,this.xc,this.B,this.o,this.D)};$APP.g.aa=function(){return 5+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-795554044^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.dd,b.dd)&&$APP.z.h(this.od,b.od)&&$APP.z.h(this.Yc,b.Yc)&&$APP.z.h(this.xc,b.xc)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,5,[e2,null,c2,null,b2,null,f2,null,d2,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new a2(this.qa,this.dd,this.od,this.Yc,this.xc,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(b2,b):$APP.bf.call(null,b2,b))?new a2(c,this.dd,this.od,this.Yc,this.xc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(c2,b):$APP.bf.call(null,c2,b))?new a2(this.qa,c,this.od,this.Yc,this.xc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(d2,b):$APP.bf.call(null,d2,b))?new a2(this.qa,this.dd,c,this.Yc,this.xc,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(e2,b):$APP.bf.call(null,e2,b))?new a2(this.qa,this.dd,this.od,c,this.xc,this.B,this.o,
null):$APP.l($APP.bf.h?$APP.bf.h(f2,b):$APP.bf.call(null,f2,b))?new a2(this.qa,this.dd,this.od,this.Yc,c,this.B,this.o,null):new a2(this.qa,this.dd,this.od,this.Yc,this.xc,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.ve(b2,this.qa,null),new $APP.ve(c2,this.dd,null),new $APP.ve(d2,this.od,null),new $APP.ve(e2,this.Yc,null),new $APP.ve(f2,this.xc,null)],null),this.o))};
$APP.g.X=function(a,b){return new a2(this.qa,this.dd,this.od,this.Yc,this.xc,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};var mRa=eRa(new $APP.k(null,3,[$APP.O,U0,$APP.qn,U0,X1,$APP.He],null)),j2=g2(new $APP.k(null,1,[b2,new $APP.E(null,mRa,null,1,null)],null)),gRa=$APP.$h.j(j2,f2,!0);$APP.g=r2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db":return this.db;case "visitor":return this.ne;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[w1,this.db],null),new $APP.H(null,2,5,$APP.I,[E2,this.ne],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[w1,E2],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new r2(this.db,this.ne,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1727735959^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.db,b.db)&&$APP.z.h(this.ne,b.ne)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[w1,null,E2,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new r2(this.db,this.ne,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db":case "visitor":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(w1,b):$APP.bf.call(null,w1,b))?new r2(c,this.ne,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(E2,b):$APP.bf.call(null,E2,b))?new r2(this.db,c,this.B,this.o,null):new r2(this.db,this.ne,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve(w1,this.db,null),new $APP.ve(E2,this.ne,null)],null),this.o))};$APP.g.X=function(a,b){return new r2(this.db,this.ne,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g=v2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.$I,this.value],null),new $APP.H(null,2,5,$APP.I,[$APP.o0,this.va],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.$I,$APP.o0],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new v2(this.value,this.va,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=836381841^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.value,b.value)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.$I,null,$APP.o0,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new v2(this.value,this.va,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":case "datoms":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.$I,b):$APP.bf.call(null,$APP.$I,b))?new v2(c,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.o0,b):$APP.bf.call(null,$APP.o0,b))?new v2(this.value,c,this.B,this.o,null):new v2(this.value,this.va,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.$I,this.value,null),new $APP.ve($APP.o0,this.va,null)],null),this.o))};
$APP.g.X=function(a,b){return new v2(this.value,this.va,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g=w2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "acc":return this.ma;case "attr":return this.ia;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[G4,this.ma],null),new $APP.H(null,2,5,$APP.I,[V4,this.ia],null),new $APP.H(null,2,5,$APP.I,[$APP.o0,this.va],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[G4,V4,$APP.o0],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new w2(this.ma,this.ia,this.va,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1829867699^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ma,b.ma)&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[G4,null,$APP.o0,null,V4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new w2(this.ma,this.ia,this.va,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(G4,b):$APP.bf.call(null,G4,b))?new w2(c,this.ia,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V4,b):$APP.bf.call(null,V4,b))?new w2(this.ma,c,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.o0,b):$APP.bf.call(null,$APP.o0,b))?new w2(this.ma,this.ia,c,this.B,this.o,null):new w2(this.ma,this.ia,this.va,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve(G4,this.ma,null),new $APP.ve(V4,this.ia,null),new $APP.ve($APP.o0,this.va,null)],null),this.o))};$APP.g.X=function(a,b){return new w2(this.ma,this.ia,this.va,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};
$APP.g.eg=function(){for(var a=this,b=a.ma,c=a.va;;){var d=o2(c);if(null==d||$APP.Zh.h(d.a,a.ia.name))return new $APP.H(null,1,5,$APP.I,[new v2($APP.yf($APP.Bc(b)),function(){var h=c;return $APP.l(h)?h:$APP.md}(),null,null,null)],null);if($APP.l(function(){var h=a.ia.xb;return $APP.l(h)?$APP.Gd(b)>=a.ia.xb&&!0:h}()))for(var e=c;;){d=o2(e);if(null==d||$APP.Zh.h(d.a,a.ia.name))return new $APP.H(null,1,5,$APP.I,[new v2($APP.Bc(b),function(){var h=e;return $APP.l(h)?h:$APP.md}(),null,null,null)],null);
e=p2(e)}else{d=$APP.pg.h(b,d.v);var f=p2(c);b=d;c=f}}};$APP.g=x2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.ra;case "recursion-limits":return this.wa;case "acc":return this.ma;case "pattern":return this.pattern;case "attr":return this.ia;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I4,this.ra],null),new $APP.H(null,2,5,$APP.I,[T4,this.wa],null),new $APP.H(null,2,5,$APP.I,[G4,this.ma],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null),new $APP.H(null,2,5,$APP.I,[V4,this.ia],null),new $APP.H(null,2,5,$APP.I,[$APP.o0,this.va],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,6,new $APP.H(null,6,5,$APP.I,[I4,T4,G4,T1,V4,$APP.o0],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new x2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.va,this.B,this.o,this.D)};$APP.g.aa=function(){return 6+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1769511936^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ra,b.ra)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.ma,b.ma)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,6,[G4,null,I4,null,T4,null,$APP.o0,null,T1,null,V4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new x2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.va,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(I4,b):$APP.bf.call(null,I4,b))?new x2(c,this.wa,this.ma,this.pattern,this.ia,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T4,b):$APP.bf.call(null,T4,b))?new x2(this.ra,c,this.ma,this.pattern,this.ia,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(G4,b):$APP.bf.call(null,G4,b))?new x2(this.ra,this.wa,c,this.pattern,this.ia,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,b):$APP.bf.call(null,T1,b))?new x2(this.ra,
this.wa,this.ma,c,this.ia,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V4,b):$APP.bf.call(null,V4,b))?new x2(this.ra,this.wa,this.ma,this.pattern,c,this.va,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.o0,b):$APP.bf.call(null,$APP.o0,b))?new x2(this.ra,this.wa,this.ma,this.pattern,this.ia,c,this.B,this.o,null):new x2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.va,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.ve(I4,this.ra,null),new $APP.ve(T4,this.wa,null),new $APP.ve(G4,this.ma,null),new $APP.ve(T1,this.pattern,null),new $APP.ve(V4,this.ia,null),new $APP.ve($APP.o0,this.va,null)],null),this.o))};$APP.g.X=function(a,b){return new x2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.va,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};
$APP.g.Xg=function(a,b){a=this.ra;var c=this.wa,d=this.ma;b=b.value;b=null==b?d:$APP.pg.h(d,b);return new x2(a,c,b,this.pattern,this.ia,p2(this.va),null,null,null)};
$APP.g.eg=function(a,b){var c=this;a=o2(c.va);if(null==a||$APP.Zh.h(a.a,c.ia.name))return new $APP.H(null,1,5,$APP.I,[new v2($APP.yf($APP.Bc(c.ma)),function(){var e=c.va;return $APP.l(e)?e:$APP.md}(),null,null,null)],null);if($APP.l(function(){var e=c.ia.xb;return $APP.l(e)?$APP.Gd(c.ma)>=c.ia.xb&&!0:e}()))for(var d=c.va;;){b=o2(d);if(null==b||$APP.Zh.h(b.a,c.ia.name))return new $APP.H(null,1,5,$APP.I,[new v2($APP.Bc(c.ma),function(){var e=d;return $APP.l(e)?e:$APP.md}(),null,null,null)],null);d=
p2(d)}else return a=$APP.l(c.ia.qc)?a.e:a.v,new $APP.H(null,2,5,$APP.I,[this,C2.ja?C2.ja(b,c.ra,c.wa,c.pattern,c.ia,a):C2.call(null,b,c.ra,c.wa,c.pattern,c.ia,a)],null)};$APP.g=y2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.ra;case "recursion-limits":return this.wa;case "acc":return this.ma;case "pattern":return this.pattern;case "attr":return this.ia;case "attrs":return this.qa;case "datoms":return this.va;case "id":return this.id;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I4,this.ra],null),new $APP.H(null,2,5,$APP.I,[T4,this.wa],null),new $APP.H(null,2,5,$APP.I,[G4,this.ma],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null),new $APP.H(null,2,5,$APP.I,[V4,this.ia],null),new $APP.H(null,2,5,$APP.I,[b2,this.qa],null),new $APP.H(null,2,5,$APP.I,[$APP.o0,this.va],
null),new $APP.H(null,2,5,$APP.I,[$APP.Ip,this.id],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,8,new $APP.H(null,8,5,$APP.I,[I4,T4,G4,T1,V4,b2,$APP.o0,$APP.Ip],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,this.B,this.o,this.D)};$APP.g.aa=function(){return 8+$APP.Gd(this.o)};
$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1127179791^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ra,b.ra)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.ma,b.ma)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.id,b.id)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,8,[G4,null,I4,null,$APP.Ip,null,T4,null,b2,null,$APP.o0,null,T1,null,V4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(I4,b):$APP.bf.call(null,I4,b))?new y2(c,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T4,b):$APP.bf.call(null,T4,b))?new y2(this.ra,c,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(G4,b):$APP.bf.call(null,G4,b))?new y2(this.ra,this.wa,c,this.pattern,this.ia,this.qa,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,
b):$APP.bf.call(null,T1,b))?new y2(this.ra,this.wa,this.ma,c,this.ia,this.qa,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V4,b):$APP.bf.call(null,V4,b))?new y2(this.ra,this.wa,this.ma,this.pattern,c,this.qa,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(b2,b):$APP.bf.call(null,b2,b))?new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,c,this.va,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.o0,b):$APP.bf.call(null,$APP.o0,b))?new y2(this.ra,this.wa,this.ma,
this.pattern,this.ia,this.qa,c,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Ip,b):$APP.bf.call(null,$APP.Ip,b))?new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,c,this.B,this.o,null):new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.ve(I4,this.ra,null),new $APP.ve(T4,this.wa,null),new $APP.ve(G4,this.ma,null),new $APP.ve(T1,this.pattern,null),new $APP.ve(V4,this.ia,null),new $APP.ve(b2,this.qa,null),new $APP.ve($APP.o0,this.va,null),new $APP.ve($APP.Ip,this.id,null)],null),this.o))};$APP.g.X=function(a,b){return new y2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.va,this.id,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.Xg=function(a,b){var c=this;return new y2(c.ra,c.wa,oRa(c.ma,c.ia.as,function(){var d=b.value,e=c.ia.zb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,o2(c.qa),p2(c.qa),$APP.yf(function(){var d=b.va;return $APP.l(d)?d:p2(c.va)}()),c.id,null,null,null)};
$APP.g.eg=function(a,b){var c=this,d=c.ma,e=c.ia;a=c.qa;for(var f=c.va;;){if(null==f&&null==e)return new $APP.H(null,1,5,$APP.I,[function(){var B=c.ra,F=c.wa,M=d,U=c.pattern,Y=o2(c.pattern.Yc),ba=p2(c.pattern.Yc),ca=c.id;return A2.Fa?A2.Fa(B,F,M,U,Y,ba,ca):A2.call(null,B,F,M,U,Y,ba,ca)}()],null);if(null!=e&&$APP.z.h(U0,e.name)){var h=$APP.hh.j(d,e.as,function(){var B=e.zb;return B.g?B.g(c.id):B.call(null,c.id)}()),m=o2(a);a=p2(a);d=h;e=m}else{var r=o2(f),n=$APP.l(function(){var B=r;return $APP.l(B)?
e:B}())?$APP.xe(e.name,r.a):null,w=function(){var B=null==e;if(B)return B;B=n;return $APP.l(B)?0<n:B}(),x=function(){var B=null==r;if(B)return B;B=n;return $APP.l(B)?0>n:B}();if($APP.l(function(){var B=c.pattern.xc;return $APP.l(B)?(B=null!=r)?(B=w,$APP.l(B)?!0:B):B:B}()))m=QY(fQa(b.db).Bc,r.a,function(B,F,M,U,Y){return function(){return hRa(b.db,Y.a)}}(d,e,a,f,r,n,w,x,this)),h=d,a=$APP.l(e)?q2(a,e):null,d=h,e=m;else if($APP.l(w))h=d,m=e,f=p2(f),d=h,e=m;else if(s2(b,pVa,c.id,e.name,null),$APP.l(function(){var B=
x;return $APP.l(B)?null==e&&!0:B}()))h=d,m=o2(a),a=p2(a),d=h,e=m;else if($APP.l(function(){var B=x;return $APP.l(B)?null!=$APP.mm.g(e)&&!0:B}()))h=$APP.hh.j(d,e.as,$APP.mm.g(e)),m=o2(a),a=p2(a),d=h,e=m;else if($APP.l(x))h=function(){var B=e.zb;return B.g?B.g(null):B.call(null,null)}(),null==h?(h=d,m=o2(a),a=p2(a),d=h,e=m):(h=$APP.hh.j(d,e.as,h),m=o2(a),a=p2(a),d=h,e=m);else{if($APP.l(function(){var B=e.lc;return $APP.l(B)?(B=e.nc,$APP.l(B)?!0:B):B}()))return new $APP.H(null,2,5,$APP.I,[new y2(c.ra,
c.wa,d,c.pattern,e,a,f,c.id,null,null,null),new x2(c.ra,c.wa,$APP.zc($APP.qg),c.pattern,e,f,null,null,null)],null);if($APP.l(e.lc))return new $APP.H(null,2,5,$APP.I,[new y2(c.ra,c.wa,d,c.pattern,e,a,f,c.id,null,null,null),new w2($APP.zc($APP.qg),e,f,null,null,null)],null);if($APP.l(e.nc))return new $APP.H(null,2,5,$APP.I,[new y2(c.ra,c.wa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var B=c.ra,F=c.wa,M=c.pattern,U=e,Y=r.v;return C2.ja?C2.ja(b,B,F,M,U,Y):C2.call(null,b,B,F,M,U,Y)}()],null);h=
$APP.hh.j(d,e.as,function(){var B=r.v,F=e.zb;return F.g?F.g(B):F.call(null,B)}());m=o2(a);a=p2(a);f=p2(f);d=h;e=m}}}};$APP.g=z2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.ra;case "recursion-limits":return this.wa;case "acc":return this.ma;case "pattern":return this.pattern;case "attr":return this.ia;case "attrs":return this.qa;case "id":return this.id;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I4,this.ra],null),new $APP.H(null,2,5,$APP.I,[T4,this.wa],null),new $APP.H(null,2,5,$APP.I,[G4,this.ma],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null),new $APP.H(null,2,5,$APP.I,[V4,this.ia],null),new $APP.H(null,2,5,$APP.I,[b2,this.qa],null),new $APP.H(null,2,5,$APP.I,[$APP.Ip,
this.id],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,7,new $APP.H(null,7,5,$APP.I,[I4,T4,G4,T1,V4,b2,$APP.Ip],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.id,this.B,this.o,this.D)};$APP.g.aa=function(){return 7+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=470210558^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ra,b.ra)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.ma,b.ma)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.id,b.id)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,7,[G4,null,I4,null,$APP.Ip,null,T4,null,b2,null,T1,null,V4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.id,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(I4,b):$APP.bf.call(null,I4,b))?new z2(c,this.wa,this.ma,this.pattern,this.ia,this.qa,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T4,b):$APP.bf.call(null,T4,b))?new z2(this.ra,c,this.ma,this.pattern,this.ia,this.qa,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(G4,b):$APP.bf.call(null,G4,b))?new z2(this.ra,this.wa,c,this.pattern,this.ia,this.qa,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,b):$APP.bf.call(null,
T1,b))?new z2(this.ra,this.wa,this.ma,c,this.ia,this.qa,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V4,b):$APP.bf.call(null,V4,b))?new z2(this.ra,this.wa,this.ma,this.pattern,c,this.qa,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(b2,b):$APP.bf.call(null,b2,b))?new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,c,this.id,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Ip,b):$APP.bf.call(null,$APP.Ip,b))?new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,c,this.B,
this.o,null):new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.id,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.ve(I4,this.ra,null),new $APP.ve(T4,this.wa,null),new $APP.ve(G4,this.ma,null),new $APP.ve(T1,this.pattern,null),new $APP.ve(V4,this.ia,null),new $APP.ve(b2,this.qa,null),new $APP.ve($APP.Ip,this.id,null)],null),this.o))};
$APP.g.X=function(a,b){return new z2(this.ra,this.wa,this.ma,this.pattern,this.ia,this.qa,this.id,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.Xg=function(a,b){a=this.ra;var c=this.wa,d=this.ma,e=this.ia.as;b=b.value;var f=this.ia.zb;b=f.g?f.g(b):f.call(null,b);return new z2(a,c,oRa(d,e,b),this.pattern,o2(this.qa),p2(this.qa),this.id,null,null,null)};
$APP.g.eg=function(a,b){var c=this.ma;a=this.ia;for(var d=this.qa;;){if(null==a)return new $APP.H(null,1,5,$APP.I,[new v2($APP.yf($APP.Bc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.H_?RZ(f.fc,i_.F(0,e,this.id,536870912),i_.F(2147483647,e,this.id,2147483647)):v_(f,new $APP.H(null,3,5,$APP.I,[null,e,this.id],null));s2(b,$Ta,null,e,this.id);if($APP.ae(f)&&null!=$APP.mm.g(a))c=$APP.hh.j(c,a.as,$APP.mm.g(a)),a=o2(d),d=e=p2(d);else if($APP.ae(f))a=o2(d),d=e=p2(d);else{if($APP.l(a.jc)){e=
$APP.I;c=new z2(this.ra,this.wa,c,this.pattern,a,d,this.id,null,null,null);d=this.ra;var h=this.wa,m=this.pattern;f=o2(f).e;b=C2.ja?C2.ja(b,d,h,m,a,f):C2.call(null,b,d,h,m,a,f);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.I,[new z2(this.ra,this.wa,c,this.pattern,a,d,this.id,null,null,null),new x2(this.ra,this.wa,$APP.zc($APP.qg),this.pattern,a,f,null,null,null)],null);return b}}};
var N5=function N5(a){switch(arguments.length){case 3:return N5.j(arguments[0],arguments[1],arguments[2]);case 4:return N5.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};N5.j=function(a,b,c){return N5.F(a,b,c,$APP.wf)};N5.F=function(a,b,c,d){a=F2(a,b,d);return D2(a,c)};N5.A=4;
var O5=function O5(a){switch(arguments.length){case 3:return O5.j(arguments[0],arguments[1],arguments[2]);case 4:return O5.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};O5.j=function(a,b,c){return O5.F(a,b,c,$APP.wf)};O5.F=function(a,b,c,d){var e=F2(a,b,d);return $APP.Qm.h(function(f){return D2(e,f)},c)};O5.A=4;var P5=function P5(a){switch(arguments.length){case 1:return P5.g(arguments[0]);case 2:return P5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};P5.g=function(a){return vRa(a,$APP.wf)};P5.h=function(a,b){return vRa(a,b)};P5.A=2;var Q5=function Q5(a){switch(arguments.length){case 1:return Q5.g(arguments[0]);case 2:return Q5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};
Q5.g=function(a){return Q5.h(a,$APP.wf)};
Q5.h=function(a,b){b=$APP.xf(b);var c=$APP.D.j(b,nUa,$APP.kM),d=$APP.D.j(b,uUa,sRa),e=H2(a,"tx0"),f=function(){var w=H2(a,"schema");return c.g?c.g(w):c.call(null,w)}();(function(){var w=new $APP.hd(function(){return k0},hVa,$APP.Ih([$APP.Ts,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[!0,$APP.vL,CUa,"datascript/db.cljc",23,1,931,931,$APP.J(new $APP.H(null,1,5,$APP.I,[K4],null)),null,$APP.l(k0)?k0.I:null]));return w.g?w.g(f):w.call(null,f)})();var h=$APP.Qm.h(d,H2(a,
"attrs")),m=$APP.Qm.h(d,H2(a,"keywords")),r=I2(function(w){var x=G2(w,0),B=$APP.A.h(h,G2(w,1)),F=G2(w,2);if("number"===typeof F)var M=F;else if("string"===typeof F)M=F;else if($APP.me(F))M=F;else if($APP.gb(F)||$APP.ie(F))M=function(){var U=G2(F,0);if($APP.l($APP.Hk.h?$APP.Hk.h(0,U):$APP.Hk.call(null,0,U)))return $APP.A.h(m,G2(F,1));if($APP.l($APP.Hk.h?$APP.Hk.h(1,U):$APP.Hk.call(null,1,U)))return U=G2(F,1),c.g?c.g(U):c.call(null,U);if($APP.l($APP.Hk.h?$APP.Hk.h(2,U):$APP.Hk.call(null,2,U)))return Infinity;
if($APP.l($APP.Hk.h?$APP.Hk.h(3,U):$APP.Hk.call(null,3,U)))return-Infinity;if($APP.l($APP.Hk.h?$APP.Hk.h(4,U):$APP.Hk.call(null,4,U)))return NaN;throw $APP.Al.h(["Unexpected value marker ",$APP.aj.l($APP.C([U]))," in ",$APP.aj.l($APP.C([$APP.aj.l($APP.C([F]))]))].join(""),new $APP.k(null,2,[$APP.TI,sUa,$APP.$I,F],null));}();else throw $APP.Al.h(["Unexpected value type ",$APP.aj.l($APP.C([$APP.pb(F)]))," (",$APP.aj.l($APP.C([$APP.aj.l($APP.C([F]))])),")"].join(""),new $APP.k(null,2,[$APP.TI,sUa,$APP.$I,
F],null));w=e+G2(w,3);return i_.F(x,B,M,w)},H2(a,"eavt"));d=function(){var w=H2(a,"aevt");return null==w?null:I2(function(x){return r[x]},w)}();var n=function(){var w=H2(a,"avet");return null==w?null:I2(function(x){return r[x]},w)}();b=$APP.pl.l($APP.C([new $APP.k(null,2,[a_,H2(a,"branching-factor"),b_,function(){var w=H2(a,"ref-type");return null==w?null:$APP.Ji.g(w)}()],null),$APP.ai(b,new $APP.H(null,2,5,$APP.I,[a_,b_],null))]));return r1(new $APP.k(null,6,[$APP.I_,f,$APP.J_,VZ(n_,r,b),K_,VZ(o_,
d,b),B_,VZ(p_,n,b),L_,H2(a,"max-eid"),M_,H2(a,"max-tx")],null))};Q5.A=2;$APP.g=U2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.K.h($APP.qg,this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,0,$APP.qg,$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new U2(this.B,this.o,this.D)};$APP.g.aa=function(){return 0+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-528488587^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue($APP.di,b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new U2(this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){return $APP.ue(this.o,b)};$APP.g.U=function(a,b,c){return new U2(this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h($APP.qg,this.o))};$APP.g.X=function(a,b){return new U2(b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};
$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return c};$APP.g.wb=function(a,b){return b};$APP.g=V2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.La;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.cm,this.La],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.cm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new V2(this.La,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=736891289^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.La,b.La)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.cm,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new V2(this.La,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.cm,b):$APP.bf.call(null,$APP.cm,b))?new V2(c,this.B,this.o,null):new V2(this.La,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.cm,this.La,null)],null),this.o))};$APP.g.X=function(a,b){return new V2(this.La,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.La,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.La):O3.call(null,b,this.La)};$APP.g=W2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.La;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.cm,this.La],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.cm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new W2(this.La,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1648766309^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.La,b.La)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.cm,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new W2(this.La,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.cm,b):$APP.bf.call(null,$APP.cm,b))?new W2(c,this.B,this.o,null):new W2(this.La,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.cm,this.La,null)],null),this.o))};$APP.g.X=function(a,b){return new W2(this.La,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;
$APP.g.vb=function(a,b,c){return P2(b,this.La,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.La):O3.call(null,b,this.La)};$APP.g=X2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.K.h($APP.qg,this.o))};$APP.g.ga=function(){return new $APP.Yg(this,0,$APP.qg,$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new X2(this.B,this.o,this.D)};$APP.g.aa=function(){return 0+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-350962559^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue($APP.di,b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new X2(this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){return $APP.ue(this.o,b)};$APP.g.U=function(a,b,c){return new X2(this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h($APP.qg,this.o))};$APP.g.X=function(a,b){return new X2(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return c};$APP.g.wb=function(a,b){return b};$APP.g=Y2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.K.h($APP.qg,this.o))};$APP.g.ga=function(){return new $APP.Yg(this,0,$APP.qg,$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new Y2(this.B,this.o,this.D)};$APP.g.aa=function(){return 0+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1504050517^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue($APP.di,b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new Y2(this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){return $APP.ue(this.o,b)};$APP.g.U=function(a,b,c){return new Y2(this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h($APP.qg,this.o))};$APP.g.X=function(a,b){return new Y2(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return c};$APP.g.wb=function(a,b){return b};$APP.g=Z2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.$I,this.value],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.$I],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new Z2(this.value,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-812884714^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.value,b.value)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.$I,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new Z2(this.value,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.$I,b):$APP.bf.call(null,$APP.$I,b))?new Z2(c,this.B,this.o,null):new Z2(this.value,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.$I,this.value,null)],null),this.o))};$APP.g.X=function(a,b){return new Z2(this.value,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;
$APP.g.vb=function(a,b,c){return P2(b,this.value,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.value):O3.call(null,b,this.value)};$APP.g=$2.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.La;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.cm,this.La],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.cm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new $2(this.La,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1509921913^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.La,b.La)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.cm,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new $2(this.La,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.cm,b):$APP.bf.call(null,$APP.cm,b))?new $2(c,this.B,this.o,null):new $2(this.La,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.cm,this.La,null)],null),this.o))};$APP.g.X=function(a,b){return new $2(this.La,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.La,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.La):O3.call(null,b,this.La)};$APP.g=f3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "required":return this.required;case "free":return this.Nd;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.$F,this.required],null),new $APP.H(null,2,5,$APP.I,[h3,this.Nd],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.$F,h3],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new f3(this.required,this.Nd,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=892963297^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.required,b.required)&&$APP.z.h(this.Nd,b.Nd)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[h3,null,$APP.$F,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new f3(this.required,this.Nd,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "required":case "free":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.$F,b):$APP.bf.call(null,$APP.$F,b))?new f3(c,this.Nd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(h3,b):$APP.bf.call(null,h3,b))?new f3(this.required,c,this.B,this.o,null):new f3(this.required,this.Nd,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.$F,this.required,null),new $APP.ve(h3,this.Nd,null)],null),this.o))};$APP.g.X=function(a,b){return new f3(this.required,this.Nd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Nd,P2(b,this.required,c))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.required):O3.call(null,b,this.required);b=this.Nd;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=k3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.K.h($APP.qg,this.o))};$APP.g.ga=function(){return new $APP.Yg(this,0,$APP.qg,$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new k3(this.B,this.o,this.D)};$APP.g.aa=function(){return 0+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-890522983^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue($APP.di,b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new k3(this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){return $APP.ue(this.o,b)};$APP.g.U=function(a,b,c){return new k3(this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h($APP.qg,this.o))};$APP.g.X=function(a,b){return new k3(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return c};$APP.g.wb=function(a,b){return b};$APP.g=l3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "variable":return this.Tb;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[f4,this.Tb],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[f4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new l3(this.Tb,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1522792445^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Tb,b.Tb)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[f4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new l3(this.Tb,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "variable":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(f4,b):$APP.bf.call(null,f4,b))?new l3(c,this.B,this.o,null):new l3(this.Tb,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(f4,this.Tb,null)],null),this.o))};$APP.g.X=function(a,b){return new l3(this.Tb,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Tb,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.Tb):O3.call(null,b,this.Tb)};$APP.g=m3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "bindings":return this.yc;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Fp,this.yc],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.Fp],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new m3(this.yc,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1637239347^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.yc,b.yc)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.Fp,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new m3(this.yc,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "bindings":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.Fp,b):$APP.bf.call(null,$APP.Fp,b))?new m3(c,this.B,this.o,null):new m3(this.yc,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.Fp,this.yc,null)],null),this.o))};$APP.g.X=function(a,b){return new m3(this.yc,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.yc,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.yc):O3.call(null,b,this.yc)};$APP.g=n3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "binding":return this.Rb;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[N4,this.Rb],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[N4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new n3(this.Rb,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1930368089^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Rb,b.Rb)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[N4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new n3(this.Rb,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "binding":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(N4,b):$APP.bf.call(null,N4,b))?new n3(c,this.B,this.o,null):new n3(this.Rb,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(N4,this.Rb,null)],null),this.o))};$APP.g.X=function(a,b){return new n3(this.Rb,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Rb,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.Rb):O3.call(null,b,this.Rb)};
V2.prototype.Wg=function(){return new $APP.H(null,1,5,$APP.I,[this.La],null)};$APP.g=r3.prototype;$APP.g.Wg=function(){return q3($APP.Rd(this.xa))};$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ha;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.bo,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Gm,this.xa],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.bo,$APP.Gm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new r3(this.ha,this.xa,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-91097383^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ha,b.ha)&&$APP.z.h(this.xa,b.xa)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.Gm,null,$APP.bo,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new r3(this.ha,this.xa,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.bo,b):$APP.bf.call(null,$APP.bo,b))?new r3(c,this.xa,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Gm,b):$APP.bf.call(null,$APP.Gm,b))?new r3(this.ha,c,this.B,this.o,null):new r3(this.ha,this.xa,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.bo,this.ha,null),new $APP.ve($APP.Gm,this.xa,null)],null),this.o))};
$APP.g.X=function(a,b){return new r3(this.ha,this.xa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.xa,P2(b,this.ha,c))};$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.ha):O3.call(null,b,this.ha);b=this.xa;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=s3.prototype;$APP.g.Wg=function(){return q3(this.Tb)};$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "variable":return this.Tb;case "pattern":return this.pattern;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ol,this.source],null),new $APP.H(null,2,5,$APP.I,[f4,this.Tb],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[$APP.ol,f4,T1],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new s3(this.source,this.Tb,this.pattern,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2108867663^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.Tb,b.Tb)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[f4,null,$APP.ol,null,T1,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new s3(this.source,this.Tb,this.pattern,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "variable":case "pattern":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.ol,b):$APP.bf.call(null,$APP.ol,b))?new s3(c,this.Tb,this.pattern,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(f4,b):$APP.bf.call(null,f4,b))?new s3(this.source,c,this.pattern,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,b):$APP.bf.call(null,T1,b))?new s3(this.source,this.Tb,c,this.B,this.o,null):new s3(this.source,this.Tb,this.pattern,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve($APP.ol,this.source,null),new $APP.ve(f4,this.Tb,null),new $APP.ve(T1,this.pattern,null)],null),this.o))};$APP.g.X=function(a,b){return new s3(this.source,this.Tb,this.pattern,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.pattern,P2(b,this.Tb,P2(b,this.source,c)))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.source):O3.call(null,b,this.source);b=this.Tb;a=O3.h?O3.h(a,b):O3.call(null,a,b);b=this.pattern;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=u3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W4,this.elements],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[W4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new u3(this.elements,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=744809563^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.elements,b.elements)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[W4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new u3(this.elements,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.dg=function(){return this.elements};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(W4,b):$APP.bf.call(null,W4,b))?new u3(c,this.B,this.o,null):new u3(this.elements,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(W4,this.elements,null)],null),this.o))};$APP.g.X=function(a,b){return new u3(this.elements,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;
$APP.g.vb=function(a,b,c){return P2(b,this.elements,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.elements):O3.call(null,b,this.elements)};$APP.g=v3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[X4,this.element],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[X4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new v3(this.element,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=124241361^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.element,b.element)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[X4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new v3(this.element,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.dg=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(X4,b):$APP.bf.call(null,X4,b))?new v3(c,this.B,this.o,null):new v3(this.element,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(X4,this.element,null)],null),this.o))};
$APP.g.X=function(a,b){return new v3(this.element,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.element,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.element):O3.call(null,b,this.element)};$APP.g=w3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[X4,this.element],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[X4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new w3(this.element,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-661542332^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.element,b.element)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[X4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new w3(this.element,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.dg=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(X4,b):$APP.bf.call(null,X4,b))?new w3(c,this.B,this.o,null):new w3(this.element,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(X4,this.element,null)],null),this.o))};
$APP.g.X=function(a,b){return new w3(this.element,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.element,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.element):O3.call(null,b,this.element)};$APP.g=x3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W4,this.elements],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[W4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new x3(this.elements,this.B,this.o,this.D)};
$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=681530371^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.elements,b.elements)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[W4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new x3(this.elements,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.dg=function(){return this.elements};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(W4,b):$APP.bf.call(null,W4,b))?new x3(c,this.B,this.o,null):new x3(this.elements,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve(W4,this.elements,null)],null),this.o))};$APP.g.X=function(a,b){return new x3(this.elements,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.elements,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.elements):O3.call(null,b,this.elements)};$APP.g=C3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "type":return this.type;case "symbols":return this.Sd;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.vl,this.type],null),new $APP.H(null,2,5,$APP.I,[$3,this.Sd],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.vl,$3],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new C3(this.type,this.Sd,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2025547471^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.type,b.type)&&$APP.z.h(this.Sd,b.Sd)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.vl,null,$3,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new C3(this.type,this.Sd,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "type":case "symbols":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.vl,b):$APP.bf.call(null,$APP.vl,b))?new C3(c,this.Sd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($3,b):$APP.bf.call(null,$3,b))?new C3(this.type,c,this.B,this.o,null):new C3(this.type,this.Sd,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.vl,this.type,null),new $APP.ve($3,this.Sd,null)],null),this.o))};$APP.g.X=function(a,b){return new C3(this.type,this.Sd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Sd,P2(b,this.type,c))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.type):O3.call(null,b,this.type);b=this.Sd;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=D3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ol,this.source],null),new $APP.H(null,2,5,$APP.I,[T1,this.pattern],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.ol,T1],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new D3(this.source,this.pattern,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=575220587^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.ol,null,T1,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new D3(this.source,this.pattern,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "pattern":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.ol,b):$APP.bf.call(null,$APP.ol,b))?new D3(c,this.pattern,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(T1,b):$APP.bf.call(null,T1,b))?new D3(this.source,c,this.B,this.o,null):new D3(this.source,this.pattern,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.ol,this.source,null),new $APP.ve(T1,this.pattern,null)],null),this.o))};$APP.g.X=function(a,b){return new D3(this.source,this.pattern,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.pattern,P2(b,this.source,c))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.source):O3.call(null,b,this.source);b=this.pattern;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=E3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ha;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.bo,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Gm,this.xa],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.bo,$APP.Gm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new E3(this.ha,this.xa,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1523376880^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ha,b.ha)&&$APP.z.h(this.xa,b.xa)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.Gm,null,$APP.bo,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new E3(this.ha,this.xa,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.ue(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.bo,b):$APP.bf.call(null,$APP.bo,b))?new E3(c,this.xa,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Gm,b):$APP.bf.call(null,$APP.Gm,b))?new E3(this.ha,c,this.B,this.o,null):new E3(this.ha,this.xa,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.bo,this.ha,null),new $APP.ve($APP.Gm,this.xa,null)],null),this.o))};$APP.g.X=function(a,b){return new E3(this.ha,this.xa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.xa,P2(b,this.ha,c))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.ha):O3.call(null,b,this.ha);b=this.xa;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=F3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ha;case "args":return this.xa;case "binding":return this.Rb;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.bo,this.ha],null),new $APP.H(null,2,5,$APP.I,[$APP.Gm,this.xa],null),new $APP.H(null,2,5,$APP.I,[N4,this.Rb],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[$APP.bo,$APP.Gm,N4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new F3(this.ha,this.xa,this.Rb,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=589494199^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ha,b.ha)&&$APP.z.h(this.xa,b.xa)&&$APP.z.h(this.Rb,b.Rb)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[$APP.Gm,null,$APP.bo,null,N4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new F3(this.ha,this.xa,this.Rb,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":case "binding":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.bo,b):$APP.bf.call(null,$APP.bo,b))?new F3(c,this.xa,this.Rb,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Gm,b):$APP.bf.call(null,$APP.Gm,b))?new F3(this.ha,c,this.Rb,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(N4,b):$APP.bf.call(null,N4,b))?new F3(this.ha,this.xa,c,this.B,this.o,null):new F3(this.ha,this.xa,this.Rb,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve($APP.bo,this.ha,null),new $APP.ve($APP.Gm,this.xa,null),new $APP.ve(N4,this.Rb,null)],null),this.o))};$APP.g.X=function(a,b){return new F3(this.ha,this.xa,this.Rb,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Rb,P2(b,this.xa,P2(b,this.ha,c)))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.ha):O3.call(null,b,this.ha);b=this.xa;a=O3.h?O3.h(a,b):O3.call(null,a,b);b=this.Rb;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=G3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "name":return this.name;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ol,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.O,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.Gm,this.xa],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[$APP.ol,$APP.O,$APP.Gm],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new G3(this.source,this.name,this.xa,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-444662011^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.xa,b.xa)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[$APP.Gm,null,$APP.O,null,$APP.ol,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new G3(this.source,this.name,this.xa,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "name":case "args":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.ol,b):$APP.bf.call(null,$APP.ol,b))?new G3(c,this.name,this.xa,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.O,b):$APP.bf.call(null,$APP.O,b))?new G3(this.source,c,this.xa,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.Gm,b):$APP.bf.call(null,$APP.Gm,b))?new G3(this.source,this.name,c,this.B,this.o,null):new G3(this.source,this.name,this.xa,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve($APP.ol,this.source,null),new $APP.ve($APP.O,this.name,null),new $APP.ve($APP.Gm,this.xa,null)],null),this.o))};$APP.g.X=function(a,b){return new G3(this.source,this.name,this.xa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.xa,P2(b,this.name,P2(b,this.source,c)))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.source):O3.call(null,b,this.source);b=this.name;a=O3.h?O3.h(a,b):O3.call(null,a,b);b=this.xa;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=H3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "vars":return this.Ub;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ol,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.UH,this.Ub],null),new $APP.H(null,2,5,$APP.I,[$APP.JL,this.Ca],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[$APP.ol,$APP.UH,$APP.JL],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new H3(this.source,this.Ub,this.Ca,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1394671061^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.Ub,b.Ub)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[$APP.ol,null,$APP.JL,null,$APP.UH,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new H3(this.source,this.Ub,this.Ca,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "vars":case "clauses":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.ol,b):$APP.bf.call(null,$APP.ol,b))?new H3(c,this.Ub,this.Ca,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.UH,b):$APP.bf.call(null,$APP.UH,b))?new H3(this.source,c,this.Ca,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.JL,b):$APP.bf.call(null,$APP.JL,b))?new H3(this.source,this.Ub,c,this.B,this.o,null):new H3(this.source,this.Ub,this.Ca,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve($APP.ol,this.source,null),new $APP.ve($APP.UH,this.Ub,null),new $APP.ve($APP.JL,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new H3(this.source,this.Ub,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Ca,P2(b,this.Ub,P2(b,this.source,c)))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.source):O3.call(null,b,this.source);b=this.Ub;a=O3.h?O3.h(a,b):O3.call(null,a,b);b=this.Ca;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=I3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "rule-vars":return this.qd;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ol,this.source],null),new $APP.H(null,2,5,$APP.I,[M3,this.qd],null),new $APP.H(null,2,5,$APP.I,[$APP.JL,this.Ca],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[$APP.ol,M3,$APP.JL],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new I3(this.source,this.qd,this.Ca,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1461934571^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.qd,b.qd)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[M3,null,$APP.ol,null,$APP.JL,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new I3(this.source,this.qd,this.Ca,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.ol,b):$APP.bf.call(null,$APP.ol,b))?new I3(c,this.qd,this.Ca,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(M3,b):$APP.bf.call(null,M3,b))?new I3(this.source,c,this.Ca,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.JL,b):$APP.bf.call(null,$APP.JL,b))?new I3(this.source,this.qd,c,this.B,this.o,null):new I3(this.source,this.qd,this.Ca,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve($APP.ol,this.source,null),new $APP.ve(M3,this.qd,null),new $APP.ve($APP.JL,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new I3(this.source,this.qd,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Ca,P2(b,this.qd,P2(b,this.source,c)))};
$APP.g.wb=function(a,b){a=O3.h?O3.h(b,this.source):O3.call(null,b,this.source);b=this.qd;a=O3.h?O3.h(a,b):O3.call(null,a,b);b=this.Ca;return O3.h?O3.h(a,b):O3.call(null,a,b)};$APP.g=J3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.JL,this.Ca],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,1,new $APP.H(null,1,5,$APP.I,[$APP.JL],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new J3(this.Ca,this.B,this.o,this.D)};$APP.g.aa=function(){return 1+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-131856804^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,1,[$APP.JL,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new J3(this.Ca,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "clauses":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.JL,b):$APP.bf.call(null,$APP.JL,b))?new J3(c,this.B,this.o,null):new J3(this.Ca,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.ve($APP.JL,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new J3(this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;
$APP.g.vb=function(a,b,c){return P2(b,this.Ca,c)};$APP.g.wb=function(a,b){return O3.h?O3.h(b,this.Ca):O3.call(null,b,this.Ca)};var O3=function O3(a,b){return b instanceof V2?$APP.We.h(a,b):b instanceof H3?$APP.fh.h(a,b.Ub):b instanceof I3?(b=b.qd,O3.h?O3.h(a,b):O3.call(null,a,b)):(null!=b?$APP.cd===b.ub||(b.yd?0:$APP.ob(K2,b)):$APP.ob(K2,b))?M2(b,a):$APP.de(b)?$APP.De.j(O3,a,b):a};$APP.g=Q3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "vars":return this.Ub;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.UH,this.Ub],null),new $APP.H(null,2,5,$APP.I,[$APP.JL,this.Ca],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.UH,$APP.JL],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new Q3(this.Ub,this.Ca,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1024755006^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ub,b.Ub)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.JL,null,$APP.UH,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new Q3(this.Ub,this.Ca,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "vars":case "clauses":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.UH,b):$APP.bf.call(null,$APP.UH,b))?new Q3(c,this.Ca,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.JL,b):$APP.bf.call(null,$APP.JL,b))?new Q3(this.Ub,c,this.B,this.o,null):new Q3(this.Ub,this.Ca,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.UH,this.Ub,null),new $APP.ve($APP.JL,this.Ca,null)],null),this.o))};
$APP.g.X=function(a,b){return new Q3(this.Ub,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Ca,P2(b,this.Ub,c))};$APP.g.wb=function(a,b){return O3(O3(b,this.Ub),this.Ca)};$APP.g=R3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "name":return this.name;case "branches":return this.Hd;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.O,this.name],null),new $APP.H(null,2,5,$APP.I,[R4,this.Hd],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[$APP.O,R4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new R3(this.name,this.Hd,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-900273052^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.Hd,b.Hd)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[$APP.O,null,R4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new R3(this.name,this.Hd,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "name":case "branches":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h($APP.O,b):$APP.bf.call(null,$APP.O,b))?new R3(c,this.Hd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(R4,b):$APP.bf.call(null,R4,b))?new R3(this.name,c,this.B,this.o,null):new R3(this.name,this.Hd,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve($APP.O,this.name,null),new $APP.ve(R4,this.Hd,null)],null),this.o))};
$APP.g.X=function(a,b){return new R3(this.name,this.Hd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.Hd,P2(b,this.name,c))};$APP.g.wb=function(a,b){return O3(O3(b,this.name),this.Hd)};$APP.g=T3.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "qfind":return this.ed;case "qwith":return this.jd;case "qreturn-map":return this.gd;case "qin":return this.fd;case "qwhere":return this.hd;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[U3,this.ed],null),new $APP.H(null,2,5,$APP.I,[V3,this.jd],null),new $APP.H(null,2,5,$APP.I,[W3,this.gd],null),new $APP.H(null,2,5,$APP.I,[X3,this.fd],null),new $APP.H(null,2,5,$APP.I,[Y3,this.hd],null)],null),this.o))};
$APP.g.ga=function(){return new $APP.Yg(this,5,new $APP.H(null,5,5,$APP.I,[U3,V3,W3,X3,Y3],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};$APP.g.ba=function(){return new T3(this.ed,this.jd,this.gd,this.fd,this.hd,this.B,this.o,this.D)};$APP.g.aa=function(){return 5+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=181307977^$APP.rd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ed,b.ed)&&$APP.z.h(this.jd,b.jd)&&$APP.z.h(this.gd,b.gd)&&$APP.z.h(this.fd,b.fd)&&$APP.z.h(this.hd,b.hd)&&$APP.z.h(this.o,b.o)};$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,5,[U3,null,Y3,null,X3,null,V3,null,W3,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new T3(this.ed,this.jd,this.gd,this.fd,this.hd,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};
$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(U3,b):$APP.bf.call(null,U3,b))?new T3(c,this.jd,this.gd,this.fd,this.hd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(V3,b):$APP.bf.call(null,V3,b))?new T3(this.ed,c,this.gd,this.fd,this.hd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(W3,b):$APP.bf.call(null,W3,b))?new T3(this.ed,this.jd,c,this.fd,this.hd,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(X3,b):$APP.bf.call(null,X3,b))?new T3(this.ed,this.jd,this.gd,c,this.hd,this.B,this.o,
null):$APP.l($APP.bf.h?$APP.bf.h(Y3,b):$APP.bf.call(null,Y3,b))?new T3(this.ed,this.jd,this.gd,this.fd,c,this.B,this.o,null):new T3(this.ed,this.jd,this.gd,this.fd,this.hd,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.ve(U3,this.ed,null),new $APP.ve(V3,this.jd,null),new $APP.ve(W3,this.gd,null),new $APP.ve(X3,this.fd,null),new $APP.ve(Y3,this.hd,null)],null),this.o))};
$APP.g.X=function(a,b){return new T3(this.ed,this.jd,this.gd,this.fd,this.hd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g.ub=$APP.cd;$APP.g.vb=function(a,b,c){return P2(b,this.hd,P2(b,this.fd,P2(b,this.gd,P2(b,this.jd,P2(b,this.ed,c)))))};$APP.g.wb=function(a,b){return O3(O3(O3(O3(O3(b,this.ed),this.jd),this.gd),this.fd),this.hd)};var vWa=SY();$APP.g=a4.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "rels":return this.je;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[h4,this.je],null),new $APP.H(null,2,5,$APP.I,[g4,this.sources],null),new $APP.H(null,2,5,$APP.I,[$APP.IE,this.rules],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,3,new $APP.H(null,3,5,$APP.I,[h4,g4,$APP.IE],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new a4(this.je,this.sources,this.rules,this.B,this.o,this.D)};$APP.g.aa=function(){return 3+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1014232958^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.je,b.je)&&$APP.z.h(this.sources,b.sources)&&$APP.z.h(this.rules,b.rules)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,3,[g4,null,$APP.IE,null,h4,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new a4(this.je,this.sources,this.rules,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "rels":case "sources":case "rules":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(h4,b):$APP.bf.call(null,h4,b))?new a4(c,this.sources,this.rules,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(g4,b):$APP.bf.call(null,g4,b))?new a4(this.je,c,this.rules,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h($APP.IE,b):$APP.bf.call(null,$APP.IE,b))?new a4(this.je,this.sources,c,this.B,this.o,null):new a4(this.je,this.sources,this.rules,this.B,$APP.$h.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.ve(h4,this.je,null),new $APP.ve(g4,this.sources,null),new $APP.ve($APP.IE,this.rules,null)],null),this.o))};$APP.g.X=function(a,b){return new a4(this.je,this.sources,this.rules,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};$APP.g=b4.prototype;$APP.g.fa=function(a,b){return this.N(null,b,null)};
$APP.g.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.qa;case "tuples":return this.Ce;default:return $APP.D.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.De.j(function(d,e){var f=$APP.A.j(e,0,null);e=$APP.A.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ci(b,function(d){return $APP.Ci(b,$APP.Hi,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[b2,this.qa],null),new $APP.H(null,2,5,$APP.I,[l4,this.Ce],null)],null),this.o))};$APP.g.ga=function(){return new $APP.Yg(this,2,new $APP.H(null,2,5,$APP.I,[b2,l4],null),$APP.l(this.o)?$APP.Sc(this.o):$APP.Cf())};$APP.g.W=function(){return this.B};
$APP.g.ba=function(){return new b4(this.qa,this.Ce,this.B,this.o,this.D)};$APP.g.aa=function(){return 2+$APP.Gd(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1107093117^$APP.rd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.Ce,b.Ce)&&$APP.z.h(this.o,b.o)};
$APP.g.sa=function(a,b){return $APP.ue(new $APP.ci(null,new $APP.k(null,2,[l4,null,b2,null],null),null),b)?$APP.ql.h($APP.ac($APP.fh.h($APP.wf,this),this.B),b):new b4(this.qa,this.Ce,this.B,$APP.yf($APP.ql.h(this.o,b)),null)};$APP.g.ka=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "tuples":return!0;default:return $APP.ue(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.l($APP.bf.h?$APP.bf.h(b2,b):$APP.bf.call(null,b2,b))?new b4(c,this.Ce,this.B,this.o,null):$APP.l($APP.bf.h?$APP.bf.h(l4,b):$APP.bf.call(null,l4,b))?new b4(this.qa,c,this.B,this.o,null):new b4(this.qa,this.Ce,this.B,$APP.$h.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.u($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.ve(b2,this.qa,null),new $APP.ve(l4,this.Ce,null)],null),this.o))};$APP.g.X=function(a,b){return new b4(this.qa,this.Ce,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.ie(b)?this.U(null,$APP.Td(b,0),$APP.Td(b,1)):$APP.De.j($APP.Cb,this,b)};
var R5=function R5(a,b){return $APP.z.h($APP.aH,a)?!0:$APP.z.h(new $APP.H(null,1,5,$APP.I,[$APP.VG],null),a)?$APP.de(b):a instanceof $APP.t?$APP.z.h(b,a):$APP.de(a)?$APP.z.h($APP.Rd(a),$APP.VG)?$APP.de(b)&&$APP.Qf(function(d){var e=$APP.A.j(d,0,null);d=$APP.A.j(d,1,null);return R5.h?R5.h(e,d):R5.call(null,e,d)},$APP.Ii.j($APP.rv,$APP.ii(a),b)):$APP.de(b)&&$APP.z.h($APP.Gd(b),$APP.Gd(a))&&$APP.Qf(function(d){var e=$APP.A.j(d,0,null);d=$APP.A.j(d,1,null);return R5.h?R5.h(e,d):R5.call(null,e,d)},$APP.Ii.j($APP.rv,
a,b)):a.g?a.g(b):a.call(null,b)},r4=function r4(a,b){var d=$APP.xf(a),e=$APP.D.h(d,b2);d=$APP.D.h(d,l4);var f=$APP.xf(b),h=$APP.D.h(f,b2);f=$APP.D.h(f,l4);if($APP.z.h(e,h))return new b4(e,$APP.fh.h($APP.Fe(d),f),null,null,null);if($APP.ae(d))return b;if($APP.ae(f))return a;if(iSa(e,h)){if($APP.Qf($APP.paa,$APP.Yh(e)))return mSa(e,d,h,f);a=$APP.ki($APP.Wh(e),$APP.$m.C());e=mSa(a,$APP.qg,e,d);return r4.h?r4.h(e,b):r4.call(null,e,b)}throw $APP.Al.h(["Can’t sum relations with different attrs: ",$APP.aj.l($APP.C([e])),
" and ",$APP.aj.l($APP.C([h]))].join(""),new $APP.k(null,1,[$APP.TI,q4],null));},p4=function p4(a){switch(arguments.length){case 0:return p4.C();case 2:return p4.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};p4.C=function(){return new b4($APP.wf,new $APP.H(null,1,5,$APP.I,[[]],null),null,null,null)};
p4.h=function(a,b){var c=$APP.Wh(b2.g(a)),d=$APP.Wh(b2.g(b)),e=$APP.Ee($APP.Ii.h(b2.g(a),c)),f=$APP.Ee($APP.Ii.h(b2.g(b),d));return new b4($APP.ki($APP.K.h(c,d),$APP.$m.C()),$APP.Bc($APP.De.j(function(h,m){return $APP.De.j(function(r,n){return $APP.pg.h(r,lSa(m,e,n,f))},h,l4.g(b))},$APP.zc($APP.qg),l4.g(a))),null,null,null)};p4.A=2;k3.prototype.fg=function(){return p4.C()};
l3.prototype.fg=function(a,b){return new b4($APP.vf([$APP.Ao.h(this,new $APP.H(null,2,5,$APP.I,[f4,$APP.cm],null)),0]),new $APP.H(null,1,5,$APP.I,[$APP.Ar.g(new $APP.H(null,1,5,$APP.I,[b],null))],null),null,null,null)};
n3.prototype.fg=function(a,b){var c=this;if(d_(b))return $APP.ae(b)?nSa(c):$APP.De.h(r4,$APP.Ii.h(function(d){return e4(c.Rb,d)},b));throw $APP.Al.h(["Cannot bind value ",$APP.aj.l($APP.C([b]))," to collection ",$APP.aj.l($APP.C([T2(c)]))].join(""),new $APP.k(null,3,[$APP.TI,vUa,$APP.$I,b,N4,T2(c)],null));};
m3.prototype.fg=function(a,b){if(d_(b)){if($APP.Gd(b)<$APP.Gd(this.yc))throw $APP.Al.h(["Not enough elements in a collection ",$APP.aj.l($APP.C([b]))," to bind tuple ",$APP.aj.l($APP.C([T2(this)]))].join(""),new $APP.k(null,3,[$APP.TI,vUa,$APP.$I,b,N4,T2(this)],null));return $APP.De.h(p4,$APP.Ii.j(function(c,d){return e4(c,d)},this.yc,b))}throw $APP.Al.h(["Cannot bind value ",$APP.aj.l($APP.C([b]))," to tuple ",$APP.aj.l($APP.C([T2(this)]))].join(""),new $APP.k(null,3,[$APP.TI,vUa,$APP.$I,b,N4,T2(this)],
null));};var i4=null,j4=null,ISa=$APP.cj.g(0),u4=function u4(a){switch(arguments.length){case 2:return u4.h(arguments[0],arguments[1]);case 3:return u4.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};u4.h=function(a,b){return u4.j(a,b,b)};
u4.j=function(a,b,c){for(;;){var d=R5,e=b;if($APP.l(function(){var ca=new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.fd,$APP.VG],null)],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}()))return C4(B4(a),$APP.og.h(c4,$APP.Od(b)),b),FSa(a,b);if($APP.l(function(){var ca=new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.fd,$APP.VG],null),$APP.aH],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}()))return C4(B4(a),$APP.og.h(c4,$APP.Od(b)),b),GSa(a,b);if($APP.l(function(){var ca=
new $APP.H(null,2,5,$APP.I,[jSa,$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){var f=$APP.u(b);c=$APP.v(f);f=$APP.y(f);var h=j4;j4=$APP.D.h(g4.g(a),c);try{return u4.j(a,f,b)}finally{j4=h}}else{if($APP.l(function(){var ca=new $APP.H(null,2,5,$APP.I,[$APP.ss,$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){var m=b,r=$APP.u(m),n=$APP.v(r),w=$APP.y(r);f=n;h=w;var x=QSa(B4(a),h,b),B=$APP.Ii.h(function(ca){return function(ea){return D4.h?D4.h(ca,ea):D4.call(null,ca,ea)}}(a,
b,c,m,r,n,w,f,h,x,d,e),h);b=$APP.Ii.h(function(){return function(ca){return $APP.De.h(m4,h4.g(ca))}}(a,b,c,m,r,n,w,f,h,x,B,d,e),B);return $APP.$h.j($APP.v(B),h4,new $APP.H(null,1,5,$APP.I,[$APP.De.h(r4,b)],null))}if($APP.l(function(){var ca=new $APP.H(null,3,5,$APP.I,[P3,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.VG],null),$APP.VG],null),$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){h=$APP.u(b);f=$APP.v(h);h=$APP.y(h);m=$APP.v(h);f=$APP.y(h);m=$APP.u(m);h=$APP.v(m);
m=$APP.y(m);x=h;h=f;f=B4(a);C4(f,x,c);RSa(f,m,h);c=$APP.Kr.j(P3,$APP.K.h(x,m),h);f=b;b=c;c=f;continue}else{if($APP.l(function(){var ca=new $APP.H(null,3,5,$APP.I,[P3,new $APP.H(null,1,5,$APP.I,[$APP.VG],null),$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){n=b;w=$APP.u(n);var F=$APP.v(w),M=$APP.y(w);f=F;var U=$APP.v(M),Y=$APP.y(M);m=U;h=Y;var ba=$APP.gi(m);x=RSa(B4(a),ba,h);r=A4(a,ba);B=$APP.Ii.h(function(ca,ea,la,ta,pa,V,P,X,R,W,ja,na,oa,wa,Ca){return function(La){return A4(D4.h?
D4.h(Ca,La):D4.call(null,Ca,La),oa)}}(a,b,c,n,w,F,M,f,U,Y,m,h,ba,x,r,d,e),h);b=$APP.Ii.h(function(){return function(ca){return $APP.De.h(m4,h4.g(ca))}}(a,b,c,n,w,F,M,f,U,Y,m,h,ba,x,r,B,d,e),B);b=$APP.De.h(r4,b);return $APP.Am.F(a,h4,o4,b)}if($APP.l(function(){var ca=new $APP.H(null,2,5,$APP.I,[$APP.ns,$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}()))return c=$APP.u(b),b=$APP.v(c),c=$APP.y(c),f=b,b=c,$APP.De.j(D4,a,b);if($APP.l(function(){var ca=new $APP.H(null,2,5,$APP.I,[$APP.rz,
$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){f=$APP.u(b);b=$APP.v(f);h=$APP.y(f);f=b;b=h;f=B4(a);h=$APP.gi(t4(b));if($APP.ae($APP.ru.h(f,h)))throw $APP.Al.h(["Insufficient bindings: none of ",$APP.aj.l($APP.C([h]))," is bound in ",$APP.aj.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.TI,q4,$APP.ly,c],null));x=null;a=$APP.$h.j(a,h4,new $APP.H(null,1,5,$APP.I,[$APP.De.h(m4,h4.g(a))],null));b=$APP.De.j(D4,a,b);b=uSa($APP.v(h4.g(a)),$APP.De.h(m4,h4.g(b)));return $APP.$h.j(a,h4,
new $APP.H(null,1,5,$APP.I,[b],null))}if($APP.l(function(){var ca=new $APP.H(null,3,5,$APP.I,[RRa,new $APP.H(null,1,5,$APP.I,[$APP.VG],null),$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}()))return b=$APP.u(b),f=$APP.v(b),b=$APP.y(b),f=$APP.v(b),b=$APP.y(b),m=f,f=B4(a),x=C4(f,m,c),a=$APP.$h.j(a,h4,new $APP.H(null,1,5,$APP.I,[$APP.De.h(m4,h4.g(a))],null)),r=A4(a,m),b=A4($APP.De.j(D4,r,b),m),b=uSa($APP.v(h4.g(a)),$APP.De.h(m4,h4.g(b))),$APP.$h.j(a,h4,new $APP.H(null,1,5,$APP.I,[b],null));
if($APP.l(function(){var ca=new $APP.H(null,1,5,$APP.I,[$APP.VG],null),ea=e;return d.h?d.h(ca,ea):d.call(null,ca,ea)}())){c=j4;b=xSa(c,b);f=ASa(a,c,b);h=i4;i4=(null!=c?$APP.cd===c.Lh||(c.yd?0:$APP.ob(E_,c)):$APP.ob(E_,c))?PSa(c,b):i4;try{return $APP.Am.F(a,h4,o4,f)}finally{i4=h}}else throw Error(["No matching clause: ",$APP.p.g(e)].join(""));}}break}};u4.A=3;
var D4=function D4(a,b){if($APP.l($APP.Vf($APP.tp.h($APP.ae,l4),h4.g(a))))return a;if(HSa(a,b))if(jSa($APP.v(b))){var d=j4;j4=$APP.D.h(g4.g(a),$APP.v(b));try{var e=$APP.y(b);return D4.h?D4.h(a,e):D4.call(null,a,e)}finally{j4=d}}else return $APP.Am.F(a,h4,o4,OSa(a,b));else return u4.h(a,b)};V2.prototype.gg=function(a,b){return BSa(b,this.La)};W2.prototype.gg=function(a,b){return $APP.Ao.h(b,new $APP.H(null,2,5,$APP.I,[g4,this.La],null))};
$2.prototype.gg=function(){var a=$APP.D.h(uWa,this.La);return $APP.l(a)?a:null};Z2.prototype.gg=function(){return this.value};u3.prototype.hg=function(a,b,c){return null==b?c:$Sa(b,c)};v3.prototype.hg=function(a,b,c){return $APP.fh.j($APP.qg,$APP.Ii.g($APP.v),c)};w3.prototype.hg=function(a,b,c){return $APP.Nd(c)};x3.prototype.hg=function(a,b,c){return null!=b?$APP.v($Sa(b,new $APP.H(null,1,5,$APP.I,[$APP.v(c)],null))):$APP.v(c)};
var S5=function S5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return S5.l(arguments[0],1<c.length?new $APP.jd(c.slice(1),0,null):null)};
S5.l=function(a,b){var c=QY(vWa,a,function(){return gSa(a)}),d=U3.g(c),e=t3(d),f=$APP.ng.l(q3,$APP.C([t3(d)])),h=$APP.Gd(e),m=V3.g(c);m=$APP.K.h(f,$APP.Ii.h($APP.cm,m));f=$APP.de(a)?ZRa(a):a;var r=$APP.DC.g(f);b=rSa(new a4($APP.qg,$APP.wf,$APP.wf,null,null,null),X3.g(c),b);m=VSa(SSa(b,r),m);f=$APP.l(eSa.g(f))?$APP.Qm.h(function(n){return $APP.Fe($APP.Ik.j(n,0,h))},m):m;f=$APP.l($APP.Vf(y3,e))?YSa(e,b,f):f;e=$APP.l($APP.Vf(z3,e))?bTa(e,b,f):f;return aTa(d,W3.g(c),e)};S5.A=1;
S5.G=function(a){var b=$APP.v(a);a=$APP.y(a);return this.l(b,a)};var T5=function T5(a){switch(arguments.length){case 0:return T5.C();case 1:return T5.g(arguments[0]);case 2:return T5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};T5.C=function(){return l0(null,$APP.wf)};T5.g=function(a){return l0(a,$APP.wf)};T5.h=function(a,b){return l0(a,u1(b))};T5.A=2;
var U5=function U5(a){switch(arguments.length){case 1:return U5.g(arguments[0]);case 2:return U5.h(arguments[0],arguments[1]);case 3:return U5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};U5.g=function(a){return n0(a,null,$APP.wf)};U5.h=function(a,b){return n0(a,b,$APP.wf)};U5.j=function(a,b,c){return n0(a,b,u1(c))};U5.A=3;
var V5=function V5(a){switch(arguments.length){case 2:return V5.h(arguments[0],arguments[1]);case 3:return V5.j(arguments[0],arguments[1],arguments[2]);case 4:return V5.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return V5.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return V5.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};
V5.h=function(a,b){return x_(a,b,null,null,null,null)};V5.j=function(a,b,c){return x_(a,b,c,null,null,null)};V5.F=function(a,b,c,d){return x_(a,b,c,d,null,null)};V5.P=function(a,b,c,d,e){return x_(a,b,c,d,e,null)};V5.ja=function(a,b,c,d,e,f){return x_(a,b,c,d,e,f)};V5.A=6;
var W5=function W5(a){switch(arguments.length){case 2:return W5.h(arguments[0],arguments[1]);case 3:return W5.j(arguments[0],arguments[1],arguments[2]);case 4:return W5.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return W5.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return W5.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};
W5.h=function(a,b){return y_(a,b,null,null,null,null)};W5.j=function(a,b,c){return y_(a,b,c,null,null,null)};W5.F=function(a,b,c,d){return y_(a,b,c,d,null,null)};W5.P=function(a,b,c,d,e){return y_(a,b,c,d,e,null)};W5.ja=function(a,b,c,d,e,f){return y_(a,b,c,d,e,f)};W5.A=6;
var X5=function X5(a){switch(arguments.length){case 2:return X5.h(arguments[0],arguments[1]);case 3:return X5.j(arguments[0],arguments[1],arguments[2]);case 4:return X5.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X5.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X5.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.p.g(arguments.length)].join(""));}};
X5.h=function(a,b){return z_(a,b,null,null,null,null)};X5.j=function(a,b,c){return z_(a,b,c,null,null,null)};X5.F=function(a,b,c,d){return z_(a,b,c,d,null,null)};X5.P=function(a,b,c,d,e){return z_(a,b,c,d,e,null)};X5.ja=function(a,b,c,d,e,f){return z_(a,b,c,d,e,f)};X5.A=6;
for(var wWa=$APP.u(new $APP.k(null,2,[WUa,$APP.j_,hWa,$APP.p0],null)),xWa=null,yWa=0,Y5=0;;)if(Y5<yWa){var zWa=xWa.da(null,Y5),AWa=$APP.A.j(zWa,0,null),BWa=$APP.A.j(zWa,1,null),CWa=AWa,DWa=BWa;$APP.D.h($APP.q($APP.dM),CWa);$APP.dj.F($APP.dM,$APP.$h,CWa,DWa);Y5+=1}else{var EWa=$APP.u(wWa);if(EWa){var Z5=EWa;if($APP.je(Z5)){var FWa=$APP.Kc(Z5),GWa=$APP.Lc(Z5),HWa=FWa,IWa=$APP.Gd(FWa);wWa=GWa;xWa=HWa;yWa=IWa}else{var JWa=$APP.v(Z5),KWa=$APP.A.j(JWa,0,null),LWa=$APP.A.j(JWa,1,null),MWa=KWa,NWa=LWa;$APP.D.h($APP.q($APP.dM),
MWa);$APP.dj.F($APP.dM,$APP.$h,MWa,NWa);wWa=$APP.y(Z5);xWa=null;yWa=0}Y5=0}else break}$APP.cj.g(-1E6);var $5=$APP.GO.h($APP.LJ,null),a6=$APP.GO.h($APP.vL,null),b6=$APP.GO.h(ZVa,null),OWa=$APP.GO.h(a5,null),PWa=$APP.Ih([jUa,TUa,sTa,fWa,$APP.wH,MVa,Q4,PVa,qUa,UUa,vVa,lUa,wVa,$Va,P4,IVa,bWa,kWa,lWa,gWa,sVa,SVa,jWa,$APP.nC,cWa,S4,VVa,nVa,A3,MTa,DVa],[function(){var a=new $APP.hd(function(){return A1},DTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,jUa,"datascript/core.cljc",60,1,267,267,$APP.md,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.l(A1)?A1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return O5},rWa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,TUa,"datascript/core.cljc",
12,1,119,129,$APP.md,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.l(O5)?O5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?
$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return I1},HVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,sTa,"datascript/core.cljc",9,1,26,76,f5,$APP.md,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.l(I1)?I1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return u5},vTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,fWa,"datascript/core.cljc",
54,1,702,702,$APP.md,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.l(u5)?u5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return S5},qTa,$APP.Ih([$APP.S,$APP.O,
$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,$APP.wH,"datascript/core.cljc",4,1,133,145,$APP.md,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.l(S5)?S5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?
null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return A5},HUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,MVa,"datascript/core.cljc",65,1,565,565,$APP.md,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.l(A5)?A5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return i_},TVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,Q4,"datascript/core.cljc",
8,1,181,188,$4,$APP.md,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.l(i_)?i_.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?
$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return B1},OUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,PVa,"datascript/core.cljc",50,1,271,271,Y4,$APP.md,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.l(B1)?B1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,
$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return dTa},EUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,qUa,"datascript/core.cljc",18,1,412,412,$APP.J(new $APP.H(null,4,5,$APP.I,[P4,J4,$APP.mw,$APP.bJ],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.l(dTa)?dTa.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return F1},qVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,UUa,"datascript/core.cljc",
39,1,446,446,$APP.md,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.l(F1)?F1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return x5},WVa,$APP.Ih([$APP.S,$APP.O,
$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,vVa,"datascript/core.cljc",59,1,466,466,$APP.md,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.l(x5)?x5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?
e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return z5},CTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,lUa,"datascript/core.cljc",61,1,558,558,$APP.md,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.l(z5)?z5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,
4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return y5},fUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,wVa,"datascript/core.cljc",69,1,471,471,$APP.md,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.l(y5)?y5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return g5},gTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,$Va,"datascript/core.cljc",
38,1,677,677,$APP.md,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.l(g5)?g5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):
$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return eTa},KTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,P4,"datascript/core.cljc",13,1,617,617,Y4,$APP.J(new $APP.H(null,1,5,$APP.I,[tUa],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.l(eTa)?eTa.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return P5},QTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,IVa,"datascript/core.cljc",
15,1,206,218,$APP.md,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.l(P5)?P5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return v5},oUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,bWa,"datascript/core.cljc",
84,1,450,450,$APP.md,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.l(v5)?v5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return X5},NTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,
$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,kWa,"datascript/core.cljc",19,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,6,$APP.CK,6,$APP.UJ,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)],null),$APP.Z,$APP.J(new $APP.H(null,
2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)),$APP.BC,$APP.J(null,null,null,null,null)],null),1,404,404,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,
5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.l(X5)?X5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,
b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return Q5},cVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,lWa,"datascript/core.cljc",20,1,220,229,Y4,$APP.md,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.l(Q5)?Q5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return T5},ZUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,gWa,"datascript/core.cljc",
19,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,2,$APP.CK,2,$APP.UJ,new $APP.H(null,3,5,$APP.I,[$APP.qg,new $APP.H(null,1,5,$APP.I,[K4],null),new $APP.H(null,2,5,$APP.I,[K4,$APP.pE],null)],null),$APP.Z,$APP.J($APP.qg,new $APP.H(null,1,5,$APP.I,[K4],null),new $APP.H(null,2,5,$APP.I,[K4,$APP.pE],null)),$APP.BC,$APP.J(null,null,null)],null),1,150,150,Y4,$APP.J($APP.qg,new $APP.H(null,1,5,$APP.I,[K4],null),new $APP.H(null,2,5,$APP.I,[K4,$APP.pE],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.l(T5)?T5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return U5},kVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,sVa,"datascript/core.cljc",
18,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,3,$APP.CK,3,$APP.UJ,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[S4],null),new $APP.H(null,2,5,$APP.I,[S4,K4],null),new $APP.H(null,3,5,$APP.I,[S4,K4,$APP.pE],null)],null),$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[S4],null),new $APP.H(null,2,5,$APP.I,[S4,K4],null),new $APP.H(null,3,5,$APP.I,[S4,K4,$APP.pE],null)),$APP.BC,$APP.J(null,null,null)],null),1,194,194,Y4,$APP.J(new $APP.H(null,1,5,$APP.I,[S4],null),new $APP.H(null,2,5,$APP.I,[S4,K4],null),
new $APP.H(null,3,5,$APP.I,[S4,K4,$APP.pE],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.l(U5)?U5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?
$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return K1},yTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,SVa,"datascript/core.cljc",8,1,90,100,f5,$APP.md,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.l(K1)?K1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return 536870912},GVa,$APP.Ih([$APP.rt,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.ox,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[!0,$APP.LJ,
jWa,"datascript/core.cljc",26,1,!0,21,21,$APP.md,null,$APP.l(536870912)?(536870912).I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return cTa},nTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,
$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,$APP.nC,"datascript/core.cljc",13,1,246,246,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.yL],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.l(cTa)?cTa.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return C1},kUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,cWa,"datascript/core.cljc",
45,1,693,693,$APP.md,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.l(C1)?C1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,
$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return V5},FVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,S4,"datascript/core.cljc",13,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,6,$APP.CK,6,$APP.UJ,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,
3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)],null),$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,
O4,$APP.lB,$APP.mB,$APP.nB],null)),$APP.BC,$APP.J(null,null,null,null,null)],null),1,282,282,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.l(V5)?V5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return G1},eUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,VVa,"datascript/core.cljc",
49,1,562,562,$APP.md,null,$APP.l(G1)?G1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return W5},wUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,
nVa,"datascript/core.cljc",18,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,6,$APP.CK,6,$APP.UJ,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)],null),$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,
$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)),$APP.BC,$APP.J(null,null,null,null,null)],null),1,367,367,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.EC],null),new $APP.H(null,3,5,$APP.I,[P4,$APP.EC,O4],null),new $APP.H(null,4,5,$APP.I,[P4,$APP.EC,O4,$APP.lB],null),new $APP.H(null,5,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB],null),new $APP.H(null,
6,5,$APP.I,[P4,$APP.EC,O4,$APP.lB,$APP.mB,$APP.nB],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.l(W5)?W5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return N5},STa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,A3,"datascript/core.cljc",
7,1,105,117,$APP.md,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.l(N5)?N5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return fTa},xUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,MTa,"datascript/core.cljc",
15,1,735,735,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null)),null,$APP.l(fTa)?fTa.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),function(){var a=new $APP.hd(function(){return w5},XUa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,
$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.LJ,DVa,"datascript/core.cljc",59,1,454,454,$APP.md,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.l(w5)?w5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,$5,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}()]),QWa=new $APP.k(null,7,[aUa,function(){var a=new $APP.hd(function(){return $APP.p0},JVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.vL,
aUa,"datascript/db.cljc",21,1,1124,1124,$APP.J(new $APP.H(null,1,5,$APP.I,[new $APP.k(null,1,[$APP.Iy,new $APP.H(null,2,5,$APP.I,[K4,S4],null)],null)],null)),null,$APP.l($APP.p0)?$APP.p0.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),uVa,
function(){var a=new $APP.hd(function(){return $APP.j_},xVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.vL,uVa,"datascript/db.cljc",31,1,333,333,$4,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.ZJ],null)),null,$APP.l($APP.j_)?$APP.j_.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=
$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),lTa,function(){var a=new $APP.hd(function(){return $APP.g_},GTa,$APP.Ih([$APP.Fq,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[hTa,$APP.vL,lTa,"datascript/db.cljc",15,1,179,181,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.xB],null)),null,$APP.l($APP.g_)?$APP.g_.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),
$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),kTa,function(){var a=new $APP.hd(function(){return $APP.f_},hUa,$APP.Ih([$APP.Fq,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[hTa,$APP.vL,kTa,"datascript/db.cljc",12,1,179,180,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.xB],null)),null,$APP.l($APP.f_)?$APP.f_.I:null])),b=$APP.q(a),c=$APP.Xd(a);
a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),Q4,function(){var a=new $APP.hd(function(){return i_},mVa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.fm,$APP.Z,$APP.N,$APP.IC],[$APP.vL,Q4,"datascript/db.cljc",19,new $APP.k(null,6,[$APP.ux,!1,
$APP.Ur,5,$APP.CK,5,$APP.UJ,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH],null),new $APP.H(null,4,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4],null),new $APP.H(null,5,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4,rTa],null)],null),$APP.Z,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH],null),new $APP.H(null,4,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4],null),new $APP.H(null,5,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4,rTa],null)),$APP.BC,$APP.J(null,null,null)],null),1,257,257,$4,
$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH],null),new $APP.H(null,4,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4],null),new $APP.H(null,5,5,$APP.I,[$APP.kH,$APP.eH,$APP.zH,L4,rTa],null)),null,$APP.l(i_)?i_.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,
d):$APP.lt.j(a,b,d)}(),Y4,function(){var a=new $APP.hd(function(){return $APP.H_},JUa,new $APP.k(null,8,[$APP.S,$APP.vL,$APP.N,null,$APP.xl,"datascript/db.cljc",$APP.yl,672,$APP.om,22,$APP.O,Y4,$APP.IC,$APP.l($APP.H_)?$APP.H_.I:null,$APP.Z,$APP.md],null)),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?
e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),$4,function(){var a=new $APP.hd(function(){return $APP.h_},MUa,new $APP.k(null,8,[$APP.S,$APP.vL,$APP.N,null,$APP.xl,"datascript/db.cljc",$APP.yl,185,$APP.om,10,$APP.O,$4,$APP.IC,$APP.l($APP.h_)?$APP.h_.I:null,$APP.Z,$APP.md],null)),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,a6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=
$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}()],null),RWa=new $APP.k(null,3,[NUa,function(){var a=new $APP.hd(function(){return B5},pTa,$APP.Ih([$APP.Ts,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.gI,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[!0,a5,NUa,"datascript/impl/entity.cljc",21,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,3,$APP.CK,3,$APP.UJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.xB,J4],null),new $APP.H(null,3,5,$APP.I,[$APP.Wd($APP.xB,new $APP.k(null,
1,[$APP.fm,f5],null)),J4,$APP.Nx],null)],null),$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.xB,J4],null),new $APP.H(null,3,5,$APP.I,[$APP.Wd($APP.xB,new $APP.k(null,1,[$APP.fm,f5],null)),J4,$APP.Nx],null)),$APP.BC,$APP.J(null,null)],null),1,165,165,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.xB,J4],null),new $APP.H(null,3,5,$APP.I,[$APP.Wd($APP.xB,new $APP.k(null,1,[$APP.fm,f5],null)),J4,$APP.Nx],null)),null,$APP.l(B5)?B5.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,
4,[$APP.S,OWa,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),f5,function(){var a=new $APP.hd(function(){return M1},QUa,new $APP.k(null,8,[$APP.S,a5,$APP.N,null,$APP.xl,"datascript/impl/entity.cljc",$APP.yl,48,$APP.om,10,$APP.O,f5,$APP.IC,$APP.l(M1)?M1.I:null,$APP.Z,$APP.md],null)),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);
var d=new $APP.k(null,4,[$APP.S,OWa,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),mTa,function(){var a=new $APP.hd(function(){return N1},TTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[a5,mTa,"datascript/impl/entity.cljc",14,1,147,147,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.BH],null)),null,$APP.l(N1)?
N1.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,OWa,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}()],null),c6,SWa=$APP.cj.g($APP.wf),TWa=$APP.cj.g($APP.wf),UWa=$APP.cj.g($APP.wf),VWa=$APP.cj.g($APP.wf),WWa=$APP.D.j($APP.wf,$APP.nq,$APP.mj.C?$APP.mj.C():$APP.mj.call(null));
c6=new $APP.Cj($APP.Oi.h("nbb.impl.datascript","-store"),$APP.bq,$APP.mm,WWa,SWa,TWa,UWa,VWa);var d6,XWa=$APP.cj.g($APP.wf),YWa=$APP.cj.g($APP.wf),ZWa=$APP.cj.g($APP.wf),$Wa=$APP.cj.g($APP.wf),aXa=$APP.D.j($APP.wf,$APP.nq,$APP.mj.C?$APP.mj.C():$APP.mj.call(null));d6=new $APP.Cj($APP.Oi.h("nbb.impl.datascript","-restore"),$APP.bq,$APP.mm,aXa,XWa,YWa,ZWa,$Wa);c6.Da(null,$APP.Yw,function(a,b){var c=$APP.Jo(a);c=$APP.D.h(c,M4);return c.h?c.h(a,b):c.call(null,a,b)});var bXa=g1;
c6.Da(null,$APP.mm,function(a,b){return bXa.h?bXa.h(a,b):bXa.call(null,a,b)});g1=function(a,b){return c6.h(a,b)};d6.Da(null,$APP.Yw,function(a,b){var c=$APP.Jo(a);c=$APP.D.h(c,e5);return c.h?c.h(a,b):c.call(null,a,b)});var cXa=h1;d6.Da(null,$APP.mm,function(a,b){return cXa.h?cXa.h(a,b):cXa.call(null,a,b)});h1=function(a,b){return d6.h(a,b)};
var dXa=$APP.lt.h(nWa,new $APP.k(null,3,[$APP.Fq,OQa,$APP.Eq,$APP.ei([d6,c6]),$APP.S,b6],null)),eXa=$APP.$h.l($APP.nt($APP.Ih([$APP.Wd(gUa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.Wd($APP.fH,new $APP.k(null,1,[$APP.fm,$4],null))],null)))],null)),$APP.Wd(qWa,new $APP.k(null,4,[tVa,!0,$APP.$J,$APP.Vpa,$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[c5],null))),$APP.N,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.Wd(XTa,
new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J($APP.Wd(new $APP.H(null,1,5,$APP.I,[P4],null),new $APP.k(null,1,[$APP.fm,CVa],null))))],null)),$APP.Wd(aVa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.qC],null)))],null)),$APP.Wd(oWa,new $APP.k(null,4,[$APP.MF,!0,$APP.gx,new $APP.k(null,1,[$APP.Eq,new $APP.k(null,2,[$APP.Wd(M4,new $APP.k(null,1,[$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.aH,d5,U4],null)],null),$APP.Wd(e5,new $APP.k(null,1,[$APP.N,"Read back and deserialize data stored under single `addr`"],null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.aH,H4],null)],null)],null)],null),$APP.jH,new $APP.k(null,2,[iTa,new $APP.k(null,3,[$APP.O,M4,$APP.Z,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.aH,d5,U4],null)),$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),ETa,new $APP.k(null,3,[$APP.O,e5,$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.aH,H4],null)),$APP.N,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.bF,$APP.J("@interface")],null)),$APP.Wd(fWa,new $APP.k(null,2,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[c5],null),new $APP.H(null,2,5,$APP.I,[c5,$APP.pE],null))),$APP.gI,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,2,$APP.CK,2,$APP.UJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[c5],null),new $APP.H(null,
2,5,$APP.I,[c5,$APP.pE],null)],null),$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[c5],null),new $APP.H(null,2,5,$APP.I,[c5,$APP.pE],null)),$APP.BC,$APP.J(null,null)],null)],null)),$APP.Wd(c5,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null)))],null)),$APP.Wd(M4,new $APP.k(null,3,[$APP.Fq,NVa,$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.aH,d5,U4],null)))],null)),$APP.Wd(RTa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,3,5,$APP.I,[P4,lVa,QVa],null)))],null)),$APP.Wd(e5,new $APP.k(null,3,[$APP.Fq,NVa,$APP.N,"Read back and deserialize data stored under single `addr`",$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.aH,H4],null)))],null)),$APP.Wd(UTa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,2,5,$APP.I,[c5,$APP.pE],null)))],
null)),$APP.Wd(IUa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.pE],null)))],null)),$APP.Wd(PTa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,2,5,$APP.I,[c5,wTa],null)))],null)),$APP.Wd(cWa,new $APP.k(null,2,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null),new $APP.H(null,2,5,$APP.I,[P4,c5],null))),$APP.gI,new $APP.k(null,6,[$APP.ux,!1,$APP.Ur,2,$APP.CK,2,$APP.UJ,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[P4],null),
new $APP.H(null,2,5,$APP.I,[P4,c5],null)],null),$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null),new $APP.H(null,2,5,$APP.I,[P4,c5],null)),$APP.BC,$APP.J(null,null)],null)],null)),$APP.Wd(yVa,new $APP.k(null,4,[tVa,!0,$APP.$J,$APP.Zl,$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,1,5,$APP.I,[UVa],null))),$APP.N,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.Wd(PUa,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Zj,$APP.J(new $APP.H(null,2,5,
$APP.I,[P4,$APP.qC],null)))],null))],[new $APP.k(null,3,[$APP.O,ITa,$APP.mt,i1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.Wd($APP.fH,new $APP.k(null,1,[$APP.fm,$4],null))],null))],null)],null),new $APP.k(null,3,[$APP.O,LUa,$APP.mt,function(a){return new j1(a,null,null,null)},$APP.Ta,new $APP.k(null,2,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[c5],null)),$APP.N,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.k(null,3,[$APP.O,
ZTa,$APP.mt,l1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J($APP.Wd(new $APP.H(null,1,5,$APP.I,[P4],null),new $APP.k(null,1,[$APP.fm,CVa],null)))],null)],null),new $APP.k(null,3,[$APP.O,KUa,$APP.mt,UQa,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.qC],null))],null)],null),new $APP.k(null,3,[$APP.O,NVa,$APP.mt,OQa,$APP.Ta,$APP.wf],null),new $APP.k(null,3,[$APP.O,rVa,$APP.mt,u5,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[c5],null),new $APP.H(null,
2,5,$APP.I,[c5,$APP.pE],null))],null)],null),new $APP.k(null,3,[$APP.O,LVa,$APP.mt,m1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null))],null)],null),new $APP.k(null,3,[$APP.O,gVa,$APP.mt,g1,$APP.Ta,new $APP.k(null,2,[$APP.Z,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.aH,d5,U4],null)),$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.k(null,3,[$APP.O,iVa,$APP.mt,q1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,3,5,$APP.I,[P4,lVa,QVa],null))],null)],null),new $APP.k(null,3,[$APP.O,ATa,$APP.mt,h1,$APP.Ta,new $APP.k(null,2,[$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.aH,H4],null)),$APP.N,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.k(null,3,[$APP.O,tTa,$APP.mt,s1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[c5,$APP.pE],null))],null)],
null),new $APP.k(null,3,[$APP.O,yUa,$APP.mt,u1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.pE],null))],null)],null),new $APP.k(null,3,[$APP.O,OVa,$APP.mt,k1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[c5,wTa],null))],null)],null),new $APP.k(null,3,[$APP.O,DUa,$APP.mt,C1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[P4],null),new $APP.H(null,2,5,$APP.I,[P4,c5],null))],null)],null),new $APP.k(null,3,[$APP.O,zVa,$APP.mt,function(a){var b=
$APP.ql.h(a,UZ);b=$APP.ge(a)?$APP.fh.h($APP.wf,b):b;return new j1(UZ.g(a),null,$APP.yf(b),null)},$APP.Ta,new $APP.k(null,2,[$APP.Z,$APP.J(new $APP.H(null,1,5,$APP.I,[UVa],null)),$APP.N,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.k(null,3,[$APP.O,XVa,$APP.mt,t1,$APP.Ta,new $APP.k(null,1,[$APP.Z,$APP.J(new $APP.H(null,2,5,$APP.I,[P4,$APP.qC],null))],null)],null)]),b6),M4,function(){var a=new $APP.hd(function(){return c6},
JTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.Wd(zTa,new $APP.k(null,1,[$APP.rt,!0],null)),M4,"nbb/impl/datascript.cljs",17,1,65,65,$APP.md,null,$APP.l(c6)?c6.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,b6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,
b,d)}(),$APP.C([e5,function(){var a=new $APP.hd(function(){return d6},OTa,$APP.Ih([$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[$APP.Wd(zTa,new $APP.k(null,1,[$APP.rt,!0],null)),e5,"nbb/impl/datascript.cljs",19,1,66,66,$APP.md,null,$APP.l(d6)?d6.I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,b6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?$APP.AO.j(a,b,d):$APP.l(function(){var e=
$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}(),oWa,dXa,uTa,function(){var a=new $APP.hd(function(){return 1},EVa,$APP.Ih([$APP.Ts,$APP.S,$APP.O,$APP.xl,$APP.Tw,$APP.om,$APP.yl,$APP.XL,$APP.Z,$APP.N,$APP.IC],[!0,ZVa,uTa,"datascript/storage.cljs",25,1,31,31,$APP.md,null,$APP.l(1)?(1).I:null])),b=$APP.q(a),c=$APP.Xd(a);a=$APP.l(null)?null:$APP.O.g(c);var d=new $APP.k(null,4,[$APP.S,b6,$APP.O,a,$APP.Z,$APP.Z.g(c),$APP.N,$APP.N.g(c)],null);return $APP.l($APP.Wp.g(c))?
$APP.AO.j(a,b,d):$APP.l(function(){var e=$APP.pp.g(c);return $APP.l(e)?e:$APP.Dp.g(c)}())?$APP.BO.j(a,b,d):$APP.lt.j(a,b,d)}()]));$APP.$t(new $APP.k(null,1,[$APP.Mp,new $APP.k(null,4,[$APP.LJ,PWa,$APP.vL,QWa,ZVa,eXa,a5,RWa],null)],null));