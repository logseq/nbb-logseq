import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var xgb,zgb,b0,Bgb,Agb,c0,d0,e0,f0,Cgb,Dgb,Egb,Fgb,h0,i0,j0,Ggb,k0,l0,m0,n0,o0,Kgb,Lgb,Mgb,Ngb,p0,q0,Ogb,r0,Pgb,s0,t0,u0,v0,w0,x0,y0,Qgb,A0,B0,C0,E0,D0,Rgb,F0,H0,I0,J0,K0,M0,Sgb,P0,Tgb,Q0,O0,R0,Ugb,Vgb,Wgb,Ygb,T0,U0,V0,Zgb,Y0,$gb,ahb,dhb,ehb,c1,fhb,ghb,hhb,ihb,jhb,j1,k1,l1,m1,khb,lhb,mhb,nhb,ohb,n1,o1,p1,q1,r1,s1,v1,w1,x1,y1,rhb,J1,shb,uhb,vhb,T1,W1,Z1,$1,Ahb,a2,Chb,d2,Dhb,j2,k2,l2,m2,n2,Ehb,o2,q2,Fhb,t2,Ghb,u2,g0,v2,w2,x2,Jhb,z2,Lhb,Mhb,Nhb,Rhb,Shb,D2,Thb,Whb,Xhb,Yhb,J2,$hb,bib,cib,dib,eib,hib,iib,
P2,Q2,jib,R2,kib,S2,T2,W2,rib,tib,uib,Y2,Z2,vib,a3,b3,wib,c3,xib,g3,zib,Aib,h3,Cib,Dib,i3,k3,l3,Bib,Eib,m3,Fib,Gib,Hib,j3,Iib,Jib,Kib,n3,Lib,w3,Mib,D3,Qib,Rib,Tib,E3,Uib,Vib,F3,G3,H3,Zib,$ib,I3,ajb,bjb,cjb,J3,K3,L3,M3,N3,djb,P3,O3,Q3,S3,T3,U3,V3,fjb,gjb,hjb,ijb,ljb,W3,mjb,njb,X3,Y3,$3,Z3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,pjb,l4,qjb,m4,rjb,sjb,n4,ujb,p4,vjb,q4,r4,s4,t4,wjb,xjb,zjb,u4,v4,w4,x4,y4,z4,A4,B4,C4,Ajb,Bjb,D4,Gjb,E4,Hjb,Ijb,Kjb,F4,G4,H4,I4,J4,K4,L4,Ljb,M4,Mjb,Njb,Ojb,Pjb,Qjb,Sjb,P4,Tjb,S4,
T4,Ujb,Wjb,Xjb,V4,Yjb,Zjb,$jb,dkb,gkb,c5,d5,hkb,ikb,jkb,e5,f5,kkb,lkb,mkb,nkb,g5,okb,rkb,skb,m5,tkb,o5,ukb,p5,vkb,wkb,xkb,ykb,zkb,Akb,q5,Bkb,Ckb,Dkb,Ekb,Fkb,Gkb,Hkb,Jkb,Kkb,Lkb,v5,Mkb,Okb,Pkb,C5,D5,E5,Qkb,Rkb,Skb,Tkb,Nkb,B5,Ukb,Vkb,G5,Wkb,Xkb,Ykb,Zkb,$kb,alb,blb,clb,dlb,elb,flb,H5,glb,L1,M2,hlb,ilb,jlb,klb,ckb,zhb,F2,Y4,fib,llb,mlb,nlb,I5,olb,U4,plb,qlb,f3,rlb,Ejb,slb,B3,I2,tlb,ulb,vlb,a5,wlb,z3,Vhb,xlb,ylb,zlb,p3,Alb,O1,Blb,Clb,Dlb,Elb,G2,Flb,Glb,Hlb,Ilb,Jlb,Klb,J5,Llb,Mlb,g2,z5,Nlb,Olb,Plb,$4,S1,
h2,W4,Qlb,y5,Rlb,N1,C2,Slb,Tlb,f2,N4,Ulb,K5,Vlb,thb,Wlb,aib,L5,Xlb,Ylb,Zlb,R4,$lb,amb,bmb,fkb,cmb,dmb,emb,fmb,t1,M5,gib,gmb,hmb,Jjb,Bhb,imb,Z0,I1,jmb,t3,Nib,N5,kmb,e3,lmb,O4,X1,Khb,C1,mmb,O5,nmb,P5,Uhb,Cjb,$0,omb,pmb,Q5,qmb,u5,P1,R5,rmb,S5,smb,Q1,q3,tmb,umb,A5,vmb,oib,akb,wmb,n5,xmb,T5,ymb,U5,zmb,Amb,Bmb,Cmb,D1,Dmb,Emb,Fmb,Gmb,V1,Hmb,Imb,Jmb,Kmb,Lmb,V5,Yib,kjb,R1,Mmb,M1,mib,jjb,Nmb,yib,Omb,Pmb,bhb,K1,Qmb,pib,i5,Rmb,W5,nib,i2,Smb,Tmb,Umb,Vmb,ojb,K2,Wmb,Xmb,Ymb,Zmb,A2,$mb,anb,bnb,E1,cnb,y3,u3,dnb,X5,
R3,Y5,enb,s5,fnb,E2,gnb,hnb,inb,j5,jnb,e2,knb,O2,Phb,chb,Ohb,lnb,mnb,nnb,onb,$2,pnb,ejb,G1,qnb,rnb,snb,tnb,h5,unb,vnb,wnb,xhb,v3,Djb,Fjb,H2,H1,sib,yjb,xnb,ynb,Z5,znb,$5,Anb,y2,Bnb,a6,x3,qhb,X0,Cnb,b1,Dnb,Enb,s3,Rjb,X4,ekb,Fnb,tjb,Gnb,Hnb,A3,U1,qkb,b6,r3,pkb,Y1,Inb,Jnb,Knb,Lnb,Mnb,Nnb,Onb,Pnb,c6,Qnb,x5,Rnb,Snb,Tnb,Ihb,Unb,Vnb,Wnb,Xnb,phb,Z4,d6,b5,Ynb,C3,Znb,N2,F1,$nb,e6,aob,bob,cob,dob,eob,p2,f6,bkb,B2,fob,Xib,o4,gob,a1,hob,Vjb,iob,job,kob,lob,mob,nob,o3,oob,pob,g6;
xgb=function(a,b){a=a.split(".");var c=$APP.Mu;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};zgb=function(a){return $APP.og(function(b){return $APP.Ue(a,b)},ygb)};b0=function(a,b,c,d,e){this.wg=a;this.Ek=b;this.Fk=c;this.Xf=d;this.Ib=e;this.J=2147484416;this.M=0};
Bgb=function(a,b,c){var d=a.wg,e=a.Ek,f=a.Fk,m=a.Xf;a=a.Ib;var p=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(p))return new b0(d,$APP.xi.j($APP.Ll.h(e,p),m,b),$APP.xi.j(f,b,m),m+1,a);b=new b0($APP.xi.j(d,b,c),$APP.xi.j(e,m,b),$APP.xi.j(f,b,m),m+1,a);return Agb.g?Agb.g(b):Agb.call(null,b)};Agb=function(a){if($APP.de(a.wg)>a.Ib){var b=a.wg,c=a.Ek,d=a.Fk,e=a.Xf;a=a.Ib;var f=$APP.v(c),m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return new b0($APP.Ll.h(b,f),$APP.Ll.h(c,m),$APP.Ll.h(d,f),e,a)}return a};
c0=function(a,b,c){if(null!=a&&null!=a.Ak)a=a.Ak(a,b,c);else{var d=c0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=c0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ICache.-get",a);}return a};d0=function(a,b,c){this.Ib=a;this.Hg=b;this.dn=c;this.J=393216;this.M=0};e0=function(){var a=new b0($APP.Wf,$APP.Hy(),$APP.Wf,0,100);return new d0(100,$APP.zg(a),$APP.Wf)};
f0=function(a,b){a=a.toString(16);var c=$APP.de(a);return c>b?$APP.Yi.j(a,0,b):c<b?[$APP.l.g($APP.qg.h($APP.l,$APP.kn.h(b-c,"0"))),$APP.l.g(a)].join(""):a};Cgb=function(a,b){return $APP.Wc($APP.ie($APP.cf.j(function(c,d){var e=$APP.y.j(c,0,null),f=$APP.y.j(c,1,null),m=a.g?a.g(d):a.call(null,d);return $APP.Ue(e,m)?c:new $APP.H(null,2,5,$APP.J,[$APP.Rg.h(e,m),$APP.Rg.h(f,d)],null)},new $APP.H(null,2,5,$APP.J,[$APP.Uc($APP.Bi),$APP.Uc($APP.Sg)],null),b)))};
Dgb=function(a,b){return $APP.cf.j(function(c,d){return $APP.k(a.g?a.g(d):a.call(null,d))?$APP.Ud(d):null},null,b)};Egb=function(a){var b=g0;return $APP.Wc($APP.ff(function(c,d,e){return $APP.k(b.g?b.g(d):b.call(null,d))?c:$APP.Gh.j(c,d,e)},$APP.Uc($APP.pe(a)),a))};
Fgb=function(a,b,c){return $APP.v($APP.cf.j(function(d,e){var f=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Vd(e)?$APP.Ud(new $APP.H(null,2,5,$APP.J,[e,d],null)):new $APP.H(null,2,5,$APP.J,[e,d+1],null)},new $APP.H(null,2,5,$APP.J,[b,0],null),c))};h0=function(a){return $APP.cf.j(function(b,c){b.push(c);return b},[],a)};i0=function(a){return a instanceof Array};
j0=function(a,b){if(null!=a&&null!=a.Jk)a=a.Jk(a,b);else{var c=j0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=j0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.restore",a);}return a};Ggb=function(a,b){if(null==a||null==a.Hm){var c=Ggb[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=Ggb._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.accessed",a);}};
k0=function(a,b,c){if(null!=a&&null!=a.Kk)a=a.Kk(a,b,c);else{var d=k0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=k0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.store",a);}return a};l0=function(a,b){if(null!=a&&null!=a.Ik)a.Ik(a,b);else{var c=l0[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=l0._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.delete",a);}};
m0=function(a,b){return 6>b?a>>>5*b&Hgb:Math.floor(a/Igb[b])&Hgb};n0=function(a,b,c){var d=a<Jgb&&6>b,e=m0(a,b);return a-(d?e<<5*b:e*Igb[b])+(d?c<<5*b:c*Igb[b])};o0=function(a,b,c,d){for(var e=0,f=$APP.lf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0>(a.h?a.h(m,d):a.call(null,m,d))?e=c+1:f=c-1}else return e};Kgb=function(a,b,c,d){for(var e=0,f=$APP.lf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0<(a.h?a.h(m,d):a.call(null,m,d))?f=c-1:e=c+1}else return e};
Lgb=function(a,b,c){var d=b.length,e=o0(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};Mgb=function(a,b,c){var d=b.length;a=o0(a,b,d-1,c);return a===d?-1:a};Ngb=function(a,b,c,d,e,f){var m=f.length,p=d-b,u=p+m,t=Array(p+m+(c-e));d-=b;for(var B=0;;)if(B<d)t[B+0]=a[B+b],B+=1;else break;b=m-0;for(m=0;;)if(m<b)t[m+p]=f[m+0],m+=1;else break;c-=e;for(f=0;;)if(f<c)t[f+u]=a[f+e],f+=1;else break;return t};p0=function(a,b,c,d){return Ngb(a,0,a.length,b,c,d)};
q0=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,m=Array(f);e=Array(e-f);if(c<=f){for(var p=c-0,u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;a=f-c;for(p=0;;)if(p<a)m[p+c]=b[p+0],p+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{p=f-0;for(u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;p=c-f;for(u=0;;)if(u<p)e[u+0]=a[u+f],u+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[m,e]};
Ogb=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var m=b[f+c],p=e[f+0];if(0!==(a.h?a.h(m,p):a.call(null,m,p)))return!1;f+=1}else return f};r0=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};Pgb=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
s0=function(a){if(null!=a&&null!=a.Ej)a=a.Ej(a);else{var b=s0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=s0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-lim-key",a);}return a};t0=function(a){if(null!=a&&null!=a.Hk)a=a.keys.length;else{var b=t0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=t0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-len",a);}return a};
u0=function(a,b,c){if(null!=a&&null!=a.Gj)a=a.Gj(a,b,c);else{var d=u0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=u0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("INode.node-merge",a);}return a};v0=function(a,b){if(null!=a&&null!=a.Hj)a=a.Hj(a,b);else{var c=v0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=v0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("INode.node-merge-n-split",a);}return a};
w0=function(a,b,c,d){if(null!=a&&null!=a.Fj)a=a.Fj(a,b,c,d);else{var e=w0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=w0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-lookup",a);}return a};
x0=function(a,b,c,d){if(null!=a&&null!=a.Cj)a=a.Cj(a,b,c,d);else{var e=x0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=x0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-conj",a);}return a};
y0=function(a,b,c,d,e,f,m){if(null!=a&&null!=a.Dj)a=a.Dj(a,b,c,d,e,f,m);else{var p=y0[$APP.fa(null==a?null:a)];if(null!=p)a=p.Ia?p.Ia(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else if(p=y0._,null!=p)a=p.Ia?p.Ia(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else throw $APP.Lb("INode.node-disj",a);}return a};
Qgb=function(a,b,c,d,e){if($APP.k(b))return[a];if(t0(a)>z0)return Pgb(c,a,d);if($APP.k($APP.k(c)?t0(c)<=z0:c))return r0(u0(c,a,e),d);if($APP.k($APP.k(d)?t0(d)<=z0:d))return r0(c,u0(a,d,e));if($APP.k($APP.k(c)?null==d||t0(c)<t0(d):c))return a=v0(c,a),Pgb(a[0],a[1],d);a=v0(a,d);return Pgb(c,a[0],a[1])};
A0=function(a,b){if(null!=a&&null!=a.zg)a=a.zg(a,b);else{var c=A0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=A0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStore.store-aux",a);}return a};B0=function(a){a=$APP.fj.h(function(b){return b.Ab},a);return h0(a)};C0=function(a,b){$APP.xe(a.zd)&&(b=$APP.r(a.children)?B0(a.children):Array(b),a.zd=b)};E0=function(a,b,c,d,e){c=null==c?$APP.r(b)?B0(b):Array(a.length):c;return new D0(a,b,c,d,e)};
D0=function(a,b,c,d,e){this.keys=a;this.children=b;this.zd=c;this.Ab=d;this.$g=e};Rgb=function(a,b,c){this.keys=a;this.Ab=b;this.$g=c};F0=function(a){if(null!=a&&null!=a.tf)a=a.tf(a);else{var b=F0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=F0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IRoot.-ensure-root-node",a);}return a};
$APP.G0=function(a,b,c,d,e,f,m,p){this.storage=a;this.root=b;this.shift=c;this.T=d;this.td=e;this.P=f;this.Ad=m;this.Ab=p;this.J=2297303311;this.M=8332};H0=function(a,b,c){return a instanceof D0?a.Zf(b,c):null};I0=function(a,b){for(var c=a.shift,d=F0(a);;)if(0<c){var e=c-1;d=H0(d,m0(b,c),a.storage);c=e}else return d.keys};J0=function(a,b,c,d){return new $APP.G0(a.storage,b,c,d,a.td,a.P,null,null)};
K0=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.k(f)?f:H0(a,e,d);b=n0(b,c,e);--c}else return $APP.k(a)?n0(b,0,a.keys.length-1):null};M0=function(a,b){if(0>b)return 0;b=L0(a,F0(a),b,a.shift);return $APP.k(b)?b:K0(F0(a),0,a.shift,a.storage)+1};Sgb=function(a,b){if(0<m0(b,a.shift+1))return K0(F0(a),b,a.shift,a.storage);a=N0(a,F0(a),b,a.shift);return $APP.k(a)?a:-1};
P0=function(a){if(0<t0(F0(a))){var b=K0(F0(a),0,a.shift,a.storage);b=M0(a,b);return O0.j?O0.j(a,0,b):O0.call(null,a,0,b)}return null};Tgb=function(a,b,c){this.I=a;this.Db=b;this.end=c;this.J=524306;this.M=0};Q0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};O0=function(a,b,c){return new Q0(a,b,c,I0(a,b),m0(b,0))};R0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
Ugb=function(a,b,c){return new R0(a,b,c,I0(a,c),m0(c,0))};
Vgb=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.tf(null),f=0,m=a.shift;;)if($APP.k(e)){var p=t0(e);if(0===m){var u=e.keys;u=o0(d,u,p-1,b);b=p===u?null:n0(f,0,u);break a}u=e.keys;u=o0(d,u,p-2,b);e=H0(e,u,a.storage);f=n0(f,m,u);--m}else{b=null;break a}if(null==b)return null;a:if(null==c)c=K0(a.tf(null),0,a.shift,a.storage)+1;else for(e=a.tf(null),m=0,f=a.shift;;)if($APP.k(e)){p=t0(e);if(0===f){u=e.keys;p=Kgb(d,u,p-1,c);c=m=n0(m,0,p);break a}u=e.keys;p=Kgb(d,u,p-2,c);m=n0(m,f,p);e=H0(e,p,a.storage);
--f}else{c=null;break a}return b<c?new Q0(a,b,c,I0(a,b),m0(b,0)):null};Wgb=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};Ygb=function(a){var b=a.length,c=$APP.Uc($APP.Sg);if(0<b)for(var d=0;;){var e=b-d;if(e<=S0){$APP.Rg.h(c,a.slice(d));break}else e>=Xgb+z0?($APP.Rg.h(c,a.slice(d,d+Xgb)),d+=Xgb):(e>>>=1,$APP.Rg.h(c,a.slice(d,d+e)),d+=e)}return $APP.df($APP.Wc(c))};
T0=function(a,b,c){b=x0(a.tf(null),c,b,a.storage);if(null!=b)if(1===b.length)a=J0(a,b[0],a.shift,a.T+1);else{c=b.map(s0);var d=B0(b);b=E0(c,b,d,null,!0);a=J0(a,b,a.shift+1,a.T+1)}return a};U0=function(a,b,c){b=y0(a.tf(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof D0&&1===b.children.length?J0(a,b.children[0],a.shift-1,a.T-1):J0(a,b,a.shift,a.T-1)};V0=function(a,b,c){return Vgb(a,b,c,a.td)};Zgb=function(a,b,c){a=Vgb(a,c,b,a.td);return null==a?null:$APP.Hc(a)};
Y0=function(a,b,c){var d=Wgb(W0,Ygb(b));c=X0.g(c);for(var e=d,f=0;;){var m=$APP.de(e);switch(m){case 0:return new $APP.G0(c,W0.g([]),0,0,a,null,null,null);case 1:return new $APP.G0(c,$APP.v(e),f,b.length,a,null,null,null);default:e=Wgb(function(){return function(p){var u=p.map(s0);return E0(u,p,null,null,!0)}}(e,f,m,d,c),Ygb(e)),f+=1}}};$gb=function(a){var b=X0.g(a),c=W0.g([]),d=Z0.g(a);return new $APP.G0(b,c,0,0,$APP.k(d)?d:$APP.Ye,$APP.mb.g(a),null,null)};
ahb=function(a,b,c,d){d=$APP.Xf(d);d=$APP.A.h(d,$0);return new $APP.G0(c,null,a1.g(d),$APP.tI.g(d),a,null,null,b)};dhb=function(){return new $APP.h(null,2,[b1,S0,bhb,chb],null)};ehb=function(a){return"string"!==typeof a&&($APP.Me(a)||i0(a))};c1=function(a,b){return $APP.Ad(a,b)};
$APP.d1=function(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=$APP.d1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.d1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-tx",a);}return a};$APP.e1=function(a){if(null!=a&&null!=a.Qd)a=a.Qd(a);else{var b=$APP.e1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.e1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-added",a);}return a};
$APP.f1=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Ad=f;this.J=2162164496;this.M=0};fhb=function(a){return a instanceof $APP.f1};$APP.h1=function(a){return $APP.qg.h(g1,a)};ghb=function(a,b){return null==a?0:null==b?0:$APP.lf($APP.Ye(a,b))};hhb=function(a,b){return $APP.Ra($APP.Mb($APP.Kb(a)),$APP.Mb($APP.Kb(b)))};
ihb=function(a,b){var c=$APP.de(a),d=$APP.de(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.xe(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.w(a),b=$APP.w(b);else{if(null==c)return-1;if(null==d)return 1;c=i1(c,d);if($APP.x.h(c,0))a=$APP.w(a),b=$APP.w(b);else return c}}};jhb=function(a,b){return null==a?0:null==b?0:i1(a,b)};j1=function(a,b){var c=a.e-b.e;return 0===c?(c=ghb(a.a,b.a),0===c?(c=jhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};
k1=function(a,b){var c=ghb(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=jhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};l1=function(a,b){var c=ghb(a.a,b.a);return 0===c?(c=jhb(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};m1=function(a,b){return a instanceof $APP.F?$APP.cd(a,b):$APP.Ra(a,b)};khb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(a=i1(a.v,b.v),0===a?0:a):c):c};
lhb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};mhb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};nhb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=i1(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};ohb=function(){};
n1=function(a,b){if(null!=a&&null!=a.vj)a=a.vj(a,b);else{var c=n1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=n1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ISearch.-search",a);}return a};o1=function(a,b){return $APP.v(n1(a,b))};
p1=function(a,b,c,d,e,f){if(null!=a&&null!=a.rj)a=a.rj(a,b,c,d,e,f);else{var m=p1[$APP.fa(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=p1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-datoms",a);}return a};
q1=function(a,b,c,d,e,f){if(null!=a&&null!=a.uj)a=a.uj(a,b,c,d,e,f);else{var m=q1[$APP.fa(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=q1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-seek-datoms",a);}return a};
r1=function(a,b,c,d,e,f){if(null!=a&&null!=a.tj)a=a.tj(a,b,c,d,e,f);else{var m=r1[$APP.fa(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=r1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-rseek-datoms",a);}return a};
s1=function(a,b,c,d){if(null!=a&&null!=a.sj)a=a.sj(a,b,c,d);else{var e=s1[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=s1._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("IIndexAccess.-index-range",a);}return a};
v1=function(a,b,c,d,e,f){if($APP.x.h(b,t1)&&null!=c&&!u1(a,c))throw $APP.Zl.h(["Attribute ",$APP.xj.l($APP.z([c]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.Ln,phb,$APP.Pua,t1,qhb,new $APP.H(null,4,5,$APP.J,[c,d,e,f],null)],null));};w1=function(){};x1=function(a){if(null!=a&&null!=a.qj)a=a.qj(a);else{var b=x1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=x1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDB.-schema",a);}return a};
y1=function(a,b){if(null!=a&&null!=a.pj)a=a.pj(a,b);else{var c=y1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=y1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IDB.-attrs-by",a);}return a};$APP.z1=function(a,b,c,d,e,f,m,p,u,t,B,C,E){this.Jc=a;this.jc=b;this.Lc=c;this.tc=d;this.dd=e;this.ed=f;this.Nc=m;this.Sc=p;this.Rc=u;this.hash=t;this.A=B;this.o=C;this.C=E;this.J=2230716170;this.M=139264};
rhb=function(a){var b=$APP.Ll.l(a,$APP.A1,$APP.z([$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1]));b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new $APP.z1($APP.A1.g(a),$APP.B1.g(a),C1.g(a),t1.g(a),D1.g(a),E1.g(a),F1.g(a),G1.g(a),H1.g(a),I1.g(a),null,$APP.Yf(b),null)};J1=function(a,b,c,d,e,f){this.Oc=a;this.ib=b;this.hash=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};shb=function(a){return a instanceof J1?a.Oc:a};
uhb=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.J,[K1,L1,M1],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.J,[K1,thb,M1],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.J,[N1],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.J,[O1,M1],null);default:return $APP.x.h(P1,a)&&!0===b?new $APP.H(null,1,5,$APP.J,[P1],null):$APP.x.h(M1,a)&&!0===b?new $APP.H(null,1,5,$APP.J,[M1],null):$APP.x.h(Q1,a)?new $APP.H(null,
2,5,$APP.J,[R1,M1],null):$APP.Sg}};vhb=function(a,b){return $APP.cf.j(function(c,d){return Fgb(function(e,f,m){return $APP.bn.S(e,f,$APP.xi,d,m)},c,Q1.g($APP.A.h(a,d)))},$APP.Wf,R1.g(b))};T1=function(a){var b=$APP.ff(function(c,d,e){return e instanceof $APP.F?c:$APP.ff(function(f,m,p){return $APP.cf.j(function(u,t){return $APP.bn.F(u,t,whb,d)},f,uhb(m,p))},$APP.bn.j(c,S1,function(f){return $APP.k(f)?$APP.xf.h(f,d):$APP.Ci([d])}),e)},$APP.Wf,a);return $APP.xi.j(b,xhb,vhb(a,b))};
W1=function(a,b,c,d){if(null!=c&&!$APP.Ue(d,c))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([$APP.Vf([a,$APP.Vf([b,c])])])),", expected one of ",$APP.l.g(d)].join(""),new $APP.h(null,4,[$APP.Ln,U1,V1,a,$APP.JE,b,$APP.GI,c],null));};
Z1=function(a){for(var b=$APP.r(a),c=null,d=0,e=0;;)if(e<d){var f=c.ha(null,e),m=$APP.y.j(f,0,null),p=$APP.y.j(f,1,null),u=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.Ai(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var V=u;return $APP.k(V)?$APP.wi.h(X1.g(p),O1):V}()))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,P1],null));
W1(m,K1,K1.g(p),new $APP.Ai(null,new $APP.h(null,2,[L1,null,thb,null],null),null));W1(m,X1,X1.g(p),yhb);W1(m,Y1,Y1.g(p),new $APP.Ai(null,new $APP.h(null,2,[N1,null,zhb,null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Ue(p,Q1))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,X1],null));if($APP.Ue(p,Q1)){f=new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,Q1],null);
if($APP.x.h(N1,Y1.g(p)))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var t=Q1.g(p);if(!$APP.Be(t))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.xj.l($APP.z([t]))].join(""),f);if($APP.xe(t))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),f);t=$APP.r(t);for(var B=null,C=0,E=0;;)if(E<C){var I=B.ha(null,E),P=$APP.xi.j(f,$APP.GI,I);if($APP.Ue($APP.A.h(a,
I),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([I]))].join(""),P);if($APP.x.h(N1,Y1.g($APP.A.h(a,I))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([I]))].join(""),P);E+=1}else if(t=$APP.r(t)){if($APP.Fe(t))C=$APP.ed(t),t=$APP.fd(t),B=C,C=$APP.de(C);else{B=$APP.v(t);C=$APP.xi.j(f,$APP.GI,B);if($APP.Ue($APP.A.h(a,B),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([B]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.A.h(a,B))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([B]))].join(""),C);t=$APP.w(t);B=null;C=0}E=0}else break}e+=1}else if(m=$APP.r(b)){b=m;if($APP.Fe(b))c=$APP.ed(b),b=$APP.fd(b),m=c,d=$APP.de(c),c=m;else{c=$APP.v(b);m=$APP.y.j(c,0,null);p=$APP.y.j(c,1,null);var S=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.Ai(null,
new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var V=S;return $APP.k(V)?$APP.wi.h(X1.g(p),O1):V}()))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,P1],null));W1(m,K1,K1.g(p),new $APP.Ai(null,new $APP.h(null,2,[L1,null,thb,null],null),null));W1(m,X1,X1.g(p),yhb);W1(m,Y1,Y1.g(p),new $APP.Ai(null,new $APP.h(null,2,[N1,null,zhb,
null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Ue(p,Q1))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,X1],null));if($APP.Ue(p,Q1)){c=new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.JE,Q1],null);if($APP.x.h(N1,Y1.g(p)))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Q1.g(p);if(!$APP.Be(d))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.xj.l($APP.z([d]))].join(""),c);if($APP.xe(d))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.r(d);e=null;for(t=f=0;;)if(t<f){B=e.ha(null,t);C=$APP.xi.j(c,$APP.GI,B);if($APP.Ue($APP.A.h(a,B),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([B]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.A.h(a,B))))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([B]))].join(""),C);t+=1}else if(d=$APP.r(d)){if($APP.Fe(d))f=$APP.ed(d),d=$APP.fd(d),e=f,f=$APP.de(f);else{e=$APP.v(d);f=$APP.xi.j(c,$APP.GI,e);if($APP.Ue($APP.A.h(a,e),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([e]))].join(""),f);if($APP.x.h(N1,Y1.g($APP.A.h(a,e))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.xj.l($APP.z([e]))].join(""),f);d=$APP.w(d);e=null;f=0}t=0}else break}b=$APP.w(b);c=null;d=0}e=0}else return null};$1=function(a,b){Z1(a);return rhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,536870912,$APP.zj.g(0),$gb($APP.xi.j(b,Z0,k1)),$gb($APP.xi.j(b,Z0,l1)),0,$gb($APP.xi.j(b,Z0,j1)),e0(),e0(),T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])))]))};
Ahb=function(a,b,c){var d=function(){var e=Zgb(b,g1.F(536870911,null,null,2147483647),g1.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.bK.g(e)}();d=$APP.k($APP.k(d)?0<d:d)?d:0;a=O1.g(a);return $APP.cf.j(function(e,f){f=Zgb(c,g1.F(536870911,f,536870911,2147483647),g1.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:$APP.YJ.g(f);return $APP.k($APP.k(f)?f>e:f)?f:e},d,a)};
a2=function(a,b,c){var d=$APP.v($APP.Ri.h(fhb,a));if(null!=d)throw $APP.Zl.h(["init-db expects list of Datoms, got ",$APP.xj.l($APP.z([$APP.Kb(d)]))].join(""),new $APP.h(null,1,[$APP.Ln,Bhb],null));Z1(b);d=T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b])));var e=M1.g(d),f=i0(a)?a:h0(a);f.sort(lhb);var m=Y0(j1,f,c);f.sort(mhb);f=Y0(k1,f,c);a=$APP.Pg.h(function(u){return $APP.Ue(e,u.a)},a);a=$APP.df(a);a.sort(nhb);c=Y0(l1,a,c);a=Ahb(d,m,c);var p=$APP.Qx.F($APP.fj.g(function(u){return u.qb(null)}),
$APP.ln,536870912,m);return rhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[b,p,$APP.zj.g(0),f,c,a,m,e0(),e0(),d]))};Chb=function(a,b){return $APP.xi.l(a,$APP.A1,b,$APP.z([F1,T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b]))),G1,e0(),H1,e0(),I1,$APP.zj.g(0)]))};
$APP.c2=function(a){var b=$APP.Xf(a);a=$APP.A.h(b,$APP.A1);b=$APP.A.h(b,$APP.b2);return a2($APP.fj.h(function(c){var d=$APP.y.j(c,0,null),e=$APP.y.j(c,1,null),f=$APP.y.j(c,2,null);c=$APP.y.j(c,3,null);return g1.F(d,e,f,c)},b),a,$APP.Wf)};d2=function(a,b,c,d,e,f,m,p){this.ge=a;this.fe=b;this.ke=c;this.ie=d;this.le=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Dhb=function(a){var b=$APP.Ll.l(a,e2,$APP.z([f2,g2,h2,i2]));b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new d2(e2.g(a),f2.g(a),g2.g(a),h2.g(a),i2.g(a),null,$APP.Yf(b),null)};j2=function(){return null};k2=function(){return null};l2=function(){return null};m2=function(){return null};n2=function(){return null};Ehb=function(){return null};o2=function(){return null};
q2=function(a){if(a instanceof $APP.F)return o2(a)?$APP.gj.h($APP.Cf(a),$APP.Yi.h($APP.Gi(a),1)):$APP.gj.h($APP.Cf(a),["_",$APP.Gi(a)].join(""));if("string"===typeof a){var b=$APP.Ui(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.y.j(b,0,null);a=$APP.y.j(b,1,null);b=$APP.y.j(b,2,null);return $APP.x.h("_",$APP.y.h(b,0))?$APP.k(a)?[$APP.l.g(a),"/",$APP.Yi.h(b,1)].join(""):$APP.Yi.h(b,1):$APP.k(a)?[$APP.l.g(a),"/_",$APP.l.g(b)].join(""):["_",$APP.l.g(b)].join("")}throw $APP.Zl.h(["Bad attribute type: ",$APP.xj.l($APP.z([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Ln,p2,V1,a],null));};Fhb=function(a,b,c){return $APP.qn.j(function(d,e){return r2(a,d)&&$APP.Be(e)?s2(a,e):e},Q1.g($APP.A.h(x1(a),b)),c)};t2=function(){return null};Ghb=function(){return null};u2=function(){this.id=$APP.Aj.h(Hhb,$APP.Rd);this.J=2147483648;this.M=0};g0=function(){return null};v2=function(a){return $APP.lf(E1.g(e2.g(a)))+1};
w2=function(a){return $APP.x.h(a,Ihb)||$APP.x.h(a,":db/current-tx")||$APP.x.h(a,"datomic.tx")||$APP.x.h(a,"datascript.tx")};x2=function(a){return"number"===typeof a&&0>a||"string"===typeof a||g0(a)};Jhb=function(a,b){return b>D1.g(a)&&536870912>b?$APP.xi.j(a,D1,b):a};
z2=function(a,b,c){var d=w2(b)?$APP.bn.ma($APP.bn.S(a,h2,$APP.xi,b,c),y2,$APP.bn,c,whb,b):a;d=x2(b)?$APP.bn.ma($APP.bn.S(d,h2,$APP.xi,b,c),y2,$APP.bn,c,whb,b):d;if(b=!x2(b))a=f2.g(a),b=c>D1.g(a)&&536870912>c;a=b?$APP.bn.S(d,h2,$APP.xi,c,c):d;return $APP.bn.F(a,f2,Jhb,c)};
Lhb=function(a,b){var c=$APP.A1.g(a),d=b.e,e=b.a,f=b.v;if($APP.x.h(e,S1)){if($APP.Cb(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.l.g(f)," does not exist"].join(""),d=new $APP.h(null,2,[$APP.Ln,Khb,V1,f],null),$APP.Zl.h(a,d);return $APP.Il.j($APP.Lq(a,new $APP.H(null,2,5,$APP.J,[$APP.A1,d],null),$APP.Ll.h(c.g?c.g(f):c.call(null,f),e)),new $APP.H(null,1,5,$APP.J,[$APP.A1],null),function(m){return $APP.Ll.h(m,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.k(b))return $APP.k(c.g?c.g(b):
c.call(null,b))?$APP.Il.j(a,new $APP.H(null,2,5,$APP.J,[$APP.A1,b],null),function(m){return $APP.Ll.h(m,e)}):$APP.Il.j(a,new $APP.H(null,2,5,$APP.J,[$APP.A1,d],null),function(m){return $APP.Ll.l(m,e,$APP.z([f]))});a=["Schema with entity id ",$APP.l.g(d)," does not exist"].join("");d=new $APP.h(null,4,[$APP.Ln,Khb,A2,d,V1,e,$APP.GI,d],null);throw $APP.Zl.h(a,d);};Mhb=function(a){a=$APP.A1.g(a);return $APP.k(a)?a:$APP.Wf};
Nhb=function(a){return $APP.xi.j(a,F1,T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),Mhb(a)]))))};
Rhb=function(a,b){var c=b.Qd(null);c=$APP.k(c)?j2(a,b.a,K1):c;if($APP.k(c)&&(c=$APP.Yf(p1(a,t1,b.a,b.v,null,null)),null!=c))throw $APP.Zl.h(["Cannot add ",$APP.xj.l($APP.z([b]))," because of unique constraint: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,Ohb,V1,b.a,Phb,b],null));var d=u1(a,b.a);c=b.a;c=Qhb.g?Qhb.g(c):Qhb.call(null,c);if($APP.k(b.Qd(null))){a=$APP.bn.S(a,$APP.B1,T0,b,lhb);a=$APP.bn.S(a,C1,T0,b,mhb);d=d?$APP.bn.S(a,t1,T0,b,nhb):a;d=Jhb(d,b.e);d=$APP.xi.j(d,I1,$APP.zj.g(0));
if($APP.k(c)){var e=Mhb(d);c=b.e;a=b.a;b=b.v;if($APP.x.h(a,S1)){var f=new $APP.H(null,2,5,$APP.J,[$APP.A1,b],null),m=$APP.Kl.l,p=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.Ce(p)?$APP.Kl.l($APP.z([p,e])):e;b=$APP.Lq($APP.Lq(d,f,m.call($APP.Kl,$APP.z([$APP.k(e)?e:$APP.Wf,$APP.gi([a],[b])]))),new $APP.H(null,2,5,$APP.J,[$APP.A1,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.k(f)?$APP.k(e.g?e.g(f):e.call(null,f))?$APP.Lq(d,new $APP.H(null,3,5,$APP.J,[$APP.A1,f,a],null),b):$APP.Lq(d,
new $APP.H(null,3,5,$APP.J,[$APP.A1,c,a],null),b):$APP.Lq(d,new $APP.H(null,2,5,$APP.J,[$APP.A1,c],null),$APP.gi([a],[b]));b=Nhb(b)}else b=d;return b}e=o1(a,new $APP.H(null,3,5,$APP.J,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.bn.S(a,$APP.B1,U0,e,lhb);a=$APP.bn.S(a,C1,U0,e,mhb);d=d?$APP.bn.S(a,t1,U0,e,nhb):a;d=$APP.xi.j(d,I1,$APP.zj.g(0));return $APP.k(c)?Nhb(Lhb(d,b)):d};
Shb=function(a,b,c,d,e){return $APP.ff(function(f,m,p){var u=$APP.A.h(f,m);$APP.k(u)||(u=$APP.YJ.g($APP.v(p1(c,$APP.B1,d,m,null,null))),u=$APP.k(u)?u:$APP.ef($APP.kn.h($APP.de(Q1.g($APP.A.h(x1(c),m))),null)));p=$APP.xi.j(u,p,e);return $APP.xi.j(f,m,p)},a,b)};
D2=function(a,b){var c=f2.g(a),d=B2.g(b);a=$APP.bn.F($APP.xi.j(a,f2,Rhb(c,b)),g2,$APP.xf,b);if(Ehb(c,d)){var e=$APP.bK.g(b);b=$APP.k($APP.e1(b))?$APP.YJ.g(b):null;var f=$APP.A.h(C2.g(a),e);f=$APP.k(f)?f:$APP.Wf;d=$APP.A.h(y1(c,xhb),d);c=Shb(f,d,c,e,b);return $APP.bn.S(a,C2,$APP.xi,e,c)}return a};
Thb=function(a,b){function c(f,m){return $APP.cf.j(function(p,u){var t=d(f,u);return null==t?$APP.bn.F(p,0,$APP.xf,u):$APP.bn.S(p,1,$APP.xi,u,t)},new $APP.H(null,2,5,$APP.J,[$APP.Sg,$APP.Wf],null),m)}function d(f,m){return r2(a,f)?x2(m)?null:$APP.bK.g($APP.v(p1(a,t1,f,t2(a,m),null,null))):$APP.bK.g($APP.v(p1(a,t1,f,m,null,null)))}var e=$APP.Yf(y1(a,L1));return null==e?new $APP.H(null,2,5,$APP.J,[b,null],null):$APP.ff(function(f,m,p){var u=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);if(!(m instanceof $APP.F||
"string"===typeof m))throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([m]))," at ",$APP.xj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,m,E2,b,$APP.Ln,p2],null));if(null==p)throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.GI,null,E2,b,$APP.Ln,p2],null));if($APP.Ue(e,m)){if(l2(a,m,p)){var t=c(m,p);p=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);return new $APP.H(null,2,5,$APP.J,[$APP.xe(p)?u:$APP.xi.j(u,
m,p),$APP.xe(t)?f:$APP.xi.j(f,m,t)],null)}t=d(m,p);return null==t?new $APP.H(null,2,5,$APP.J,[$APP.xi.j(u,m,p),f],null):new $APP.H(null,2,5,$APP.J,[u,$APP.xi.j(f,m,$APP.Vf([p,t]))],null)}return new $APP.H(null,2,5,$APP.J,[$APP.xi.j(u,m,p),f],null)},new $APP.H(null,2,5,$APP.J,[$APP.Wf,$APP.Wf],null),b)};
Whb=function(a,b){var c=$APP.ff(function(m,p,u){return $APP.ff(function(t,B,C){return $APP.xi.j(t,C,new $APP.H(null,2,5,$APP.J,[p,B],null))},m,u)},$APP.Wf,b);if(2<=$APP.de(c)){b=$APP.v(c);a=$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null);b=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);var e=$APP.ie(c);c=$APP.y.j(e,0,null);var f=$APP.y.j(e,1,null);e=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);throw $APP.Zl.h(["Conflicting upserts: ",$APP.xj.l($APP.z([new $APP.H(null,2,5,$APP.J,[b,d],null)]))," resolves to ",$APP.xj.l($APP.z([a])),
", but ",$APP.xj.l($APP.z([new $APP.H(null,2,5,$APP.J,[e,f],null)]))," resolves to ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,F2,Uhb,new $APP.H(null,3,5,$APP.J,[a,b,d],null),Vhb,new $APP.H(null,3,5,$APP.J,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.y.j(d,0,null);c=$APP.y.j(d,1,null);d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);a=G2.g(a);if(null!=b&&null!=a&&!x2(a)&&$APP.wi.h(b,a))throw $APP.Zl.h(["Conflicting upsert: ",$APP.xj.l($APP.z([new $APP.H(null,2,5,$APP.J,[d,c],null)]))," resolves to ",
$APP.xj.l($APP.z([b])),", but entity already has :db/id ",$APP.xj.l($APP.z([a]))].join(""),new $APP.h(null,3,[$APP.Ln,F2,Uhb,new $APP.H(null,3,5,$APP.J,[b,d,c],null),Vhb,new $APP.h(null,1,[G2,a],null)],null));return b};Xhb=function(a,b,c){return o2(b)||k2(a,b)?i0(c)||$APP.ye(c)&&!$APP.Ce(c)?$APP.x.h($APP.de(c),2)&&j2(a,$APP.v(c),L1)?new $APP.H(null,1,5,$APP.J,[c],null):c:new $APP.H(null,1,5,$APP.J,[c],null):new $APP.H(null,1,5,$APP.J,[c],null)};
Yhb=function(a,b){var c=G2.g(b),d=$APP.qg.h($APP.M,$APP.cf.j(function(e,f){var m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return $APP.bn.F(e,n2(a,m)?1:0,$APP.xf,new $APP.H(null,2,5,$APP.J,[m,f],null))},new $APP.H(null,2,5,$APP.J,[$APP.Sg,$APP.Sg],null),b));return function m(f){return new $APP.Gf(null,function(){for(var p=f;;){var u=$APP.r(p);if(u){var t=u,B=$APP.v(t),C=$APP.y.j(B,0,null),E=$APP.y.j(B,1,null);if($APP.wi.h(C,G2)){var I=function(){var V=C;if(V instanceof $APP.F||"string"===typeof V)return null;
var aa=$APP.Vf([G2,c,C,E]);throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([V]))," at ",$APP.xj.l($APP.z([aa])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,V,E2,aa,$APP.Ln,p2],null));}(),P=o2(C),S=P?q2(C):C;if(P&&!r2(a,S))throw $APP.Zl.h(["Bad attribute ",$APP.xj.l($APP.z([C])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.Ln,p2,V1,C,E2,$APP.Vf([G2,c,C,E])],null));if(u=$APP.r(function(V,aa,ca,ka,ma,ua,Ea,da,
Z,Y,U,X){return function ia(Ga){return new $APP.Gf(null,function(sa,xa,Ba,Sa,cb,gb,eb,db,jb,vb,Ab){return function(){for(;;){var Ib=$APP.r(Ga);if(Ib){if($APP.Fe(Ib)){var Ob=$APP.ed(Ib),Zb=$APP.de(Ob),fc=$APP.If(Zb);a:for(var Nc=0;;)if(Nc<Zb){var oc=$APP.qe(Ob,Nc);$APP.Of(fc,r2(a,Sa)&&$APP.Ce(oc)?$APP.xi.j(oc,q2(eb),Ab):Ba?new $APP.H(null,4,5,$APP.J,[H2,oc,Sa,Ab],null):new $APP.H(null,4,5,$APP.J,[H2,Ab,Sa,oc],null));Nc+=1}else{Ob=!0;break a}return Ob?$APP.Nf($APP.Pf(fc),ia($APP.fd(Ib))):$APP.Nf($APP.Pf(fc),
null)}fc=$APP.v(Ib);return $APP.Af(r2(a,Sa)&&$APP.Ce(fc)?$APP.xi.j(fc,q2(eb),Ab):Ba?new $APP.H(null,4,5,$APP.J,[H2,fc,Sa,Ab],null):new $APP.H(null,4,5,$APP.J,[H2,Ab,Sa,fc],null),ia($APP.Ld(Ib)))}return null}}}(V,aa,ca,ka,ma,ua,Ea,da,Z,Y,U,X),null,null)}}(p,I,P,S,null,B,C,E,t,u,c,d)(Xhb(a,C,E))))return $APP.M.h(u,m($APP.Ld(p)))}p=$APP.Ld(p)}else return null}},null,null)}(d)};
J2=function(a,b){$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null),f=$APP.y.j(b,4,null);if(!(d instanceof $APP.F||"string"===typeof d))throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([d]))," at ",$APP.xj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,d,E2,b,$APP.Ln,p2],null));if(null==e)throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.GI,null,E2,b,$APP.Ln,p2],null));
b=$APP.k(f)?f:v2(a);f=f2.g(a);c=s2(f,c);e=r2(f,d)?s2(f,e):e;var m=g1.F(c,d,e,b);f=k2(f,d)?o1(f,new $APP.H(null,3,5,$APP.J,[c,d,e],null)):o1(f,new $APP.H(null,2,5,$APP.J,[c,d],null));return null==f?D2(a,m):$APP.x.h(f.v,e)?$APP.bn.F(a,I2,Zhb,m):D2(D2(a,g1.S(c,d,f.v,b,!1)),m)};$hb=function(a,b){var c=v2(a);return D2(a,g1.S(b.e,b.a,b.v,c,!1))};
bib=function(a,b){return $APP.Eh.j($APP.Bi,$APP.sq.h($APP.Pg.g(function(c){return m2(a,c.a)}),$APP.fj.g(function(c){return new $APP.H(null,2,5,$APP.J,[aib,c.v],null)})),b)};
cib=function(a,b,c,d,e){var f=$APP.A.h(K2.g(a),d);if(null==f)return b=$APP.xi.j(h2.g(b),d,e),a=$APP.bn.S($APP.xi.j(a,h2,b),K2,$APP.xi,d,e),L2(a,c);throw $APP.Zl.h(["Conflicting upsert: ",$APP.xj.l($APP.z([d]))," resolves both to ",$APP.xj.l($APP.z([e]))," and ",$APP.xj.l($APP.z([f]))].join(""),new $APP.h(null,1,[$APP.Ln,F2],null));};
dib=function(a){var b=f2.g(a);return $APP.ff(function(c,d,e){return $APP.ff(function(f,m,p){p=$APP.ng($APP.yb,p)?null:p;var u=$APP.YJ.g($APP.v(p1(b,$APP.B1,d,m,null,null)));return $APP.x.h(p,u)?f:null==p?$APP.xf.h(f,$APP.te(new $APP.H(null,4,5,$APP.J,[M2,d,m,u],null),new $APP.h(null,1,[N2,!0],null))):$APP.xf.h(f,$APP.te(new $APP.H(null,4,5,$APP.J,[H2,d,m,p],null),new $APP.h(null,1,[N2,!0],null)))},c,e)},$APP.Sg,C2.g(a))};
eib=function(a){var b=O2.g(a);if($APP.k(b)){var c=$APP.Uc(b);b=function(d,e){return $APP.k($APP.e1(e))?$APP.ny.h(d,$APP.bK.g(e)):d};c=$APP.cf.j(b,c,g2.g(a));b=$APP.cf.j(b,c,I2.g(a));if(0===$APP.de(b))return $APP.Ll.l(a,O2,$APP.z([I2]));throw $APP.Zl.h(["Tempids used only as value in transaction: ",$APP.xj.l($APP.z([$APP.Ik.g($APP.vi($APP.Wc(b)))]))].join(""),new $APP.h(null,2,[$APP.Ln,p2,h2,b],null));}return $APP.Ll.l(a,O2,$APP.z([I2]))};
hib=function(a){if($APP.k(zgb(a))){var b;if(b=$APP.Ue(a,S1)){b=S1.g(a);var c=b instanceof $APP.F||"string"===typeof b;c?(b=$APP.Cf($APP.gj.g(b)),b=$APP.k(b)?$APP.x.h("db",$APP.v($APP.fl.h(b,/\./))):!1):b=c}if(b)throw $APP.Zl.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.h(null,2,[$APP.Ln,fib,gib,a],null));b=Y1.g(a);b=$APP.k(b)?b:X1.g(a);if(b=$APP.k(b))b=S1.g(a),b=$APP.k(b)?Y1.g(a):b,b=!$APP.k(b);if(b)throw $APP.Zl.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.h(null,2,[$APP.Ln,fib,gib,a],null));}};iib=function(){};P2=function(a,b,c){if(null!=a&&null!=a.pm)a=a.pm(a,b,c);else{var d=P2[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.-store",a);}return a};
Q2=function(a,b){if(null!=a&&null!=a.om)a=a.om(a,b);else{var c=Q2[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Q2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.-restore",a);}return a};jib=function(a){return new $APP.H(null,4,5,$APP.J,[a.e,a.a,a.v,a.tx],null)};R2=function(a,b,c,d){this.storage=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};kib=function(a){return new R2(a,null,null,null)};
S2=function(a){return $APP.k(a)?$APP.B1.g(a).storage:null};T2=function(a){a=S2(a);return null==a?null:X0.g(a)};
W2=function(a,b,c){$APP.Aj.j(lib,$APP.xf,a);var d=U2;U2=$APP.zg($APP.Uc($APP.Sg));try{var e=$APP.B1.g(a),f=C1.g(a),m=t1.g(a),p=e.zg(null,b),u=f.zg(null,b),t=m.zg(null,b),B=$APP.Kl.l($APP.z([$APP.gi([$APP.A1,E1,C1,mib,t1,D1,$APP.B1,nib,oib,pib],[$APP.A1.g(a),E1.g(a),u,$APP.n(V2),t,D1.g(a),p,new $APP.h(null,2,[$APP.tI,f.T,a1,f.shift],null),new $APP.h(null,2,[$APP.tI,m.T,a1,m.shift],null),new $APP.h(null,2,[$APP.tI,e.T,a1,e.shift],null)]),dhb($APP.B1.g(a))]));if($APP.k($APP.k(c)?c:0<$APP.de($APP.n(U2)))){$APP.md(U2,
$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.J,[0,B],null)));$APP.md(U2,$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.J,[1,$APP.Sg],null)));var C=X0.g(b),E=$APP.Ky.g($APP.A.h($APP.n(qib),C));$APP.Aj.F(qib,$APP.xi,C,null);P2(C,$APP.Wc($APP.n(U2)),E)}return a}finally{U2=d}};rib=function(a,b){return P2(T2(a),new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[1,$APP.qn.h(function(c){return $APP.qn.h(jib,c)},b)],null)],null),null)};
tib=function(a,b){var c=Q2(a,0);if(null==c)return null;var d=Q2(a,1),e=$APP.Xf(c),f=$APP.A.h(e,oib),m=$APP.A.h(e,pib),p=$APP.A.h(e,$APP.A1),u=$APP.A.h(e,E1),t=$APP.A.h(e,C1),B=$APP.A.h(e,mib),C=$APP.A.h(e,t1),E=$APP.A.h(e,D1),I=$APP.A.h(e,$APP.B1);e=$APP.A.h(e,nib);V2.uc(null,function(){var S=V2.Ka(null);return S>B?S:B}());b=$APP.Kl.l($APP.z([c,b]));a=kib(a,b);var P=X2(new $APP.h(null,6,[$APP.A1,p,$APP.B1,ahb(j1,I,a,$APP.xi.j(b,$0,m)),C1,ahb(k1,t,a,$APP.xi.j(b,$0,e)),t1,ahb(l1,C,a,$APP.xi.j(b,$0,
f)),D1,E,E1,u],null));$APP.Aj.j(lib,$APP.xf,P);return new $APP.H(null,2,5,$APP.J,[P,$APP.qn.h(function(S){return $APP.un.h(function(V){var aa=$APP.y.j(V,0,null),ca=$APP.y.j(V,1,null),ka=$APP.y.j(V,2,null),ma=$APP.y.j(V,3,null);V=p1(P,$APP.B1,aa,ca,ka,null);V=$APP.og(function(ua){return $APP.x.h(ma,sib.g(ua))},V);return $APP.k($APP.k(V)?0<ma:V)?null:g1.F(aa,ca,ka,ma)},S)},d)],null)};
uib=function(a,b){return $APP.cf.j(function(c,d){if($APP.xe(d))return c;try{var e=$APP.cf.j(Rhb,c,d);return $APP.xi.j(e,E1,sib.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};Y2=function(a){return null==X0.g(a)?a:$APP.bn.F(a,X0,kib,a)};Z2=function(a,b,c,d){this.dh=a;this.Eg=b;this.nb=c;this.P=d;this.M=98306;this.J=6455552};vib=function(a,b){if(null!=a&&!$APP.k(a.g?a.g(b):a.call(null,b)))throw $APP.Zl.h("Invalid reference state",new $APP.h(null,1,[$APP.GI,b],null));};
a3=function(a,b,c){var d=$APP.n(a);b=$APP.qg.j(b,d,c);vib(a.Eg,b);$APP.Qba(a.dh,$APP.xi.j($APP.n(a.dh),$2,d),$APP.xi.j($APP.n(a.dh),$2,b));a:{c=$APP.r(a.nb);for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m),u=$APP.y.j(p,0,null);p=$APP.y.j(p,1,null);p.F?p.F(u,a,d,b):p.call(null,u,a,d,b);m+=1}else if(c=$APP.r(c))$APP.Fe(c)?(e=$APP.ed(c),c=$APP.fd(c),u=e,f=$APP.de(e),e=u):(e=$APP.v(c),u=$APP.y.j(e,0,null),p=$APP.y.j(e,1,null),p.F?p.F(u,a,d,b):p.call(null,u,a,d,b),c=$APP.w(c),e=null,f=0),m=0;else break a}return new $APP.H(null,
2,5,$APP.J,[d,b],null)};b3=function(a,b,c,d){return new Z2(a,b,c,d)};wib=function(a){a=$APP.zj.g(a);return b3.g?b3.g(a):b3.call(null,a)};c3=function(a){switch(arguments.length){case 2:return c3.h(arguments[0],arguments[1]);case 3:return c3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};xib=function(a,b){return f2.g(c3.h(a,b))};
g3=function(a){if(null==T2(a))return wib(new $APP.h(null,1,[$2,a],null));d3.g(a);return wib(new $APP.h(null,3,[$2,a,e3,$APP.Sg,f3,a],null))};
zib=function(a,b,c){var d=$APP.zg(null),e=yib.g(c),f=$APP.Ll.h(c,yib);$APP.Aj.h(a,function(u){u=c3.j(u,b,f);$APP.md(d,u);return f2.g(u)});if(null!=T2($APP.n(a))){c=$APP.n(d);var m=$APP.Xf(c);c=$APP.A.h(m,f2);var p=$APP.A.h(m,g2);m=dhb($APP.B1.g(c));a=$APP.rG.g(a);p=e3.g($APP.Aj.l(a,$APP.bn,e3,$APP.xf,$APP.z([p])));$APP.k(e)||($APP.Qx.F($APP.fj.g($APP.de),$APP.Rx,0,p)>b1.g(m)?(W2(c,S2(c),!1),$APP.Aj.l(a,$APP.xi,e3,$APP.Sg,$APP.z([f3,c]))):rib(c,p))}return $APP.n(d)};
Aib=function(a,b){b=$APP.Aj.j(a,Chb,b);null!=T2($APP.n(a))&&(W2(b,S2(b),!0),$APP.Aj.l($APP.rG.g(a),$APP.xi,e3,$APP.Sg,$APP.z([f3,b])));return b};h3=function(a,b){b="number"===typeof b||$APP.Be(b)||b instanceof $APP.F?t2(a,b):null;if($APP.k(b)&&Ghb(a,b)){var c=$APP.zg(!1),d=$APP.zg($APP.Wf);return Bib.F?Bib.F(a,b,c,d):Bib.call(null,a,b,c,d)}return null};
Cib=function(a,b,c){return k2(a,b)?r2(a,b)?$APP.cf.j(function(d,e){return $APP.xf.h(d,h3(a,$APP.YJ.g(e)))},$APP.Bi,c):$APP.cf.j(function(d,e){return $APP.xf.h(d,$APP.YJ.g(e))},$APP.Bi,c):r2(a,b)?h3(a,$APP.YJ.g($APP.v(c))):$APP.YJ.g($APP.v(c))};Dib=function(a,b,c,d){b=$APP.Yf(n1(a,new $APP.H(null,3,5,$APP.J,[null,c,b],null)));return $APP.k(b)?m2(a,c)?h3(a,$APP.bK.g($APP.v(b))):$APP.cf.j(function(e,f){return $APP.xf.h(e,h3(a,$APP.bK.g(f)))},$APP.Bi,b):d};i3=function(a){return $APP.k(a)?$APP.df(a):null};
k3=function(a){j3.g?j3.g(a):j3.call(null,a);return function d(c){return new $APP.Gf(null,function(){for(;;){var e=$APP.r(c);if(e){if($APP.Fe(e)){var f=$APP.ed(e),m=$APP.de(f),p=$APP.If(m);a:for(var u=0;;)if(u<m){var t=$APP.qe(f,u),B=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);$APP.Of(p,k2(a.db,B)?new $APP.H(null,2,5,$APP.J,[B,i3(t)],null):new $APP.H(null,2,5,$APP.J,[B,t],null));u+=1}else{f=!0;break a}return f?$APP.Nf($APP.Pf(p),d($APP.fd(e))):$APP.Nf($APP.Pf(p),null)}f=$APP.v(e);p=$APP.y.j(f,0,null);
f=$APP.y.j(f,1,null);return $APP.Af(k2(a.db,p)?new $APP.H(null,2,5,$APP.J,[p,i3(f)],null):new $APP.H(null,2,5,$APP.J,[p,f],null),d($APP.Ld(e)))}return null}},null,null)}($APP.n(a.cache))};l3=function(a,b,c,d){this.db=a;this.eid=b;this.Vj=c;this.cache=d;this.J=2162164483;this.M=0};Bib=function(a,b,c,d){return new l3(a,b,c,d)};Eib=function(a){return a instanceof l3};m3=function(a,b){return b instanceof l3&&a.db===b.db&&$APP.x.h(a.eid,b.eid)};Fib=function(a){return c1($APP.zd(a.eid),$APP.na(a.db))};
Gib=function(a,b){return $APP.ff(function(c,d,e){return $APP.xi.j(c,d,m2(a,d)?k2(a,d)?$APP.Ei($APP.fj.h(j3,e)):j3.g?j3.g(e):j3.call(null,e):e)},$APP.Wf,b)};Hib=function(a,b){return $APP.cf.j(function(c,d){var e=B2.g($APP.v(d));return $APP.xi.j(c,e,Cib(a,e,d))},$APP.Wf,$APP.Py.h(B2,b))};j3=function(a){if(null!=a){if(!$APP.k($APP.n(a.Vj))){var b=$APP.Yf(n1(a.db,new $APP.H(null,1,5,$APP.J,[a.eid],null)));$APP.k(b)&&($APP.Ag(a.cache,Gib(a.db,Hib(a.db,b))),$APP.md(a.Vj,!0))}return a}return null};
Iib=function(a){return $APP.cf.j($APP.Rx,0,a)};Jib=function(a){return Iib(a)/$APP.de(a)};
Kib=function(a){var b=Jib(a);return Iib(function(){return function e(d){return new $APP.Gf(null,function(){for(;;){var f=$APP.r(d);if(f){if($APP.Fe(f)){var m=$APP.ed(f),p=$APP.de(m),u=$APP.If(p);a:for(var t=0;;)if(t<p){var B=$APP.qe(m,t)-b;u.add(B*B);t+=1}else{m=!0;break a}return m?$APP.Nf($APP.Pf(u),e($APP.fd(f))):$APP.Nf($APP.Pf(u),null)}u=$APP.v(f)-b;return $APP.Af(u*u,e($APP.Ld(f)))}return null}},null,null)}(a)}())/$APP.de(a)};
n3=function(a,b,c,d,e,f,m,p,u,t,B,C,E,I,P){this.as=a;this.Bb=b;this.Ib=c;this.name=d;this.pattern=e;this.zc=f;this.Da=m;this.Ic=p;this.Jb=u;this.yc=t;this.Ac=B;this.vc=C;this.A=E;this.o=I;this.C=P;this.J=2230716170;this.M=139264};
Lib=function(a){var b=$APP.Ll.l(a,$APP.no,$APP.z([$APP.Lm,o3,$APP.Q,$APP.JF,p3,q3,r3,s3,t3,u3,v3]));b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new n3($APP.no.g(a),$APP.Lm.g(a),o3.g(a),$APP.Q.g(a),$APP.JF.g(a),p3.g(a),q3.g(a),r3.g(a),s3.g(a),t3.g(a),u3.g(a),v3.g(a),null,$APP.Yf(b),null)};w3=function(a,b,c,d,e,f,m,p){this.ta=a;this.Gd=b;this.Ud=c;this.vd=d;this.Pc=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Mib=function(a){var b=$APP.Ll.l(a,x3,$APP.z([y3,z3,A3,B3]));b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new w3(x3.g(a),y3.g(a),z3.g(a),A3.g(a),B3.g(a),null,$APP.Yf(b),null)};D3=function(a,b,c){if($APP.k(a))return null;throw $APP.Zl.h(["Expected ",$APP.l.g(b),", got: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,Nib,C3,c],null));};
Qib=function(a,b){var c=o2(b),d=c?q2(b):b,e=r2(a,d),f=m2(a,d);a=k2(a,d);if(c){D3(e,"reverse attribute having :db.type/ref",b);var m=!0}else m=null;return Lib($APP.gi([s3,o3,r3,$APP.Q,$APP.no,v3,u3,t3,$APP.JF],[$APP.gf,a?1E3:null,m,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?Oib:f?Pib:Oib:null]))};Rib=function(a,b,c){D3("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);D3(k2(a,$APP.Q.g(b)),"limit attribute having :db.cardinality/many",$APP.Q.g(b))};
Tib=function(a,b){var c=function(){var d=$APP.v(b);return E3.h?E3.h(a,d):E3.call(null,a,d)}();if(null==c)return null;D3($APP.pg($APP.de($APP.w(b))),"even number of opts",b);return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);switch(f instanceof $APP.F?f.N:null){case "as":return $APP.xi.j(d,$APP.no,e);case "limit":return Rib(a,d,e),$APP.xi.j(d,o3,e);case "default":return $APP.xi.j(d,$APP.Lm,e);case "xform":f=$APP.xi.j;var m=$APP.re(e)?e:null;if($APP.k(m))e=m;else if(m=$APP.A.h(Sib,
e),$APP.k(m))e=m;else throw $APP.Zl.h(["Can't resolve symbol ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,2,[$APP.Ln,Nib,C3,e],null));return f.call($APP.xi,d,s3,e);default:return D3(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.Ft.h(2,$APP.w(b)))};
E3=function(a,b){var c;!(c=b instanceof $APP.F)&&(c="string"===typeof b)&&(c=new $APP.Ai(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.Cb(c));if(c)return Qib(a,b);if($APP.Be(b)){c=Tib(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.Ai(null,new $APP.h(null,2,[$APP.Dna,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.de(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,
1,null),c=$APP.y.j(b,2,null),d=E3.h?E3.h(a,d):E3.call(null,a,d),Rib(a,d,c),c=$APP.xi.j(d,o3,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.Ai(null,new $APP.h(null,2,[$APP.DJ,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.de(b),3),"['default attr-name any-value]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),c=$APP.y.j(b,2,null),a=E3.h?E3.h(a,d):E3.call(null,a,d),a=$APP.xi.j(a,$APP.Lm,c)):a=null;return $APP.k(a)?a:D3(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};Uib=function(a,b){return $APP.og(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.fj.j($APP.Kw,b,$APP.Xn.D()))};Vib=function(a,b){var c=$APP.k(r3.g(b))?A3:x3,d=Uib(function(e){return $APP.x.h($APP.no.g(e),$APP.no.g(b))},$APP.A.h(a,c));return null==d?$APP.bn.F(a,c,$APP.xf,b):$APP.bn.S(a,c,$APP.xi,d,b)};
F3=function(a,b){D3($APP.Be(b),"pattern to be sequential?",b);for(var c=Mib(new $APP.h(null,3,[x3,$APP.Sg,A3,$APP.Sg,B3,null],null));;){if($APP.xe(b)){var d=c.ta,e=function(){return function(p){p=p.name;var u=new $APP.Ai(null,new $APP.h(null,2,[G2,null,":db/id",null],null),null);return u.g?u.g(p):u.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.Q.g(p);return p instanceof $APP.F?p:$APP.x.h(":",$APP.Yi.j(p,0,1))?$APP.gj.g($APP.Yi.h(p,1)):$APP.gj.g(p)}}(b,c,d,e);d=$APP.k(function(){var p=
c.Pc;return $APP.k(p)?$APP.Cb($APP.og(e,c.ta)):p}())?$APP.xf.h(d,Wib):d;d=$APP.Hs.g($APP.Ox.h(b,d));var f=$APP.js.h(e,d),m=$APP.v(f);f=$APP.oe(f);return Mib(new $APP.h(null,5,[x3,d,y3,m,z3,f,A3,$APP.Hs.g($APP.Ox.h(b,c.vd)),B3,c.Pc],null))}m=$APP.v(b);if($APP.x.h($APP.qH,m)||$APP.x.h("*",m)||$APP.x.h(Xib,m))b=$APP.w(b),c=d=$APP.xi.j(c,B3,!0);else if($APP.Ce(m))d=$APP.ff(function(){return function(p,u,t){var B=E3(a,u);D3(null!=B,"attr-name | attr-expr",u);D3(r2(a,$APP.Q.g(B)),"attribute having :db.type/ref",
u);$APP.x.h(Yib,t)||$APP.x.h("...",t)?u=$APP.xi.l(B,$APP.JF,null,$APP.z([q3,!0,p3,null])):"number"===typeof t?(D3(0<t,"(positive-num | ...)",$APP.Vf([u,t])),u=$APP.xi.l(B,$APP.JF,null,$APP.z([q3,!0,p3,t]))):u=$APP.xi.j(B,$APP.JF,F3.h?F3.h(a,t):F3.call(null,a,t));return Vib(p,u)}}(b,c,m),c,m),b=$APP.w(b),c=d;else{d=E3(a,m);if(null==d)return D3(!1,"attr-name | attr-expr | map-spec | *",m);b=$APP.w(b);c=d=Vib(c,d)}}};G3=function(a){return null==a?null:$APP.$b(a)};H3=function(a){return null==a?null:$APP.cc(a)};
Zib=function(a,b){return null==a?new $APP.D(null,b,null,1,null):$APP.Wb(a,b)};$ib=function(a,b,c){return null==c?a:$APP.Gh.j(a,b,c)};I3=function(a,b,c,d,e){this.db=a;this.hf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};ajb=function(a,b,c,d,e){a=a.hf;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
bjb=function(a,b){if(null!=a&&null!=a.ri)a=a.ri(a,b);else{var c=bjb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=bjb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-merge",a);}return a};cjb=function(a,b){if(null!=a&&null!=a.wh)a=a.wh(a,b);else{var c=cjb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=cjb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-run",a);}return a};
J3=function(a,b,c,d,e){this.value=a;this.za=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};K3=function(a,b,c,d,e,f){this.pa=a;this.oa=b;this.za=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};L3=function(a,b,c,d,e,f,m,p,u){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.za=f;this.A=m;this.o=p;this.C=u;this.J=2230716170;this.M=139264};
M3=function(a,b,c,d,e,f,m,p,u,t,B){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.za=m;this.id=p;this.A=u;this.o=t;this.C=B;this.J=2230716170;this.M=139264};N3=function(a,b,c,d,e,f,m,p,u,t){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.id=m;this.A=p;this.o=u;this.C=t;this.J=2230716170;this.M=139264};djb=function(a,b,c,d,e,f,m){return new N3(a,b,c,d,e,f,m,null,null,null)};
P3=function(a,b,c,d,e,f){var m=e.Da;$APP.k(m)||(m=e.vc,m=$APP.k(m)?e.pattern.Pc:m);if($APP.Cb(m))return d=e.pattern,O3.S?O3.S(a,b,c,d,f):O3.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new J3(new $APP.h(null,1,[G2,f],null),null,null,null,null);m=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(m)?0>=m&&!0:m))return new J3(null,null,null,null,null);b=$APP.xf.h(b,f);c=$APP.k(m)?$APP.bn.j(c,e,$APP.hf):$APP.k(e.zc)?$APP.xi.j(c,e,e.zc-1):c;d=$APP.k(e.Da)?d:e.pattern;return O3.S?O3.S(a,b,
c,d,f):O3.call(null,a,b,c,d,f)};
O3=function(a,b,c,d,e){var f=a.db,m=function(){var p=d.Pc;if($APP.k($APP.k(p)?f instanceof $APP.z1&&!0:p))return V0(f.jc,g1.F(e,null,null,536870912),g1.F(e,null,null,2147483647));if($APP.k(d.Pc))return n1(f,new $APP.H(null,1,5,$APP.J,[e],null));if(null==d.Gd)return null;p=d.Gd.name;var u=d.Ud.name;return f instanceof $APP.z1?V0(f.jc,g1.F(e,p,null,536870912),g1.F(e,u,null,2147483647)):q1(f,$APP.B1,e,null,null,null)}();$APP.k(d.Pc)&&ajb(a,ejb,e,null,null);return new M3(b,c,$APP.Uc($APP.Wf),d,G3(d.ta),
H3(d.ta),m,e,null,null,null)};Q3=function(a,b){var c=$APP.Xf(a);a=$APP.A.h(c,E2);c=$APP.A.h(c,$APP.JF);b=t2(a.db,b);if(null==b)return null;for(c=new $APP.D(null,O3(a,$APP.Bi,$APP.Wf,c,b),null,1,null);;){b=G3(c);var d=H3(c);if(b instanceof J3){if(null==d)return b.value;c=G3(d);d=H3(d);c=Zib(d,bjb(c,b))}else c=$APP.cf.j(Zib,d,cjb(b,a))}};S3=function(a,b,c){c=$APP.Xf(c);c=$APP.A.h(c,R3);return new $APP.h(null,2,[$APP.JF,c0(shb(a).Sc,b,function(){return F3(a,b)}),E2,new I3(a,c,null,null,null)],null)};
T3=function(a,b){return $APP.zb(a)?a[b]:$APP.y.h(a,b)};U3=function(a,b){return $APP.Ce(a)?a.g?a.g(b):a.call(null,b):a[b]};V3=function(a,b){var c=Array($APP.de(b));$APP.cf.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};fjb=function(a,b){var c=Array($APP.de(b));$APP.cf.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};gjb=function(a,b){return null==b.a?-1:0>=$APP.Ye(a.a,b.a)?-1:1};
hjb=function(a){if($APP.xe(C1.g(a)))return $APP.Sg;for(var b=$APP.Uc(new $APP.H(null,1,5,$APP.J,[B2.g($APP.v(C1.g(a)))],null));;){var c=$APP.y.h(b,$APP.de(b)-1),d=g1.j(0,c,null),e=g1.j(2147483647,null,null);c=B2;var f=c.g,m=C1.g(a);d=Vgb(m,d,e,gjb);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Rg.h(b,c);else return $APP.Wc(b)}};ijb=function(a){return $APP.Da(a,":")?$APP.gj.g($APP.Yi.h(a,1)):a};
ljb=function(a,b){b=$APP.Xf(b);var c=$APP.A.j(b,jjb,$APP.xj),d=$APP.A.j(b,kjb,$APP.l);if($APP.k(T2(a)))throw $APP.Zl.h("serializable doesn't work with databases that have :storage",$APP.Wf);var e=hjb(a),f=$APP.Eh.h($APP.Wf,$APP.fj.j($APP.Kw,e,$APP.Xn.D())),m=$APP.zg($APP.Uc($APP.Sg)),p=$APP.zg($APP.Uc($APP.Wf));b=fjb(function(C,E){E.idx=C|0;C=E.e;var I=E.a;I=f.g?f.g(I):f.call(null,I);var P=E.v;if("string"!==typeof P)if("number"===typeof P)P=Infinity===P?[2]:-Infinity===P?[3]:$APP.k(isNaN(P))?[4]:
P;else if(!$APP.Je(P))if(P instanceof $APP.F){var S=$APP.A.h($APP.n(p),P);$APP.k(S)?P=S:(S=m.uc(null,$APP.Rg.h(m.Ka(null),P)),S=$APP.de(S)-1,p.uc(null,$APP.Gh.j(p.Ka(null),P,S)),P=S);P=[0,P]}else P=[1,c.g?c.g(P):c.call(null,P)];return[C,I,P,E.tx-536870912]},$APP.B1.g(a));var u=fjb(function(C,E){return E.idx},C1.g(a)),t=fjb(function(C,E){return E.idx},t1.g(a)),B=function(){var C=$APP.A1.g(a);return c.g?c.g(C):c.call(null,C)}();e=V3(d,e);d=V3(d,$APP.Wc($APP.n(m)));return{count:$APP.de($APP.B1.g(a)),
tx0:536870912,"max-eid":D1.g(a),"max-tx":E1.g(a),schema:B,attrs:e,keywords:d,eavt:b,aevt:u,avet:t}};W3=function(){};mjb=function(a,b,c){if(null!=a&&null!=a.Gb)a=a.Gb(a,b,c);else{var d=mjb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=mjb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ITraversable.-collect",a);}return a};
njb=function(a,b){if(null!=a&&null!=a.Hb)a=a.Hb(a,b);else{var c=njb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=njb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ITraversable.-collect-vars",a);}return a};X3=function(a,b){return $APP.Be(a)&&$APP.x.h($APP.de(a),b)};Y3=function(a,b){return $APP.Be(b)?$APP.cf.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.xf.h(c,d):$APP.Ud(null)},$APP.Sg,b):null};$3=function(a,b){return Z3(a,b,$APP.Sg)};
Z3=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.xf.h(c,b):(null!=b?$APP.yd===b.Fb||(b.kd?0:$APP.Jb(W3,b)):$APP.Jb(W3,b))?mjb(b,a,c):ehb(b)?$APP.cf.j(function(d,e){return Z3(a,e,d)},c,b):c};a4=function(a){var b=$APP.xe(a);return b?b:$APP.qg.h($APP.$o,a)};b4=function(a,b){return $APP.te(a,new $APP.h(null,1,[$APP.Jl,b],null))};c4=function(a){var b=$APP.Jl.g($APP.ue(a));return $APP.k(b)?b:a};d4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};
e4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};f4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};g4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};h4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};i4=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};
j4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};k4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Gi(a)),"?")?new e4(a,null,null,null):null};pjb=function(a){var b=k4(a);if($APP.k(b))return b;throw $APP.Zl.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.xj.l($APP.z([a]))].join(""),new $APP.h(null,2,[$APP.Ln,ojb,$APP.EB,a],null));};
l4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Gi(a)),"$")?new f4(a,null,null,null):null};qjb=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Gi(a)),"?")?null:new i4(a,null,null,null)};m4=function(a){return a instanceof $APP.q&&$APP.Cb(k4(a))&&$APP.Cb(l4(a))&&$APP.Cb($APP.x.h($APP.Wv,a)?new h4(null,null,null):null)&&$APP.Cb($APP.x.h($APP.vH,a)?new d4(null,null,null):null)?new j4(a,null,null,null):null};rjb=function(a){return $APP.k(m4(a))?new e4(a,null,null,null):null};
sjb=function(a){var b=k4(a);if($APP.k(b))return b;b=l4(a);return $APP.k(b)?b:qjb(a)};n4=function(a,b,c,d,e){this.required=a;this.ye=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
ujb=function(a){if($APP.Be(a)){var b=$APP.Be($APP.v(a))?new $APP.H(null,2,5,$APP.J,[$APP.v(a),$APP.w(a)],null):new $APP.H(null,2,5,$APP.J,[null,a],null),c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=Y3(pjb,c);b=Y3(pjb,b);if($APP.xe(c)&&$APP.xe(b))throw $APP.Zl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Ln,tjb,$APP.EB,a],null));if(!$APP.k(a4($APP.M.h(c,b))))throw $APP.Zl.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.Ln,tjb,$APP.EB,
a],null));return new n4(c,b,null,null,null)}throw $APP.Zl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Ln,tjb,$APP.EB,a],null));};p4=function(a){return $APP.M.h($APP.k($APP.YG.g(a))?new $APP.H(null,1,5,$APP.J,[$APP.qn.h($APP.Am,$APP.YG.g(a))],null):null,$APP.qn.h($APP.Am,o4.g(a)))};vjb=function(a){return new $APP.H(null,2,5,$APP.J,[$APP.de($APP.YG.g(a)),$APP.de(o4.g(a))],null)};
q4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};r4=function(a,b,c,d){this.fc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};s4=function(a,b,c,d){this.Fa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};t4=function(a,b,c,d){this.dc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};wjb=function(a){return $APP.x.h($APP.vH,a)?b4(new q4(null,null,null),a):null};
xjb=function(a){var b=wjb(a);return $APP.k(b)?b:u4.g?u4.g(a):u4.call(null,a)};zjb=function(a){var b=Y3(xjb,a);if($APP.k(b)){if($APP.xe(b))throw $APP.Zl.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.Ln,yjb,$APP.EB,a],null));return b4(new s4(b,null,null,null),a)}return null};
u4=function(a){a:{if(X3(a,2)&&$APP.x.h($APP.ie(a),Yib)){var b=$APP.v(a);b=u4.g?u4.g(b):u4.call(null,b);if($APP.k(b)){b=b4(new t4(b,null,null,null),a);break a}throw $APP.Zl.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.Ln,yjb,$APP.EB,a],null));}b=null}if($APP.k(b))return b;b=X3(a,1)&&$APP.Be($APP.v(a))?b4(new t4(zjb($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=zjb(a);if($APP.k(b))return b;b=wjb(a);if($APP.k(b))return b;b=k4(a);b=$APP.k(b)?b4(new r4(b,null,null,null),a):
null;if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Ln,yjb,$APP.EB,a],null));};v4=function(a){if(null!=a&&null!=a.pi)a=a.pi(a);else{var b=v4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=v4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindVars.-find-vars",a);}return a};
w4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};x4=function(a,b,c,d,e,f){this.source=a;this.fc=b;this.pattern=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};y4=function(a){if(null!=a&&null!=a.vh)a=a.vh(a);else{var b=y4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=y4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindElements.find-elements",a);}return a};
z4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};A4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};B4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};C4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Ajb=function(a){return a instanceof w4};Bjb=function(a){return a instanceof x4};
D4=function(a){var b=k4(a);if($APP.k(b))return b;a:{if($APP.Be(a)&&$APP.x.h($APP.v(a),Cjb)){if(3<=$APP.de(a)&&4>=$APP.de(a)){var c=(b=$APP.x.h($APP.de(a),4))?$APP.y.h(a,1):Djb;b=b?$APP.ne(a):$APP.w(a);var d=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=l4(c);d=k4(d);var e=k4(b);$APP.k(e)?b=e:(e=rjb(b),b=$APP.k(e)?e:qjb(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new x4(c,d,b,null,null,null);break a}}throw $APP.Zl.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.Ln,Ejb,C3,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.Be(a)&&$APP.x.h($APP.v(a),Fjb)){if(3<=$APP.de(a)&&(b=$APP.r(a),$APP.v(b),c=$APP.w(b),b=$APP.v(c),c=$APP.w(c),b=k4(b),c=Y3(sjb,c),$APP.k($APP.k(b)?c:b))){b=new w4(b,c,null,null,null);break a}throw $APP.Zl.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.Ln,Ejb,C3,a],null));}b=null}$APP.k(b)?a=b:$APP.Be(a)&&2<=$APP.de(a)?(b=$APP.r(a),a=$APP.v(b),b=$APP.w(b),a=m4(a),
b=Y3(sjb,b),a=$APP.k($APP.k(a)?b:a)?new w4(a,b,null,null,null):null):a=null;return a};
Gjb=function(a){var b=Y3(D4,a);b=null==b?null:new z4(b,null,null,null);if($APP.k(b))return b;a:{if($APP.Be(a)&&$APP.x.h($APP.de(a),1)&&(b=$APP.v(a),$APP.Be(b)&&$APP.x.h($APP.de(b),2)&&$APP.x.h($APP.ie(b),Yib))){b=D4($APP.v(b));b=null==b?null:new A4(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.Be(a)&&$APP.x.h($APP.de(a),2)&&$APP.x.h($APP.ie(a),$APP.yk)?(b=D4($APP.v(a)),b=null==b?null:new B4(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.Be(a)&&$APP.x.h($APP.de(a),1)?(b=$APP.v(a),
b=Y3(D4,b),b=null==b?null:new C4(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.Ln,Ejb,C3,a],null));};E4=function(a,b,c,d,e){this.type=a;this.He=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Hjb=function(a,b){if(!$APP.xe(b)&&$APP.ng($APP.Cd,b))switch(a instanceof $APP.F?a.N:null){case "keys":return new E4(a,$APP.qn.h($APP.gj,b),null,null,null);case "syms":return new E4(a,$APP.ef(b),null,null,null);case "strs":return new E4(a,$APP.qn.h($APP.l,b),null,null,null);default:return null}else return null};Ijb=function(a){var b=l4(a);$APP.k(b)||(b=$APP.x.h($APP.Wv,a)?new h4(null,null,null):null,b=$APP.k(b)?b:rjb(a));return $APP.k(b)?b4(new r4(b,null,null,null),a):u4(a)};
Kjb=function(a){var b=Y3(Ijb,a);if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Ln,Jjb,$APP.EB,a],null));};F4=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};G4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
H4=function(a,b,c,d,e,f){this.na=a;this.Ba=b;this.dc=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};I4=function(a,b,c,d,e,f){this.source=a;this.name=b;this.Ba=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};J4=function(a,b,c,d,e,f){this.source=a;this.hc=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};K4=function(a,b,c,d,e,f){this.source=a;this.Wd=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};
L4=function(a,b,c,d){this.Ha=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Ljb=function(a){var b=$APP.x.h($APP.vH,a)?new d4(null,null,null):null;if($APP.k(b))return b;b=k4(a);return $APP.k(b)?b:qjb(a)};M4=function(a){if($APP.Be(a)){var b=l4($APP.v(a));return $APP.k(b)?new $APP.H(null,2,5,$APP.J,[b,$APP.w(a)],null):new $APP.H(null,2,5,$APP.J,[new g4(null,null,null),a],null)}return null};
Mjb=function(a){if($APP.Be(a)){var b=$APP.r(a);a=$APP.v(b);b=$APP.w(b);b=null==b?$APP.Sg:b;var c=m4(a);a=$APP.k(c)?c:k4(a);b=Y3(sjb,b);return $APP.k($APP.k(a)?b:a)?new $APP.H(null,2,5,$APP.J,[a,b],null):null}return null};Njb=function(a,b,c){if($APP.xe(a)&&$APP.xe(b))throw $APP.Zl.h("Join variables should not be empty",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,c],null));};Ojb=function(a,b){Njb(null,$APP.fI.g(a),b);return a};
Pjb=function(a,b){var c=$APP.Xf(a);c=$APP.A.h(c,O4);var d=$APP.Xf(c);c=$APP.A.h(d,$APP.YG);d=$APP.A.h(d,o4);Njb(c,d,b);return a};Qjb=function(a){if($APP.Be(a)&&$APP.x.h($APP.kt,$APP.v(a))){var b=$APP.w(a);b=P4.g?P4.g(b):P4.call(null,b);if($APP.k($APP.Yf(b)))return new L4(b,null,null,null);throw $APP.Zl.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));}return null};
Sjb=function(a){a:{var b=M4(a);if($APP.k(b)){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);var d=$APP.r(b);b=$APP.v(d);d=$APP.w(d);if($APP.x.h($APP.QC,b)){b=P4.g?P4.g(d):P4.call(null,d);if($APP.k(b)){c=Ojb(b4(new J4(c,$APP.ef($APP.Ky.g(Q4($APP.Sg,b))),b,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)){c=$APP.y.j(b,0,null);b=$APP.y.j(b,
1,null);d=$APP.r(b);b=$APP.v(d);var e=$APP.w(d);d=$APP.v(e);e=$APP.w(e);if($APP.x.h(Rjb,b)){b=Y3(k4,d);d=P4.g?P4.g(e):P4.call(null,e);if($APP.k($APP.k(b)?d:b)){c=Ojb(b4(new J4(c,b,d,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),d=$APP.w(d),$APP.x.h($APP.pt,
b))){b=Y3($APP.uy.h(Qjb,Sjb),d);if($APP.k(b)){c=Pjb(b4(new K4(c,new n4(null,$APP.ef($APP.Ky.g(Q4($APP.Sg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),e=$APP.w(d),d=$APP.v(e),e=$APP.w(e),$APP.x.h(R4,b))){b=ujb(d);d=Y3($APP.uy.h(Qjb,Sjb),e);if($APP.k($APP.k(b)?
d:b)){c=Pjb(b4(new K4(c,b,d,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));}c=null}if($APP.k(c))return c;a:{if(X3(a,1)&&(b=Mjb($APP.v(a)),$APP.k(b))){c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=b4(new G4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(X3(a,2)&&(b=$APP.y.j(a,0,null),c=$APP.y.j(a,1,null),d=Mjb(b),$APP.k(d))){b=$APP.y.j(d,0,null);d=$APP.y.j(d,
1,null);c=u4(c);c=$APP.k(c)?b4(new H4(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=$APP.r(b),d=$APP.v(b),b=$APP.w(b),d=m4(d),e=Y3(Ljb,b),$APP.k(d))){if($APP.xe(b))throw $APP.Zl.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));if(null==e)throw $APP.Zl.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,
a],null));c=new I4(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=Y3(Ljb,b),$APP.k(b))){if($APP.xe(b))throw $APP.Zl.h("Pattern could not be empty",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));c=b4(new F4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.Zl.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));};P4=function(a){return Y3(Sjb,a)};Tjb=function(a){var b=P4(a);if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.Ln,N4,$APP.EB,a],null));};S4=function(a,b,c,d,e){this.hc=a;this.Ha=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};T4=function(a,b,c,d,e){this.name=a;this.oe=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Ujb=function(a){if($APP.Be(a)){var b=$APP.r(a),c=$APP.v(b),d=$APP.w(b);if($APP.Be(c)){b=$APP.r(c);var e=$APP.v(b);c=$APP.w(b);b=function(){var m=m4(e);if($APP.k(m))return m;throw $APP.Zl.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.Ln,U4,$APP.EB,a],null));}();c=ujb(c);var f=function(){var m=$APP.Yf(P4(d));if($APP.k(m))return m;throw $APP.Zl.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.Ln,U4,$APP.EB,a],null));}();return new $APP.h(null,3,[$APP.Q,b,$APP.fI,
c,$APP.qK,f],null)}throw $APP.Zl.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,$APP.EB,a],null));}throw $APP.Zl.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.Ln,U4,$APP.EB,a],null));};
Wjb=function(a,b){var c=$APP.fI.g($APP.v(b)),d=vjb(c);b=$APP.r($APP.w(b));for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m);p=$APP.fI.g(p);if($APP.wi.h(d,vjb(p)))throw $APP.Zl.h(["Arity mismatch for rule '",$APP.xj.l($APP.z([$APP.Am.g(a)])),"': ",$APP.xj.l($APP.z([p4(c)]))," vs. ",$APP.xj.l($APP.z([p4(p)]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,Vjb,a],null));m+=1}else if(b=$APP.r(b)){if($APP.Fe(b))f=$APP.ed(b),b=$APP.fd(b),e=f,f=$APP.de(f);else{p=$APP.v(b);e=$APP.fI.g(p);if($APP.wi.h(d,vjb(e)))throw $APP.Zl.h(["Arity mismatch for rule '",
$APP.xj.l($APP.z([$APP.Am.g(a)])),"': ",$APP.xj.l($APP.z([p4(c)]))," vs. ",$APP.xj.l($APP.z([p4(e)]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,Vjb,a],null));b=$APP.w(b);e=null;f=0}m=0}else break};
Xjb=function(a){$APP.ef(function(){return function d(c){return new $APP.Gf(null,function(){for(;;){var e=$APP.r(c);if(e){var f=e;if($APP.Fe(f)){var m=$APP.ed(f),p=$APP.de(m),u=$APP.If(p);return function(){for(var E=0;;)if(E<p){var I=$APP.qe(m,E),P=$APP.y.j(I,0,null),S=$APP.y.j(I,1,null);I=$APP.qn.h(function(){return function(V){return new S4($APP.fI.g(V),$APP.qK.g(V),null,null,null)}}(E,I,P,S,m,p,u,f,e),S);S=u;Wjb(P,I);S.add(new T4(P,I,null,null,null));E+=1}else return!0}()?$APP.Nf($APP.Pf(u),d($APP.fd(f))):
$APP.Nf($APP.Pf(u),null)}var t=$APP.v(f),B=$APP.y.j(t,0,null),C=$APP.y.j(t,1,null);t=$APP.qn.h(function(){return function(E){return new S4($APP.fI.g(E),$APP.qK.g(E),null,null,null)}}(t,B,C,f,e),C);Wjb(B,t);return $APP.Af(new T4(B,t,null,null,null),d($APP.Ld(f)))}return null}},null,null)}($APP.Fj($APP.Q,Y3(Ujb,a)))}())};V4=function(a,b,c,d,e,f,m,p){this.Jd=a;this.Nd=b;this.Ld=c;this.Kd=d;this.Md=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Yjb=function(a){var b=$APP.Ll.l(a,W4,$APP.z([X4,Y4,Z4,$4]));b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new V4(W4.g(a),X4.g(a),Y4.g(a),Z4.g(a),$4.g(a),null,$APP.Yf(b),null)};Zjb=function(a){for(var b=$APP.Wf,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.F?(c=d,a=$APP.w(a)):(b=$APP.Il.F(b,new $APP.H(null,1,5,$APP.J,[c],null),$APP.$m.h($APP.xf,$APP.Sg),d),a=$APP.w(a));else return b}};$jb=function(a){var b=$APP.Jl.g(a);return a instanceof F4?b:null!=b?b instanceof g4?null:b:null};
dkb=function(a,b,c){var d=$APP.Ei(Q4($APP.Sg,W4.g(a))),e=$APP.Ei(X4.g(a)),f=$APP.Ei(Q4($APP.Sg,Z4.g(a))),m=$APP.Ei(Q4($APP.Sg,$4.g(a)));f=$APP.ex.h($APP.oL.h(d,e),$APP.oL.h(m,f));d=$APP.fx.h(d,e);if(!$APP.xe(f))throw $APP.Zl.h(["Query for unknown vars: ",$APP.xj.l($APP.z([$APP.qn.h($APP.Am,f)]))].join(""),new $APP.h(null,3,[$APP.Ln,a5,$APP.fI,f,$APP.EB,b],null));if(!$APP.xe(d))throw $APP.Zl.h([":find and :with should not use same variables: ",$APP.xj.l($APP.z([$APP.qn.h($APP.Am,d)]))].join(""),new $APP.h(null,
3,[$APP.Ln,a5,$APP.fI,d,$APP.EB,b],null));d=Y4.g(a);if(null!=d){if(W4.g(a)instanceof B4)throw $APP.Zl.h([$APP.xj.l($APP.z([$APP.Ql.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));if(W4.g(a)instanceof A4)throw $APP.Zl.h([$APP.xj.l($APP.z([$APP.Ql.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));}d=b5.g(Y4.g(a));if(null!=d&&(e=y4(W4.g(a)),!$APP.x.h($APP.de(d),$APP.de(e))))throw $APP.Zl.h(["Count of ",
$APP.xj.l($APP.z([$APP.Ql.g(Y4.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.Ln,a5,akb,$APP.Af($APP.Ql.g(Y4.g(a)),d),bkb,e,$APP.EB,b],null));if(1<$APP.de($APP.Pg.h($APP.Db,new $APP.H(null,3,5,$APP.J,[$APP.cC.g(c),$APP.us.g(c),ckb.g(c)],null))))throw $APP.Zl.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));var p=Q4($APP.Sg,Z4.g(a)),u=$3(function(B){return B instanceof f4},Z4.g(a)),t=$3(function(B){return B instanceof h4},Z4.g(a));
if(!$APP.k(function(){var B=a4(p);return $APP.k(B)?(B=a4(u),$APP.k(B)?a4(t):B):B}()))throw $APP.Zl.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));c=Q4($APP.Sg,X4.g(a));if(!$APP.k(a4(c)))throw $APP.Zl.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));c=Z3(function(B){return B instanceof f4},Z4.g(a),$APP.Bi);d=Z3(function(B){return B instanceof f4},$4.g(a),$APP.Bi);c=$APP.ex.h(d,c);if(!$APP.xe(c))throw $APP.Zl.h(["Where uses unknown source vars: ",
$APP.xj.l($APP.z([$APP.qn.h($APP.Am,c)]))].join(""),new $APP.h(null,3,[$APP.Ln,a5,$APP.fI,c,$APP.EB,b],null));c=$3(function(B){return B instanceof I4},$4.g(a));a=$3(function(B){return B instanceof h4},Z4.g(a));if(!$APP.xe(c)&&$APP.xe(a))throw $APP.Zl.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,b],null));};
gkb=function(a){if($APP.Ce(a))var b=a;else if($APP.Be(a))b=Zjb(a);else throw $APP.Zl.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.Ln,a5,$APP.EB,a],null));var c=b,d=Tjb($APP.Yqa.h(c,$APP.Sg));b=Yjb(new $APP.h(null,5,[W4,Gjb(bkb.g(c)),X4,function(){var e=ekb.g(c);if($APP.k(e)){var f=Y3(k4,e);if($APP.k(f))e=f;else throw $APP.Zl.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.Ln,fkb,$APP.EB,e],null));}else e=null;return e}(),Y4,function(){var e=Hjb($APP.cC,
$APP.cC.g(c));if($APP.k(e))return e;e=Hjb($APP.us,$APP.us.g(c));return $APP.k(e)?e:Hjb(ckb,ckb.g(c))}(),Z4,Kjb(function(){var e=$APP.hw.g(c);return $APP.k(e)?e:$APP.xe($3($jb,d))?$APP.Sg:new $APP.H(null,1,5,$APP.J,[Djb],null)}()),$4,d],null));dkb(b,a,c);return b};c5=function(a,b,c,d,e,f){this.cf=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};d5=function(a,b,c,d,e){this.ta=a;this.zf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
hkb=function(a,b){return $APP.fx.h($APP.Ei($APP.ti(a)),$APP.Ei($APP.ti(b)))};ikb=function(a,b){return $APP.x.h($APP.de(a),$APP.de(b))&&$APP.ng(function(c){return $APP.Ue(b,c)},$APP.ti(a))&&$APP.ng(function(c){return $APP.Ue(a,c)},$APP.ti(b))};jkb=function(a){return a instanceof $APP.q&&$APP.x.h("$",$APP.v($APP.Gi(a)))};e5=function(a){return a instanceof $APP.q&&$APP.x.h("?",$APP.v($APP.Gi(a)))};f5=function(a){return a instanceof $APP.F||"string"===typeof a};
kkb=function(a){return($APP.Be(a)||i0(a))&&$APP.x.h(2,$APP.de(a))&&f5($APP.v(a))};lkb=function(a,b,c,d){for(var e=b.length,f=d.length,m=Array(e+f),p=0;;)if(p<e)m[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<f)m[e+a]=c[d[a]],a+=1;else break;return m};
mkb=function(a,b,c,d){var e=$APP.ef(function(){return function u(p){return new $APP.Gf(null,function(){for(;;){var t=$APP.r(p);if(t){if($APP.Fe(t)){var B=$APP.ed(t),C=$APP.de(B),E=$APP.If(C);a:for(var I=0;;)if(I<C){var P=$APP.qe(B,I),S=$APP.y.j(P,0,null);P=$APP.y.j(P,1,null);$APP.Of(E,new $APP.H(null,2,5,$APP.J,[P,a.g?a.g(S):a.call(null,S)],null));I+=1}else{B=!0;break a}return B?$APP.Nf($APP.Pf(E),u($APP.fd(t))):$APP.Nf($APP.Pf(E),null)}B=$APP.v(t);E=$APP.y.j(B,0,null);B=$APP.y.j(B,1,null);return $APP.Af(new $APP.H(null,
2,5,$APP.J,[B,a.g?a.g(E):a.call(null,E)],null),u($APP.Ld(t)))}return null}},null,null)}(c)}()),f=$APP.cf.h($APP.ln,$APP.vi(a))+1;b=$APP.Wc($APP.cf.j(function(m,p){for(var u=Array(f),t=$APP.r(e),B=null,C=0,E=0;;)if(E<C){var I=B.ha(null,E),P=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);u[I]=p[P];E+=1}else if(t=$APP.r(t))$APP.Fe(t)?(C=$APP.ed(t),t=$APP.fd(t),B=C,C=$APP.de(C)):(C=$APP.v(t),B=$APP.y.j(C,0,null),C=$APP.y.j(C,1,null),u[C]=p[B],t=$APP.w(t),B=null,C=0),E=0;else break;return $APP.Rg.h(m,u)},$APP.Uc($APP.ef(b)),
d));return new d5(a,b,null,null,null)};nkb=function(a){a=$APP.fj.h($APP.Am,$APP.ef($APP.Ky.g(Q4($APP.Sg,a))));return new d5($APP.Ii(a,$APP.Xn.D()),$APP.Sg,null,null,null)};g5=function(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=g5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=g5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IBinding.in-\x3erel",a);}return a};
okb=function(a,b){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c instanceof r4&&h5.g(c)instanceof f4?a=$APP.bn.S(a,i5,$APP.xi,$APP.up.h(c,new $APP.H(null,2,5,$APP.J,[h5,$APP.Am],null)),b):c instanceof r4&&h5.g(c)instanceof h4?(c=$APP.xi.j,b="string"===typeof b?$APP.Zm.g(b):b,Xjb(b),b=$APP.Fj($APP.je,b),a=c.call($APP.xi,a,$APP.nG,b)):a=$APP.bn.F(a,j5,$APP.xf,g5(c,b));return a};
rkb=function(a,b,c){var d=$APP.de(b),e=$APP.de(c);if(d<e)throw $APP.Zl.h(["Extra inputs passed, expected: ",$APP.xj.l($APP.z([$APP.qn.h(function(f){return $APP.Jl.g($APP.ue(f))},b)])),", got: ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Ln,pkb,$APP.lH,b,qkb,c],null));if(d>e)throw $APP.Zl.h(["Too few inputs passed, expected: ",$APP.xj.l($APP.z([$APP.qn.h(function(f){return $APP.Jl.g($APP.ue(f))},b)])),", got: ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Ln,pkb,$APP.lH,b,
qkb,c],null));return $APP.cf.j(okb,a,$APP.Ii(b,c))};skb=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.Ue(k5,b)){if($APP.Pe(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.Be(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.Be(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return $APP.Pe(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
m5=function(a,b){var c=$APP.de(b);if(1===c)return skb(a,$APP.v(b));b=$APP.zs.g(b);for(var d=0;;)if(d<c)b[d]=skb(a,b[d]),d+=1;else return function(e,f,m){return function(p){return $APP.Hs.g(f.map(function(){return function(u){return u.g?u.g(p):u.call(null,p)}}(e,f,m)))}}(d,b,c)};tkb=function(a,b){var c=$APP.Kd;return $APP.Wc($APP.cf.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.Gh.j(d,f,$APP.xf.h($APP.A.j(d,f,c),e))},$APP.Uc($APP.Wf),b))};
o5=function(a,b){var c=n5.g(a),d=n5.g(b),e=x3.g(a),f=x3.g(b),m=$APP.ef(hkb(x3.g(a),x3.g(b)));a=$APP.ti(e);b=$APP.Wc($APP.ff(function(E,I){return $APP.k(e.g?e.g(I):e.call(null,I))?E:$APP.Rg.h(E,I)},$APP.Uc($APP.Sg),f));var p=$APP.df($APP.vi(e)),u=$APP.df($APP.sj($APP.fj.g(f),b)),t=m5(e,m),B=m5(f,m),C=tkb(t,c);c=$APP.Wc($APP.cf.j(function(E,I){var P=B(I);P=$APP.A.h(C,P);return null==P?E:$APP.cf.j(function(S,V){return $APP.Rg.h(S,lkb(V,p,I,u))},E,P)},$APP.Uc($APP.Sg),d));return new d5($APP.Ii($APP.M.h(a,
b),$APP.Xn.D()),c,null,null,null)};ukb=function(a,b){var c=$APP.Xf(a),d=$APP.A.h(c,x3);c=$APP.A.h(c,n5);var e=$APP.Xf(b);b=$APP.A.h(e,x3);e=$APP.A.h(e,n5);var f=$APP.ef(hkb(d,b));b=m5(b,f);var m=tkb(b,e),p=m5(d,f);return $APP.xi.j(a,n5,$APP.Tg(function(u){u=p(u);return null==(m.g?m.g(u):m.call(null,u))},c))};p5=function(a,b){return $APP.og(function(c){return $APP.Ue(x3.g(c),b)?c:null},j5.g(a))};
vkb=function(a,b){if(e5(b)){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));if(null==a)return null;if(null==$APP.le(n5.g(c)))return b=$APP.A.h(x3.g(c),b),a[b]}return null};wkb=function(a,b){return $APP.qn.h(function(c){var d=vkb(a,c);return $APP.k(d)?d:c},b)};
xkb=function(a,b){if(null!=a?$APP.yd===a.oj||(a.kd?0:$APP.Jb(w1,a)):$APP.Jb(w1,a)){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null),f=$APP.y.j(b,3,null);c=kkb(c)||f5(c)?s2(a,c):c;e=$APP.k($APP.k(e)?f5(d)&&r2(a,d)&&(kkb(e)||f5(e)):e)?s2(a,e):e;a=kkb(f)?s2(a,f):f;return $APP.el.j(new $APP.H(null,4,5,$APP.J,[c,d,e,a],null),0,$APP.de(b))}return b};
ykb=function(a,b,c){a=$APP.qn.h(function(d){return $APP.x.h(d,$APP.vH)||e5(d)?null:d},xkb(b,wkb(a,c)));b=n1(b,a);c=$APP.Eh.h($APP.Wf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.fj.j($APP.Kw,c,new $APP.H(null,4,5,$APP.J,["e","a","v","tx"],null))));return new d5(c,b,null,null,null)};
zkb=function(a,b){a=$APP.Pg.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var m=$APP.v(e);if($APP.x.h(m,$APP.vH)||e5(m)||$APP.x.h(f,m))d=$APP.w(d),e=$APP.w(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Eh.h($APP.Wf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.fj.j($APP.Kw,b,$APP.Xn.D())));return new d5(c,$APP.qn.h($APP.df,a),null,null,null)};
Akb=function(a,b,c){return(null!=b?$APP.yd===b.zk||(b.kd?0:$APP.Jb(ohb,b)):$APP.Jb(ohb,b))?ykb(a,b,c):zkb(b,c)};q5=function(a,b){for(var c=$APP.Sg;;){var d=$APP.v(a);if(null==d)return $APP.xf.h(c,b);$APP.k($APP.Yf(hkb(x3.g(b),x3.g(d))))?(a=$APP.w(a),b=o5(d,b)):(a=$APP.w(a),c=$APP.xf.h(c,d))}};Bkb=function(a,b){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));null==a?b=null:(c=x3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
Ckb=function(a,b){return $APP.og(function(c){return $APP.Ue(x3.g(a),c)},b)};Dkb=function(a,b){var c=$APP.Pg.h(function(e){return Ckb(e,b)},j5.g(a)),d=$APP.cf.h(r5,c);return new $APP.H(null,2,5,$APP.J,[$APP.bn.j(a,j5,function(e){return $APP.js.h($APP.Ei(c),e)}),d],null)};
Ekb=function(a,b,c,d){a=i5.g(a);b=x3.g(b);for(var e=$APP.de(d),f=Array(e),m=Array(e),p=0;;)if(p<e){var u=$APP.y.h(d,p);if(u instanceof $APP.q){var t=$APP.A.h(a,u);null==t?m[p]=$APP.A.h(b,u):f[p]=t}else f[p]=u;p+=1}else break;return c===$APP.Kw?function(B){for(var C=f.slice(0),E=0;;)if(E<e){var I=m[E];null!=I&&(C[E]=B[I]);E+=1}else break;return $APP.qg.h(c,C)}:function(B){for(var C=0;;)if(C<e){var E=m[C];null!=E&&(f[C]=B[E]);C+=1}else break;return $APP.qg.h(c,f)}};
Fkb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c),f=function(){var u=$APP.A.h(Sib,d);if($APP.k(u))return u;u=Bkb(a,d);if($APP.k(u))return u;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Zl.h(["Unknown predicate '",$APP.xj.l($APP.z([d]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,b,$APP.Xo,d],null));return null}();c=Dkb(a,$APP.Pg.h($APP.Cd,e));var m=$APP.y.j(c,0,null),p=$APP.y.j(c,1,null);c=$APP.k(f)?function(){var u=Ekb(m,
p,f,e);return $APP.bn.j(p,n5,function(t){return $APP.Pg.h(u,t)})}():$APP.xi.j(p,n5,$APP.Sg);return $APP.bn.F(m,j5,$APP.xf,c)};
Gkb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c);c=$APP.y.j(b,1,null);var f=u4(c),m=function(){var t=$APP.A.h(Sib,d);if($APP.k(t))return t;t=Bkb(a,d);if($APP.k(t))return t;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Zl.h(["Unknown function '",$APP.xj.l($APP.z([d]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,b,$APP.Xo,d],null));return null}();c=Dkb(a,$APP.Pg.h($APP.Cd,e));var p=$APP.y.j(c,0,null),u=$APP.y.j(c,1,null);
c=$APP.k(m)?function(){var t=Ekb(p,u,m,e),B=function(){return function I(E){return new $APP.Gf(null,function(){for(var P=E;;)if(P=$APP.r(P)){if($APP.Fe(P)){var S=$APP.ed(P),V=$APP.de(S),aa=$APP.If(V);a:for(var ca=0;;)if(ca<V){var ka=$APP.qe(S,ca),ma=t(ka);null!=ma&&$APP.Of(aa,r5.h(new d5(x3.g(u),new $APP.H(null,1,5,$APP.J,[ka],null),null,null,null),g5(f,ma)));ca+=1}else{S=!0;break a}return S?$APP.Nf($APP.Pf(aa),I($APP.fd(P))):$APP.Nf($APP.Pf(aa),null)}aa=$APP.v(P);S=t(aa);if(null!=S)return $APP.Af(r5.h(new d5(x3.g(u),
new $APP.H(null,1,5,$APP.J,[aa],null),null,null,null),g5(f,S)),I($APP.Ld(P)));P=$APP.Ld(P)}else return null},null,null)}(n5.g(u))}();return $APP.xe(B)?r5.h(u,nkb(f)):$APP.cf.h(t5,B)}():r5.h($APP.xi.j(u,n5,$APP.Sg),nkb(f));return $APP.bn.F(p,j5,q5,c)};
Hkb=function(a,b){if($APP.Be(b)){var c=jkb($APP.v(b))?$APP.ie(b):$APP.v(b);if(c instanceof $APP.q){if(e5(c)||$APP.Ue(new $APP.Ai(null,new $APP.h(null,6,[$APP.kt,null,$APP.QC,null,Rjb,null,R4,null,$APP.pt,null,$APP.vH,null],null),null),c))return!1;if($APP.Ue($APP.nG.g(a),c))return!0;throw $APP.Zl.h(["Unknown rule '",$APP.xj.l($APP.z([c]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,s5,$APP.EB,b],null));}}return!1};
Jkb=function(a,b){var c=$APP.r(a),d=$APP.v(c),e=$APP.w(c),f=$APP.Aj.h(Ikb,$APP.Rd),m=$APP.A.h($APP.nG.g(b),d);return function t(u){return new $APP.Gf(null,function(){for(;;){var B=$APP.r(u);if(B){var C=B;if($APP.Fe(C)){var E=$APP.ed(C),I=$APP.de(E),P=$APP.If(I);return function(){for(var va=0;;)if(va<I){var Ga=$APP.qe(E,va),ia=Ga,sa=$APP.r(ia),xa=$APP.v(sa),Ba=$APP.w(sa),Sa=xa,cb=$APP.r(Sa),gb=$APP.v(cb),eb=$APP.w(cb),db=gb,jb=eb,vb=Ba,Ab=$APP.Ii(jb,e);$APP.Of(P,$APP.Dt(function(Ib,Ob,Zb,fc,Nc,oc,
Wd,Ke,rg,Fg,hi,Cj,xg,Nh,Kf,Gd,Nm,sk,Dj,Gc,Bd,Te,Lg,Lf,mh,ii){return function(me){if(e5(me)){var Gg=xg.g?xg.g(me):xg.call(null,me);return null==Gg?$APP.lj.g([$APP.Gi(me),"__auto__",$APP.l.g(ii)].join("")):Gg}return me}}(va,ia,sa,xa,Ba,Sa,cb,gb,eb,db,jb,vb,Ab,Ga,E,I,P,C,B,a,c,d,e,d,e,f,m),vb));va+=1}else return!0}()?$APP.Nf($APP.Pf(P),t($APP.fd(C))):$APP.Nf($APP.Pf(P),null)}var S=$APP.v(C),V=S,aa=$APP.r(V),ca=$APP.v(aa),ka=$APP.w(aa),ma=ca,ua=$APP.r(ma),Ea=$APP.v(ua),da=$APP.w(ua),Z=Ea,Y=da,U=ka,X=
$APP.Ii(Y,e);return $APP.Af($APP.Dt(function(va,Ga,ia,sa,xa,Ba,Sa,cb,gb,eb,db,jb,vb,Ab,Ib,Ob,Zb,fc,Nc,oc,Wd,Ke){return function(rg){if(e5(rg)){var Fg=jb.g?jb.g(rg):jb.call(null,rg);return null==Fg?$APP.lj.g([$APP.Gi(rg),"__auto__",$APP.l.g(Ke)].join("")):Fg}return rg}}(V,aa,ca,ka,ma,ua,Ea,da,Z,Y,U,X,S,C,B,a,c,d,e,d,e,f,m),U),t($APP.Ld(C)))}return null}},null,null)}(m)};
Kkb=function(a,b){a=$APP.js.h(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.x.h(d,c)},$APP.fj.j($APP.Kw,a,b));return new $APP.H(null,2,5,$APP.J,[$APP.fj.h($APP.v,a),$APP.fj.h($APP.ie,a)],null)};
Lkb=function(a,b){a=$APP.r(a);var c=$APP.v(a),d=$APP.w(a);return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.ed(p),t=$APP.de(u),B=$APP.If(t);a:for(var C=0;;)if(C<t){var E=$APP.qe(u,C),I=Kkb(d,E);E=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);$APP.Of(B,new $APP.H(null,1,5,$APP.J,[$APP.M.l(new $APP.H(null,1,5,$APP.J,[u5],null),E,$APP.z([I]))],null));C+=1}else{u=!0;break a}return u?$APP.Nf($APP.Pf(B),m($APP.fd(p))):$APP.Nf($APP.Pf(B),null)}B=$APP.v(p);
u=Kkb(d,B);B=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);return $APP.Af(new $APP.H(null,1,5,$APP.J,[$APP.M.l(new $APP.H(null,1,5,$APP.J,[u5],null),B,$APP.z([u]))],null),m($APP.Ld(p)))}return null}},null,null)}($APP.A.h(b,c))};v5=function(a){var b=$APP.zj.g($APP.Sg);$APP.Dt(function(c){$APP.k(e5.g?e5.g(c):e5.call(null,c))&&$APP.Aj.j(b,$APP.xf,c);return c},a);return $APP.n(b)};
Mkb=function(a,b){function c(e){e=$APP.y.j(e,0,null);e=$APP.r(e);$APP.v(e);e=$APP.w(e);return $APP.ng(d,e)}var d=$APP.Ei(v5(a));return new $APP.H(null,2,5,$APP.J,[$APP.Pg.h(c,b),$APP.js.h(c,b)],null)};
Okb=function(a,b){function c(Ba){return $APP.og(function(Sa){return $APP.xe(n5.g(Sa))},j5.g(Ba))}function d(Ba,Sa){return $APP.cf.j(w5,Ba,Sa)}for(var e=$APP.Pg.h(e5,b),f=$APP.Ii(e,$APP.Xn.D()),m=new $APP.D(null,new $APP.h(null,5,[x5,$APP.Sg,y5,a,$APP.qK,new $APP.H(null,1,5,$APP.J,[b],null),z5,$APP.Wf,A5,$APP.Wf],null),null,1,null),p=new d5(f,$APP.Sg,null,null,null);;){var u=$APP.v(m);if(null==u)return p;var t=u,B=$APP.Si(function(){return function(Ba){return!Hkb(a,Ba)}}(m,p,t,u,e,f,d,c),$APP.qK.g(t)),
C=$APP.y.j(B,0,null),E=$APP.y.j(B,1,null),I=$APP.r(E),P=$APP.v(I),S=$APP.w(I),V=P,aa=S;if(null==V){b=d(y5.g(t),C);b=Cgb($APP.ef,B5?B5(b,e):Nkb.call(null,b,e));var ca=new d5(f,b,null,null,null);b=$APP.w(m);ca=t5(p,ca);m=b;p=ca}else{var ka=V,ma=$APP.r(ka),ua=$APP.v(ma),Ea=$APP.w(ma),da=ua,Z=Ea,Y=Lkb(V,z5.g(t)),U=Mkb($APP.M.h(x5.g(t),C),$APP.M.h(Y,A5.g(t))),X=$APP.y.j(U,0,null),va=$APP.y.j(U,1,null);if($APP.k($APP.og(function(){return function(Ba){return $APP.x.h(Ba,new $APP.H(null,1,5,$APP.J,[$APP.K(u5)],
null))}}(m,p,ka,ma,ua,Ea,da,Z,Y,U,X,va,B,C,E,I,P,S,V,aa,t,u,e,f,d,c),X)))b=$APP.w(m),ca=p,m=b,p=ca;else{var Ga=$APP.M.h(C,X),ia=d(y5.g(t),Ga);if($APP.k(c(ia)))b=$APP.w(m),ca=p,m=b,p=ca;else{var sa=$APP.xi.j(z5.g(t),da,$APP.xf.h($APP.A.j(z5.g(t),da,$APP.Sg),Z)),xa=Jkb(V,a);b=$APP.M.h(function(){return function(Ba,Sa,cb,gb,eb,db,jb,vb,Ab,Ib,Ob,Zb,fc,Nc,oc,Wd,Ke,rg,Fg,hi,Cj,xg,Nh,Kf,Gd,Nm,sk,Dj,Gc,Bd){return function Lf(Lg){return new $APP.Gf(null,function(mh,ii,me,Gg,Vl,zh,Hi,Sn,tk,Wl,Tn,qp,Zj,Bq,Xe,
Xl,rp,ji,Hg,Oh,sd,nf,$c,hg){return function(){for(;;){var uk=$APP.r(Lg);if(uk){if($APP.Fe(uk)){var Cq=$APP.ed(uk),Gu=$APP.de(Cq),Zf=$APP.If(Gu);a:for(var sp=0;;)if(sp<Gu){var sx=$APP.qe(Cq,sp);$APP.Of(Zf,new $APP.h(null,5,[x5,Vl,y5,zh,$APP.qK,$APP.Eh.j($APP.Sg,$APP.qj,$APP.z([sx,hg])),z5,me,A5,Xl],null));sp+=1}else{Cq=!0;break a}return Cq?$APP.Nf($APP.Pf(Zf),Lf($APP.fd(uk))):$APP.Nf($APP.Pf(Zf),null)}Zf=$APP.v(uk);return $APP.Af(new $APP.h(null,5,[x5,Vl,y5,zh,$APP.qK,$APP.Eh.j($APP.Sg,$APP.qj,$APP.z([Zf,
hg])),z5,me,A5,Xl],null),Lf($APP.Ld(uk)))}return null}}}(Ba,Sa,cb,gb,eb,db,jb,vb,Ab,Ib,Ob,Zb,fc,Nc,oc,Wd,Ke,rg,Fg,hi,Cj,xg,Nh,Kf,Gd,Nm,sk,Dj,Gc,Bd),null,null)}}(m,p,sa,xa,Ga,ia,ka,ma,ua,Ea,da,Z,Y,U,X,va,B,C,E,I,P,S,V,aa,t,u,e,f,d,c)(xa)}(),$APP.w(m));ca=p;m=b;p=ca}}}}};Pkb=function(a,b){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null);b=$APP.y.j(b,3,null);c=e5(c)?$APP.xf.h($APP.Bi,c):$APP.Bi;c=e5(b)?$APP.xf.h(c,b):c;return e5(e)&&!e5(d)&&r2(a,d)?$APP.xf.h(c,e):c};
C5=function(a,b){return $APP.xi.j(a,j5,$APP.un.h(function(c){var d=$APP.Yf($APP.yi(x3.g(c),b));return null==d?null:$APP.xi.j(c,x3,d)},j5.g(a)))};D5=function(a){return $APP.Eh.h($APP.Bi,$APP.Og.l(function(b){return $APP.ti(x3.g(b))},$APP.z([j5.g(a)])))};
E5=function(a,b,c){if($APP.Tha(b,a))return null;a=$APP.ex.h($APP.Ei(b),a);throw $APP.Zl.h(["Insufficient bindings: ",$APP.xj.l($APP.z([a]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,c,$APP.fI,a],null));};
Qkb=function(a,b,c){b=$APP.qn.h(function(d){return $APP.ex.h($APP.Ei(v5(d)),a)},b);if($APP.k($APP.qg.h($APP.x,b)))return null;throw $APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([b]))," in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,c,$APP.fI,b],null));};
Rkb=function(a,b,c){for(var d=$APP.Ei($APP.js.h(a,b)),e=$APP.r(c),f=null,m=0,p=0;;)if(p<m){c=f.ha(null,p);var u=$APP.Yf($APP.ex.h(d,$APP.Ei(v5(c))));if(null!=u)throw e=u,$APP.Du.l($APP.z([c,a,b,d])),$APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([e]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,c,$APP.fI,e],null));p+=1}else if(c=$APP.r(e)){e=c;if($APP.Fe(e))f=$APP.ed(e),e=$APP.fd(e),c=f,m=$APP.de(f),f=c;else{c=$APP.v(e);
f=$APP.Yf($APP.ex.h(d,$APP.Ei(v5(c))));if(null!=f)throw e=f,$APP.Du.l($APP.z([c,a,b,d])),$APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([e]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.EB,c,$APP.fI,e],null));e=$APP.w(e);f=null;m=0}p=0}else return null};Skb=function(a,b){var c=l5;l5=$APP.A.h(i5.g(a),Djb);try{return $APP.cf.j(F5,a,b)}finally{l5=c}};
Tkb=function(a,b,c,d){return $APP.sj($APP.sq.h($APP.fj.g(function(e){return $APP.sj($APP.fj.g(function(f){for(var m=$APP.Pb(e),p=0;;)if(p<c){var u=d[p];null!=u&&(m[p]=f[u]);p+=1}else break;return m}),n5.g(b))}),$APP.qj),a)};Nkb=function(a){switch(arguments.length){case 2:return B5(arguments[0],arguments[1]);case 3:return Ukb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
B5=function(a,b){a=j5.g(a);return Ukb(new $APP.H(null,1,5,$APP.J,[Array($APP.de(b))],null),a,b)};Ukb=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.xe(n5.g(d)))return $APP.Sg;var e=$APP.yi(x3.g(d),c);if($APP.xe(e))b=$APP.w(b);else{e=$APP.df($APP.fj.h(function(m,p,u,t){return function(B){return $APP.A.h(t,B)}}(a,b,c,e,d),c));var f=$APP.de(c);a=Tkb(a,d,f,e);b=$APP.w(b)}}};Vkb=function(a,b){return $APP.Eh.j($APP.Bi,$APP.fj.g($APP.ef),B5(a,b))};
G5=function(a,b){if(null!=a&&null!=a.yh)a=a.yh(a,b);else{var c=G5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=G5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IContextResolve.-context-resolve",a);}return a};
Wkb=function(a,b,c){return $APP.qn.F(function(d,e,f){if(Ajb(d)){e=G5($APP.In.g(d),b);d=$APP.fj.h(function(p){return G5(p,b)},$APP.Fi($APP.dn.g(d)));var m=$APP.fj.h(function(p){return $APP.y.h(p,f)},c);return $APP.qg.h(e,$APP.M.h(d,new $APP.H(null,1,5,$APP.J,[m],null)))}return e},a,$APP.v(c),$APP.Xn.D())};Xkb=function(a){var b=$APP.sg(Ajb);return $APP.js.h($APP.yb,$APP.fj.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Xn.D()))};
Ykb=function(a,b,c){var d=Xkb(a);return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.ed(p),t=$APP.de(u),B=$APP.If(t);a:for(var C=0;;)if(C<t){var E=$APP.qe(u,C);$APP.y.j(E,0,null);E=$APP.y.j(E,1,null);$APP.Of(B,Wkb(a,b,E));C+=1}else{u=!0;break a}return u?$APP.Nf($APP.Pf(B),m($APP.fd(p))):$APP.Nf($APP.Pf(B),null)}B=$APP.v(p);$APP.y.j(B,0,null);B=$APP.y.j(B,1,null);return $APP.Af(Wkb(a,b,B),m($APP.Ld(p)))}return null}},null,null)}($APP.Fj(function(f){return $APP.fj.h(function(m){return $APP.y.h(f,
m)},d)},c))};Zkb=function(a,b){return $APP.cf.j(function(c,d){return $APP.xf.h(c,a.g?a.g(d):a.call(null,d))},$APP.pe(b),b)};$kb=function(a,b){var c=b5.g(a),d=$APP.Xn.h(0,$APP.de(c));return Zkb(function(e){return $APP.cf.j(function(f,m){return $APP.xi.j(f,$APP.y.h(c,m),$APP.y.h(e,m))},$APP.Wf,d)},b)};
alb=function(a,b,c){if(null!=a&&null!=a.zh)a=a.zh(a,b,c);else{var d=alb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=alb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IPostProcess.-post-process",a);}return a};
blb=function(a,b,c){var d=function(){return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.ed(p),t=$APP.de(u),B=$APP.If(t);return function(){for(var E=0;;)if(E<t){var I=$APP.qe(u,E),P=B;if(Bjb(I)){var S=G5($APP.Jl.g(I),b);I=G5($APP.JF.g(I),b);S=S3(S,I,null)}else S=null;P.add(S);E+=1}else return!0}()?$APP.Nf($APP.Pf(B),m($APP.fd(p))):$APP.Nf($APP.Pf(B),null)}var C=$APP.v(p);return $APP.Af(Bjb(C)?function(){var E=G5($APP.Jl.g(C),b),I=G5($APP.JF.g(C),
b);return S3(E,I,null)}():null,m($APP.Ld(p)))}return null}},null,null)}(a)}();return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){var u=p;if($APP.Fe(u)){var t=$APP.ed(u),B=$APP.de(t),C=$APP.If(B);return function(){for(var I=0;;)if(I<B){var P=$APP.qe(t,I);$APP.Of(C,$APP.qn.j(function(){return function(S,V){return $APP.k(S)?Q3(S,V):V}}(I,P,t,B,C,u,p,d),d,P));I+=1}else return!0}()?$APP.Nf($APP.Pf(C),m($APP.fd(u))):$APP.Nf($APP.Pf(C),null)}var E=$APP.v(u);return $APP.Af($APP.qn.j(function(){return function(I,
P){return $APP.k(I)?Q3(I,P):P}}(E,u,p,d),d,E),m($APP.Ld(u)))}return null}},null,null)}(c)};clb=function(a,b){if(a instanceof J1){var c=a.ib,d=a.Oc;return new J1(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.zj.g(0),null,null,null)}return new J1(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.zj.g(0),null,null,null)};dlb=function(a,b,c,d){return s1(a,b,c,d)};elb=function(a){return $APP.n(a)};flb=function(a){return dhb($APP.B1.g(a))};
H5=function H5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H5.l(0<c.length?new $APP.Hd(c.slice(0),0,null):null)};H5.l=function(a){return $APP.vca(a,$APP.xi.j($APP.rb(),$APP.kb,!1))};H5.B=0;H5.G=function(a){return this.l($APP.r(a))};glb=new $APP.q("datascript.core","squuid","datascript.core/squuid",-408746813,null);L1=new $APP.F("db.unique","identity","db.unique/identity",1675950722);M2=new $APP.F("db","retract","db/retract",-1549825231);
hlb=new $APP.q("datascript.db","IDatom","datascript.db/IDatom",293960966,null);ilb=new $APP.F(null,"-store","-store",86010660);jlb=new $APP.F(null,"incomparable","incomparable",1634329662);klb=new $APP.q(null,"datom-tx","datom-tx",1349109608,null);ckb=new $APP.F(null,"strs","strs",1175537277);zhb=new $APP.F("db.cardinality","one","db.cardinality/one",1428352190);F2=new $APP.F("transact","upsert","transact/upsert",412688078);Y4=new $APP.F(null,"qreturn-map","qreturn-map",1841215994);
fib=new $APP.F("transact","schema","transact/schema",1426844139);llb=new $APP.q(null,"datom-added","datom-added",-363961980,null);mlb=new $APP.q(null,"entity?","entity?",555338193,null);nlb=new $APP.q("datascript.core","filter","datascript.core/filter",-1276765471,null);I5=new $APP.F(null,"acc","acc",838566312);olb=new $APP.F("lookup-ref","unique","lookup-ref/unique",-960647710);U4=new $APP.F("parser","rule","parser/rule",-464044566);
plb=new $APP.q("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);qlb=new $APP.q("datascript.core","q","datascript.core/q",2106686416,null);f3=new $APP.F(null,"db-last-stored","db-last-stored",-2068760702);rlb=new $APP.q(null,"added","added",-596784081,null);Ejb=new $APP.F("parser","find","parser/find",-801023103);slb=new $APP.q(null,"entity","entity",1189561251,null);B3=new $APP.F(null,"wildcard?","wildcard?",-686044101);
I2=new $APP.F("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);tlb=new $APP.q("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);ulb=new $APP.q(null,"tail-addr","tail-addr",1565233666,null);vlb=new $APP.q("datascript.core","restore","datascript.core/restore",-655548009,null);a5=new $APP.F("parser","query","parser/query",1877320671);wlb=new $APP.q(null,"_opts","_opts",1634624069,null);z3=new $APP.F(null,"last-attr","last-attr",-526000708);
Vhb=new $APP.F(null,"conflict","conflict",1978796605);xlb=new $APP.F("db","fn","db/fn",-1175261470);ylb=new $APP.q("datascript.core","touch","datascript.core/touch",632058772,null);zlb=new $APP.q(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);p3=new $APP.F(null,"recursion-limit","recursion-limit",52345639);Alb=new $APP.q("datascript.storage","-restore","datascript.storage/-restore",708714346,null);O1=new $APP.F("db.type","ref","db.type/ref",-1728373079);
Blb=new $APP.q(null,"variance","variance",-1522424942,null);Clb=new $APP.q("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);Dlb=new $APP.q("datascript.core","with","datascript.core/with",-1124098173,null);Elb=new $APP.F(null,"-restore","-restore",-515892319);G2=new $APP.F("db","id","db/id",-1388397098);Flb=new $APP.F("db.fn","retractAttribute","db.fn/retractAttribute",937402164);Glb=new $APP.q("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);
Hlb=new $APP.F("lookup-ref","syntax","lookup-ref/syntax",-317304012);Ilb=new $APP.q("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);Jlb=new $APP.q("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);Klb=new $APP.q("datascript.core","db","datascript.core/db",667170070,null);J5=new $APP.q(null,"addr","addr",42880790,null);Llb=new $APP.q(null,"-index-range","-index-range",898114142,null);
Mlb=new $APP.q(null,"settings","settings",-1098290894,null);g2=new $APP.F(null,"tx-data","tx-data",934159761);z5=new $APP.F(null,"used-args","used-args",23596256);Nlb=new $APP.q("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);Olb=new $APP.q("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);Plb=new $APP.q(null,"make-storage-adapter","make-storage-adapter",937815346,null);$4=new $APP.F(null,"qwhere","qwhere",-1645067378);
S1=new $APP.F("db","ident","db/ident",-737096);h2=new $APP.F(null,"tempids","tempids",1767509089);W4=new $APP.F(null,"qfind","qfind",1529332972);Qlb=new $APP.q("datascript.core","serializable","datascript.core/serializable",-630048076,null);y5=new $APP.F(null,"prefix-context","prefix-context",-1269613591);Rlb=new $APP.q(null,"store-impl!","store-impl!",901017629,null);N1=new $APP.F("db.cardinality","many","db.cardinality/many",772806234);
C2=new $APP.F("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);Slb=new $APP.q("datascript.core","pull","datascript.core/pull",-1213970902,null);Tlb=new $APP.q("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);f2=new $APP.F(null,"db-after","db-after",-571884666);N4=new $APP.F("parser","where","parser/where",-966053850);Ulb=new $APP.q(null,"restore-impl","restore-impl",1420181842,null);K5=new $APP.F(null,"seen","seen",-518999789);
Vlb=new $APP.q("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);thb=new $APP.F("db.unique","value","db.unique/value",276903088);Wlb=new $APP.F("db","tupleTypes","db/tupleTypes",1512507626);aib=new $APP.F("db.fn","retractEntity","db.fn/retractEntity",-1423535441);L5=new $APP.q(null,"attr","attr",1036399174,null);Xlb=new $APP.q(null,"storage-adapter","storage-adapter",-1255219640,null);Ylb=new $APP.F("entity-id","missing","entity-id/missing",1234588374);
Zlb=new $APP.q("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);R4=new $APP.q(null,"or-join","or-join",591375469,null);$lb=new $APP.F("db.pull","reverse","db.pull/reverse",1999788297);amb=new $APP.q(null,"db-from-reader","db-from-reader",1527469533,null);bmb=new $APP.q(null,"println-str","println-str",-2049216703,null);fkb=new $APP.F("parser","with","parser/with",-386255821);cmb=new $APP.q(null,"missing?","missing?",-1710383910,null);
dmb=new $APP.q("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);emb=new $APP.q("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);fmb=new $APP.q("datascript.core","transact!","datascript.core/transact!",1506351773,null);t1=new $APP.F(null,"avet","avet",1383857032);M5=new $APP.q(null,"schema","schema",58529736,null);gib=new $APP.F(null,"entity","entity",-450970276);gmb=new $APP.q(null,"serializable-datom","serializable-datom",451141133,null);
hmb=new $APP.q("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);Jjb=new $APP.F("parser","in","parser/in",1617442048);Bhb=new $APP.F(null,"init-db","init-db",1595181278);imb=new $APP.F(null,"addresses","addresses",-559529694);Z0=new $APP.F(null,"cmp","cmp",575646375);I1=new $APP.F(null,"hash","hash",-13781596);jmb=new $APP.q(null,"with","with",104234651,null);t3=new $APP.F(null,"multival?","multival?",1072388383);Nib=new $APP.F("parser","pull","parser/pull",-2147427204);
N5=new $APP.q(null,"tx","tx",2107161945,null);kmb=new $APP.q("datascript.core","store","datascript.core/store",1386427333,null);e3=new $APP.F(null,"tx-tail","tx-tail",1116487556);lmb=new $APP.q(null,"reset-conn!","reset-conn!",1315177148,null);O4=new $APP.F(null,"rule-vars","rule-vars",1665972520);X1=new $APP.F("db","valueType","db/valueType",1827971944);Khb=new $APP.F("retract","schema","retract/schema",1546437764);C1=new $APP.F(null,"aevt","aevt",-585148059);
mmb=new $APP.F("datascript","db","datascript/db",-1190971692);O5=new $APP.q(null,"-store","-store",1726542187,null);nmb=new $APP.F(null,"thaw-fn","thaw-fn",-240544261);P5=new $APP.F(null,"binding","binding",539932593);Uhb=new $APP.F(null,"assertion","assertion",-1645134882);$APP.b2=new $APP.F(null,"datoms","datoms",-290874434);Cjb=new $APP.q(null,"pull","pull",779986722,null);$0=new $APP.F(null,"set-metadata","set-metadata",1293757705);
omb=new $APP.q("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);pmb=new $APP.q(null,"untuple","untuple",-606149900,null);Q5=new $APP.q(null,"c0","c0",2105080311,null);qmb=new $APP.q(null,"index-range","index-range",1044940937,null);u5=new $APP.q(null,"-differ?","-differ?",1465687357,null);P1=new $APP.F("db","isComponent","db/isComponent",423352398);R5=new $APP.q(null,"db","db",-1661185010,null);rmb=new $APP.q(null,"sample","sample",1719555128,null);
S5=new $APP.q(null,"datom","datom",1268975437,null);smb=new $APP.F(null,"serialize","serialize",-69216574);Q1=new $APP.F("db","tupleAttrs","db/tupleAttrs",250080092);q3=new $APP.F(null,"recursive?","recursive?",1340075244);tmb=new $APP.q(null,"conn","conn",1918841190,null);umb=new $APP.F(null,"thaw-kw","thaw-kw",1076733097);A5=new $APP.F(null,"pending-guards","pending-guards",-1255527308);vmb=new $APP.F("query","binding","query/binding",698240489);
oib=new $APP.F(null,"avet-metadata","avet-metadata",1556019837);akb=new $APP.F(null,"return-map","return-map",1620104901);wmb=new $APP.q("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);n5=new $APP.F(null,"tuples","tuples",-676032639);xmb=new $APP.q("datascript.core","settings","datascript.core/settings",273729994,null);T5=new $APP.F(null,"branches","branches",-1240337268);
ymb=new $APP.q("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);U5=new $APP.q(null,"datoms","datoms",1349657093,null);zmb=new $APP.F("transact","cas","transact/cas",816687170);Amb=new $APP.q("clojure.string","blank?","clojure.string/blank?",1772874244,null);Bmb=new $APP.F(null,"listeners","listeners",394544445);Cmb=new $APP.q(null,"validate-schema","validate-schema",758884380,null);$APP.B1=new $APP.F(null,"eavt","eavt",-666437073);
D1=new $APP.F(null,"max-eid","max-eid",2134868075);Dmb=new $APP.q("datascript.storage","store","datascript.storage/store",-769865397,null);Emb=new $APP.q("datascript.core","index-range","datascript.core/index-range",-1484576383,null);Fmb=new $APP.F("db","retractEntity","db/retractEntity",-1452737935);Gmb=new $APP.q("datascript.core","listen!","datascript.core/listen!",1659161258,null);V1=new $APP.F(null,"attribute","attribute",-2074029119);$APP.A1=new $APP.F(null,"schema","schema",-1582001791);
Hmb=new $APP.q(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);Imb=new $APP.q("datascript.db","DB","datascript.db/DB",348347258,null);Jmb=new $APP.q("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);Kmb=new $APP.q("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);Lmb=new $APP.q("datascript.db","Datom","datascript.db/Datom",1951800754,null);
V5=new $APP.F(null,"recursion-limits","recursion-limits",1762857814);Yib=new $APP.q(null,"...","...",-1926939749,null);kjb=new $APP.F(null,"freeze-kw","freeze-kw",391758233);R1=new $APP.F("db.type","tuple","db.type/tuple",938234914);Mmb=new $APP.q(null,"lookup-entity","lookup-entity",-936060612,null);M1=new $APP.F("db","index","db/index",-1531680669);mib=new $APP.F(null,"max-addr","max-addr",1373100454);jjb=new $APP.F(null,"freeze-fn","freeze-fn",-575885995);
Nmb=new $APP.q("datascript.core","db-with","datascript.core/db-with",-1263574350,null);yib=new $APP.F(null,"skip-store?","skip-store?",-484019625);Omb=new $APP.q(null,"db-with-tail","db-with-tail",-1072910014,null);Pmb=new $APP.q("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);bhb=new $APP.F(null,"ref-type","ref-type",-1367328851);K1=new $APP.F("db","unique","db/unique",329396388);Qmb=new $APP.F("entity-id","syntax","entity-id/syntax",1921317045);
pib=new $APP.F(null,"eavt-metadata","eavt-metadata",-1384819842);i5=new $APP.F(null,"sources","sources",-321166424);Rmb=new $APP.F("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);W5=new $APP.q(null,"delete-addrs","delete-addrs",742195107,null);nib=new $APP.F(null,"aevt-metadata","aevt-metadata",-1844063817);i2=new $APP.F(null,"tx-meta","tx-meta",1159283194);Smb=new $APP.q(null,"pull-many","pull-many",1857679657,null);
Tmb=new $APP.q(null,"conn-from-db","conn-from-db",-184109372,null);Umb=new $APP.q(null,"ground","ground",-1460862835,null);Vmb=new $APP.q("datascript","Datom","datascript/Datom",-901340080,null);ojb=new $APP.F("parser","rule-var","parser/rule-var",-1584354459);K2=new $APP.F("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);Wmb=new $APP.q("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);Xmb=new $APP.F(null,"new","new",-2085437848);
Ymb=new $APP.q("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);Zmb=new $APP.q(null,"stddev","stddev",775056588,null);A2=new $APP.F(null,"entity-id","entity-id",1485898093);$mb=new $APP.q(null,"store-tail","store-tail",-757879320,null);anb=new $APP.F("db","cas","db/cas",-451542322);bnb=new $APP.q("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);E1=new $APP.F(null,"max-tx","max-tx",1119558339);
cnb=new $APP.F("db","tupleType","db/tupleType",448013354);y3=new $APP.F(null,"first-attr","first-attr",-1993039831);u3=new $APP.F(null,"ref?","ref?",1932693720);dnb=new $APP.q(null,"sum","sum",1777518341,null);X5=new $APP.F(null,"attr","attr",-604132353);R3=new $APP.F(null,"visitor","visitor",-1026865865);Y5=new $APP.F(null,"elements","elements",657646735);enb=new $APP.F("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);s5=new $APP.F("query","where","query/where",-1935159429);
fnb=new $APP.q("datascript.storage","-store","datascript.storage/-store",-1879938067,null);E2=new $APP.F(null,"context","context",-830191113);gnb=new $APP.q("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);hnb=new $APP.q("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);inb=new $APP.q(null,"!\x3d","!\x3d",-201205829,null);j5=new $APP.F(null,"rels","rels",1770187185);
jnb=new $APP.q("datascript.core","init-db","datascript.core/init-db",1493526573,null);e2=new $APP.F(null,"db-before","db-before",-553691536);knb=new $APP.q(null,"adapter","adapter",444204808,null);O2=new $APP.F("datascript.db","value-tempids","datascript.db/value-tempids",244806162);Phb=new $APP.F(null,"datom","datom",-371556090);chb=new $APP.F(null,"strong","strong",269529E3);Ohb=new $APP.F("transact","unique","transact/unique",-940992320);
lnb=new $APP.q("datascript.db","datom","datascript.db/datom",399198004,null);mnb=new $APP.q(null,"seek-datoms","seek-datoms",-1423344839,null);nnb=new $APP.F(null,"old","old",-1825222690);onb=new $APP.F("db.pull","attr","db.pull/attr",-533298746);$2=new $APP.F(null,"db","db",993250759);pnb=new $APP.q("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);ejb=new $APP.F("db.pull","wildcard","db.pull/wildcard",116316031);G1=new $APP.F(null,"pull-patterns","pull-patterns",-343695048);
qnb=new $APP.q("datascript.storage","restore","datascript.storage/restore",1486895617,null);rnb=new $APP.q(null,"init-db","init-db",-1059254491,null);snb=new $APP.F(null,"internal-ctor","internal-ctor",937392560);tnb=new $APP.q(null,"datom-from-reader","datom-from-reader",1334075127,null);h5=new $APP.F(null,"variable","variable",-281346492);unb=new $APP.q(null,"G__45912","G__45912",-881578035,null);vnb=new $APP.q(null,"restore-conn","restore-conn",-1560700042,null);
wnb=new $APP.q(null,"transact!","transact!",817805717,null);xhb=new $APP.F("db","attrTuples","db/attrTuples",860541631);v3=new $APP.F(null,"component?","component?",407783990);Djb=new $APP.q(null,"$","$",-1580747756,null);Fjb=new $APP.q(null,"aggregate","aggregate",-1142967327,null);H2=new $APP.F("db","add","db/add",235286841);H1=new $APP.F(null,"pull-attrs","pull-attrs",-974863177);sib=new $APP.F(null,"tx","tx",466630418);yjb=new $APP.F("parser","binding","parser/binding",-346395752);
xnb=new $APP.q("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);ynb=new $APP.q(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);Z5=new $APP.F(null,"element","element",1974019749);znb=new $APP.q("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);$5=new $APP.q(null,"DB","DB",1622874957,null);Anb=new $APP.q(null,"get-some","get-some",409442058,null);
y2=new $APP.F("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);Bnb=new $APP.q(null,"avg","avg",1837937727,null);a6=new $APP.F(null,"unfiltered-db","unfiltered-db",-1363720391);x3=new $APP.F(null,"attrs","attrs",-2090668713);qhb=new $APP.F(null,"components","components",-1073188942);X0=new $APP.F(null,"storage","storage",1867247511);Cnb=new $APP.q(null,"StorageAdapter","StorageAdapter",106942083,null);b1=new $APP.F(null,"branching-factor","branching-factor",1903198601);
Dnb=new $APP.q(null,"create-conn","create-conn",2071410861,null);Enb=new $APP.q("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);s3=new $APP.F(null,"xform","xform",-1725711008);Rjb=new $APP.q(null,"not-join","not-join",-645515756,null);X4=new $APP.F(null,"qwith","qwith",-45809392);ekb=new $APP.F(null,"with","with",-1536296876);Fnb=new $APP.q("datascript.core","datoms","datascript.core/datoms",961250077,null);tjb=new $APP.F("parser","rule-vars","parser/rule-vars",-1493174969);
Gnb=new $APP.q("datascript.core","tx0","datascript.core/tx0",1432817831,null);Hnb=new $APP.q("datascript.core","entity","datascript.core/entity",-1406213973,null);A3=new $APP.F(null,"reverse-attrs","reverse-attrs",630097702);U1=new $APP.F("schema","validation","schema/validation",1178447161);qkb=new $APP.F(null,"got","got",-1674745710);b6=new $APP.q(null,"Datom","Datom",1208901035,null);r3=new $APP.F(null,"reverse?","reverse?",-1672868474);pkb=new $APP.F("query","inputs","query/inputs",1042810394);
Y1=new $APP.F("db","cardinality","db/cardinality",-104975659);Inb=new $APP.q(null,"serializable","serializable",1941609404,null);Jnb=new $APP.q("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);Knb=new $APP.q(null,"count-distinct","count-distinct",-1566572514,null);Lnb=new $APP.q("datascript.storage","storage","datascript.storage/storage",-366769060,null);Mnb=new $APP.q(null,"listen!","listen!",-115577950,null);
Nnb=new $APP.q("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);Onb=new $APP.q("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);Pnb=new $APP.q(null,"db-with","db-with",233242042,null);c6=new $APP.F("db.fn","call","db.fn/call",-151594418);Qnb=new $APP.q(null,"force?","force?",-815397094,null);x5=new $APP.F(null,"prefix-clauses","prefix-clauses",1294180028);Rnb=new $APP.F("db","doc","db/doc",1913350069);
Snb=new $APP.q(null,"touch","touch",-1158163300,null);Tnb=new $APP.q("datascript.core","datom","datascript.core/datom",-1596234155,null);Ihb=new $APP.F("db","current-tx","db/current-tx",1600722132);Unb=new $APP.q(null,"reset-schema!","reset-schema!",1937111832,null);Vnb=new $APP.q("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);Wnb=new $APP.q("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);
Xnb=new $APP.F(null,"operation","operation",-1267664310);phb=new $APP.F(null,"index-access","index-access",-1548960265);Z4=new $APP.F(null,"qin","qin",1372651151);d6=new $APP.q(null,"storage","storage",-787188258,null);b5=new $APP.F(null,"symbols","symbols",1211743);Ynb=new $APP.q(null,"squuid","squuid",-1898207797,null);C3=new $APP.F(null,"fragment","fragment",826775688);Znb=new $APP.F("transaction","filtered","transaction/filtered",1699706605);
N2=new $APP.F("datascript.db","internal","datascript.db/internal",-249301114);F1=new $APP.F(null,"rschema","rschema",-1196134054);$nb=new $APP.q(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);e6=new $APP.q(null,"addr+data-seq","addr+data-seq",1516602343,null);aob=new $APP.q(null,"store","store",-1142205747,null);bob=new $APP.q(null,"median","median",-2084869638,null);cob=new $APP.q("clojure.string","includes?","clojure.string/includes?",-1842146260,null);
dob=new $APP.q(null,"restore","restore",1907703951,null);eob=new $APP.q(null,"empty-db","empty-db",1486862004,null);p2=new $APP.F("transact","syntax","transact/syntax",-299207078);f6=new $APP.q(null,"-restore","-restore",1124639208,null);bkb=new $APP.F(null,"find","find",496279456);B2=new $APP.F(null,"a","a",-2123407586);fob=new $APP.q("datascript","DB","datascript/DB",-487332776,null);Xib=new $APP.F(null,"*","*",-1294732318);o4=new $APP.F(null,"free","free",801364328);
gob=new $APP.F("db.fn","cas","db.fn/cas",-379352172);a1=new $APP.F(null,"shift","shift",997140064);hob=new $APP.q(null,"tx0","tx0",-4656209,null);Vjb=new $APP.F(null,"rule","rule",729973257);iob=new $APP.q(null,"rseek-datoms","rseek-datoms",857788390,null);job=new $APP.q(null,"from-serializable","from-serializable",945516427,null);kob=new $APP.q(null,"resolve-datom","resolve-datom",-294110827,null);lob=new $APP.q(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);
mob=new $APP.q(null,"IStorage","IStorage",668238001,null);nob=new $APP.q(null,"get-else","get-else",1312024065,null);o3=new $APP.F(null,"limit","limit",-1355822363);oob=new $APP.q(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);pob=new $APP.q("datascript.core","pull-many","datascript.core/pull-many",394351057,null);g6=new $APP.q(null,"Entity","Entity",1953938502,null);var ygb=new $APP.Ai(null,new $APP.h(null,12,[M1,null,K1,null,X1,null,cnb,null,Wlb,null,new $APP.F("db","noHistory","db/noHistory",-1975127444),null,P1,null,new $APP.F("db.install","_attribute","db.install/_attribute",1853441294),null,Y1,null,Rnb,null,S1,null,Q1,null],null),null),Qhb=new $APP.Ai(null,new $APP.h(null,11,[M1,null,K1,null,X1,null,cnb,null,Wlb,null,P1,null,Y1,null,Rnb,null,G2,null,S1,null,Q1,null],null),null),yhb=new $APP.Ai(null,new $APP.h(null,7,[new $APP.F("db.type","number","db.type/number",
-508502688),null,new $APP.F("db.type","instant","db.type/instant",-1024769248),null,R1,null,new $APP.F("db.type","uuid","db.type/uuid",1543195203),null,new $APP.F("db.type","string","db.type/string",1432572808),null,new $APP.F("db.type","keyword","db.type/keyword",205926793),null,O1,null],null),null);$APP.g=b0.prototype;$APP.g.O=function(a,b,c){return Bgb.j?Bgb.j(this,b,c):Bgb.call(null,this,b,c)};$APP.g.ga=function(a,b){return $APP.gc(this.wg,b)};$APP.g.ba=function(a,b){return $APP.Ix(this.wg,b,null)};$APP.g.K=function(a,b,c){return $APP.Ix(this.wg,b,c)};$APP.g.W=function(a,b,c){return $APP.Pc(this.wg,b,c)};d0.prototype.V=function(a,b){return new d0(this.Ib,this.Hg,b)};d0.prototype.U=function(){return this.dn};
d0.prototype.Ak=function(a,b,c){a=$APP.A.j($APP.n(this.Hg),b,null);if(null==a)return c=c.D?c.D():c.call(null),$APP.md(this.Hg,$APP.xi.j($APP.n(this.Hg),b,c)),c;$APP.md(this.Hg,$APP.xi.j($APP.n(this.Hg),b,a));return a};var h6=function h6(a){switch(arguments.length){case 0:return h6.D();case 1:return h6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};h6.D=function(){return h6.g((new Date).getTime())};
h6.g=function(a){return $APP.ck([$APP.l.g(f0(a/1E3|0,8)),"-",$APP.l.g(f0($APP.Bj(65536),4)),"-",$APP.l.g(f0($APP.Bj(65536)&4095|16384,4)),"-",$APP.l.g(f0($APP.Bj(65536)&16383|32768,4)),"-",$APP.l.g(f0($APP.Bj(65536),4)),$APP.l.g(f0($APP.Bj(65536),4)),$APP.l.g(f0($APP.Bj(65536),4))].join(""))};h6.B=1;var Zhb=$APP.$m.h($APP.xf,$APP.Sg),whb=$APP.$m.h($APP.xf,$APP.Bi);var Jgb=Math.pow(2,31),S0=Math.pow(2,5),z0=S0/2,Xgb=S0+z0>>>1,Hgb=S0-1,Igb=h0($APP.fj.h(function(a){return Math.pow(2,a)},$APP.Xn.j(0,52,5)));$APP.g=D0.prototype;$APP.g.zg=function(a,b){var c=this;C0(this,$APP.de(c.children));$APP.Sy.g($APP.Cu.h(function(d,e){var f=c.children[d];e=$APP.k(f)?(e=null==e)?e:f.$g:f;return $APP.k(e)?(f=A0(f,b),c.zd[d]=f):null},c.zd));a=k0(b,this,c.Ab);c.$g=!1;return c.Ab=a};$APP.g.Ej=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};
$APP.g.Gj=function(a,b,c){C0(this,$APP.de(this.children));C0(b,$APP.de(b.children));a=b.Ab;$APP.k(a)&&l0(c,new $APP.H(null,1,5,$APP.J,[a],null));return E0(this.keys.concat(b.keys),this.children.concat(b.children),this.zd.concat(b.zd),this.Ab,!0)};$APP.g.Hj=function(a,b){C0(this,$APP.de(this.children));C0(b,$APP.de(b.children));a=q0(this.keys,b.keys);var c=q0(this.children,b.children),d=q0(this.zd,b.zd);return r0(E0(a[0],c[0],d[0],this.Ab,!0),E0(a[1],c[1],d[1],b.Ab,!0))};
$APP.g.Zf=function(a,b){if($APP.x.h(-1,a))return null;var c=$APP.k(this.zd)?this.zd[a]:null;$APP.Cb(this.children[a])?(b=j0(b,c),this.children[a]=b):$APP.k($APP.k(b)?c:b)&&Ggb(b,c);return this.children[a]};$APP.g.Fj=function(a,b,c,d){a=Mgb(b,this.keys,c);a=this.Zf(a,d);return $APP.k(a)?w0(a,b,c,d):null};
$APP.g.Cj=function(a,b,c,d){C0(this,$APP.de(this.children));a=o0(b,this.keys,this.keys.length-2,c);var e=this.Zf(a,d);c=$APP.k(e)?x0(e,b,c,d):null;if($APP.k(c)){d=this.keys;e=a+1;var f=c.map(s0);b=Ogb(b,d,a,e,f,f.length)?d:p0(d,a,e,f);d=p0(this.children,a,a+1,c);a=p0(this.zd,a,a+1,B0(c));if(d.length<=S0)return[E0(b,d,a,this.Ab,!0)];c=d.length>>>1;return[E0(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.Ab,!0),E0(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.Dj=function(a,b,c,d,e,f,m){C0(this,$APP.de(this.children));var p=Mgb(b,this.keys,c);if(-1===p)return null;var u=this.Zf(p,m);a=0<=p-1?this.Zf(p-1,m):null;var t=p+1<this.children.length?this.Zf(p+1,m):null;c=y0(u,b,c,!1,a,t,m);return $APP.k(c)?(a=$APP.k(a)?p-1:p,p=$APP.k(t)?2+p:1+p,t=this.keys,u=c.map(s0),b=Ogb(b,t,a,p,u,u.length)?t:p0(t,a,p,u),t=p0(this.children,a,p,c),c=p0(this.zd,a,p,B0(c)),p>a&&(a=$APP.ex.h($APP.Ei($APP.js.h($APP.yb,this.zd.slice(a,p))),$APP.Ei($APP.js.h($APP.yb,c))),$APP.k($APP.k(m)?
$APP.r(a):m)&&l0(m,a)),Qgb(E0(b,t,c,this.Ab,!0),d,e,f,m)):null};var W0=function W0(a){switch(arguments.length){case 1:return W0.g(arguments[0]);case 2:return W0.h(arguments[0],arguments[1]);case 3:return W0.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};W0.g=function(a){return W0.h(a,null)};W0.h=function(a,b){return W0.j(a,b,!0)};W0.j=function(a,b,c){return new Rgb(a,b,c)};W0.B=3;$APP.g=Rgb.prototype;
$APP.g.zg=function(a,b){a=this.$g;return $APP.k($APP.k(a)?a:null==this.Ab)?(b=k0(b,this,this.Ab),this.$g=!1,this.Ab=b):this.Ab};$APP.g.Ej=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};$APP.g.Gj=function(a,b,c){a=b.Ab;$APP.k(a)&&l0(c,new $APP.H(null,1,5,$APP.J,[a],null));return W0.h(this.keys.concat(b.keys),this.Ab)};$APP.g.Hj=function(a,b){a=q0(this.keys,b.keys);return r0(W0.h(a[0],this.Ab),W0.h(a[1],b.Ab))};$APP.g.Zf=function(a){return this.keys[a]};
$APP.g.Fj=function(a,b,c,d){a=Lgb(b,this.keys,c);return-1===a?null:this.Zf(a,d)};$APP.g.Cj=function(a,b,c){a=o0(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===S0?(b=d+1>>>1,a>b?[W0.h(this.keys.slice(0,b),this.Ab),W0.g(Ngb(this.keys,b,d,a,a,[c]))]:[W0.h(Ngb(this.keys,0,b,a,a,[c]),this.Ab),W0.g(this.keys.slice(b,d))]):[W0.h(p0(this.keys,a,a,[c]),this.Ab)]};
$APP.g.Dj=function(a,b,c,d,e,f,m){a=Lgb(b,this.keys,c);if(-1===a)return null;a=p0(this.keys,a,a+1,[]);return Qgb(W0.h(a,this.Ab),d,e,f,m)};$APP.g=$APP.G0.prototype;$APP.g.tf=function(){var a=this.root;return $APP.k(a)?a:$APP.k(this.Ab)?this.root=a=j0(this.storage,this.Ab):null};$APP.g.toString=function(){return $APP.qd(this)};$APP.g.ba=function(a,b){this.tf(null);return w0(this.root,this.td,b,this.storage)};
$APP.g.K=function(a,b,c){this.tf(null);a=w0(this.root,this.td,b,this.storage);return $APP.k(a)?a:c};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.ej,"#{"," ","}",c,$APP.r(this))};$APP.g.U=function(){return this.P};$APP.g.ca=function(){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,this.P,this.Ad,this.Ab)};$APP.g.aa=function(){return this.T};$APP.g.Bd=function(){return $APP.Hc(P0.g?P0.g(this):P0.call(null,this))};$APP.g.Y=function(){var a=this.Ad;return null!=a?a:this.Ad=a=$APP.Pd(this)};
$APP.g.R=function(a,b){var c=this;return $APP.ze(b)&&this.T===$APP.de(b)&&$APP.ng(function(d){return $APP.Ue(c,d)},b)};$APP.g.mf=function(){return this};$APP.g.Oa=function(){return new $APP.G0(this.storage,W0.g([]),0,0,this.td,this.P,null,null)};$APP.g.ci=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.lb=function(a,b){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Jx(a,b):b.D?b.D():b.call(null)};
$APP.g.gb=function(a,b,c){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Jx(a,b,c):c};$APP.g.Oe=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.Df=function(){return this};$APP.g.zg=function(a,b){null==this.storage&&(this.storage=b);this.tf(null);null==this.Ab&&(this.Ab=A0(this.root,this.storage));return this.Ab};$APP.g.Z=function(){return P0.g?P0.g(this):P0.call(null,this)};
$APP.g.gj=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.V=function(a,b){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,b,this.Ad,this.Ab)};$APP.g.da=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Pb(b)))};$APP.g.g=function(a){return this.ba(null,a)};$APP.g.h=function(a,b){return this.K(null,a,b)};
var L0=function L0(a,b,c,d){var f=m0(c,d);if(0<d){var m=H0(b,f,a.storage),p=d-1;a=L0.F?L0.F(a,m,c,p):L0.call(null,a,m,c,p);return null==a?f+1<b.children.length?n0(0,d,f+1):null:n0(a,d,f)}return f+1<b.keys.length?n0(0,0,f+1):null},N0=function N0(a,b,c,d){var f=m0(c,d);if(0===d&&0===f)return null;if(0===d)return n0(0,0,f-1);if(f>=t0(b))return K0(b,c,d,a.storage);var m=H0(b,f,a.storage);var p=d-1;m=N0.F?N0.F(a,m,c,p):N0.call(null,a,m,c,p);if(null!=m)return n0(m,d,f);if(0===f)return null;a=K0(H0(b,f-
1,a.storage),c,d-1,a.storage);return n0(a,d,f-1)};$APP.g=Tgb.prototype;$APP.g.aa=function(){return this.end-this.Db};$APP.g.ha=function(a,b){return this.I[this.Db+b]};$APP.g.kb=function(a,b,c){return 0<=b&&b<this.end-this.Db?this.I[this.Db+b]:c};$APP.g.hh=function(){if(this.Db===this.end)throw Error("-drop-first of empty chunk");return new $APP.Jf(this.I,this.Db+1,this.end)};$APP.g.lb=function(a,b){return this.Db===this.end?b.D?b.D():b.call(null):$APP.Jx(this.hh(null),b,this.I[this.Db])};
$APP.g.gb=function(a,b,c){for(a=this.Db;;)if(a<this.end){var d=this.I[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Vd(c))return $APP.n(c);a+=1}else return c};$APP.g=Q0.prototype;$APP.g.toString=function(){return $APP.qd(this)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.ej,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new Q0(this.set,a,this.right,this.keys,this.idx+1):null}a=M0(this.set,this.left);return a<this.right?this.yi(a,this.right):null}return null};$APP.g.Bd=function(){if($APP.k(this.keys)){var a=this.set,b=Sgb(this.set,this.left),c=Sgb(this.set,this.right);return Ugb.j?Ugb.j(a,b,c):Ugb.call(null,a,b,c)}return null};$APP.g.R=function(a,b){return $APP.uf(this,b)};
$APP.g.lb=function(a,b){if(null==this.keys)return b.D?b.D():b.call(null);a=this.hb(null);var c=this.bb(null);return null==c?a:$APP.Jx(c,b,a)};$APP.g.gb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Vd(c))return $APP.n(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=M0(this.set,a),a<this.right)f=a,d=I0(this.set,a),e=m0(a,0),a=f;else return c}};
$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Kd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.Kg=function(){var a=this.left,b=this.right;return new Tgb(this.keys,this.idx,(a<Jgb&&b<Jgb?a>>>5===b>>>5:Math.floor(a/S0)===Math.floor(b/S0))?m0(this.right,0):this.keys.length)};$APP.g.Cf=function(){var a=this.hg();return $APP.k(a)?a:$APP.Kd};
$APP.g.yi=function(a,b){return new Q0(this.set,a,b,I0(this.set,a),m0(a,0))};$APP.g.hg=function(){var a=M0(this.set,n0(this.left,0,this.keys.length-1));return a<this.right?this.yi(a,this.right):null};$APP.g=R0.prototype;$APP.g.toString=function(){return $APP.qd(this)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.ej,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new R0(this.set,this.left,a,this.keys,this.idx-1):null}a=Sgb(this.set,this.right);return this.left<a?this.yi(this.left,a):null}return null};$APP.g.Bd=function(){return $APP.k(this.keys)?O0(this.set,M0(this.set,this.left),M0(this.set,this.right)):null};$APP.g.R=function(a,b){return $APP.uf(this,b)};$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};
$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Kd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.yi=function(a,b){return new R0(this.set,a,b,I0(this.set,b),m0(b,0))};var qob=Error,i6=function i6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(i6),$APP.on.h(" ",new $APP.H(null,1,5,$APP.J,[a],null))].join(""),$APP.Wf);},j6=function j6(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(j6),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);},k6=function k6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(k6),$APP.on.h(" ",new $APP.H(null,1,5,$APP.J,[a],null))].join(""),$APP.Wf);},l6=function l6(a){switch(arguments.length){case 2:return l6.h(arguments[0],
arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(l6),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);};l6.j=function(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(l6),$APP.on.h(" ",new $APP.H(null,3,5,$APP.J,[a,b,c],null))].join(""),$APP.Wf);};l6.B=3;
var m6=function m6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(m6),$APP.on.h(" ",new $APP.H(null,3,5,$APP.J,[a,b,c],null))].join(""),$APP.Wf);},n6=function n6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(n6),$APP.on.h(" ",new $APP.H(null,3,5,$APP.J,[a,b,c],null))].join(""),$APP.Wf);};$APP.g=$APP.f1.prototype;$APP.g.qb=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.Qd=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.Ad?this.Ad=i6(this):this.Ad};
$APP.g.R=function(a,b){return b instanceof $APP.f1&&j6(this,b)};$APP.g.Z=function(){return k6(this)};$APP.g.ba=function(a,b){return n6(this,b,null)};$APP.g.K=function(a,b,c){return n6(this,b,c)};$APP.g.ha=function(a,b){return l6.h(this,b)};$APP.g.kb=function(a,b,c){return l6.j(this,b,c)};$APP.g.O=function(a,b,c){return m6(this,b,c)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.ej,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.J,[this.e,this.a,this.v,this.qb(null),this.Qd(null)],null))};
xgb("datascript.db.Datom",$APP.f1);var g1=function g1(a){switch(arguments.length){case 3:return g1.j(arguments[0],arguments[1],arguments[2]);case 4:return g1.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return g1.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};g1.j=function(a,b,c){return new $APP.f1(a,b,c,536870912,0,0)};g1.F=function(a,b,c,d){return new $APP.f1(a,b,c,d,0,0)};
g1.S=function(a,b,c,d,e){return new $APP.f1(a,b,c,$APP.k(e)?d:-d,0,0)};g1.B=5;i6=function(){return null};i6=function(a){return c1(c1($APP.zd(a.e),$APP.zd(a.a)),$APP.zd(a.v))};j6=function(){return null};j6=function(a,b){return a.e===b.e&&$APP.x.h(a.a,b.a)&&$APP.x.h(a.v,b.v)};k6=function(){return null};k6=function(a){return new $APP.D(null,a.e,new $APP.D(null,a.a,new $APP.D(null,a.v,new $APP.D(null,a.qb(null),new $APP.D(null,a.Qd(null),null,1,null),2,null),3,null),4,null),5,null)};n6=function(){return null};
n6=function(a,b,c){if(b instanceof $APP.F)switch(b instanceof $APP.F?b.N:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else return c};
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(){return null};l6.j=function(){return null};l6.B=3;
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.l.g(b)].join(""));}};
l6.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:return c}};l6.B=3;m6=function(){return null};
m6=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "e":return g1.S(c,a.a,a.v,a.qb(null),a.Qd(null));case "a":return g1.S(a.e,c,a.v,a.qb(null),a.Qd(null));case "v":return g1.S(a.e,a.a,c,a.qb(null),a.Qd(null));case "tx":return g1.S(a.e,a.a,a.v,c,a.Qd(null));case "added":return g1.S(a.e,a.a,a.v,a.qb(null),c);default:throw new qob(["invalid key for #datascript/Datom: ",$APP.l.g(b)].join(""));}};
var i1=function i1(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(i1),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);};i1=function(){return null};
i1=function(a,b){try{return $APP.x.h(a,b)?0:$APP.Be(a)&&$APP.Be(b)?ihb(a,b):(null!=a?a.M&2048||$APP.yd===a.Le||(a.M?0:$APP.Jb($APP.bd,a)):$APP.Jb($APP.bd,a))?$APP.cd(a,b):$APP.Kb(a)===$APP.Kb(b)?"number"===typeof a||"string"===typeof a||$APP.zb(a)||!0===a||!1===a?$APP.Ra(a,b):$APP.zd(a)-$APP.zd(b):hhb(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Kb(a)===$APP.Kb(b))throw c;return hhb(a,b)}throw d;}};
var o6=function o6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(o6),$APP.on.h(" ",new $APP.H(null,1,5,$APP.J,[a],null))].join(""),$APP.Wf);},p6=function p6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(p6),$APP.on.h(" ",new $APP.H(null,1,5,$APP.J,[a],null))].join(""),$APP.Wf);},q6=function q6(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(q6),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);},X2=function X2(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(X2),
$APP.on.h(" ",new $APP.H(null,1,5,$APP.J,[a],null))].join(""),$APP.Wf);},u1=function u1(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(u1),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);},r6=function r6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(r6),$APP.on.h(" ",new $APP.H(null,3,5,$APP.J,[a,b,c],null))].join(""),$APP.Wf);},s6=function s6(a,b,c,d,e,f,m){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(s6),$APP.on.h(" ",new $APP.H(null,7,5,$APP.J,[a,b,c,d,e,
f,m],null))].join(""),$APP.Wf);},t6=function t6(a,b,c,d,e,f,m,p){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(t6),$APP.on.h(" ",new $APP.H(null,8,5,$APP.J,[a,b,c,d,e,f,m,p],null))].join(""),$APP.Wf);};$APP.g=$APP.z1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "schema":return this.Jc;case "eavt":return this.jc;case "aevt":return this.Lc;case "avet":return this.tc;case "max-eid":return this.dd;case "max-tx":return this.ed;case "rschema":return this.Nc;case "pull-patterns":return this.Sc;case "pull-attrs":return this.Rc;case "hash":return this.hash;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.M.h(new $APP.H(null,10,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.A1,this.Jc],null),new $APP.H(null,2,5,$APP.J,[$APP.B1,this.jc],null),new $APP.H(null,2,5,$APP.J,[C1,this.Lc],null),new $APP.H(null,2,5,$APP.J,[t1,this.tc],null),new $APP.H(null,2,5,$APP.J,[D1,this.dd],null),new $APP.H(null,2,5,$APP.J,[E1,this.ed],null),new $APP.H(null,2,5,$APP.J,[F1,this.Nc],null),new $APP.H(null,
2,5,$APP.J,[G1,this.Sc],null),new $APP.H(null,2,5,$APP.J,[H1,this.Rc],null),new $APP.H(null,2,5,$APP.J,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,10,new $APP.H(null,10,5,$APP.J,[$APP.A1,$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,this.C)};
$APP.g.aa=function(){return 10+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jc,b.Jc)&&$APP.x.h(this.jc,b.jc)&&$APP.x.h(this.Lc,b.Lc)&&$APP.x.h(this.tc,b.tc)&&$APP.x.h(this.dd,b.dd)&&$APP.x.h(this.ed,b.ed)&&$APP.x.h(this.Nc,b.Nc)&&$APP.x.h(this.Sc,b.Sc)&&$APP.x.h(this.Rc,b.Rc)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,10,[$APP.A1,null,E1,null,I1,null,C1,null,t1,null,D1,null,$APP.B1,null,H1,null,G1,null,F1,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.A1,b):$APP.G.call(null,$APP.A1,b))?new $APP.z1(c,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.B1,b):$APP.G.call(null,$APP.B1,b))?new $APP.z1(this.Jc,c,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(C1,b):$APP.G.call(null,C1,b))?new $APP.z1(this.Jc,this.jc,c,this.tc,this.dd,this.ed,this.Nc,this.Sc,
this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(t1,b):$APP.G.call(null,t1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,c,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(D1,b):$APP.G.call(null,D1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,c,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(E1,b):$APP.G.call(null,E1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,c,this.Nc,this.Sc,this.Rc,this.hash,
this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(F1,b):$APP.G.call(null,F1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,c,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(G1,b):$APP.G.call(null,G1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,c,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(H1,b):$APP.G.call(null,H1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,c,this.hash,this.A,this.o,
null):$APP.k($APP.G.h?$APP.G.h(I1,b):$APP.G.call(null,I1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,c,this.A,this.o,null):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,10,5,$APP.J,[new $APP.Ve($APP.A1,this.Jc,null),new $APP.Ve($APP.B1,this.jc,null),new $APP.Ve(C1,this.Lc,null),new $APP.Ve(t1,this.tc,null),new $APP.Ve(D1,this.dd,null),new $APP.Ve(E1,this.ed,null),new $APP.Ve(F1,this.Nc,null),new $APP.Ve(G1,this.Sc,null),new $APP.Ve(H1,this.Rc,null),new $APP.Ve(I1,this.hash,null)],null),this.o))};
$APP.g.V=function(a,b){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};
$APP.g.xk=function(a,b){a:for(var c=this.jc,d=$APP.B1.g(b),e=a=b=$APP.Sg;;){if($APP.xe(c)){var f=new $APP.H(null,3,5,$APP.J,[$APP.Yf(b),$APP.Yf($APP.Eh.h(a,d)),$APP.Yf(e)],null);break a}if($APP.xe(d)){f=new $APP.H(null,3,5,$APP.J,[$APP.Yf($APP.Eh.h(b,c)),$APP.Yf(a),$APP.Yf(e)],null);break a}var m=$APP.v(c),p=$APP.v(d);try{f=khb.h?khb.h(m,p):khb.call(null,m,p)}catch(u){if(u instanceof Error)f=jlb;else throw u;}if($APP.x.h(f,jlb))b=$APP.xf.h(b,m),a=$APP.xf.h(a,p),c=$APP.w(c),d=$APP.w(d);else if(0===
f)e=$APP.xf.h(e,m),c=$APP.w(c),d=$APP.w(d);else if(0>f)b=$APP.xf.h(b,m),c=$APP.w(c);else if(0<f)a=$APP.xf.h(a,p),d=$APP.w(d);else{f=null;break a}}return f};$APP.g.La=$APP.yd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.bi=$APP.yd;$APP.g.aa=function(){return $APP.de(this.jc)};$APP.g.dm=$APP.yd;$APP.g.Bd=function(){return $APP.Hc(this.jc)};$APP.g.ih=$APP.yd;$APP.g.Y=function(){return o6(this)};$APP.g.R=function(a,b){return q6(this,b)};$APP.g.Xi=$APP.yd;
$APP.g.mf=function(){return $APP.bn.j($APP.bn.j($APP.bn.j(this,$APP.B1,$APP.Rf),C1,$APP.Rf),t1,$APP.Rf)};$APP.g.Yi=$APP.yd;$APP.g.Oa=function(){return $APP.te(X2(new $APP.h(null,5,[$APP.A1,this.Jc,F1,this.Nc,$APP.B1,$APP.pe(this.jc),C1,$APP.pe(this.Lc),t1,$APP.pe(this.tc)],null)),$APP.ue(this))};$APP.g.Oe=function(){throw $APP.Zl.h("datascript.DB/conj! is not supported",$APP.Wf);};$APP.g.Df=function(){return $APP.bn.j($APP.bn.j($APP.bn.j(this,$APP.B1,$APP.Sf),C1,$APP.Sf),t1,$APP.Sf)};$APP.g.yk=function(){return mmb};
$APP.g.rj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.A.h(this,b),t6(this,b,c,d,e,f,0,536870912),t6(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.uj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.A.h(this,b),t6(this,b,c,d,e,f,0,536870912),g1.F(2147483647,null,null,2147483647))};$APP.g.tj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return Zgb($APP.A.h(this,b),t6(this,b,c,d,e,f,2147483647,2147483647),g1.F(0,null,null,536870912))};
$APP.g.sj=function(a,b,c,d){v1(this,t1,b,null,null,null);if(!(b instanceof $APP.F||"string"===typeof b))throw a=new $APP.D(null,Llb,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([b]))," at ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,b,E2,a,$APP.Ln,p2],null));return V0(this.tc,s6(this,null,b,c,null,0,536870912),s6(this,null,b,d,null,
2147483647,2147483647))};$APP.g.oj=$APP.yd;$APP.g.qj=function(){return this.Jc};$APP.g.pj=function(a,b){a=this.Nc;return a.g?a.g(b):a.call(null,b)};$APP.g.zk=$APP.yd;
$APP.g.vj=function(a,b){a=$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null);b=this.jc;var f=this.Lc,m=this.tc;$APP.Ue(y1(this,N1),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?V0(b,g1.F(a,c,d,e),g1.F(a,c,d,e)):V0(b,g1.F(a,c,d,536870912),g1.F(a,c,d,2147483647)):$APP.k(e)?$APP.sj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647))):V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647)):null!=d?$APP.k(e)?
$APP.sj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.sj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.k(e)?$APP.sj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?u1(this,c)?$APP.sj($APP.Pg.g(function(p){return $APP.x.h(e,
p.qb(null))}),V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647))):$APP.sj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):u1(this,c)?V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647)):$APP.sj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):$APP.k(e)?$APP.sj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,
536870912),g1.F(2147483647,c,null,2147483647))):V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))},b):$APP.Pg.h(function(p){return $APP.x.h(d,p.v)},b):$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(e,p.qb(null))},b):b};$APP.g=J1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":return this.Oc;case "pred":return this.ib;case "hash":return this.hash;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[a6,this.Oc],null),new $APP.H(null,2,5,$APP.J,[$APP.fw,this.ib],null),new $APP.H(null,2,5,$APP.J,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[a6,$APP.fw,I1],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J1(this.Oc,this.ib,this.hash,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oc,b.Oc)&&$APP.x.h(this.ib,b.ib)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[I1,null,$APP.fw,null,a6,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new J1(this.Oc,this.ib,this.hash,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(a6,b):$APP.G.call(null,a6,b))?new J1(c,this.ib,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.fw,b):$APP.G.call(null,$APP.fw,b))?new J1(this.Oc,c,this.hash,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(I1,b):$APP.G.call(null,I1,b))?new J1(this.Oc,this.ib,c,this.A,this.o,null):new J1(this.Oc,this.ib,this.hash,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve(a6,this.Oc,null),new $APP.Ve($APP.fw,this.ib,null),new $APP.Ve(I1,this.hash,null)],null),this.o))};$APP.g.V=function(a,b){return new J1(this.Oc,this.ib,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Zi=$APP.yd;$APP.g.ba=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.K=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.La=$APP.yd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.bi=$APP.yd;$APP.g.aa=function(){return $APP.de(p1(this,$APP.B1,null,null,null,null))};$APP.g.ih=$APP.yd;$APP.g.Y=function(){return p6(this)};$APP.g.R=function(a,b){return q6(this,b)};$APP.g.Yi=$APP.yd;$APP.g.Oa=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.Wi=$APP.yd;
$APP.g.ga=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.O=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.rj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,p1(this.Oc,b,c,d,e,f))};$APP.g.uj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,q1(this.Oc,b,c,d,e,f))};$APP.g.tj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,r1(this.Oc,b,c,d,e,f))};$APP.g.sj=function(a,b,c,d){return $APP.Pg.h(this.ib,s1(this.Oc,b,c,d))};$APP.g.oj=$APP.yd;
$APP.g.qj=function(){return x1(this.Oc)};$APP.g.pj=function(a,b){return y1(this.Oc,b)};$APP.g.zk=$APP.yd;$APP.g.vj=function(a,b){return $APP.Pg.h(this.ib,n1(this.Oc,b))};X2=function(a){a=$APP.Xf(a);$APP.A.h(a,$APP.A1);$APP.A.h(a,$APP.B1);$APP.A.h(a,C1);$APP.A.h(a,t1);$APP.A.h(a,D1);$APP.A.h(a,E1);return null};
X2=function(a){var b=$APP.Xf(a);a=$APP.A.h(b,$APP.A1);var c=$APP.A.h(b,$APP.B1),d=$APP.A.h(b,C1),e=$APP.A.h(b,t1),f=$APP.A.h(b,D1),m=$APP.A.h(b,E1);m=$APP.k(m)?m:536870912;var p=$APP.zj.g(0);f=$APP.k(f)?f:0;var u=e0(),t=e0();b=F1.g(b);b=$APP.k(b)?b:T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])));return rhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,m,p,d,e,f,c,u,t,b]))};o6=function(){return null};
o6=function(a){var b=$APP.n(a.hash);return 0===b?$APP.vg(a.hash,c1($APP.zd(a.Jc),$APP.zd(a.jc))):b};p6=function(){return null};p6=function(a){var b=$APP.n(a.hash);(function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.Bi})();return 0===b?(b=function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.Bi}(),$APP.vg(a.hash,c1($APP.zd(x1(a)),$APP.Pd(b)))):b};q6=function(){return null};
q6=function(a,b){var c;if(c=b instanceof $APP.z1||b instanceof J1)if(c=$APP.x.h(x1(a),x1(b)))a:for(a=p1(a,$APP.B1,null,null,null,null),c=p1(b,$APP.B1,null,null,null,null),b=$APP.r(a),a=$APP.r(c);;){if(null==b){c=null==a;break a}if($APP.x.h($APP.v(b),$APP.v(a)))b=$APP.w(b),a=$APP.w(a);else{c=!1;break a}}return c};r6=function(){return null};
r6=function(a,b,c){$APP.Mc(b,"#datascript/DB {");$APP.Mc(b,":schema ");$APP.ej(x1(a),b,c);$APP.Mc(b,", :datoms ");$APP.aj(b,function(d,e,f){return $APP.aj(e,$APP.ej,"["," ","]",f,new $APP.H(null,4,5,$APP.J,[d.e,d.a,d.v,$APP.d1(d)],null))},"["," ","]",c,p1(a,$APP.B1,null,null,null,null));return $APP.Mc(b,"}")};
var s2=function s2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(s2),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);},r2=function r2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(r2),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);};s6=function(){return null};
s6=function(a,b,c,d,e,f,m){if(null!=c&&!(c instanceof $APP.F||"string"===typeof c))throw a=new $APP.D(null,kob,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,new $APP.D(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([c]))," at ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,c,E2,a,$APP.Ln,p2],null));return g1.F(null!=b?s2(a,b):f,c,null!=d&&r2(a,c)?s2(a,d):d,null!=e?s2(a,
e):m)};t6=function(){return null};t6=function(a,b,c,d,e,f,m,p){b=b instanceof $APP.F?b.N:null;switch(b){case "eavt":return s6(a,c,d,e,f,m,p);case "aevt":return s6(a,d,c,e,f,m,p);case "avet":return s6(a,e,c,d,f,m,p);default:throw Error(["No matching clause: ",$APP.l.g(b)].join(""));}};$APP.g=d2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db-before":return this.ge;case "db-after":return this.fe;case "tx-data":return this.ke;case "tempids":return this.ie;case "tx-meta":return this.le;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[e2,this.ge],null),new $APP.H(null,2,5,$APP.J,[f2,this.fe],null),new $APP.H(null,2,5,$APP.J,[g2,this.ke],null),new $APP.H(null,2,5,$APP.J,[h2,this.ie],null),new $APP.H(null,2,5,$APP.J,[i2,this.le],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.H(null,5,5,$APP.J,[e2,f2,g2,h2,i2],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ge,b.ge)&&$APP.x.h(this.fe,b.fe)&&$APP.x.h(this.ke,b.ke)&&$APP.x.h(this.ie,b.ie)&&$APP.x.h(this.le,b.le)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,5,[h2,null,f2,null,e2,null,g2,null,i2,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(e2,b):$APP.G.call(null,e2,b))?new d2(c,this.fe,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(f2,b):$APP.G.call(null,f2,b))?new d2(this.ge,c,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(g2,b):$APP.G.call(null,g2,b))?new d2(this.ge,this.fe,c,this.ie,this.le,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(h2,b):$APP.G.call(null,h2,b))?new d2(this.ge,this.fe,this.ke,c,this.le,this.A,this.o,null):$APP.k($APP.G.h?
$APP.G.h(i2,b):$APP.G.call(null,i2,b))?new d2(this.ge,this.fe,this.ke,this.ie,c,this.A,this.o,null):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.Ve(e2,this.ge,null),new $APP.Ve(f2,this.fe,null),new $APP.Ve(g2,this.ke,null),new $APP.Ve(h2,this.ie,null),new $APP.Ve(i2,this.le,null)],null),this.o))};
$APP.g.V=function(a,b){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};j2=function(a,b,c){return $APP.Ue(y1(a,c),b)};k2=function(a,b){return j2(a,b,N1)};l2=function(a,b,c){return j2(a,b,N1)&&(i0(c)||$APP.ye(c)&&!$APP.Ce(c))};r2=function(){return null};r2=function(a,b){return j2(a,b,O1)};m2=function(a,b){return j2(a,b,P1)};u1=function(){return null};
u1=function(a,b){return j2(a,b,M1)};n2=function(a,b){return j2(a,b,R1)};Ehb=function(a,b){return j2(a,b,xhb)};o2=function(a){if(a instanceof $APP.F)return $APP.x.h("_",$APP.y.h($APP.Gi(a),0));if("string"===typeof a)return $APP.ib($APP.Ui(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Zl.h(["Bad attribute type: ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Ln,p2,V1,a],null));};
t2=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Zl.h(["Highest supported entity id is ",$APP.xj.l($APP.z([2147483647])),", got ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,A2,$APP.GI,b],null));return b}if($APP.Be(b)){var c=b,d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);if($APP.wi.h($APP.de(b),2))throw $APP.Zl.h(["Lookup ref should contain 2 elements: ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Hlb,A2,b],null));if(j2(a,d,K1))return n2(a,
d)?(b=Fhb(a,d,c),$APP.bK.g($APP.v(p1(a,t1,d,b,null,null)))):null==c?null:$APP.bK.g($APP.v(p1(a,t1,d,c,null,null)));throw $APP.Zl.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,olb,A2,b],null));}if($APP.zb(b))b=$APP.z(b);else{if(b instanceof $APP.F)return $APP.bK.g($APP.v(p1(a,t1,S1,b,null,null)));throw $APP.Zl.h(["Expected number or lookup ref for entity id, got ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Qmb,
A2,b],null));}}};Ghb=function(a,b){return $APP.x.h(b,$APP.bK.g($APP.v(q1(a,$APP.B1,b,null,null,null))))};s2=function(){return null};s2=function(a,b){a=t2(a,b);if($APP.k(a))return a;throw $APP.Zl.h(["Nothing found for entity id ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Ylb,A2,b],null));};var Hhb=$APP.zj.g(0);u2.prototype.W=function(a,b,c){return $APP.aj(b,$APP.ej,"#datascript/AutoTempid ["," ","]",c,new $APP.H(null,1,5,$APP.J,[this.id],null))};
g0=function(a){return a instanceof u2};
var u6=function u6(a,b){return function f(e){return new $APP.Gf(null,function(){for(;;){var m=$APP.r(e);if(m){var p=m;if($APP.Fe(p)){var u=$APP.ed(p),t=$APP.de(u),B=$APP.If(t);return function(){for(var E=0;;)if(E<t){var I=$APP.qe(u,E);$APP.Of(B,$APP.Ce(I)?$APP.ff(function(){return function(P,S,V){return S instanceof $APP.F||"string"===typeof S?r2(a,S)&&l2(a,S,V)?$APP.xi.j(P,S,u6.h?u6.h(a,V):u6.call(null,a,V)):r2(a,S)?$APP.xi.j(P,S,$APP.v(function(){var aa=new $APP.H(null,1,5,$APP.J,[V],null);return u6.h?
u6.h(a,aa):u6.call(null,a,aa)}())):o2(S)&&$APP.Be(V)?$APP.xi.j(P,S,u6.h?u6.h(a,V):u6.call(null,a,V)):o2(S)?$APP.xi.j(P,S,$APP.v(function(){var aa=new $APP.H(null,1,5,$APP.J,[V],null);return u6.h?u6.h(a,aa):u6.call(null,a,aa)}())):$APP.xi.j(P,S,V):$APP.xi.j(P,S,V)}}(E,I,u,t,B,p,m),$APP.Wf,$APP.Ue(I,G2)?I:$APP.xi.j(I,G2,new u2)):function(){var P=$APP.zg(null);if(function(){var ma=$APP.Be(I);if(ma){ma=$APP.md(P,I);var ua=$APP.y.j(ma,0,null);$APP.y.j(ma,1,null);var Ea=$APP.y.j(ma,2,null);$APP.y.j(ma,
3,null);return $APP.x.h(H2,ua)&&r2(a,Ea)&&!0}return ma}()){var S=$APP.n(P),V=$APP.y.j(S,0,null),aa=$APP.y.j(S,1,null),ca=$APP.y.j(S,2,null),ka=$APP.y.j(S,3,null);return l2(a,ca,ka)?new $APP.H(null,4,5,$APP.J,[V,aa,ca,u6.h?u6.h(a,ka):u6.call(null,a,ka)],null):new $APP.H(null,4,5,$APP.J,[V,aa,ca,$APP.v(function(){var ma=new $APP.H(null,1,5,$APP.J,[ka],null);return u6.h?u6.h(a,ma):u6.call(null,a,ma)}())],null)}return I}());E+=1}else return!0}()?$APP.Nf($APP.Pf(B),f($APP.fd(p))):$APP.Nf($APP.Pf(B),null)}var C=
$APP.v(p);return $APP.Af($APP.Ce(C)?$APP.ff(function(){return function(E,I,P){return I instanceof $APP.F||"string"===typeof I?r2(a,I)&&l2(a,I,P)?$APP.xi.j(E,I,u6.h?u6.h(a,P):u6.call(null,a,P)):r2(a,I)?$APP.xi.j(E,I,$APP.v(function(){var S=new $APP.H(null,1,5,$APP.J,[P],null);return u6.h?u6.h(a,S):u6.call(null,a,S)}())):o2(I)&&$APP.Be(P)?$APP.xi.j(E,I,u6.h?u6.h(a,P):u6.call(null,a,P)):o2(I)?$APP.xi.j(E,I,$APP.v(function(){var S=new $APP.H(null,1,5,$APP.J,[P],null);return u6.h?u6.h(a,S):u6.call(null,
a,S)}())):$APP.xi.j(E,I,P):$APP.xi.j(E,I,P)}}(C,p,m),$APP.Wf,$APP.Ue(C,G2)?C:$APP.xi.j(C,G2,new u2)):function(){var E=$APP.zg(null);if(function(){var ca=$APP.Be(C);if(ca){ca=$APP.md(E,C);var ka=$APP.y.j(ca,0,null);$APP.y.j(ca,1,null);var ma=$APP.y.j(ca,2,null);$APP.y.j(ca,3,null);return $APP.x.h(H2,ka)&&r2(a,ma)&&!0}return ca}()){var I=$APP.n(E),P=$APP.y.j(I,0,null),S=$APP.y.j(I,1,null),V=$APP.y.j(I,2,null),aa=$APP.y.j(I,3,null);return l2(a,V,aa)?new $APP.H(null,4,5,$APP.J,[P,S,V,u6.h?u6.h(a,aa):
u6.call(null,a,aa)],null):new $APP.H(null,4,5,$APP.J,[P,S,V,$APP.v(function(){var ca=new $APP.H(null,1,5,$APP.J,[aa],null);return u6.h?u6.h(a,ca):u6.call(null,a,ca)}())],null)}return C}(),f($APP.Ld(p)))}return null}},null,null)}(b)},L2=function L2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(L2),$APP.on.h(" ",new $APP.H(null,2,5,$APP.J,[a,b],null))].join(""),$APP.Wf);},rob=new $APP.Ai(null,new $APP.h(null,8,[c6,null,anb,null,aib,null,Fmb,null,M2,null,Flb,null,gob,null,H2,null],null),null);
L2=function(){return null};
L2=function(a,b){for(var c=!$APP.xe(y1(f2.g(a),R1)),d=c?$APP.cn.h(b,$APP.kn.g(Rmb)):b,e=a,f=d;;){if($APP.xe(f))return $APP.bn.S($APP.bn.S($APP.bn.j($APP.Ll.h($APP.Ll.h(eib(e),K2),y2),h2,function(){return function(Td){return Egb(Td)}}(e,f,a,c,d)),h2,$APP.xi,Ihb,v2(e)),f2,$APP.bn,E1,$APP.Rd);var m=f,p=$APP.r(m),u=$APP.v(p),t=$APP.w(p),B=u,C=t;if(null==B)f=C;else if($APP.x.h(Rmb,B))if($APP.Ue(e,C2)){var E=$APP.Ll.h(e,C2),I=$APP.M.h(dib(e),C);e=E;f=I}else f=C;else{var P=f2.g(e),S=h2.g(e);if($APP.Ce(B)){var V=
G2.g(B);hib(B);if(w2(V)){var aa=v2(e),ca=z2(e,V,aa),ka=$APP.Af($APP.xi.j(B,G2,aa),C);e=ca;f=ka}else if($APP.Be(V)){aa=s2(P,V);var ma=e,ua=$APP.Af($APP.xi.j(B,G2,aa),C);e=ma;f=ua}else{var Ea=Thb(P,B),da=$APP.y.j(Ea,0,null),Z=$APP.y.j(Ea,1,null),Y=Whb(da,Z);if(null!=Y){if(x2(V)&&$APP.Ue(S,V)&&$APP.wi.h(Y,$APP.A.h(S,V)))return cib(a,e,b,V,Y);var U=$APP.bn.F(z2(e,V,Y),I2,Zhb,g1.F(Y,null,null,536870912)),X=$APP.M.h(Yhb(P,$APP.xi.j(da,G2,Y)),C);e=U;f=X}else if("number"===typeof V||null==V||"string"===typeof V||
g0(V)){var va=e,Ga=$APP.M.h(Yhb(P,B),C);e=va;f=Ga}else throw $APP.Zl.h(["Expected number, string or lookup ref for :db/id, got ",$APP.xj.l($APP.z([V]))].join(""),new $APP.h(null,2,[$APP.Ln,Qmb,gib,B],null));}}else if($APP.Be(B)){var ia=B,sa=$APP.y.j(ia,0,null),xa=$APP.y.j(ia,1,null),Ba=$APP.y.j(ia,2,null),Sa=$APP.y.j(ia,3,null);if($APP.x.h(sa,c6)){var cb=$APP.r(B),gb=$APP.v(cb),eb=$APP.w(cb),db=gb,jb=$APP.v(eb),vb=$APP.w(eb),Ab=e,Ib=$APP.M.h(u6(P,$APP.qg.j(jb,P,vb)),C);e=Ab;f=Ib}else if(sa instanceof
$APP.F&&$APP.Cb(rob.g?rob.g(sa):rob.call(null,sa))){var Ob=t2(P,sa);if(null==Ob)throw $APP.Zl.h(["Can’t find entity for transaction fn ",$APP.xj.l($APP.z([sa]))].join(""),new $APP.h(null,3,[$APP.Ln,p2,Xnb,c6,g2,B],null));var Zb=$APP.YJ.g(o1(P,new $APP.H(null,2,5,$APP.J,[Ob,xlb],null)));vb=$APP.w(B);if($APP.re(Zb)){var fc=e,Nc=$APP.M.h($APP.qg.j(Zb,P,vb),C);e=fc;f=Nc}else throw $APP.Zl.h(["Entity ",$APP.xj.l($APP.z([sa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.h(null,
3,[$APP.Ln,p2,Xnb,c6,g2,B],null));}else{if(x2(xa)&&$APP.wi.h(sa,H2))throw $APP.Zl.h(["Can't use tempid in '",$APP.xj.l($APP.z([B])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.Ln,p2,$APP.eH,B],null));if($APP.x.h(sa,gob)||$APP.x.h(sa,anb)){var oc=B;db=$APP.y.j(oc,0,null);var Wd=$APP.y.j(oc,1,null),Ke=$APP.y.j(oc,2,null),rg=$APP.y.j(oc,3,null),Fg=$APP.y.j(oc,4,null),hi=s2(P,Wd),Cj=function(){var Td=Ke;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Yl=B;
throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Td]))," at ",$APP.xj.l($APP.z([Yl])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Td,E2,Yl,$APP.Ln,p2],null));}(),xg=r2(P,Ke)?s2(P,rg):rg,Nh=r2(P,Ke)?s2(P,Fg):Fg,Kf=null==Nh?function(){var Td=B;throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([Td]))].join(""),new $APP.h(null,3,[$APP.GI,null,E2,Td,$APP.Ln,p2],null));}():null,Gd=$APP.ef(n1(P,new $APP.H(null,2,5,$APP.J,[hi,Ke],null)));if(k2(P,Ke))if($APP.k($APP.og(function(Td,
Yl,cj,OJ,wQ,xQ,yQ,PJ,zQ,AQ,mF){return function(Hu){return $APP.x.h(Hu.v,mF)}}(e,f,oc,db,Wd,Ke,rg,Fg,hi,Cj,xg,Nh,Kf,Gd,ia,sa,xa,Ba,Sa,P,S,m,p,u,t,B,C,a,c,d),Gd))){var Nm=J2(e,new $APP.H(null,4,5,$APP.J,[H2,hi,Ke,Nh],null)),sk=C;e=Nm;f=sk}else throw $APP.Zl.h([":db.fn/cas failed on datom [",$APP.xj.l($APP.z([hi]))," ",$APP.xj.l($APP.z([Ke]))," ",$APP.xj.l($APP.z([$APP.fj.h($APP.YJ,Gd)])),"], expected ",$APP.xj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Ln,zmb,nnb,Gd,$APP.lH,xg,Xmb,Nh],null));
else{var Dj=$APP.YJ.g($APP.v(Gd));if($APP.x.h(Dj,xg)){var Gc=J2(e,new $APP.H(null,4,5,$APP.J,[H2,hi,Ke,Nh],null)),Bd=C;e=Gc;f=Bd}else throw $APP.Zl.h([":db.fn/cas failed on datom [",$APP.xj.l($APP.z([hi]))," ",$APP.xj.l($APP.z([Ke]))," ",$APP.xj.l($APP.z([Dj])),"], expected ",$APP.xj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Ln,zmb,nnb,$APP.v(Gd),$APP.lH,xg,Xmb,Nh],null));}}else if(w2(xa)){var Te=z2(e,xa,v2(e)),Lg=$APP.Af(new $APP.H(null,4,5,$APP.J,[sa,v2(e),Ba,Sa],null),C);e=Te;f=Lg}else if(r2(P,
Ba)&&w2(Sa)){var Lf=z2(e,Sa,v2(e)),mh=$APP.Af(new $APP.H(null,4,5,$APP.J,[sa,xa,Ba,v2(e)],null),C);e=Lf;f=mh}else if(r2(P,Ba)&&x2(Sa))if(Ob=$APP.A.h(S,Sa),null==Ob){var ii=$APP.lf(D1.g(P))+1,me=$APP.bn.S(z2(e,Sa,ii),O2,$APP.xi,ii,Sa),Gg=f;e=me;f=Gg}else{ii=Ob;var Vl=me=$APP.bn.S(e,O2,$APP.xi,ii,Sa),zh=$APP.Af(new $APP.H(null,4,5,$APP.J,[sa,xa,Ba,ii],null),C);e=Vl;f=zh}else{var Hi=$APP.zg(null);if(function(){var Td=$APP.x.h(sa,H2)||$APP.x.h(sa,M2);return Td?(Td=$APP.Cb(N2.g($APP.ue(B))))?(Td=n2(P,
Ba))?(Td=$APP.Ag(Hi,Fhb(P,Ba,Sa)),$APP.wi.h(Sa,Td)&&!0):Td:Td:Td}()){var Sn=$APP.n(Hi),tk=e,Wl=$APP.Af(new $APP.H(null,4,5,$APP.J,[sa,xa,Ba,Sn],null),C);e=tk;f=Wl}else if(x2(xa)){Y=j2(P,Ba,L1)?$APP.bK.g($APP.v(p1(P,t1,Ba,Sa,null,null))):null;var Tn=$APP.A.h(S,xa);if($APP.k(function(){var Td=Y;return $APP.k(Td)?(Td=Tn,$APP.k(Td)?$APP.wi.h(Y,Tn):Td):Td}()))return cib(a,e,b,xa,Y);var qp=function(){var Td=Y;if($APP.k(Td))return Td;Td=Tn;return $APP.k(Td)?Td:$APP.lf(D1.g(P))+1}(),Zj=z2(e,xa,qp),Bq=$APP.Af(new $APP.H(null,
4,5,$APP.J,[sa,qp,Ba,Sa],null),C);e=Zj;f=Bq}else{var Xe=$APP.zg(null);if($APP.k(function(){var Td=j2(P,Ba,L1);if(Td){if(Td=$APP.Ue(y2.g(e),xa)){Td=$APP.Ag(Xe,$APP.bK.g($APP.v(p1(P,t1,Ba,Sa,null,null))));var Yl=xa;return $APP.k(Yl)?$APP.k(Td)?$APP.wi.h(xa,Td)&&!0:Td:Yl}return Td}return Td}())){Y=$APP.n(Xe);var Xl=$APP.A.h(y2.g(e),xa),rp=Dgb(function(Td){return function(Yl){return!$APP.Ue(K2.g(Td),Yl)}}(e,f,Xl,Y,Xe,Hi,ia,sa,xa,Ba,Sa,P,S,m,p,u,t,B,C,a,c,d),Xl);if($APP.k(rp))return cib(a,e,b,rp,Y);throw $APP.Zl.h(["Conflicting upsert: ",
$APP.xj.l($APP.z([xa]))," resolves to ",$APP.xj.l($APP.z([Y]))," via ",$APP.xj.l($APP.z([B]))].join(""),new $APP.h(null,1,[$APP.Ln,F2],null));}if($APP.Cb(N2.g($APP.ue(B)))&&n2(P,Ba)){var ji=$APP.up.h(P,new $APP.H(null,3,5,$APP.J,[$APP.A1,Ba,Q1],null));if($APP.x.h($APP.de(ji),$APP.de(Sa))&&$APP.ng($APP.Db,Sa)&&$APP.ng(function(Td,Yl,cj,OJ,wQ,xQ,yQ,PJ,zQ,AQ,mF){return function(Hu){var MA=$APP.y.j(Hu,0,null);Hu=$APP.y.j(Hu,1,null);MA=$APP.YJ.g($APP.v(p1(mF,$APP.B1,PJ,MA,null,null)));return $APP.x.h(Hu,
MA)}}(e,f,ji,Xe,Hi,ia,sa,xa,Ba,Sa,P,S,m,p,u,t,B,C,a,c,d),$APP.fj.j($APP.Kw,ji,Sa)))f=C;else throw $APP.Zl.h(["Can’t modify tuple attrs directly: ",$APP.xj.l($APP.z([B]))].join(""),new $APP.h(null,2,[$APP.Ln,p2,g2,B],null));}else if($APP.x.h(sa,H2)){var Hg=J2(e,B),Oh=C;e=Hg;f=Oh}else if($APP.x.h(sa,M2)&&null!=Sa)if(Ob=t2(P,xa),null==Ob)f=C;else{Wd=Ob;Dj=r2(P,Ba)?s2(P,Sa):Sa;var sd=Ba;if(!(sd instanceof $APP.F||"string"===typeof sd)){var nf=B;throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([sd])),
" at ",$APP.xj.l($APP.z([nf])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,sd,E2,nf,$APP.Ln,p2],null));}if(null==Dj){var $c=B;throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([$c]))].join(""),new $APP.h(null,3,[$APP.GI,null,E2,$c,$APP.Ln,p2],null));}var hg=o1(P,new $APP.H(null,3,5,$APP.J,[Wd,Ba,Dj],null));if(null==hg)f=C;else{var uk=$hb(e,hg),Cq=C;e=uk;f=Cq}}else if($APP.x.h(sa,Flb)||$APP.x.h(sa,M2))if(Ob=t2(P,xa),null==Ob)f=C;else{Wd=Ob;db=function(){var Td=
Ba;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Yl=B;throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Td]))," at ",$APP.xj.l($APP.z([Yl])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Td,E2,Yl,$APP.Ln,p2],null));}();Gd=$APP.ef(n1(P,new $APP.H(null,2,5,$APP.J,[Wd,Ba],null)));var Gu=$APP.cf.j($hb,e,Gd),Zf=$APP.M.h(bib(P,Gd),C);e=Gu;f=Zf}else if($APP.x.h(sa,aib)||$APP.x.h(sa,Fmb))if(Ob=t2(P,xa),null==Ob)f=C;else{Wd=Ob;var sp=$APP.ef(n1(P,new $APP.H(null,1,
5,$APP.J,[Wd],null))),sx=$APP.ef($APP.Og.l(function(Td,Yl,cj,OJ,wQ,xQ,yQ,PJ,zQ,AQ,mF,Hu,MA){return function(qX){return n1(MA,new $APP.H(null,3,5,$APP.J,[null,qX,OJ],null))}}(e,f,sp,Wd,Ob,Xe,Hi,ia,sa,xa,Ba,Sa,P,S,m,p,u,t,B,C,a,c,d),$APP.z([y1(P,O1)]))),Mg=$APP.cf.j($hb,e,$APP.M.h(sp,sx)),jX=$APP.M.h(bib(P,sp),C);e=Mg;f=jX}else throw $APP.Zl.h(["Unknown operation at ",$APP.xj.l($APP.z([B])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.h(null,3,[$APP.Ln,p2,Xnb,sa,g2,B],null));}}}}else if(fhb(B)){var LA=B;xa=$APP.y.j(LA,0,null);Ba=$APP.y.j(LA,1,null);Sa=$APP.y.j(LA,2,null);var kX=$APP.y.j(LA,3,null),lX=$APP.y.j(LA,4,null);if($APP.k(lX)){var mX=J2(e,new $APP.H(null,5,5,$APP.J,[H2,xa,Ba,Sa,kX],null)),nX=C;e=mX;f=nX}else{var oX=e,pX=$APP.Af(new $APP.H(null,4,5,$APP.J,[M2,xa,Ba,Sa],null),C);e=oX;f=pX}}else throw $APP.Zl.h(["Bad entity type at ",$APP.xj.l($APP.z([B])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.Ln,
p2,g2,B],null));}}};var U2,qib=$APP.zj.g($APP.Wf),V2=$APP.zg(1E6);$APP.g=R2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "storage":return this.storage;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[X0,this.storage],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[X0],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new R2(this.storage,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1627330428^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.storage,b.storage)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[X0,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new R2(this.storage,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "storage":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(X0,b):$APP.G.call(null,X0,b))?new R2(c,this.A,this.o,null):new R2(this.storage,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(X0,this.storage,null)],null),this.o))};$APP.g.V=function(a,b){return new R2(this.storage,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Kk=function(a,b,c){a=$APP.k($APP.k(c)?b instanceof D0&&$APP.Ue($APP.Ei(b.zd),c):c)?V2.uc(null,V2.Ka(null)+1):$APP.k(c)?c:V2.uc(null,V2.Ka(null)+1);c=$APP.qn.h(jib,b.keys);c=new $APP.h(null,1,[$APP.cC,c],null);b=b instanceof D0?$APP.xi.j(c,imb,b.zd):c;$APP.md(U2,$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.J,[a,b],null)));return a};
$APP.g.Jk=function(a,b){if($APP.k(b)){a=Q2(this.storage,b);a=$APP.Xf(a);var c=$APP.A.h(a,$APP.cC);a=$APP.A.h(a,imb);if($APP.k(c)){c=h0($APP.fj.h(function(e){var f=$APP.y.j(e,0,null),m=$APP.y.j(e,1,null),p=$APP.y.j(e,2,null);e=$APP.y.j(e,3,null);return g1.F(f,m,p,e)},c));if($APP.k(a)){var d=Array($APP.de(a));return E0(c,d,a,b,!1)}return W0.j(c,b,!1)}}return null};$APP.g.Hm=function(){return null};
$APP.g.Ik=function(a,b){return $APP.Aj.F(qib,$APP.bn,this.storage,function(c){return $APP.Eh.h(c,$APP.js.h($APP.yb,b))})};var lib=$APP.zj.g($APP.Sg),d3=function d3(a){switch(arguments.length){case 1:return d3.g(arguments[0]);case 2:return d3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};d3.g=function(a){var b=S2(a);if(null==b)throw $APP.Zl.h("Database has no associated storage",$APP.Wf);return W2(a,b,!1)};
d3.h=function(a,b){var c=S2(a);if(null==c)return $APP.B1.g(a),c=new R2(b,null,null,null),W2(a,c,!1);var d=X0.g(c);if(d===b)return W2(a,c,!1);throw $APP.Zl.h("Database is already stored with another IStorage",new $APP.h(null,1,[X0,d],null));};d3.B=2;var v6=function v6(a){switch(arguments.length){case 1:return v6.g(arguments[0]);case 2:return v6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};v6.g=function(a){return v6.h(a,$APP.Wf)};
v6.h=function(a,b){b=tib(a,b);a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return uib(a,b)};v6.B=2;$APP.g=Z2.prototype;$APP.g.equiv=function(a){return this.R(null,a)};$APP.g.Og=function(a,b){for(var c=$APP.r(this.nb),d=null,e=0,f=0;;)if(f<e){var m=d.ha(null,f),p=$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.F?m.F(p,this,a,b):m.call(null,p,this,a,b);f+=1}else if(c=$APP.r(c))$APP.Fe(c)?(d=$APP.ed(c),c=$APP.fd(c),p=d,e=$APP.de(d),d=p):(d=$APP.v(c),p=$APP.y.j(d,0,null),m=$APP.y.j(d,1,null),m.F?m.F(p,this,a,b):m.call(null,p,this,a,b),c=$APP.w(c),d=null,e=0),f=0;else break};
$APP.g.lg=function(a,b,c){this.nb=$APP.xi.j(this.nb,b,c);return this};$APP.g.mg=function(a,b){return this.nb=$APP.Ll.h(this.nb,b)};$APP.g.R=function(a,b){return this===b};$APP.g.Y=function(){return $APP.na(this)};$APP.g.jd=function(a,b){return $APP.y.h(a3(this,$APP.tg(b),$APP.Kd),1)};$APP.g.lh=function(a,b){return $APP.y.h(a3(this,b,$APP.Kd),1)};$APP.g.mh=function(a,b,c){return $APP.y.h(a3(this,b,new $APP.D(null,c,null,1,null)),1)};
$APP.g.nh=function(a,b,c,d){return $APP.y.h(a3(this,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null)),1)};$APP.g.oh=function(a,b,c,d,e){return $APP.y.h(a3(this,b,$APP.Af(c,$APP.Af(d,e))),1)};$APP.g.U=function(){return this.P};$APP.g.Ka=function(){return $2.g($APP.n(this.dh))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "atom":return this.dh;default:return c}};
b3=function(a){switch(arguments.length){case 1:return b3.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return b3.l(arguments[0],1<b.length?new $APP.Hd(b.slice(1),0,null):null)}};b3.g=function(a){return new Z2(a,null,$APP.Wf,$APP.Wf)};b3.l=function(a,b){b=$APP.qg.h($APP.ap,b);a=new Z2(a,null,$APP.Wf,$APP.Wf);var c=$APP.qy.g(b);null!=c&&(vib(c,$APP.n(a)),a.Eg=c);b=$APP.mb.g(b);null!=b&&(a.P=b);return a};
b3.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};b3.B=1;c3.h=function(a,b){return c3.j(a,b,null)};c3.j=function(a,b,c){if(a instanceof J1)throw $APP.Zl.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.Ln,Znb],null));a=new d2(a,a,$APP.Sg,$APP.Wf,c,null,null,null);if(null!=b&&!$APP.Be(b))throw $APP.Zl.h(["Bad transaction data ",$APP.xj.l($APP.z([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.Ln,p2,g2,b],null));b=u6(e2.g(a),b);return L2(a,b)};
c3.B=3;var w6=function w6(a){switch(arguments.length){case 1:return w6.g(arguments[0]);case 2:return w6.h(arguments[0],arguments[1]);case 3:return w6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w6.g=function(a){return g3(a2(a,null,$APP.Wf))};w6.h=function(a,b){return g3(a2(a,b,$APP.Wf))};w6.j=function(a,b,c){return g3(a2(a,b,Y2(c)))};w6.B=3;
var x6=function x6(a){switch(arguments.length){case 0:return x6.D();case 1:return x6.g(arguments[0]);case 2:return x6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};x6.D=function(){return g3($1(null,$APP.Wf))};x6.g=function(a){return g3($1(a,$APP.Wf))};x6.h=function(a,b){return g3($1(a,Y2(b)))};x6.B=2;
var y6=function y6(a){switch(arguments.length){case 1:return y6.g(arguments[0]);case 2:return y6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};y6.g=function(a){return y6.h(a,$APP.Wf)};y6.h=function(a,b){b=tib(a,b);if(null==b)return null;a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return wib(new $APP.h(null,3,[$2,uib(a,b),e3,b,f3,a],null))};y6.B=2;
var z6=function z6(a){switch(arguments.length){case 2:return z6.h(arguments[0],arguments[1]);case 3:return z6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};z6.h=function(a,b){return z6.j(a,b,null)};
z6.j=function(a,b,c){b=zib(a,b,c);a=$APP.r(Bmb.g($APP.n($APP.rG.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.ha(null,e);$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.r(a))$APP.Fe(a)?(d=$APP.ed(a),a=$APP.fd(a),c=d,d=$APP.de(d)):(c=$APP.v(a),$APP.y.j(c,0,null),c=$APP.y.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.w(a),c=null,d=0),e=0;else break;return b};z6.B=3;
var A6=function A6(a){switch(arguments.length){case 2:return A6.h(arguments[0],arguments[1]);case 3:return A6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};A6.h=function(a,b){return A6.j(a,b,null)};
A6.j=function(a,b,c){var d=$APP.n(a);c=Dhb(new $APP.h(null,4,[e2,d,f2,b,g2,$APP.M.h($APP.k(d)?$APP.fj.h(function(p){return $APP.xi.j(p,$APP.qD,!1)},p1(d,$APP.B1,null,null,null,null)):null,p1(b,$APP.B1,null,null,null,null)),i2,c],null));null==T2(d)?$APP.vg(a,b):(d3.g(b),$APP.Aj.l($APP.rG.g(a),$APP.xi,$2,b,$APP.z([e3,$APP.Sg,f3,b])));a=$APP.r(Bmb.g($APP.n($APP.rG.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var m=d.ha(null,f);$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.g?m.g(c):m.call(null,c);f+=1}else if(a=
$APP.r(a))$APP.Fe(a)?(e=$APP.ed(a),a=$APP.fd(a),d=e,e=$APP.de(e)):(d=$APP.v(a),$APP.y.j(d,0,null),d=$APP.y.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.w(a),d=null,e=0),f=0;else break;return b};A6.B=3;var B6=function B6(a){switch(arguments.length){case 2:return B6.h(arguments[0],arguments[1]);case 3:return B6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};B6.h=function(a,b){return B6.j(a,$APP.bz.D(),b)};
B6.j=function(a,b,c){$APP.Aj.l($APP.rG.g(a),$APP.bn,Bmb,$APP.xi,$APP.z([b,c]));return b};B6.B=3;$APP.g=l3.prototype;$APP.g.entry_set=function(){return $APP.df($APP.fj.h($APP.df,k3(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.r(k3(this)),m=null,p=0,u=0;;)if(u<p){var t=m.ha(null,u),B=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);d.call(e,t,B,this);u+=1}else if(f=$APP.r(f))$APP.Fe(f)?(m=$APP.ed(f),f=$APP.fd(f),B=m,p=$APP.de(m),m=B):(m=$APP.v(f),B=$APP.y.j(m,0,null),t=$APP.y.j(m,1,null),d.call(e,t,B,this),f=$APP.w(f),m=null,p=0),u=0;else return null}function b(d){for(var e=$APP.r(k3(this)),f=null,m=0,p=0;;)if(p<m){var u=f.ha(null,p),t=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);
d.j?d.j(u,t,this):d.call(null,u,t,this);p+=1}else if(e=$APP.r(e))$APP.Fe(e)?(f=$APP.ed(e),e=$APP.fd(e),t=f,m=$APP.de(f),f=t):(f=$APP.v(e),t=$APP.y.j(f,0,null),u=$APP.y.j(f,1,null),d.j?d.j(u,t,this):d.call(null,u,t,this),e=$APP.w(e),f=null,m=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.x.h(a,":db/id"))return this.eid;if(o2(a))return i3(Dib(this.db,this.eid,q2(a),null));var b=C6.h?C6.h(this,a):C6.call(null,this,a);return k2(this.db,a)?i3(b):b};$APP.g.key_set=function(){return $APP.df($APP.ti(this))};$APP.g.entries=function(){return $APP.wh(k3(this))};$APP.g.value_set=function(){return $APP.df($APP.fj.h($APP.ie,k3(this)))};$APP.g.toString=function(){return $APP.qd(this)};$APP.g.keys=function(){return $APP.Md($APP.ti(this))};
$APP.g.values=function(){return $APP.Md($APP.fj.h($APP.ie,k3(this)))};$APP.g.equiv=function(a){return m3.h?m3.h(this,a):m3.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.ba=function(a,b){return C6.j?C6.j(this,b,null):C6.call(null,this,b,null)};$APP.g.K=function(a,b,c){return C6.j?C6.j(this,b,c):C6.call(null,this,b,c)};$APP.g.W=function(a,b,c){return $APP.Pc($APP.xi.j($APP.n(this.cache),G2,this.eid),b,c)};$APP.g.aa=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.de($APP.n(this.cache))};
$APP.g.Y=function(){return Fib.g?Fib.g(this):Fib.call(null,this)};$APP.g.R=function(a,b){return m3.h?m3.h(this,b):m3.call(null,this,b)};$APP.g.ga=function(a,b){return $APP.wi.h(enb,C6.j?C6.j(this,b,enb):C6.call(null,this,b,enb))};$APP.g.Z=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.r($APP.n(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Pb(b)))};$APP.g.g=function(a){return C6.h?C6.h(this,a):C6.call(null,this,a)};$APP.g.h=function(a,b){return C6.j?C6.j(this,a,b):C6.call(null,this,a,b)};
var C6=function C6(a){switch(arguments.length){case 2:return C6.h(arguments[0],arguments[1]);case 3:return C6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};C6.h=function(a,b){return C6.j(a,b,null)};
C6.j=function(a,b,c){if($APP.x.h(b,G2))return a.eid;if(o2(b))return Dib(a.db,a.eid,q2(b),c);var d=$APP.n(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.n(a.Vj)))return c;d=$APP.Yf(n1(a.db,new $APP.H(null,2,5,$APP.J,[a.eid,b],null)));if(null==d)return c;c=Cib(a.db,b,d);$APP.Ag(a.cache,$APP.xi.j($APP.n(a.cache),b,c));return c}return d};C6.B=3;xgb("datascript.impl.entity.Entity",l3);var D6=function D6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D6.l(0<c.length?new $APP.Hd(c.slice(0),0,null):null)};D6.l=function(a){var b=$APP.de(a);return $APP.wi.h($APP.Dg.h(b/2,a),$APP.Eg.h(b/2,a))};D6.B=0;D6.G=function(a){return this.l($APP.r(a))};var E6=function E6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E6.l(arguments[0],arguments[1],2<c.length?new $APP.Hd(c.slice(2),0,null):null)};
E6.l=function(a,b,c){return $APP.cf.j(function(d,e){d=$APP.v(n1(a,new $APP.H(null,2,5,$APP.J,[t2(a,b),e],null)));return null==d?null:$APP.Ud(new $APP.H(null,2,5,$APP.J,[B2.g(d),$APP.YJ.g(d)],null))},null,c)};E6.B=2;E6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};var F6=function F6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F6.l(0<c.length?new $APP.Hd(c.slice(0),0,null):null)};
F6.l=function(a){return $APP.cf.j(function(b,c){return $APP.k(c)?c:$APP.Ud(c)},!0,a)};F6.B=0;F6.G=function(a){return this.l($APP.r(a))};var G6=function G6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G6.l(0<c.length?new $APP.Hd(c.slice(0),0,null):null)};G6.l=function(a){return $APP.cf.j(function(b,c){return $APP.k(c)?$APP.Ud(c):c},null,a)};G6.B=0;G6.G=function(a){return this.l($APP.r(a))};
var H6=function H6(a){switch(arguments.length){case 1:return H6.g(arguments[0]);case 2:return H6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H6.l(arguments[0],arguments[1],2<c.length?new $APP.Hd(c.slice(2),0,null):null)}};H6.g=function(){return!0};H6.h=function(a,b){return 0>i1(a,b)};H6.l=function(a,b,c){for(;;)if(H6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return H6.h(b,$APP.v(c));else return!1};
H6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};H6.B=2;var I6=function I6(a){switch(arguments.length){case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I6.l(arguments[0],arguments[1],2<c.length?new $APP.Hd(c.slice(2),0,null):null)}};I6.g=function(){return!0};I6.h=function(a,b){return 0<i1(a,b)};
I6.l=function(a,b,c){for(;;)if(I6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return I6.h(b,$APP.v(c));else return!1};I6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};I6.B=2;
var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J6.l(arguments[0],arguments[1],2<c.length?new $APP.Hd(c.slice(2),0,null):null)}};J6.g=function(){return!0};J6.h=function(a,b){return!(0<i1(a,b))};J6.l=function(a,b,c){for(;;)if(J6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return J6.h(b,$APP.v(c));else return!1};
J6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};J6.B=2;var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K6.l(arguments[0],arguments[1],2<c.length?new $APP.Hd(c.slice(2),0,null):null)}};K6.g=function(){return!0};K6.h=function(a,b){return!(0>i1(a,b))};
K6.l=function(a,b,c){for(;;)if(K6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return K6.h(b,$APP.v(c));else return!1};K6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};K6.B=2;
var Sib=$APP.gi([$APP.uI,$APP.kt,$APP.aA,nob,$APP.$H,$APP.GG,$APP.XH,$APP.vG,Anb,$APP.xz,pmb,$APP.AD,$APP.Bm,$APP.AK,$APP.ZE,$APP.QC,$APP.EF,u5,$APP.Lqa,$APP.oH,$APP.TH,Vlb,$APP.YH,$APP.SI,$APP.sH,$APP.JC,cmb,Umb,$APP.hB,$APP.MI,$APP.ZH,$APP.PF,$APP.IJ,$APP.LJ,$APP.HJ,$APP.uA,$APP.qH,$APP.UD,bmb,$APP.zA,$APP.TG,inb,$APP.fH,$APP.CJ,$APP.kC,$APP.NA,$APP.cD,$APP.CA,$APP.FG,$APP.WH,$APP.xF,$APP.OI,$APP.tH,$APP.wF,$APP.Mz,$APP.bH,$APP.SC,$APP.ZD,$APP.pA,dmb,$APP.eI,$APP.qJ,cob,$APP.hE,$APP.oD,$APP.eG,
$APP.DE,$APP.fG,Amb,$APP.lE,$APP.pt,$APP.QI,$APP.UG,$APP.rB],[$APP.Ie,F6,$APP.Pba,function(a,b,c,d){if(null==d)throw $APP.Zl.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.Ln,s5],null));a=$APP.v(n1(a,new $APP.H(null,2,5,$APP.J,[t2(a,b),c],null)));return null==a?d:$APP.YJ.g(a)},K6,$APP.Vy,I6,$APP.de,E6,$APP.yb,$APP.gf,$APP.Rd,$APP.Tx,$APP.mf,$APP.He,$APP.Cb,$APP.gf,D6,$APP.Kw,$APP.Xi,J6,$APP.il,$APP.x,$APP.Yx,$APP.Rx,$APP.Gi,function(a,b,c){return null==$APP.A.h(h3(a,b),c)},
$APP.gf,$APP.Bj,$APP.sg,$APP.dl,$APP.bp,$APP.Ye,$APP.Xn,$APP.ln,$APP.xe,$APP.Sx,$APP.xj,H5,$APP.ue,$APP.rf,$APP.wi,$APP.Ty,$APP.hf,$APP.Zi,$APP.Kw,$APP.wi,$APP.A,$APP.l,H6,$APP.Cf,$APP.gj,$APP.To,$APP.Db,$APP.qf,$APP.bz,$APP.Ui,$APP.K,$APP.Ue,$APP.$ca,$APP.Yi,$APP.kf,$APP.jl,$APP.ap,$APP.of,$APP.pg,$APP.Kb,$APP.sf,$APP.hl,$APP.Yf,G6,$APP.xb,$APP.Ei,$APP.Vi]),L6=function L6(a){switch(arguments.length){case 1:return L6.g(arguments[0]);case 2:return L6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.l.g(arguments.length)].join(""));}};L6.g=function(a){return $APP.cf.j(function(b,c){return 0>$APP.Ye(c,b)?c:b},$APP.v(a),$APP.w(a))};L6.h=function(a,b){return $APP.ef($APP.cf.j(function(c,d){return $APP.de(c)<a?$APP.Ik.h($APP.Ye,$APP.xf.h(c,d)):0>$APP.Ye(d,$APP.oe(c))?$APP.Ik.h($APP.Ye,$APP.xf.h($APP.Fi(c),d)):c},$APP.Sg,b))};L6.B=2;
var M6=function M6(a){switch(arguments.length){case 1:return M6.g(arguments[0]);case 2:return M6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};M6.g=function(a){return $APP.cf.j(function(b,c){return 0<$APP.Ye(c,b)?c:b},$APP.v(a),$APP.w(a))};M6.h=function(a,b){return $APP.ef($APP.cf.j(function(c,d){return $APP.de(c)<a?$APP.Ik.h($APP.Ye,$APP.xf.h(c,d)):0<$APP.Ye(d,$APP.v(c))?$APP.Ik.h($APP.Ye,$APP.xf.h($APP.w(c),d)):c},$APP.Sg,b))};
M6.B=2;var N6=function N6(a){switch(arguments.length){case 1:return N6.g(arguments[0]);case 2:return N6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};N6.g=function(a){return $APP.Ej(a)};N6.h=function(a,b){return $APP.ef($APP.Ls.h(a,function(){return $APP.Ej(b)}))};N6.B=2;
var sob=$APP.gi([Blb,$APP.vG,bob,dnb,$APP.SI,$APP.HJ,Knb,$APP.pI,Bnb,Zmb,$APP.bH,rmb],[Kib,$APP.de,function(a){var b=$APP.Ik.g(a);a=$APP.de(a);var c=a>>1,d=$APP.y.h(b,c);return $APP.pg(a)?(d+$APP.y.h(b,c-1))/2:d},Iib,L6,M6,function(a){return $APP.de($APP.Ky.g(a))},$APP.Ei,Jib,function(a){return Math.sqrt(Kib(a))},N6,function(a,b){return $APP.ef($APP.Dg.h(a,$APP.Uaa(b)))}]);$APP.g=n3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "as":return this.as;case "default":return this.Bb;case "limit":return this.Ib;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.zc;case "recursive?":return this.Da;case "reverse?":return this.Ic;case "xform":return this.Jb;case "multival?":return this.yc;case "ref?":return this.Ac;case "component?":return this.vc;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.M.h(new $APP.H(null,12,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.no,this.as],null),new $APP.H(null,2,5,$APP.J,[$APP.Lm,this.Bb],null),new $APP.H(null,2,5,$APP.J,[o3,this.Ib],null),new $APP.H(null,2,5,$APP.J,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null),new $APP.H(null,2,5,$APP.J,[p3,this.zc],null),new $APP.H(null,2,5,
$APP.J,[q3,this.Da],null),new $APP.H(null,2,5,$APP.J,[r3,this.Ic],null),new $APP.H(null,2,5,$APP.J,[s3,this.Jb],null),new $APP.H(null,2,5,$APP.J,[t3,this.yc],null),new $APP.H(null,2,5,$APP.J,[u3,this.Ac],null),new $APP.H(null,2,5,$APP.J,[v3,this.vc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,12,new $APP.H(null,12,5,$APP.J,[$APP.no,$APP.Lm,o3,$APP.Q,$APP.JF,p3,q3,r3,s3,t3,u3,v3],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,this.C)};$APP.g.aa=function(){return 12+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.as,b.as)&&$APP.x.h(this.default,b.default)&&$APP.x.h(this.Ib,b.Ib)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.zc,b.zc)&&$APP.x.h(this.Da,b.Da)&&$APP.x.h(this.Ic,b.Ic)&&$APP.x.h(this.Jb,b.Jb)&&$APP.x.h(this.yc,b.yc)&&$APP.x.h(this.Ac,b.Ac)&&$APP.x.h(this.vc,b.vc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,12,[s3,null,o3,null,r3,null,p3,null,$APP.Lm,null,$APP.Q,null,$APP.no,null,q3,null,v3,null,u3,null,t3,null,$APP.JF,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.no,b):$APP.G.call(null,$APP.no,b))?new n3(c,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.Lm,b):$APP.G.call(null,$APP.Lm,b))?new n3(this.as,c,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(o3,b):$APP.G.call(null,o3,b))?new n3(this.as,this.Bb,c,this.name,this.pattern,
this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.Q,b):$APP.G.call(null,$APP.Q,b))?new n3(this.as,this.Bb,this.Ib,c,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):$APP.G.call(null,$APP.JF,b))?new n3(this.as,this.Bb,this.Ib,this.name,c,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(p3,b):$APP.G.call(null,p3,b))?new n3(this.as,
this.Bb,this.Ib,this.name,this.pattern,c,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(q3,b):$APP.G.call(null,q3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,c,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(r3,b):$APP.G.call(null,r3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,c,this.Jb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(s3,b):$APP.G.call(null,
s3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,c,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(t3,b):$APP.G.call(null,t3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,c,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(u3,b):$APP.G.call(null,u3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,c,this.vc,this.A,this.o,null):$APP.k($APP.G.h?
$APP.G.h(v3,b):$APP.G.call(null,v3,b))?new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,c,this.A,this.o,null):new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,12,5,$APP.J,[new $APP.Ve($APP.no,this.as,null),new $APP.Ve($APP.Lm,this.Bb,null),new $APP.Ve(o3,this.Ib,null),new $APP.Ve($APP.Q,this.name,null),new $APP.Ve($APP.JF,this.pattern,null),new $APP.Ve(p3,this.zc,null),new $APP.Ve(q3,this.Da,null),new $APP.Ve(r3,this.Ic,null),new $APP.Ve(s3,this.Jb,null),new $APP.Ve(t3,this.yc,null),new $APP.Ve(u3,this.Ac,null),new $APP.Ve(v3,this.vc,null)],null),this.o))};
$APP.g.V=function(a,b){return new n3(this.as,this.Bb,this.Ib,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Jb,this.yc,this.Ac,this.vc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g=w3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "first-attr":return this.Gd;case "last-attr":return this.Ud;case "reverse-attrs":return this.vd;case "wildcard?":return this.Pc;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[x3,this.ta],null),new $APP.H(null,2,5,$APP.J,[y3,this.Gd],null),new $APP.H(null,2,5,$APP.J,[z3,this.Ud],null),new $APP.H(null,2,5,$APP.J,[A3,this.vd],null),new $APP.H(null,2,5,$APP.J,[B3,this.Pc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.H(null,5,5,$APP.J,[x3,y3,z3,A3,B3],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.Gd,b.Gd)&&$APP.x.h(this.Ud,b.Ud)&&$APP.x.h(this.vd,b.vd)&&$APP.x.h(this.Pc,b.Pc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,5,[A3,null,y3,null,x3,null,B3,null,z3,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(x3,b):$APP.G.call(null,x3,b))?new w3(c,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(y3,b):$APP.G.call(null,y3,b))?new w3(this.ta,c,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(z3,b):$APP.G.call(null,z3,b))?new w3(this.ta,this.Gd,c,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(A3,b):$APP.G.call(null,A3,b))?new w3(this.ta,this.Gd,this.Ud,c,this.Pc,this.A,this.o,null):$APP.k($APP.G.h?
$APP.G.h(B3,b):$APP.G.call(null,B3,b))?new w3(this.ta,this.Gd,this.Ud,this.vd,c,this.A,this.o,null):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.Ve(x3,this.ta,null),new $APP.Ve(y3,this.Gd,null),new $APP.Ve(z3,this.Ud,null),new $APP.Ve(A3,this.vd,null),new $APP.Ve(B3,this.Pc,null)],null),this.o))};
$APP.g.V=function(a,b){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};var Wib=Lib(new $APP.h(null,3,[$APP.Q,G2,$APP.no,G2,s3,$APP.gf],null)),Oib=Mib(new $APP.h(null,1,[x3,new $APP.D(null,Wib,null,1,null)],null)),Pib=$APP.xi.j(Oib,B3,!0);$APP.g=I3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db":return this.db;case "visitor":return this.hf;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$2,this.db],null),new $APP.H(null,2,5,$APP.J,[R3,this.hf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$2,R3],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new I3(this.db,this.hf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.db,b.db)&&$APP.x.h(this.hf,b.hf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$2,null,R3,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new I3(this.db,this.hf,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db":case "visitor":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($2,b):$APP.G.call(null,$2,b))?new I3(c,this.hf,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(R3,b):$APP.G.call(null,R3,b))?new I3(this.db,c,this.A,this.o,null):new I3(this.db,this.hf,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($2,this.db,null),new $APP.Ve(R3,this.hf,null)],null),this.o))};$APP.g.V=function(a,b){return new I3(this.db,this.hf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g=J3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;case "datoms":return this.za;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.GI,this.value],null),new $APP.H(null,2,5,$APP.J,[$APP.b2,this.za],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.GI,$APP.b2],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J3(this.value,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.GI,null,$APP.b2,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new J3(this.value,this.za,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":case "datoms":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.GI,b):$APP.G.call(null,$APP.GI,b))?new J3(c,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.b2,b):$APP.G.call(null,$APP.b2,b))?new J3(this.value,c,this.A,this.o,null):new J3(this.value,this.za,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.GI,this.value,null),new $APP.Ve($APP.b2,this.za,null)],null),this.o))};
$APP.g.V=function(a,b){return new J3(this.value,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g=K3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "acc":return this.pa;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[I5,this.pa],null),new $APP.H(null,2,5,$APP.J,[X5,this.oa],null),new $APP.H(null,2,5,$APP.J,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[I5,X5,$APP.b2],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K3(this.pa,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[I5,null,$APP.b2,null,X5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new K3(this.pa,this.oa,this.za,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(I5,b):$APP.G.call(null,I5,b))?new K3(c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(X5,b):$APP.G.call(null,X5,b))?new K3(this.pa,c,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.b2,b):$APP.G.call(null,$APP.b2,b))?new K3(this.pa,this.oa,c,this.A,this.o,null):new K3(this.pa,this.oa,this.za,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve(I5,this.pa,null),new $APP.Ve(X5,this.oa,null),new $APP.Ve($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new K3(this.pa,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};
$APP.g.wh=function(){for(var a=this,b=a.pa,c=a.za;;){var d=G3(c);if(null==d||$APP.wi.h(d.a,a.oa.name))return new $APP.H(null,1,5,$APP.J,[new J3($APP.Yf($APP.Wc(b)),function(){var m=c;return $APP.k(m)?m:$APP.Kd}(),null,null,null)],null);if($APP.k(function(){var m=a.oa.Ib;return $APP.k(m)?$APP.de(b)>=a.oa.Ib&&!0:m}()))for(var e=c;;){d=G3(e);if(null==d||$APP.wi.h(d.a,a.oa.name))return new $APP.H(null,1,5,$APP.J,[new J3($APP.Wc(b),function(){var m=e;return $APP.k(m)?m:$APP.Kd}(),null,null,null)],null);
e=H3(e)}else{d=$APP.Rg.h(b,d.v);var f=H3(c);b=d;c=f}}};$APP.g=L3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.M.h(new $APP.H(null,6,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[K5,this.va],null),new $APP.H(null,2,5,$APP.J,[V5,this.Aa],null),new $APP.H(null,2,5,$APP.J,[I5,this.pa],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null),new $APP.H(null,2,5,$APP.J,[X5,this.oa],null),new $APP.H(null,2,5,$APP.J,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,6,new $APP.H(null,6,5,$APP.J,[K5,V5,I5,$APP.JF,X5,$APP.b2],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 6+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,6,[I5,null,K5,null,V5,null,$APP.b2,null,$APP.JF,null,X5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(K5,b):$APP.G.call(null,K5,b))?new L3(c,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(V5,b):$APP.G.call(null,V5,b))?new L3(this.va,c,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(I5,b):$APP.G.call(null,I5,b))?new L3(this.va,this.Aa,c,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):$APP.G.call(null,$APP.JF,b))?new L3(this.va,this.Aa,
this.pa,c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(X5,b):$APP.G.call(null,X5,b))?new L3(this.va,this.Aa,this.pa,this.pattern,c,this.za,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.b2,b):$APP.G.call(null,$APP.b2,b))?new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.A,this.o,null):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,6,5,$APP.J,[new $APP.Ve(K5,this.va,null),new $APP.Ve(V5,this.Aa,null),new $APP.Ve(I5,this.pa,null),new $APP.Ve($APP.JF,this.pattern,null),new $APP.Ve(X5,this.oa,null),new $APP.Ve($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};
$APP.g.ri=function(a,b){a=this.va;var c=this.Aa,d=this.pa;b=b.value;b=null==b?d:$APP.Rg.h(d,b);return new L3(a,c,b,this.pattern,this.oa,H3(this.za),null,null,null)};
$APP.g.wh=function(a,b){var c=this;a=G3(c.za);if(null==a||$APP.wi.h(a.a,c.oa.name))return new $APP.H(null,1,5,$APP.J,[new J3($APP.Yf($APP.Wc(c.pa)),function(){var e=c.za;return $APP.k(e)?e:$APP.Kd}(),null,null,null)],null);if($APP.k(function(){var e=c.oa.Ib;return $APP.k(e)?$APP.de(c.pa)>=c.oa.Ib&&!0:e}()))for(var d=c.za;;){b=G3(d);if(null==b||$APP.wi.h(b.a,c.oa.name))return new $APP.H(null,1,5,$APP.J,[new J3($APP.Wc(c.pa),function(){var e=d;return $APP.k(e)?e:$APP.Kd}(),null,null,null)],null);d=
H3(d)}else return a=$APP.k(c.oa.Ic)?a.e:a.v,new $APP.H(null,2,5,$APP.J,[this,P3.ma?P3.ma(b,c.va,c.Aa,c.pattern,c.oa,a):P3.call(null,b,c.va,c.Aa,c.pattern,c.oa,a)],null)};$APP.g=M3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "datoms":return this.za;case "id":return this.id;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.M.h(new $APP.H(null,8,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[K5,this.va],null),new $APP.H(null,2,5,$APP.J,[V5,this.Aa],null),new $APP.H(null,2,5,$APP.J,[I5,this.pa],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null),new $APP.H(null,2,5,$APP.J,[X5,this.oa],null),new $APP.H(null,2,5,$APP.J,[x3,this.ta],null),new $APP.H(null,2,5,$APP.J,[$APP.b2,this.za],
null),new $APP.H(null,2,5,$APP.J,[$APP.Gq,this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,8,new $APP.H(null,8,5,$APP.J,[K5,V5,I5,$APP.JF,X5,x3,$APP.b2,$APP.Gq],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 8+$APP.de(this.o)};
$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,8,[I5,null,K5,null,$APP.Gq,null,V5,null,x3,null,$APP.b2,null,$APP.JF,null,X5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(K5,b):$APP.G.call(null,K5,b))?new M3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(V5,b):$APP.G.call(null,V5,b))?new M3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(I5,b):$APP.G.call(null,I5,b))?new M3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):
$APP.G.call(null,$APP.JF,b))?new M3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(X5,b):$APP.G.call(null,X5,b))?new M3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(x3,b):$APP.G.call(null,x3,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.za,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.b2,b):$APP.G.call(null,$APP.b2,b))?new M3(this.va,this.Aa,this.pa,this.pattern,
this.oa,this.ta,c,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.Gq,b):$APP.G.call(null,$APP.Gq,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,c,this.A,this.o,null):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,8,5,$APP.J,[new $APP.Ve(K5,this.va,null),new $APP.Ve(V5,this.Aa,null),new $APP.Ve(I5,this.pa,null),new $APP.Ve($APP.JF,this.pattern,null),new $APP.Ve(X5,this.oa,null),new $APP.Ve(x3,this.ta,null),new $APP.Ve($APP.b2,this.za,null),new $APP.Ve($APP.Gq,this.id,null)],null),this.o))};$APP.g.V=function(a,b){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.ri=function(a,b){var c=this;return new M3(c.va,c.Aa,$ib(c.pa,c.oa.as,function(){var d=b.value,e=c.oa.Jb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,G3(c.ta),H3(c.ta),$APP.Yf(function(){var d=b.za;return $APP.k(d)?d:H3(c.za)}()),c.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this,d=c.pa,e=c.oa;a=c.ta;for(var f=c.za;;){if(null==f&&null==e)return new $APP.H(null,1,5,$APP.J,[function(){var E=c.va,I=c.Aa,P=d,S=c.pattern,V=G3(c.pattern.vd),aa=H3(c.pattern.vd),ca=c.id;return djb.Ia?djb.Ia(E,I,P,S,V,aa,ca):djb.call(null,E,I,P,S,V,aa,ca)}()],null);if(null!=e&&$APP.x.h(G2,e.name)){var m=$APP.Gh.j(d,e.as,function(){var E=e.Jb;return E.g?E.g(c.id):E.call(null,c.id)}()),p=G3(a);a=H3(a);d=m;e=p}else{var u=G3(f),t=$APP.k(function(){var E=u;return $APP.k(E)?
e:E}())?$APP.Ye(e.name,u.a):null,B=function(){var E=null==e;if(E)return E;E=t;return $APP.k(E)?0<t:E}(),C=function(){var E=null==u;if(E)return E;E=t;return $APP.k(E)?0>t:E}();if($APP.k(function(){var E=c.pattern.Pc;return $APP.k(E)?(E=null!=u)?(E=B,$APP.k(E)?!0:E):E:E}()))p=c0(shb(b.db).Rc,u.a,function(E,I,P,S,V){return function(){return Qib(b.db,V.a)}}(d,e,a,f,u,t,B,C,this)),m=d,a=$APP.k(e)?Zib(a,e):null,d=m,e=p;else if($APP.k(B))m=d,p=e,f=H3(f),d=m,e=p;else if(ajb(b,onb,c.id,e.name,null),$APP.k(function(){var E=
C;return $APP.k(E)?null==e&&!0:E}()))m=d,p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(function(){var E=C;return $APP.k(E)?null!=$APP.Lm.g(e)&&!0:E}()))m=$APP.Gh.j(d,e.as,$APP.Lm.g(e)),p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(C))m=function(){var E=e.Jb;return E.g?E.g(null):E.call(null,null)}(),null==m?(m=d,p=G3(a),a=H3(a),d=m,e=p):(m=$APP.Gh.j(d,e.as,m),p=G3(a),a=H3(a),d=m,e=p);else{if($APP.k(function(){var E=e.yc;return $APP.k(E)?(E=e.Ac,$APP.k(E)?!0:E):E}()))return new $APP.H(null,2,5,$APP.J,[new M3(c.va,
c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new L3(c.va,c.Aa,$APP.Uc($APP.Sg),c.pattern,e,f,null,null,null)],null);if($APP.k(e.yc))return new $APP.H(null,2,5,$APP.J,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new K3($APP.Uc($APP.Sg),e,f,null,null,null)],null);if($APP.k(e.Ac))return new $APP.H(null,2,5,$APP.J,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var E=c.va,I=c.Aa,P=c.pattern,S=e,V=u.v;return P3.ma?P3.ma(b,E,I,P,S,V):P3.call(null,b,E,I,P,S,V)}()],null);m=
$APP.Gh.j(d,e.as,function(){var E=u.v,I=e.Jb;return I.g?I.g(E):I.call(null,E)}());p=G3(a);a=H3(a);f=H3(f);d=m;e=p}}}};$APP.g=N3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "id":return this.id;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.M.h(new $APP.H(null,7,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[K5,this.va],null),new $APP.H(null,2,5,$APP.J,[V5,this.Aa],null),new $APP.H(null,2,5,$APP.J,[I5,this.pa],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null),new $APP.H(null,2,5,$APP.J,[X5,this.oa],null),new $APP.H(null,2,5,$APP.J,[x3,this.ta],null),new $APP.H(null,2,5,$APP.J,[$APP.Gq,
this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,7,new $APP.H(null,7,5,$APP.J,[K5,V5,I5,$APP.JF,X5,x3,$APP.Gq],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 7+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,7,[I5,null,K5,null,$APP.Gq,null,V5,null,x3,null,$APP.JF,null,X5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(K5,b):$APP.G.call(null,K5,b))?new N3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(V5,b):$APP.G.call(null,V5,b))?new N3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(I5,b):$APP.G.call(null,I5,b))?new N3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):$APP.G.call(null,$APP.JF,
b))?new N3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(X5,b):$APP.G.call(null,X5,b))?new N3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(x3,b):$APP.G.call(null,x3,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.id,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.Gq,b):$APP.G.call(null,$APP.Gq,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,c,this.A,this.o,null):
new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,7,5,$APP.J,[new $APP.Ve(K5,this.va,null),new $APP.Ve(V5,this.Aa,null),new $APP.Ve(I5,this.pa,null),new $APP.Ve($APP.JF,this.pattern,null),new $APP.Ve(X5,this.oa,null),new $APP.Ve(x3,this.ta,null),new $APP.Ve($APP.Gq,this.id,null)],null),this.o))};
$APP.g.V=function(a,b){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.ri=function(a,b){a=this.va;var c=this.Aa,d=this.pa,e=this.oa.as;b=b.value;var f=this.oa.Jb;b=f.g?f.g(b):f.call(null,b);return new N3(a,c,$ib(d,e,b),this.pattern,G3(this.ta),H3(this.ta),this.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this.pa;a=this.oa;for(var d=this.ta;;){if(null==a)return new $APP.H(null,1,5,$APP.J,[new J3($APP.Yf($APP.Wc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.z1?V0(f.tc,g1.F(0,e,this.id,536870912),g1.F(2147483647,e,this.id,2147483647)):n1(f,new $APP.H(null,3,5,$APP.J,[null,e,this.id],null));ajb(b,$lb,null,e,this.id);if($APP.xe(f)&&null!=$APP.Lm.g(a))c=$APP.Gh.j(c,a.as,$APP.Lm.g(a)),a=G3(d),d=e=H3(d);else if($APP.xe(f))a=G3(d),d=e=H3(d);else{if($APP.k(a.vc)){e=
$APP.J;c=new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null);d=this.va;var m=this.Aa,p=this.pattern;f=G3(f).e;b=P3.ma?P3.ma(b,d,m,p,a,f):P3.call(null,b,d,m,p,a,f);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.J,[new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null),new L3(this.va,this.Aa,$APP.Uc($APP.Sg),this.pattern,a,f,null,null,null)],null);return b}}};
var O6=function O6(a){switch(arguments.length){case 3:return O6.j(arguments[0],arguments[1],arguments[2]);case 4:return O6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};O6.j=function(a,b,c){return O6.F(a,b,c,$APP.Wf)};O6.F=function(a,b,c,d){a=S3(a,b,d);return Q3(a,c)};O6.B=4;
var P6=function P6(a){switch(arguments.length){case 3:return P6.j(arguments[0],arguments[1],arguments[2]);case 4:return P6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};P6.j=function(a,b,c){return P6.F(a,b,c,$APP.Wf)};P6.F=function(a,b,c,d){var e=S3(a,b,d);return $APP.qn.h(function(f){return Q3(e,f)},c)};P6.B=4;var Q6=function Q6(a){switch(arguments.length){case 1:return Q6.g(arguments[0]);case 2:return Q6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};Q6.g=function(a){return ljb(a,$APP.Wf)};Q6.h=function(a,b){return ljb(a,b)};Q6.B=2;var R6=function R6(a){switch(arguments.length){case 1:return R6.g(arguments[0]);case 2:return R6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
R6.g=function(a){return R6.h(a,$APP.Wf)};
R6.h=function(a,b){b=$APP.Xf(b);var c=$APP.A.j(b,nmb,$APP.QK),d=$APP.A.j(b,umb,ijb),e=U3(a,"tx0"),f=function(){var B=U3(a,"schema");return c.g?c.g(B):c.call(null,B)}();(function(){var B=new $APP.Ed(function(){return Z1},gnb,$APP.gi([$APP.Tt,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[!0,$APP.gK,Cmb,"datascript/db.cljc",23,1,931,931,$APP.K(new $APP.H(null,1,5,$APP.J,[M5],null)),null,$APP.k(Z1)?Z1.H:null]));return B.g?B.g(f):B.call(null,f)})();var m=$APP.qn.h(d,U3(a,
"attrs")),p=$APP.qn.h(d,U3(a,"keywords")),u=V3(function(B){var C=T3(B,0),E=$APP.y.h(m,T3(B,1)),I=T3(B,2);if("number"===typeof I)var P=I;else if("string"===typeof I)P=I;else if($APP.Je(I))P=I;else if($APP.zb(I)||$APP.Ee(I))P=function(){var S=T3(I,0);if($APP.k($APP.dl.h?$APP.dl.h(0,S):$APP.dl.call(null,0,S)))return $APP.y.h(p,T3(I,1));if($APP.k($APP.dl.h?$APP.dl.h(1,S):$APP.dl.call(null,1,S)))return S=T3(I,1),c.g?c.g(S):c.call(null,S);if($APP.k($APP.dl.h?$APP.dl.h(2,S):$APP.dl.call(null,2,S)))return Infinity;
if($APP.k($APP.dl.h?$APP.dl.h(3,S):$APP.dl.call(null,3,S)))return-Infinity;if($APP.k($APP.dl.h?$APP.dl.h(4,S):$APP.dl.call(null,4,S)))return NaN;throw $APP.Zl.h(["Unexpected value marker ",$APP.xj.l($APP.z([S]))," in ",$APP.xj.l($APP.z([$APP.xj.l($APP.z([I]))]))].join(""),new $APP.h(null,2,[$APP.Ln,smb,$APP.GI,I],null));}();else throw $APP.Zl.h(["Unexpected value type ",$APP.xj.l($APP.z([$APP.Kb(I)]))," (",$APP.xj.l($APP.z([$APP.xj.l($APP.z([I]))])),")"].join(""),new $APP.h(null,2,[$APP.Ln,smb,$APP.GI,
I],null));B=e+T3(B,3);return g1.F(C,E,P,B)},U3(a,"eavt"));d=function(){var B=U3(a,"aevt");return null==B?null:V3(function(C){return u[C]},B)}();var t=function(){var B=U3(a,"avet");return null==B?null:V3(function(C){return u[C]},B)}();b=$APP.Kl.l($APP.z([new $APP.h(null,2,[b1,U3(a,"branching-factor"),bhb,function(){var B=U3(a,"ref-type");return null==B?null:$APP.gj.g(B)}()],null),$APP.yi(b,new $APP.H(null,2,5,$APP.J,[b1,bhb],null))]));return X2(new $APP.h(null,6,[$APP.A1,f,$APP.B1,Y0(j1,u,b),C1,Y0(k1,
d,b),t1,Y0(l1,t,b),D1,U3(a,"max-eid"),E1,U3(a,"max-tx")],null))};R6.B=2;$APP.g=d4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.A.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.M.h($APP.Sg,this.o))};
$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue($APP.Bi,b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new d4(this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Ue(this.o,b)};$APP.g.O=function(a,b,c){return new d4(this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new d4(b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};
$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return c};$APP.g.Hb=function(a,b){return b};$APP.g=e4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Am,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.Am],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new e4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new e4(this.Pa,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Am,b):$APP.G.call(null,$APP.Am,b))?new e4(c,this.A,this.o,null):new e4(this.Pa,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new e4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=f4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Am,this.Pa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.Am],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new f4(this.Pa,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new f4(this.Pa,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Am,b):$APP.G.call(null,$APP.Am,b))?new f4(c,this.A,this.o,null):new f4(this.Pa,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new f4(this.Pa,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;
$APP.g.Gb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=g4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.A.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.M.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new g4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue($APP.Bi,b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new g4(this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Ue(this.o,b)};$APP.g.O=function(a,b,c){return new g4(this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new g4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return c};$APP.g.Hb=function(a,b){return b};$APP.g=h4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.A.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.M.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new h4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue($APP.Bi,b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new h4(this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Ue(this.o,b)};$APP.g.O=function(a,b,c){return new h4(this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new h4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return c};$APP.g.Hb=function(a,b){return b};$APP.g=i4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.GI,this.value],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.GI],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new i4(this.value,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.GI,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new i4(this.value,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.GI,b):$APP.G.call(null,$APP.GI,b))?new i4(c,this.A,this.o,null):new i4(this.value,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.GI,this.value,null)],null),this.o))};$APP.g.V=function(a,b){return new i4(this.value,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;
$APP.g.Gb=function(a,b,c){return Z3(b,this.value,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.value):Q4.call(null,b,this.value)};$APP.g=j4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Am,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.Am],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new j4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new j4(this.Pa,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Am,b):$APP.G.call(null,$APP.Am,b))?new j4(c,this.A,this.o,null):new j4(this.Pa,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new j4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=n4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "required":return this.required;case "free":return this.ye;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.YG,this.required],null),new $APP.H(null,2,5,$APP.J,[o4,this.ye],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.YG,o4],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new n4(this.required,this.ye,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.required,b.required)&&$APP.x.h(this.ye,b.ye)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[o4,null,$APP.YG,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new n4(this.required,this.ye,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "required":case "free":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.YG,b):$APP.G.call(null,$APP.YG,b))?new n4(c,this.ye,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(o4,b):$APP.G.call(null,o4,b))?new n4(this.required,c,this.A,this.o,null):new n4(this.required,this.ye,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.YG,this.required,null),new $APP.Ve(o4,this.ye,null)],null),this.o))};$APP.g.V=function(a,b){return new n4(this.required,this.ye,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.ye,Z3(b,this.required,c))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.required):Q4.call(null,b,this.required);b=this.ye;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=q4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.A.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.M.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new q4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue($APP.Bi,b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new q4(this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Ue(this.o,b)};$APP.g.O=function(a,b,c){return new q4(this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new q4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return c};$APP.g.Hb=function(a,b){return b};$APP.g=r4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "variable":return this.fc;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[h5,this.fc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[h5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new r4(this.fc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[h5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new r4(this.fc,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "variable":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(h5,b):$APP.G.call(null,h5,b))?new r4(c,this.A,this.o,null):new r4(this.fc,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(h5,this.fc,null)],null),this.o))};$APP.g.V=function(a,b){return new r4(this.fc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.fc,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.fc):Q4.call(null,b,this.fc)};$APP.g=s4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "bindings":return this.Fa;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Aq,this.Fa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.Aq],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new s4(this.Fa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Fa,b.Fa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.Aq,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new s4(this.Fa,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "bindings":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Aq,b):$APP.G.call(null,$APP.Aq,b))?new s4(c,this.A,this.o,null):new s4(this.Fa,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.Aq,this.Fa,null)],null),this.o))};$APP.g.V=function(a,b){return new s4(this.Fa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Fa,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.Fa):Q4.call(null,b,this.Fa)};$APP.g=t4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "binding":return this.dc;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[P5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new t4(this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[P5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new t4(this.dc,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "binding":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(P5,b):$APP.G.call(null,P5,b))?new t4(c,this.A,this.o,null):new t4(this.dc,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new t4(this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.dc,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.dc):Q4.call(null,b,this.dc)};
e4.prototype.pi=function(){return new $APP.H(null,1,5,$APP.J,[this.Pa],null)};$APP.g=w4.prototype;$APP.g.pi=function(){return v4($APP.oe(this.Ba))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.In,this.na],null),new $APP.H(null,2,5,$APP.J,[$APP.dn,this.Ba],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.In,$APP.dn],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new w4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.dn,null,$APP.In,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new w4(this.na,this.Ba,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.In,b):$APP.G.call(null,$APP.In,b))?new w4(c,this.Ba,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.dn,b):$APP.G.call(null,$APP.dn,b))?new w4(this.na,c,this.A,this.o,null):new w4(this.na,this.Ba,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.In,this.na,null),new $APP.Ve($APP.dn,this.Ba,null)],null),this.o))};
$APP.g.V=function(a,b){return new w4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=x4.prototype;$APP.g.pi=function(){return v4(this.fc)};$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "variable":return this.fc;case "pattern":return this.pattern;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Jl,this.source],null),new $APP.H(null,2,5,$APP.J,[h5,this.fc],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[$APP.Jl,h5,$APP.JF],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new x4(this.source,this.fc,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[h5,null,$APP.Jl,null,$APP.JF,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new x4(this.source,this.fc,this.pattern,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Jl,b):$APP.G.call(null,$APP.Jl,b))?new x4(c,this.fc,this.pattern,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(h5,b):$APP.G.call(null,h5,b))?new x4(this.source,c,this.pattern,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):$APP.G.call(null,$APP.JF,b))?new x4(this.source,this.fc,c,this.A,this.o,null):new x4(this.source,this.fc,this.pattern,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve($APP.Jl,this.source,null),new $APP.Ve(h5,this.fc,null),new $APP.Ve($APP.JF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new x4(this.source,this.fc,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.fc,Z3(b,this.source,c)))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.fc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=z4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[Y5,this.elements],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[Y5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new z4(this.elements,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new z4(this.elements,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(Y5,b):$APP.G.call(null,Y5,b))?new z4(c,this.A,this.o,null):new z4(this.elements,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new z4(this.elements,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;
$APP.g.Gb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=A4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[Z5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new A4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new A4(this.element,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.H(null,1,5,$APP.J,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(Z5,b):$APP.G.call(null,Z5,b))?new A4(c,this.A,this.o,null):new A4(this.element,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new A4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=B4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[Z5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new B4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new B4(this.element,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.H(null,1,5,$APP.J,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(Z5,b):$APP.G.call(null,Z5,b))?new B4(c,this.A,this.o,null):new B4(this.element,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new B4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=C4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[Y5,this.elements],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[Y5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new C4(this.elements,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new C4(this.elements,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(Y5,b):$APP.G.call(null,Y5,b))?new C4(c,this.A,this.o,null):new C4(this.elements,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new C4(this.elements,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=E4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "type":return this.type;case "symbols":return this.He;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Ql,this.type],null),new $APP.H(null,2,5,$APP.J,[b5,this.He],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.Ql,b5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new E4(this.type,this.He,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.type,b.type)&&$APP.x.h(this.He,b.He)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.Ql,null,b5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new E4(this.type,this.He,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "type":case "symbols":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Ql,b):$APP.G.call(null,$APP.Ql,b))?new E4(c,this.He,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(b5,b):$APP.G.call(null,b5,b))?new E4(this.type,c,this.A,this.o,null):new E4(this.type,this.He,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.Ql,this.type,null),new $APP.Ve(b5,this.He,null)],null),this.o))};$APP.g.V=function(a,b){return new E4(this.type,this.He,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.He,Z3(b,this.type,c))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.type):Q4.call(null,b,this.type);b=this.He;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=F4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Jl,this.source],null),new $APP.H(null,2,5,$APP.J,[$APP.JF,this.pattern],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.Jl,$APP.JF],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new F4(this.source,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.Jl,null,$APP.JF,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new F4(this.source,this.pattern,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "pattern":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Jl,b):$APP.G.call(null,$APP.Jl,b))?new F4(c,this.pattern,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.JF,b):$APP.G.call(null,$APP.JF,b))?new F4(this.source,c,this.A,this.o,null):new F4(this.source,this.pattern,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.Jl,this.source,null),new $APP.Ve($APP.JF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new F4(this.source,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.source,c))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=G4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.In,this.na],null),new $APP.H(null,2,5,$APP.J,[$APP.dn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.In,$APP.dn],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new G4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.dn,null,$APP.In,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new G4(this.na,this.Ba,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Ue(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.In,b):$APP.G.call(null,$APP.In,b))?new G4(c,this.Ba,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.dn,b):$APP.G.call(null,$APP.dn,b))?new G4(this.na,c,this.A,this.o,null):new G4(this.na,this.Ba,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.In,this.na,null),new $APP.Ve($APP.dn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new G4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=H4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;case "binding":return this.dc;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.In,this.na],null),new $APP.H(null,2,5,$APP.J,[$APP.dn,this.Ba],null),new $APP.H(null,2,5,$APP.J,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[$APP.In,$APP.dn,P5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new H4(this.na,this.Ba,this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[$APP.dn,null,$APP.In,null,P5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new H4(this.na,this.Ba,this.dc,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":case "binding":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.In,b):$APP.G.call(null,$APP.In,b))?new H4(c,this.Ba,this.dc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.dn,b):$APP.G.call(null,$APP.dn,b))?new H4(this.na,c,this.dc,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(P5,b):$APP.G.call(null,P5,b))?new H4(this.na,this.Ba,c,this.A,this.o,null):new H4(this.na,this.Ba,this.dc,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve($APP.In,this.na,null),new $APP.Ve($APP.dn,this.Ba,null),new $APP.Ve(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new H4(this.na,this.Ba,this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.dc,Z3(b,this.Ba,Z3(b,this.na,c)))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.dc;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=I4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "name":return this.name;case "args":return this.Ba;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Jl,this.source],null),new $APP.H(null,2,5,$APP.J,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.J,[$APP.dn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[$APP.Jl,$APP.Q,$APP.dn],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new I4(this.source,this.name,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[$APP.dn,null,$APP.Q,null,$APP.Jl,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new I4(this.source,this.name,this.Ba,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "name":case "args":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Jl,b):$APP.G.call(null,$APP.Jl,b))?new I4(c,this.name,this.Ba,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.Q,b):$APP.G.call(null,$APP.Q,b))?new I4(this.source,c,this.Ba,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.dn,b):$APP.G.call(null,$APP.dn,b))?new I4(this.source,this.name,c,this.A,this.o,null):new I4(this.source,this.name,this.Ba,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve($APP.Jl,this.source,null),new $APP.Ve($APP.Q,this.name,null),new $APP.Ve($APP.dn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new I4(this.source,this.name,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.name,Z3(b,this.source,c)))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.name;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=J4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "vars":return this.hc;case "clauses":return this.Ha;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Jl,this.source],null),new $APP.H(null,2,5,$APP.J,[$APP.fI,this.hc],null),new $APP.H(null,2,5,$APP.J,[$APP.qK,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[$APP.Jl,$APP.fI,$APP.qK],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new J4(this.source,this.hc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[$APP.Jl,null,$APP.qK,null,$APP.fI,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new J4(this.source,this.hc,this.Ha,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Jl,b):$APP.G.call(null,$APP.Jl,b))?new J4(c,this.hc,this.Ha,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.fI,b):$APP.G.call(null,$APP.fI,b))?new J4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.qK,b):$APP.G.call(null,$APP.qK,b))?new J4(this.source,this.hc,c,this.A,this.o,null):new J4(this.source,this.hc,this.Ha,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve($APP.Jl,this.source,null),new $APP.Ve($APP.fI,this.hc,null),new $APP.Ve($APP.qK,this.Ha,null)],null),this.o))};$APP.g.V=function(a,b){return new J4(this.source,this.hc,this.Ha,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.hc,Z3(b,this.source,c)))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.hc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ha;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=K4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "rule-vars":return this.Wd;case "clauses":return this.Ha;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Jl,this.source],null),new $APP.H(null,2,5,$APP.J,[O4,this.Wd],null),new $APP.H(null,2,5,$APP.J,[$APP.qK,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[$APP.Jl,O4,$APP.qK],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K4(this.source,this.Wd,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.Wd,b.Wd)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[O4,null,$APP.Jl,null,$APP.qK,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new K4(this.source,this.Wd,this.Ha,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Jl,b):$APP.G.call(null,$APP.Jl,b))?new K4(c,this.Wd,this.Ha,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(O4,b):$APP.G.call(null,O4,b))?new K4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.qK,b):$APP.G.call(null,$APP.qK,b))?new K4(this.source,this.Wd,c,this.A,this.o,null):new K4(this.source,this.Wd,this.Ha,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve($APP.Jl,this.source,null),new $APP.Ve(O4,this.Wd,null),new $APP.Ve($APP.qK,this.Ha,null)],null),this.o))};$APP.g.V=function(a,b){return new K4(this.source,this.Wd,this.Ha,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.Wd,Z3(b,this.source,c)))};
$APP.g.Hb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.Wd;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ha;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=L4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "clauses":return this.Ha;default:return $APP.A.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.qK,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.H(null,1,5,$APP.J,[$APP.qK],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L4(this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,1,[$APP.qK,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new L4(this.Ha,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "clauses":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.qK,b):$APP.G.call(null,$APP.qK,b))?new L4(c,this.A,this.o,null):new L4(this.Ha,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,1,5,$APP.J,[new $APP.Ve($APP.qK,this.Ha,null)],null),this.o))};$APP.g.V=function(a,b){return new L4(this.Ha,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;
$APP.g.Gb=function(a,b,c){return Z3(b,this.Ha,c)};$APP.g.Hb=function(a,b){return Q4.h?Q4.h(b,this.Ha):Q4.call(null,b,this.Ha)};var Q4=function Q4(a,b){return b instanceof e4?$APP.xf.h(a,b):b instanceof J4?$APP.Eh.h(a,b.hc):b instanceof K4?(b=b.Wd,Q4.h?Q4.h(a,b):Q4.call(null,a,b)):(null!=b?$APP.yd===b.Fb||(b.kd?0:$APP.Jb(W3,b)):$APP.Jb(W3,b))?njb(b,a):$APP.Be(b)?$APP.cf.j(Q4,a,b):a};$APP.g=S4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "vars":return this.hc;case "clauses":return this.Ha;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.fI,this.hc],null),new $APP.H(null,2,5,$APP.J,[$APP.qK,this.Ha],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.fI,$APP.qK],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new S4(this.hc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.qK,null,$APP.fI,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new S4(this.hc,this.Ha,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "vars":case "clauses":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.fI,b):$APP.G.call(null,$APP.fI,b))?new S4(c,this.Ha,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.qK,b):$APP.G.call(null,$APP.qK,b))?new S4(this.hc,c,this.A,this.o,null):new S4(this.hc,this.Ha,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.fI,this.hc,null),new $APP.Ve($APP.qK,this.Ha,null)],null),this.o))};
$APP.g.V=function(a,b){return new S4(this.hc,this.Ha,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.hc,c))};$APP.g.Hb=function(a,b){return Q4(Q4(b,this.hc),this.Ha)};$APP.g=T4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "name":return this.name;case "branches":return this.oe;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.J,[T5,this.oe],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[$APP.Q,T5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new T4(this.name,this.oe,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.oe,b.oe)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[$APP.Q,null,T5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new T4(this.name,this.oe,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "name":case "branches":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h($APP.Q,b):$APP.G.call(null,$APP.Q,b))?new T4(c,this.oe,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(T5,b):$APP.G.call(null,T5,b))?new T4(this.name,c,this.A,this.o,null):new T4(this.name,this.oe,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve($APP.Q,this.name,null),new $APP.Ve(T5,this.oe,null)],null),this.o))};
$APP.g.V=function(a,b){return new T4(this.name,this.oe,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.oe,Z3(b,this.name,c))};$APP.g.Hb=function(a,b){return Q4(Q4(b,this.name),this.oe)};$APP.g=V4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "qfind":return this.Jd;case "qwith":return this.Nd;case "qreturn-map":return this.Ld;case "qin":return this.Kd;case "qwhere":return this.Md;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[W4,this.Jd],null),new $APP.H(null,2,5,$APP.J,[X4,this.Nd],null),new $APP.H(null,2,5,$APP.J,[Y4,this.Ld],null),new $APP.H(null,2,5,$APP.J,[Z4,this.Kd],null),new $APP.H(null,2,5,$APP.J,[$4,this.Md],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.H(null,5,5,$APP.J,[W4,X4,Y4,Z4,$4],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Pd(this)};
$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jd,b.Jd)&&$APP.x.h(this.Nd,b.Nd)&&$APP.x.h(this.Ld,b.Ld)&&$APP.x.h(this.Kd,b.Kd)&&$APP.x.h(this.Md,b.Md)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,5,[W4,null,$4,null,Z4,null,X4,null,Y4,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(W4,b):$APP.G.call(null,W4,b))?new V4(c,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(X4,b):$APP.G.call(null,X4,b))?new V4(this.Jd,c,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(Y4,b):$APP.G.call(null,Y4,b))?new V4(this.Jd,this.Nd,c,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(Z4,b):$APP.G.call(null,Z4,b))?new V4(this.Jd,this.Nd,this.Ld,c,this.Md,this.A,this.o,null):$APP.k($APP.G.h?
$APP.G.h($4,b):$APP.G.call(null,$4,b))?new V4(this.Jd,this.Nd,this.Ld,this.Kd,c,this.A,this.o,null):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,5,5,$APP.J,[new $APP.Ve(W4,this.Jd,null),new $APP.Ve(X4,this.Nd,null),new $APP.Ve(Y4,this.Ld,null),new $APP.Ve(Z4,this.Kd,null),new $APP.Ve($4,this.Md,null)],null),this.o))};
$APP.g.V=function(a,b){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g.Fb=$APP.yd;$APP.g.Gb=function(a,b,c){return Z3(b,this.Md,Z3(b,this.Kd,Z3(b,this.Ld,Z3(b,this.Nd,Z3(b,this.Jd,c)))))};$APP.g.Hb=function(a,b){return Q4(Q4(Q4(Q4(Q4(b,this.Jd),this.Nd),this.Ld),this.Kd),this.Md)};var tob=e0();$APP.g=c5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "rels":return this.cf;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[j5,this.cf],null),new $APP.H(null,2,5,$APP.J,[i5,this.sources],null),new $APP.H(null,2,5,$APP.J,[$APP.nG,this.rules],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.H(null,3,5,$APP.J,[j5,i5,$APP.nG],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new c5(this.cf,this.sources,this.rules,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.cf,b.cf)&&$APP.x.h(this.sources,b.sources)&&$APP.x.h(this.rules,b.rules)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,3,[i5,null,$APP.nG,null,j5,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new c5(this.cf,this.sources,this.rules,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(j5,b):$APP.G.call(null,j5,b))?new c5(c,this.sources,this.rules,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(i5,b):$APP.G.call(null,i5,b))?new c5(this.cf,c,this.rules,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h($APP.nG,b):$APP.G.call(null,$APP.nG,b))?new c5(this.cf,this.sources,c,this.A,this.o,null):new c5(this.cf,this.sources,this.rules,this.A,$APP.xi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,3,5,$APP.J,[new $APP.Ve(j5,this.cf,null),new $APP.Ve(i5,this.sources,null),new $APP.Ve($APP.nG,this.rules,null)],null),this.o))};$APP.g.V=function(a,b){return new c5(this.cf,this.sources,this.rules,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};$APP.g=d5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "tuples":return this.zf;default:return $APP.A.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.cf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.ej,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[x3,this.ta],null),new $APP.H(null,2,5,$APP.J,[n5,this.zf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.H(null,2,5,$APP.J,[x3,n5],null),$APP.k(this.o)?$APP.nd(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new d5(this.ta,this.zf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.de(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Pd(this)};$APP.g.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.zf,b.zf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Ue(new $APP.Ai(null,new $APP.h(null,2,[n5,null,x3,null],null),null),b)?$APP.Ll.h($APP.xc($APP.Eh.h($APP.Wf,this),this.A),b):new d5(this.ta,this.zf,this.A,$APP.Yf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "tuples":return!0;default:return $APP.Ue(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.G.h?$APP.G.h(x3,b):$APP.G.call(null,x3,b))?new d5(c,this.zf,this.A,this.o,null):$APP.k($APP.G.h?$APP.G.h(n5,b):$APP.G.call(null,n5,b))?new d5(this.ta,c,this.A,this.o,null):new d5(this.ta,this.zf,this.A,$APP.xi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.M.h(new $APP.H(null,2,5,$APP.J,[new $APP.Ve(x3,this.ta,null),new $APP.Ve(n5,this.zf,null)],null),this.o))};$APP.g.V=function(a,b){return new d5(this.ta,this.zf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.cf.j($APP.Wb,this,b)};
var S6=function S6(a,b){return $APP.x.h($APP.vH,a)?!0:$APP.x.h(new $APP.H(null,1,5,$APP.J,[$APP.qH],null),a)?$APP.Be(b):a instanceof $APP.q?$APP.x.h(b,a):$APP.Be(a)?$APP.x.h($APP.oe(a),$APP.qH)?$APP.Be(b)&&$APP.ng(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.fj.j($APP.Kw,$APP.Fi(a),b)):$APP.Be(b)&&$APP.x.h($APP.de(b),$APP.de(a))&&$APP.ng(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.fj.j($APP.Kw,
a,b)):a.g?a.g(b):a.call(null,b)},t5=function t5(a,b){var d=$APP.Xf(a),e=$APP.A.h(d,x3);d=$APP.A.h(d,n5);var f=$APP.Xf(b),m=$APP.A.h(f,x3);f=$APP.A.h(f,n5);if($APP.x.h(e,m))return new d5(e,$APP.Eh.h($APP.ef(d),f),null,null,null);if($APP.xe(d))return b;if($APP.xe(f))return a;if(ikb(e,m)){if($APP.ng($APP.Bb,$APP.vi(e)))return mkb(e,d,m,f);a=$APP.Ii($APP.ti(e),$APP.Xn.D());e=mkb(a,$APP.Sg,e,d);return t5.h?t5.h(e,b):t5.call(null,e,b)}throw $APP.Zl.h(["Can’t sum relations with different attrs: ",$APP.xj.l($APP.z([e])),
" and ",$APP.xj.l($APP.z([m]))].join(""),new $APP.h(null,1,[$APP.Ln,s5],null));},r5=function r5(a){switch(arguments.length){case 0:return r5.D();case 2:return r5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};r5.D=function(){return new d5($APP.Wf,new $APP.H(null,1,5,$APP.J,[[]],null),null,null,null)};
r5.h=function(a,b){var c=$APP.ti(x3.g(a)),d=$APP.ti(x3.g(b)),e=$APP.df($APP.fj.h(x3.g(a),c)),f=$APP.df($APP.fj.h(x3.g(b),d));return new d5($APP.Ii($APP.M.h(c,d),$APP.Xn.D()),$APP.Wc($APP.cf.j(function(m,p){return $APP.cf.j(function(u,t){return $APP.Rg.h(u,lkb(p,e,t,f))},m,n5.g(b))},$APP.Uc($APP.Sg),n5.g(a))),null,null,null)};r5.B=2;q4.prototype.xh=function(){return r5.D()};
r4.prototype.xh=function(a,b){return new d5($APP.Vf([$APP.up.h(this,new $APP.H(null,2,5,$APP.J,[h5,$APP.Am],null)),0]),new $APP.H(null,1,5,$APP.J,[$APP.zs.g(new $APP.H(null,1,5,$APP.J,[b],null))],null),null,null,null)};
t4.prototype.xh=function(a,b){var c=this;if(ehb(b))return $APP.xe(b)?nkb(c):$APP.cf.h(t5,$APP.fj.h(function(d){return g5(c.dc,d)},b));throw $APP.Zl.h(["Cannot bind value ",$APP.xj.l($APP.z([b]))," to collection ",$APP.xj.l($APP.z([c4(c)]))].join(""),new $APP.h(null,3,[$APP.Ln,vmb,$APP.GI,b,P5,c4(c)],null));};
s4.prototype.xh=function(a,b){if(ehb(b)){if($APP.de(b)<$APP.de(this.Fa))throw $APP.Zl.h(["Not enough elements in a collection ",$APP.xj.l($APP.z([b]))," to bind tuple ",$APP.xj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Ln,vmb,$APP.GI,b,P5,c4(this)],null));return $APP.cf.h(r5,$APP.fj.j(function(c,d){return g5(c,d)},this.Fa,b))}throw $APP.Zl.h(["Cannot bind value ",$APP.xj.l($APP.z([b]))," to tuple ",$APP.xj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Ln,vmb,$APP.GI,b,P5,c4(this)],
null));};var k5=null,l5=null,Ikb=$APP.zj.g(0),w5=function w5(a){switch(arguments.length){case 2:return w5.h(arguments[0],arguments[1]);case 3:return w5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w5.h=function(a,b){return w5.j(a,b,b)};
w5.j=function(a,b,c){for(;;){var d=S6,e=b;if($APP.k(function(){var ca=new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Cd,$APP.qH],null)],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ke(b)),b),Fkb(a,b);if($APP.k(function(){var ca=new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.Cd,$APP.qH],null),$APP.vH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ke(b)),b),Gkb(a,b);if($APP.k(function(){var ca=
new $APP.H(null,2,5,$APP.J,[jkb,$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){var f=$APP.r(b);c=$APP.v(f);f=$APP.w(f);var m=l5;l5=$APP.A.h(i5.g(a),c);try{return w5.j(a,f,b)}finally{l5=m}}else{if($APP.k(function(){var ca=new $APP.H(null,2,5,$APP.J,[$APP.pt,$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){var p=b,u=$APP.r(p),t=$APP.v(u),B=$APP.w(u);f=t;m=B;var C=Qkb(D5(a),m,b),E=$APP.fj.h(function(ca){return function(ka){return F5.h?F5.h(ca,ka):F5.call(null,ca,ka)}}(a,
b,c,p,u,t,B,f,m,C,d,e),m);b=$APP.fj.h(function(){return function(ca){return $APP.cf.h(o5,j5.g(ca))}}(a,b,c,p,u,t,B,f,m,C,E,d,e),E);return $APP.xi.j($APP.v(E),j5,new $APP.H(null,1,5,$APP.J,[$APP.cf.h(t5,b)],null))}if($APP.k(function(){var ca=new $APP.H(null,3,5,$APP.J,[R4,new $APP.H(null,2,5,$APP.J,[new $APP.H(null,1,5,$APP.J,[$APP.qH],null),$APP.qH],null),$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){m=$APP.r(b);f=$APP.v(m);m=$APP.w(m);p=$APP.v(m);f=$APP.w(m);p=$APP.r(p);m=$APP.v(p);
p=$APP.w(p);C=m;m=f;f=D5(a);E5(f,C,c);Rkb(f,p,m);c=$APP.Hs.j(R4,$APP.M.h(C,p),m);f=b;b=c;c=f;continue}else{if($APP.k(function(){var ca=new $APP.H(null,3,5,$APP.J,[R4,new $APP.H(null,1,5,$APP.J,[$APP.qH],null),$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){t=b;B=$APP.r(t);var I=$APP.v(B),P=$APP.w(B);f=I;var S=$APP.v(P),V=$APP.w(P);p=S;m=V;var aa=$APP.Ei(p);C=Rkb(D5(a),aa,m);u=C5(a,aa);E=$APP.fj.h(function(ca,ka,ma,ua,Ea,da,Z,Y,U,X,va,Ga,ia,sa,xa){return function(Ba){return C5(F5.h?
F5.h(xa,Ba):F5.call(null,xa,Ba),ia)}}(a,b,c,t,B,I,P,f,S,V,p,m,aa,C,u,d,e),m);b=$APP.fj.h(function(){return function(ca){return $APP.cf.h(o5,j5.g(ca))}}(a,b,c,t,B,I,P,f,S,V,p,m,aa,C,u,E,d,e),E);b=$APP.cf.h(t5,b);return $APP.bn.F(a,j5,q5,b)}if($APP.k(function(){var ca=new $APP.H(null,2,5,$APP.J,[$APP.kt,$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}()))return c=$APP.r(b),b=$APP.v(c),c=$APP.w(c),f=b,b=c,$APP.cf.j(F5,a,b);if($APP.k(function(){var ca=new $APP.H(null,2,5,$APP.J,[$APP.QC,
$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){f=$APP.r(b);b=$APP.v(f);m=$APP.w(f);f=b;b=m;f=D5(a);m=$APP.Ei(v5(b));if($APP.xe($APP.fx.h(f,m)))throw $APP.Zl.h(["Insufficient bindings: none of ",$APP.xj.l($APP.z([m]))," is bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,s5,$APP.EB,c],null));C=null;a=$APP.xi.j(a,j5,new $APP.H(null,1,5,$APP.J,[$APP.cf.h(o5,j5.g(a))],null));b=$APP.cf.j(F5,a,b);b=ukb($APP.v(j5.g(a)),$APP.cf.h(o5,j5.g(b)));return $APP.xi.j(a,j5,
new $APP.H(null,1,5,$APP.J,[b],null))}if($APP.k(function(){var ca=new $APP.H(null,3,5,$APP.J,[Rjb,new $APP.H(null,1,5,$APP.J,[$APP.qH],null),$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}()))return b=$APP.r(b),f=$APP.v(b),b=$APP.w(b),f=$APP.v(b),b=$APP.w(b),p=f,f=D5(a),C=E5(f,p,c),a=$APP.xi.j(a,j5,new $APP.H(null,1,5,$APP.J,[$APP.cf.h(o5,j5.g(a))],null)),u=C5(a,p),b=C5($APP.cf.j(F5,u,b),p),b=ukb($APP.v(j5.g(a)),$APP.cf.h(o5,j5.g(b))),$APP.xi.j(a,j5,new $APP.H(null,1,5,$APP.J,[b],null));
if($APP.k(function(){var ca=new $APP.H(null,1,5,$APP.J,[$APP.qH],null),ka=e;return d.h?d.h(ca,ka):d.call(null,ca,ka)}())){c=l5;b=xkb(c,b);f=Akb(a,c,b);m=k5;k5=(null!=c?$APP.yd===c.oj||(c.kd?0:$APP.Jb(w1,c)):$APP.Jb(w1,c))?Pkb(c,b):k5;try{return $APP.bn.F(a,j5,q5,f)}finally{k5=m}}else throw Error(["No matching clause: ",$APP.l.g(e)].join(""));}}break}};w5.B=3;
var F5=function F5(a,b){if($APP.k($APP.og($APP.sq.h($APP.xe,n5),j5.g(a))))return a;if(Hkb(a,b))if(jkb($APP.v(b))){var d=l5;l5=$APP.A.h(i5.g(a),$APP.v(b));try{var e=$APP.w(b);return F5.h?F5.h(a,e):F5.call(null,a,e)}finally{l5=d}}else return $APP.bn.F(a,j5,q5,Okb(a,b));else return w5.h(a,b)};e4.prototype.yh=function(a,b){return Bkb(b,this.Pa)};f4.prototype.yh=function(a,b){return $APP.up.h(b,new $APP.H(null,2,5,$APP.J,[i5,this.Pa],null))};
j4.prototype.yh=function(){var a=$APP.A.h(sob,this.Pa);return $APP.k(a)?a:null};i4.prototype.yh=function(){return this.value};z4.prototype.zh=function(a,b,c){return null==b?c:$kb(b,c)};A4.prototype.zh=function(a,b,c){return $APP.Eh.j($APP.Sg,$APP.fj.g($APP.v),c)};B4.prototype.zh=function(a,b,c){return $APP.je(c)};C4.prototype.zh=function(a,b,c){return null!=b?$APP.v($kb(b,new $APP.H(null,1,5,$APP.J,[$APP.v(c)],null))):$APP.v(c)};
var T6=function T6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return T6.l(arguments[0],1<c.length?new $APP.Hd(c.slice(1),0,null):null)};
T6.l=function(a,b){var c=c0(tob,a,function(){return gkb(a)}),d=W4.g(c),e=y4(d),f=$APP.Og.l(v4,$APP.z([y4(d)])),m=$APP.de(e),p=X4.g(c);p=$APP.M.h(f,$APP.fj.h($APP.Am,p));f=$APP.Be(a)?Zjb(a):a;var u=$APP.Yqa.g(f);b=rkb(new c5($APP.Sg,$APP.Wf,$APP.Wf,null,null,null),Z4.g(c),b);p=Vkb(Skb(b,u),p);f=$APP.k(ekb.g(f))?$APP.qn.h(function(t){return $APP.ef($APP.el.j(t,0,m))},p):p;f=$APP.k($APP.og(Ajb,e))?Ykb(e,b,f):f;e=$APP.k($APP.og(Bjb,e))?blb(e,b,f):f;return alb(d,Y4.g(c),e)};T6.B=1;
T6.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};var U6=function U6(a){switch(arguments.length){case 0:return U6.D();case 1:return U6.g(arguments[0]);case 2:return U6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};U6.D=function(){return $1(null,$APP.Wf)};U6.g=function(a){return $1(a,$APP.Wf)};U6.h=function(a,b){return $1(a,Y2(b))};U6.B=2;
var V6=function V6(a){switch(arguments.length){case 1:return V6.g(arguments[0]);case 2:return V6.h(arguments[0],arguments[1]);case 3:return V6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};V6.g=function(a){return a2(a,null,$APP.Wf)};V6.h=function(a,b){return a2(a,b,$APP.Wf)};V6.j=function(a,b,c){return a2(a,b,Y2(c))};V6.B=3;
var W6=function W6(a){switch(arguments.length){case 2:return W6.h(arguments[0],arguments[1]);case 3:return W6.j(arguments[0],arguments[1],arguments[2]);case 4:return W6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return W6.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return W6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
W6.h=function(a,b){return p1(a,b,null,null,null,null)};W6.j=function(a,b,c){return p1(a,b,c,null,null,null)};W6.F=function(a,b,c,d){return p1(a,b,c,d,null,null)};W6.S=function(a,b,c,d,e){return p1(a,b,c,d,e,null)};W6.ma=function(a,b,c,d,e,f){return p1(a,b,c,d,e,f)};W6.B=6;
var X6=function X6(a){switch(arguments.length){case 2:return X6.h(arguments[0],arguments[1]);case 3:return X6.j(arguments[0],arguments[1],arguments[2]);case 4:return X6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X6.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
X6.h=function(a,b){return q1(a,b,null,null,null,null)};X6.j=function(a,b,c){return q1(a,b,c,null,null,null)};X6.F=function(a,b,c,d){return q1(a,b,c,d,null,null)};X6.S=function(a,b,c,d,e){return q1(a,b,c,d,e,null)};X6.ma=function(a,b,c,d,e,f){return q1(a,b,c,d,e,f)};X6.B=6;
var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.h(arguments[0],arguments[1]);case 3:return Y6.j(arguments[0],arguments[1],arguments[2]);case 4:return Y6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Y6.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Y6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
Y6.h=function(a,b){return r1(a,b,null,null,null,null)};Y6.j=function(a,b,c){return r1(a,b,c,null,null,null)};Y6.F=function(a,b,c,d){return r1(a,b,c,d,null,null)};Y6.S=function(a,b,c,d,e){return r1(a,b,c,d,e,null)};Y6.ma=function(a,b,c,d,e,f){return r1(a,b,c,d,e,f)};Y6.B=6;
for(var uob=$APP.r(new $APP.h(null,2,[Vmb,$APP.h1,fob,$APP.c2],null)),vob=null,wob=0,Z6=0;;)if(Z6<wob){var xob=vob.ha(null,Z6),yob=$APP.y.j(xob,0,null),zob=$APP.y.j(xob,1,null),Aob=yob,Bob=zob;$APP.A.h($APP.n($APP.JK),Aob);$APP.Aj.F($APP.JK,$APP.xi,Aob,Bob);Z6+=1}else{var Cob=$APP.r(uob);if(Cob){var $6=Cob;if($APP.Fe($6)){var Dob=$APP.ed($6),Eob=$APP.fd($6),Fob=Dob,Gob=$APP.de(Dob);uob=Eob;vob=Fob;wob=Gob}else{var Hob=$APP.v($6),Iob=$APP.y.j(Hob,0,null),Job=$APP.y.j(Hob,1,null),Kob=Iob,Lob=Job;$APP.A.h($APP.n($APP.JK),
Kob);$APP.Aj.F($APP.JK,$APP.xi,Kob,Lob);uob=$APP.w($6);vob=null;wob=0}Z6=0}else break}$APP.zj.g(-1E6);var a7=$APP.kN.h($APP.dJ,null),b7=$APP.kN.h($APP.gK,null),c7=$APP.kN.h($APP.AJ,null),Mob=$APP.kN.h($APP.aJ,null),Nob=$APP.gi([jmb,Smb,slb,dob,$APP.PH,Mnb,S5,Pnb,qmb,Tmb,vnb,lmb,wnb,Ynb,R5,Inb,$nb,iob,job,eob,rnb,Snb,hob,$APP.WE,aob,U5,Unb,mnb,Cjb,Mlb,Dnb],[function(){var a=new $APP.Ed(function(){return c3},Dlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,jmb,"datascript/core.cljc",60,1,267,267,$APP.Kd,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.k(c3)?c3.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return P6},pob,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Smb,"datascript/core.cljc",
12,1,119,129,$APP.Kd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.k(P6)?P6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return h3},Hnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,slb,"datascript/core.cljc",9,1,26,76,g6,$APP.Kd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(h3)?h3.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return v6},vlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,dob,"datascript/core.cljc",
54,1,702,702,$APP.Kd,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.k(v6)?v6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return T6},qlb,$APP.gi([$APP.R,$APP.Q,
$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,$APP.PH,"datascript/core.cljc",4,1,133,145,$APP.Kd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.k(T6)?T6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?
null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return B6},Gmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Mnb,"datascript/core.cljc",65,1,565,565,$APP.Kd,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(B6)?B6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return g1},Tnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,S5,"datascript/core.cljc",
8,1,181,188,b6,$APP.Kd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?
$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return xib},Nmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Pnb,"datascript/core.cljc",50,1,271,271,$5,$APP.Kd,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(xib)?xib.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,
$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return dlb},Emb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,qmb,"datascript/core.cljc",18,1,412,412,$APP.K(new $APP.H(null,4,5,$APP.J,[R5,L5,$APP.tz,$APP.II],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k(dlb)?dlb.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return g3},pnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Tmb,"datascript/core.cljc",
39,1,446,446,$APP.Kd,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(g3)?g3.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return y6},Vnb,$APP.gi([$APP.R,$APP.Q,
$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,vnb,"datascript/core.cljc",59,1,466,466,$APP.Kd,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.k(y6)?y6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?
e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return A6},Clb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,lmb,"datascript/core.cljc",61,1,558,558,$APP.Kd,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.k(A6)?A6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,
4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return z6},fmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,wnb,"datascript/core.cljc",69,1,471,471,$APP.Kd,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(z6)?z6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return h6},glb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Ynb,"datascript/core.cljc",
38,1,677,677,$APP.Kd,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.k(h6)?h6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):
$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return elb},Klb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,R5,"datascript/core.cljc",13,1,617,617,$5,$APP.K(new $APP.H(null,1,5,$APP.J,[tmb],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.k(elb)?elb.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return Q6},Qlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Inb,"datascript/core.cljc",
15,1,206,218,$APP.Kd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(Q6)?Q6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return w6},omb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,$nb,"datascript/core.cljc",
84,1,450,450,$APP.Kd,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(w6)?w6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return Y6},Nlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,
$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,iob,"datascript/core.cljc",19,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,6,$APP.zJ,6,$APP.hJ,new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)],null),$APP.W,$APP.K(new $APP.H(null,
2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)),$APP.dF,$APP.K(null,null,null,null,null)],null),1,404,404,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,
5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.k(Y6)?Y6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,
b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return R6},bnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,job,"datascript/core.cljc",20,1,220,229,$5,$APP.Kd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(R6)?R6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return U6},Ymb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,eob,"datascript/core.cljc",
19,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,2,$APP.zJ,2,$APP.hJ,new $APP.H(null,3,5,$APP.J,[$APP.Sg,new $APP.H(null,1,5,$APP.J,[M5],null),new $APP.H(null,2,5,$APP.J,[M5,$APP.ZF],null)],null),$APP.W,$APP.K($APP.Sg,new $APP.H(null,1,5,$APP.J,[M5],null),new $APP.H(null,2,5,$APP.J,[M5,$APP.ZF],null)),$APP.dF,$APP.K(null,null,null)],null),1,150,150,$5,$APP.K($APP.Sg,new $APP.H(null,1,5,$APP.J,[M5],null),new $APP.H(null,2,5,$APP.J,[M5,$APP.ZF],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.k(U6)?U6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return V6},jnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,rnb,"datascript/core.cljc",
18,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,3,$APP.zJ,3,$APP.hJ,new $APP.H(null,3,5,$APP.J,[new $APP.H(null,1,5,$APP.J,[U5],null),new $APP.H(null,2,5,$APP.J,[U5,M5],null),new $APP.H(null,3,5,$APP.J,[U5,M5,$APP.ZF],null)],null),$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[U5],null),new $APP.H(null,2,5,$APP.J,[U5,M5],null),new $APP.H(null,3,5,$APP.J,[U5,M5,$APP.ZF],null)),$APP.dF,$APP.K(null,null,null)],null),1,194,194,$5,$APP.K(new $APP.H(null,1,5,$APP.J,[U5],null),new $APP.H(null,2,5,$APP.J,[U5,M5],null),
new $APP.H(null,3,5,$APP.J,[U5,M5,$APP.ZF],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.k(V6)?V6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return j3},ylb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Snb,"datascript/core.cljc",8,1,90,100,g6,$APP.Kd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(j3)?j3.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return 536870912},Gnb,$APP.gi([$APP.tu,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.yA,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[!0,$APP.dJ,
hob,"datascript/core.cljc",26,1,!0,21,21,$APP.Kd,null,$APP.k(536870912)?(536870912).H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return clb},nlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,
$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,$APP.WE,"datascript/core.cljc",13,1,246,246,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.iK],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.k(clb)?clb.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return d3},kmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,aob,"datascript/core.cljc",
45,1,693,693,$APP.Kd,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.k(d3)?d3.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,
$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return W6},Fnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,U5,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,6,$APP.zJ,6,$APP.hJ,new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,
3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)],null),$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,
Q5,$APP.sE,$APP.tE,$APP.uE],null)),$APP.dF,$APP.K(null,null,null,null,null)],null),1,282,282,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(W6)?W6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return Aib},emb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Unb,"datascript/core.cljc",
49,1,562,562,$APP.Kd,null,$APP.k(Aib)?Aib.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return X6},wmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],
[$APP.dJ,mnb,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,6,$APP.zJ,6,$APP.hJ,new $APP.H(null,5,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)],null),$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,
$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)),$APP.dF,$APP.K(null,null,null,null,null)],null),1,367,367,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.fF],null),new $APP.H(null,3,5,$APP.J,[R5,$APP.fF,Q5],null),new $APP.H(null,4,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE],null),new $APP.H(null,5,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE],
null),new $APP.H(null,6,5,$APP.J,[R5,$APP.fF,Q5,$APP.sE,$APP.tE,$APP.uE],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.k(X6)?X6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return O6},Slb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Cjb,"datascript/core.cljc",
7,1,105,117,$APP.Kd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(O6)?O6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return flb},xmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Mlb,"datascript/core.cljc",
15,1,735,735,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null)),null,$APP.k(flb)?flb.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),function(){var a=new $APP.Ed(function(){return x6},Wmb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,
$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.dJ,Dnb,"datascript/core.cljc",59,1,454,454,$APP.Kd,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.k(x6)?x6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,a7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}()]),Oob=new $APP.h(null,7,[amb,function(){var a=new $APP.Ed(function(){return $APP.c2},Jnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.gK,
amb,"datascript/db.cljc",21,1,1124,1124,$APP.K(new $APP.H(null,1,5,$APP.J,[new $APP.h(null,1,[$APP.cC,new $APP.H(null,2,5,$APP.J,[M5,U5],null)],null)],null)),null,$APP.k($APP.c2)?$APP.c2.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),tnb,
function(){var a=new $APP.Ed(function(){return $APP.h1},xnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.gK,tnb,"datascript/db.cljc",31,1,333,333,b6,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.lJ],null)),null,$APP.k($APP.h1)?$APP.h1.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),llb,function(){var a=new $APP.Ed(function(){return $APP.e1},Glb,$APP.gi([$APP.Er,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[hlb,$APP.gK,llb,"datascript/db.cljc",15,1,179,181,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.xE],null)),null,$APP.k($APP.e1)?$APP.e1.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),
$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),klb,function(){var a=new $APP.Ed(function(){return $APP.d1},hmb,$APP.gi([$APP.Er,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[hlb,$APP.gK,klb,"datascript/db.cljc",12,1,179,180,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.xE],null)),null,$APP.k($APP.d1)?$APP.d1.H:null])),b=$APP.n(a),c=$APP.ue(a);
a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),S5,function(){var a=new $APP.Ed(function(){return g1},lnb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.Dm,$APP.W,$APP.N,$APP.iF],[$APP.gK,S5,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.FA,!1,
$APP.Rs,5,$APP.zJ,5,$APP.hJ,new $APP.H(null,3,5,$APP.J,[new $APP.H(null,3,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH],null),new $APP.H(null,4,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5],null),new $APP.H(null,5,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5,rlb],null)],null),$APP.W,$APP.K(new $APP.H(null,3,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH],null),new $APP.H(null,4,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5],null),new $APP.H(null,5,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5,rlb],null)),$APP.dF,$APP.K(null,null,null)],null),1,257,257,b6,
$APP.K(new $APP.H(null,3,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH],null),new $APP.H(null,4,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5],null),new $APP.H(null,5,5,$APP.J,[$APP.DH,$APP.yH,$APP.SH,N5,rlb],null)),null,$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,
d):$APP.nu.j(a,b,d)}(),$5,function(){var a=new $APP.Ed(function(){return $APP.z1},Imb,new $APP.h(null,8,[$APP.R,$APP.gK,$APP.N,null,$APP.Sl,"datascript/db.cljc",$APP.Tl,672,$APP.Pm,22,$APP.Q,$5,$APP.iF,$APP.k($APP.z1)?$APP.z1.H:null,$APP.W,$APP.Kd],null)),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?
e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),b6,function(){var a=new $APP.Ed(function(){return $APP.f1},Lmb,new $APP.h(null,8,[$APP.R,$APP.gK,$APP.N,null,$APP.Sl,"datascript/db.cljc",$APP.Tl,185,$APP.Pm,10,$APP.Q,b6,$APP.iF,$APP.k($APP.f1)?$APP.f1.H:null,$APP.W,$APP.Kd],null)),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,b7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}()],null),Pob=new $APP.h(null,3,[Mmb,function(){var a=new $APP.Ed(function(){return C6},plb,$APP.gi([$APP.Tt,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.lI,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[!0,$APP.aJ,Mmb,"datascript/impl/entity.cljc",21,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,3,$APP.zJ,3,$APP.hJ,new $APP.H(null,2,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.xE,L5],null),new $APP.H(null,3,5,$APP.J,[$APP.te($APP.xE,
new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.fB],null)],null),$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[$APP.xE,L5],null),new $APP.H(null,3,5,$APP.J,[$APP.te($APP.xE,new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.fB],null)),$APP.dF,$APP.K(null,null)],null),1,165,165,$APP.K(new $APP.H(null,2,5,$APP.J,[$APP.xE,L5],null),new $APP.H(null,3,5,$APP.J,[$APP.te($APP.xE,new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.fB],null)),null,$APP.k(C6)?C6.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);
var d=new $APP.h(null,4,[$APP.R,Mob,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),g6,function(){var a=new $APP.Ed(function(){return l3},Pmb,new $APP.h(null,8,[$APP.R,$APP.aJ,$APP.N,null,$APP.Sl,"datascript/impl/entity.cljc",$APP.Tl,48,$APP.Pm,10,$APP.Q,g6,$APP.iF,$APP.k(l3)?l3.H:null,$APP.W,$APP.Kd],null)),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?
null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,Mob,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),mlb,function(){var a=new $APP.Ed(function(){return Eib},Tlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.aJ,mlb,"datascript/impl/entity.cljc",14,1,147,147,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.UH],
null)),null,$APP.k(Eib)?Eib.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,Mob,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}()],null),d7,Qob=$APP.zj.g($APP.Wf),Rob=$APP.zj.g($APP.Wf),Sob=$APP.zj.g($APP.Wf),Tob=$APP.zj.g($APP.Wf),Uob=$APP.A.j($APP.Wf,$APP.lr,$APP.Lj.D?$APP.Lj.D():$APP.Lj.call(null));
d7=new $APP.ak($APP.lj.h("nbb.impl.datascript","-store"),$APP.Zq,$APP.Lm,Uob,Qob,Rob,Sob,Tob);var e7,Vob=$APP.zj.g($APP.Wf),Wob=$APP.zj.g($APP.Wf),Xob=$APP.zj.g($APP.Wf),Yob=$APP.zj.g($APP.Wf),Zob=$APP.A.j($APP.Wf,$APP.lr,$APP.Lj.D?$APP.Lj.D():$APP.Lj.call(null));e7=new $APP.ak($APP.lj.h("nbb.impl.datascript","-restore"),$APP.Zq,$APP.Lm,Zob,Vob,Wob,Xob,Yob);d7.ea(null,$APP.eA,function(a,b){var c=$APP.Ip(a);c=$APP.A.h(c,O5);return c.h?c.h(a,b):c.call(null,a,b)});var $ob=P2;
d7.ea(null,$APP.Lm,function(a,b){return $ob.h?$ob.h(a,b):$ob.call(null,a,b)});P2=function(a,b){return d7.h(a,b)};e7.ea(null,$APP.eA,function(a,b){var c=$APP.Ip(a);c=$APP.A.h(c,f6);return c.h?c.h(a,b):c.call(null,a,b)});var apb=Q2;e7.ea(null,$APP.Lm,function(a,b){return apb.h?apb.h(a,b):apb.call(null,a,b)});Q2=function(a,b){return e7.h(a,b)};
var bpb=$APP.nu.h(lob,new $APP.h(null,3,[$APP.Er,iib,$APP.Dr,$APP.Ci([e7,d7]),$APP.R,c7],null)),cpb=$APP.xi.l($APP.pu($APP.gi([$APP.te(gmb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.te($APP.zH,new $APP.h(null,1,[$APP.Dm,b6],null))],null)))],null)),$APP.te(oob,new $APP.h(null,4,[snb,!0,$APP.mJ,$APP.Vra,$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[d6],null))),$APP.N,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.te(Xlb,
new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K($APP.te(new $APP.H(null,1,5,$APP.J,[R5],null),new $APP.h(null,1,[$APP.Dm,Cnb],null))))],null)),$APP.te($mb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.YE],null)))],null)),$APP.te(mob,new $APP.h(null,4,[$APP.QG,!0,$APP.oA,new $APP.h(null,1,[$APP.Dr,new $APP.h(null,2,[$APP.te(O5,new $APP.h(null,1,[$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.H(null,1,5,$APP.J,[new $APP.H(null,3,5,$APP.J,[$APP.vH,e6,W5],null)],null),$APP.te(f6,new $APP.h(null,1,[$APP.N,"Read back and deserialize data stored under single `addr`"],null)),new $APP.H(null,1,5,$APP.J,[new $APP.H(null,2,5,$APP.J,[$APP.vH,J5],null)],null)],null)],null),$APP.CH,new $APP.h(null,2,[ilb,new $APP.h(null,3,[$APP.Q,O5,$APP.W,$APP.K(new $APP.H(null,3,5,$APP.J,[$APP.vH,e6,W5],null)),$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),Elb,new $APP.h(null,3,[$APP.Q,f6,$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[$APP.vH,J5],null)),$APP.N,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.zG,$APP.K("@interface")],null)),$APP.te(dob,new $APP.h(null,2,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[d6],null),new $APP.H(null,2,5,$APP.J,[d6,$APP.ZF],null))),$APP.lI,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,2,$APP.zJ,2,$APP.hJ,new $APP.H(null,2,5,$APP.J,[new $APP.H(null,1,5,$APP.J,[d6],null),new $APP.H(null,
2,5,$APP.J,[d6,$APP.ZF],null)],null),$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[d6],null),new $APP.H(null,2,5,$APP.J,[d6,$APP.ZF],null)),$APP.dF,$APP.K(null,null)],null)],null)),$APP.te(d6,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null)))],null)),$APP.te(O5,new $APP.h(null,3,[$APP.Er,Nnb,$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,3,5,$APP.J,[$APP.vH,e6,W5],null)))],null)),$APP.te(Rlb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,3,5,$APP.J,[R5,knb,Qnb],null)))],null)),$APP.te(f6,new $APP.h(null,3,[$APP.Er,Nnb,$APP.N,"Read back and deserialize data stored under single `addr`",$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,2,5,$APP.J,[$APP.vH,J5],null)))],null)),$APP.te(Ulb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,2,5,$APP.J,[d6,$APP.ZF],null)))],
null)),$APP.te(Hmb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.ZF],null)))],null)),$APP.te(Plb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,2,5,$APP.J,[d6,wlb],null)))],null)),$APP.te(aob,new $APP.h(null,2,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null),new $APP.H(null,2,5,$APP.J,[R5,d6],null))),$APP.lI,new $APP.h(null,6,[$APP.FA,!1,$APP.Rs,2,$APP.zJ,2,$APP.hJ,new $APP.H(null,2,5,$APP.J,[new $APP.H(null,1,5,$APP.J,[R5],null),
new $APP.H(null,2,5,$APP.J,[R5,d6],null)],null),$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null),new $APP.H(null,2,5,$APP.J,[R5,d6],null)),$APP.dF,$APP.K(null,null)],null)],null)),$APP.te(ynb,new $APP.h(null,4,[snb,!0,$APP.mJ,$APP.wm,$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,1,5,$APP.J,[unb],null))),$APP.N,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.te(Omb,new $APP.h(null,1,[$APP.W,$APP.K($APP.Ak,$APP.K(new $APP.H(null,2,5,
$APP.J,[R5,$APP.YE],null)))],null))],[new $APP.h(null,3,[$APP.Q,Ilb,$APP.ou,jib,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.te($APP.zH,new $APP.h(null,1,[$APP.Dm,b6],null))],null))],null)],null),new $APP.h(null,3,[$APP.Q,Kmb,$APP.ou,function(a){return new R2(a,null,null,null)},$APP.mb,new $APP.h(null,2,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[d6],null)),$APP.N,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.h(null,3,[$APP.Q,
Zlb,$APP.ou,S2,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K($APP.te(new $APP.H(null,1,5,$APP.J,[R5],null),new $APP.h(null,1,[$APP.Dm,Cnb],null)))],null)],null),new $APP.h(null,3,[$APP.Q,Jmb,$APP.ou,rib,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.YE],null))],null)],null),new $APP.h(null,3,[$APP.Q,Nnb,$APP.ou,iib,$APP.mb,$APP.Wf],null),new $APP.h(null,3,[$APP.Q,qnb,$APP.ou,v6,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[d6],null),new $APP.H(null,
2,5,$APP.J,[d6,$APP.ZF],null))],null)],null),new $APP.h(null,3,[$APP.Q,Lnb,$APP.ou,T2,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null))],null)],null),new $APP.h(null,3,[$APP.Q,fnb,$APP.ou,P2,$APP.mb,new $APP.h(null,2,[$APP.W,$APP.K(new $APP.H(null,3,5,$APP.J,[$APP.vH,e6,W5],null)),$APP.N,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.h(null,3,[$APP.Q,hnb,$APP.ou,W2,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,3,5,$APP.J,[R5,knb,Qnb],null))],null)],null),new $APP.h(null,3,[$APP.Q,Alb,$APP.ou,Q2,$APP.mb,new $APP.h(null,2,[$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[$APP.vH,J5],null)),$APP.N,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.h(null,3,[$APP.Q,tlb,$APP.ou,tib,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[d6,$APP.ZF],null))],null)],
null),new $APP.h(null,3,[$APP.Q,ymb,$APP.ou,Y2,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[$APP.ZF],null))],null)],null),new $APP.h(null,3,[$APP.Q,Onb,$APP.ou,kib,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[d6,wlb],null))],null)],null),new $APP.h(null,3,[$APP.Q,Dmb,$APP.ou,d3,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[R5],null),new $APP.H(null,2,5,$APP.J,[R5,d6],null))],null)],null),new $APP.h(null,3,[$APP.Q,znb,$APP.ou,function(a){var b=
$APP.Ll.h(a,X0);b=$APP.De(a)?$APP.Eh.h($APP.Wf,b):b;return new R2(X0.g(a),null,$APP.Yf(b),null)},$APP.mb,new $APP.h(null,2,[$APP.W,$APP.K(new $APP.H(null,1,5,$APP.J,[unb],null)),$APP.N,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.h(null,3,[$APP.Q,Wnb,$APP.ou,uib,$APP.mb,new $APP.h(null,1,[$APP.W,$APP.K(new $APP.H(null,2,5,$APP.J,[R5,$APP.YE],null))],null)],null)]),c7),O5,function(){var a=new $APP.Ed(function(){return d7},
Jlb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.te(zlb,new $APP.h(null,1,[$APP.tu,!0],null)),O5,"nbb/impl/datascript.cljs",17,1,65,65,$APP.Kd,null,$APP.k(d7)?d7.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,c7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,
b,d)}(),$APP.z([f6,function(){var a=new $APP.Ed(function(){return e7},Olb,$APP.gi([$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[$APP.te(zlb,new $APP.h(null,1,[$APP.tu,!0],null)),f6,"nbb/impl/datascript.cljs",19,1,66,66,$APP.Kd,null,$APP.k(e7)?e7.H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,c7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}(),mob,bpb,ulb,function(){var a=new $APP.Ed(function(){return 1},Enb,$APP.gi([$APP.Tt,$APP.R,$APP.Q,$APP.Sl,$APP.$z,$APP.Pm,$APP.Tl,$APP.CK,$APP.W,$APP.N,$APP.iF],[!0,$APP.AJ,ulb,"datascript/storage.cljs",25,1,31,31,$APP.Kd,null,$APP.k(1)?(1).H:null])),b=$APP.n(a),c=$APP.ue(a);a=$APP.k(null)?null:$APP.Q.g(c);var d=new $APP.h(null,4,[$APP.R,c7,$APP.Q,a,$APP.W,$APP.W.g(c),$APP.N,$APP.N.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.oq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.nu.j(a,b,d)}()]));$APP.$u(new $APP.h(null,1,[$APP.Kq,new $APP.h(null,4,[$APP.dJ,Nob,$APP.gK,Oob,$APP.AJ,cpb,$APP.aJ,Pob],null)],null));