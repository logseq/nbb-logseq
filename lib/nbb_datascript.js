import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var tgb,vgb,b0,xgb,wgb,c0,d0,e0,f0,ygb,zgb,Agb,Bgb,h0,i0,j0,Cgb,k0,l0,m0,n0,o0,Ggb,Hgb,Igb,Jgb,p0,q0,Kgb,r0,Lgb,s0,t0,u0,v0,w0,x0,y0,Mgb,A0,B0,C0,E0,D0,Ngb,F0,H0,I0,J0,K0,M0,Ogb,P0,Pgb,Q0,O0,R0,Qgb,Rgb,Sgb,Ugb,T0,U0,V0,Vgb,Y0,Wgb,Xgb,$gb,ahb,c1,bhb,chb,dhb,ehb,fhb,j1,k1,l1,m1,ghb,hhb,ihb,jhb,khb,n1,o1,p1,q1,r1,s1,v1,w1,x1,y1,nhb,J1,ohb,qhb,rhb,T1,W1,Z1,$1,whb,a2,yhb,d2,zhb,j2,k2,l2,m2,n2,Ahb,o2,q2,Bhb,t2,Chb,u2,g0,v2,w2,x2,Fhb,z2,Hhb,Ihb,Jhb,Nhb,Ohb,D2,Phb,Shb,Thb,Uhb,J2,Whb,Yhb,Zhb,$hb,aib,dib,eib,
P2,Q2,fib,R2,gib,S2,T2,W2,nib,pib,qib,Y2,Z2,rib,a3,b3,sib,c3,tib,g3,vib,wib,h3,yib,zib,i3,k3,l3,xib,Aib,m3,Bib,Cib,Dib,j3,Eib,Fib,Gib,n3,Hib,w3,Iib,D3,Mib,Nib,Pib,E3,Qib,Rib,F3,G3,H3,Vib,Wib,I3,Xib,Yib,Zib,J3,K3,L3,M3,N3,$ib,P3,O3,Q3,S3,T3,U3,V3,bjb,cjb,djb,ejb,hjb,W3,ijb,jjb,X3,Y3,$3,Z3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,ljb,l4,mjb,m4,njb,ojb,n4,qjb,p4,rjb,q4,r4,s4,t4,sjb,tjb,vjb,u4,v4,w4,x4,y4,z4,A4,B4,C4,wjb,xjb,D4,Cjb,E4,Djb,Ejb,Gjb,F4,G4,H4,I4,J4,K4,L4,Hjb,M4,Ijb,Jjb,Kjb,Ljb,Mjb,Ojb,P4,Pjb,S4,
T4,Qjb,Sjb,Tjb,V4,Ujb,Vjb,Wjb,$jb,ckb,c5,d5,dkb,ekb,fkb,e5,f5,gkb,hkb,ikb,jkb,g5,kkb,nkb,okb,m5,pkb,o5,qkb,p5,rkb,skb,tkb,ukb,vkb,wkb,q5,xkb,ykb,zkb,Akb,Bkb,Ckb,Dkb,Fkb,Gkb,Hkb,v5,Ikb,Kkb,Lkb,C5,D5,E5,Mkb,Nkb,Okb,Pkb,Jkb,B5,Qkb,Rkb,G5,Skb,Tkb,Ukb,Vkb,Wkb,Xkb,Ykb,Zkb,$kb,alb,blb,H5,clb,L1,M2,dlb,elb,flb,glb,Zjb,vhb,F2,Y4,bib,hlb,ilb,jlb,I5,klb,U4,llb,mlb,f3,nlb,Ajb,olb,B3,I2,plb,qlb,rlb,a5,slb,z3,Rhb,tlb,ulb,vlb,p3,wlb,O1,xlb,ylb,zlb,Alb,G2,Blb,Clb,Dlb,Elb,Flb,Glb,J5,Hlb,Ilb,g2,z5,Jlb,Klb,Llb,$4,S1,
h2,W4,Mlb,y5,Nlb,N1,C2,Olb,Plb,f2,N4,Qlb,K5,Rlb,phb,Slb,Xhb,L5,Tlb,Ulb,Vlb,R4,Wlb,Xlb,Ylb,bkb,Zlb,$lb,amb,bmb,t1,M5,cib,cmb,dmb,Fjb,xhb,emb,Z0,I1,fmb,t3,Jib,N5,gmb,e3,hmb,O4,X1,Ghb,C1,imb,O5,jmb,P5,Qhb,yjb,$0,kmb,lmb,Q5,mmb,u5,P1,R5,nmb,S5,omb,Q1,q3,pmb,qmb,A5,rmb,kib,Xjb,smb,n5,tmb,T5,umb,U5,vmb,wmb,xmb,ymb,D1,zmb,Amb,Bmb,Cmb,V1,Dmb,Emb,Fmb,Gmb,Hmb,V5,Uib,gjb,R1,Imb,M1,iib,fjb,Jmb,uib,Kmb,Lmb,Ygb,K1,Mmb,lib,i5,Nmb,W5,jib,i2,Omb,Pmb,Qmb,Rmb,kjb,K2,Smb,Tmb,Umb,Vmb,A2,Wmb,Xmb,Ymb,E1,Zmb,y3,u3,$mb,X5,
R3,Y5,anb,s5,bnb,E2,cnb,dnb,enb,j5,fnb,e2,gnb,O2,Lhb,Zgb,Khb,hnb,inb,jnb,knb,$2,lnb,ajb,G1,mnb,nnb,onb,pnb,h5,qnb,rnb,thb,v3,zjb,Bjb,H2,H1,oib,ujb,snb,tnb,Z5,unb,$5,vnb,y2,wnb,a6,x3,mhb,X0,xnb,b1,ynb,znb,s3,Njb,X4,akb,Anb,pjb,Bnb,Cnb,A3,U1,mkb,b6,r3,lkb,Y1,Dnb,Enb,Fnb,Gnb,Hnb,Inb,Jnb,Knb,c6,Lnb,x5,Mnb,Nnb,Onb,Ehb,Pnb,Qnb,Rnb,Snb,lhb,Z4,d6,b5,Tnb,C3,Unb,N2,F1,Vnb,e6,Wnb,Xnb,Ynb,Znb,$nb,p2,f6,Yjb,B2,aob,bob,Tib,o4,cob,a1,dob,Rjb,eob,fob,gob,hob,iob,job,o3,kob,lob,g6;
tgb=function(a,b){a=a.split(".");var c=$APP.Lu;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};vgb=function(a){return $APP.og(function(b){return $APP.Se(a,b)},ugb)};b0=function(a,b,c,d,e){this.wg=a;this.Ek=b;this.Fk=c;this.Xf=d;this.Jb=e;this.J=2147484416;this.M=0};
xgb=function(a,b,c){var d=a.wg,e=a.Ek,f=a.Fk,m=a.Xf;a=a.Jb;var p=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(p))return new b0(d,$APP.vi.j($APP.Ml.h(e,p),m,b),$APP.vi.j(f,b,m),m+1,a);b=new b0($APP.vi.j(d,b,c),$APP.vi.j(e,m,b),$APP.vi.j(f,b,m),m+1,a);return wgb.g?wgb.g(b):wgb.call(null,b)};wgb=function(a){if($APP.ce(a.wg)>a.Jb){var b=a.wg,c=a.Ek,d=a.Fk,e=a.Xf;a=a.Jb;var f=$APP.v(c),m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return new b0($APP.Ml.h(b,f),$APP.Ml.h(c,m),$APP.Ml.h(d,f),e,a)}return a};
c0=function(a,b,c){if(null!=a&&null!=a.Ak)a=a.Ak(a,b,c);else{var d=c0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=c0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("ICache.-get",a);}return a};d0=function(a,b,c){this.Jb=a;this.Hg=b;this.en=c;this.J=393216;this.M=0};e0=function(){var a=new b0($APP.Vf,$APP.Gy(),$APP.Vf,0,100);return new d0(100,$APP.zg(a),$APP.Vf)};
f0=function(a,b){a=a.toString(16);var c=$APP.ce(a);return c>b?$APP.Wi.j(a,0,b):c<b?[$APP.l.g($APP.qg.h($APP.l,$APP.kn.h(b-c,"0"))),$APP.l.g(a)].join(""):a};ygb=function(a,b){return $APP.Wc($APP.he($APP.bf.j(function(c,d){var e=$APP.y.j(c,0,null),f=$APP.y.j(c,1,null),m=a.g?a.g(d):a.call(null,d);return $APP.Se(e,m)?c:new $APP.G(null,2,5,$APP.H,[$APP.Sg.h(e,m),$APP.Sg.h(f,d)],null)},new $APP.G(null,2,5,$APP.H,[$APP.Uc($APP.zi),$APP.Uc($APP.Tg)],null),b)))};
zgb=function(a,b){return $APP.bf.j(function(c,d){return $APP.k(a.g?a.g(d):a.call(null,d))?$APP.Td(d):null},null,b)};Agb=function(a){var b=g0;return $APP.Wc($APP.ef(function(c,d,e){return $APP.k(b.g?b.g(d):b.call(null,d))?c:$APP.Hh.j(c,d,e)},$APP.Uc($APP.oe(a)),a))};
Bgb=function(a,b,c){return $APP.v($APP.bf.j(function(d,e){var f=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Vd(e)?$APP.Td(new $APP.G(null,2,5,$APP.H,[e,d],null)):new $APP.G(null,2,5,$APP.H,[e,d+1],null)},new $APP.G(null,2,5,$APP.H,[b,0],null),c))};h0=function(a){return $APP.bf.j(function(b,c){b.push(c);return b},[],a)};i0=function(a){return a instanceof Array};
j0=function(a,b){if(null!=a&&null!=a.Jk)a=a.Jk(a,b);else{var c=j0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=j0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.restore",a);}return a};Cgb=function(a,b){if(null==a||null==a.Im){var c=Cgb[$APP.ea(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=Cgb._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.accessed",a);}};
k0=function(a,b,c){if(null!=a&&null!=a.Kk)a=a.Kk(a,b,c);else{var d=k0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=k0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IStorage.store",a);}return a};l0=function(a,b){if(null!=a&&null!=a.Ik)a.Ik(a,b);else{var c=l0[$APP.ea(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=l0._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.delete",a);}};
m0=function(a,b){return 6>b?a>>>5*b&Dgb:Math.floor(a/Egb[b])&Dgb};n0=function(a,b,c){var d=a<Fgb&&6>b,e=m0(a,b);return a-(d?e<<5*b:e*Egb[b])+(d?c<<5*b:c*Egb[b])};o0=function(a,b,c,d){for(var e=0,f=$APP.kf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0>(a.h?a.h(m,d):a.call(null,m,d))?e=c+1:f=c-1}else return e};Ggb=function(a,b,c,d){for(var e=0,f=$APP.kf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0<(a.h?a.h(m,d):a.call(null,m,d))?f=c-1:e=c+1}else return e};
Hgb=function(a,b,c){var d=b.length,e=o0(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};Igb=function(a,b,c){var d=b.length;a=o0(a,b,d-1,c);return a===d?-1:a};Jgb=function(a,b,c,d,e,f){var m=f.length,p=d-b,u=p+m,t=Array(p+m+(c-e));d-=b;for(var A=0;;)if(A<d)t[A+0]=a[A+b],A+=1;else break;b=m-0;for(m=0;;)if(m<b)t[m+p]=f[m+0],m+=1;else break;c-=e;for(f=0;;)if(f<c)t[f+u]=a[f+e],f+=1;else break;return t};p0=function(a,b,c,d){return Jgb(a,0,a.length,b,c,d)};
q0=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,m=Array(f);e=Array(e-f);if(c<=f){for(var p=c-0,u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;a=f-c;for(p=0;;)if(p<a)m[p+c]=b[p+0],p+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{p=f-0;for(u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;p=c-f;for(u=0;;)if(u<p)e[u+0]=a[u+f],u+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[m,e]};
Kgb=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var m=b[f+c],p=e[f+0];if(0!==(a.h?a.h(m,p):a.call(null,m,p)))return!1;f+=1}else return f};r0=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};Lgb=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
s0=function(a){if(null!=a&&null!=a.Cj)a=a.Cj(a);else{var b=s0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=s0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("INode.node-lim-key",a);}return a};t0=function(a){if(null!=a&&null!=a.Hk)a=a.keys.length;else{var b=t0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=t0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("INode.node-len",a);}return a};
u0=function(a,b,c){if(null!=a&&null!=a.Ej)a=a.Ej(a,b,c);else{var d=u0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=u0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("INode.node-merge",a);}return a};v0=function(a,b){if(null!=a&&null!=a.Fj)a=a.Fj(a,b);else{var c=v0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=v0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("INode.node-merge-n-split",a);}return a};
w0=function(a,b,c,d){if(null!=a&&null!=a.Dj)a=a.Dj(a,b,c,d);else{var e=w0[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=w0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("INode.node-lookup",a);}return a};
x0=function(a,b,c,d){if(null!=a&&null!=a.Aj)a=a.Aj(a,b,c,d);else{var e=x0[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=x0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("INode.node-conj",a);}return a};
y0=function(a,b,c,d,e,f,m){if(null!=a&&null!=a.Bj)a=a.Bj(a,b,c,d,e,f,m);else{var p=y0[$APP.ea(null==a?null:a)];if(null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else if(p=y0._,null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else throw $APP.Kb("INode.node-disj",a);}return a};
Mgb=function(a,b,c,d,e){if($APP.k(b))return[a];if(t0(a)>z0)return Lgb(c,a,d);if($APP.k($APP.k(c)?t0(c)<=z0:c))return r0(u0(c,a,e),d);if($APP.k($APP.k(d)?t0(d)<=z0:d))return r0(c,u0(a,d,e));if($APP.k($APP.k(c)?null==d||t0(c)<t0(d):c))return a=v0(c,a),Lgb(a[0],a[1],d);a=v0(a,d);return Lgb(c,a[0],a[1])};
A0=function(a,b){if(null!=a&&null!=a.zg)a=a.zg(a,b);else{var c=A0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=A0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStore.store-aux",a);}return a};B0=function(a){a=$APP.fj.h(function(b){return b.Ab},a);return h0(a)};C0=function(a,b){$APP.we(a.zd)&&(b=$APP.r(a.children)?B0(a.children):Array(b),a.zd=b)};E0=function(a,b,c,d,e){c=null==c?$APP.r(b)?B0(b):Array(a.length):c;return new D0(a,b,c,d,e)};
D0=function(a,b,c,d,e){this.keys=a;this.children=b;this.zd=c;this.Ab=d;this.$g=e};Ngb=function(a,b,c){this.keys=a;this.Ab=b;this.$g=c};F0=function(a){if(null!=a&&null!=a.tf)a=a.tf(a);else{var b=F0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=F0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IRoot.-ensure-root-node",a);}return a};
$APP.G0=function(a,b,c,d,e,f,m,p){this.storage=a;this.root=b;this.shift=c;this.T=d;this.td=e;this.P=f;this.Ad=m;this.Ab=p;this.J=2297303311;this.M=8332};H0=function(a,b,c){return a instanceof D0?a.Zf(b,c):null};I0=function(a,b){for(var c=a.shift,d=F0(a);;)if(0<c){var e=c-1;d=H0(d,m0(b,c),a.storage);c=e}else return d.keys};J0=function(a,b,c,d){return new $APP.G0(a.storage,b,c,d,a.td,a.P,null,null)};
K0=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.k(f)?f:H0(a,e,d);b=n0(b,c,e);--c}else return $APP.k(a)?n0(b,0,a.keys.length-1):null};M0=function(a,b){if(0>b)return 0;b=L0(a,F0(a),b,a.shift);return $APP.k(b)?b:K0(F0(a),0,a.shift,a.storage)+1};Ogb=function(a,b){if(0<m0(b,a.shift+1))return K0(F0(a),b,a.shift,a.storage);a=N0(a,F0(a),b,a.shift);return $APP.k(a)?a:-1};
P0=function(a){if(0<t0(F0(a))){var b=K0(F0(a),0,a.shift,a.storage);b=M0(a,b);return O0.j?O0.j(a,0,b):O0.call(null,a,0,b)}return null};Pgb=function(a,b,c){this.I=a;this.Eb=b;this.end=c;this.J=524306;this.M=0};Q0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};O0=function(a,b,c){return new Q0(a,b,c,I0(a,b),m0(b,0))};R0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
Qgb=function(a,b,c){return new R0(a,b,c,I0(a,c),m0(c,0))};
Rgb=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.tf(null),f=0,m=a.shift;;)if($APP.k(e)){var p=t0(e);if(0===m){var u=e.keys;u=o0(d,u,p-1,b);b=p===u?null:n0(f,0,u);break a}u=e.keys;u=o0(d,u,p-2,b);e=H0(e,u,a.storage);f=n0(f,m,u);--m}else{b=null;break a}if(null==b)return null;a:if(null==c)c=K0(a.tf(null),0,a.shift,a.storage)+1;else for(e=a.tf(null),m=0,f=a.shift;;)if($APP.k(e)){p=t0(e);if(0===f){u=e.keys;p=Ggb(d,u,p-1,c);c=m=n0(m,0,p);break a}u=e.keys;p=Ggb(d,u,p-2,c);m=n0(m,f,p);e=H0(e,p,a.storage);
--f}else{c=null;break a}return b<c?new Q0(a,b,c,I0(a,b),m0(b,0)):null};Sgb=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};Ugb=function(a){var b=a.length,c=$APP.Uc($APP.Tg);if(0<b)for(var d=0;;){var e=b-d;if(e<=S0){$APP.Sg.h(c,a.slice(d));break}else e>=Tgb+z0?($APP.Sg.h(c,a.slice(d,d+Tgb)),d+=Tgb):(e>>>=1,$APP.Sg.h(c,a.slice(d,d+e)),d+=e)}return $APP.cf($APP.Wc(c))};
T0=function(a,b,c){b=x0(a.tf(null),c,b,a.storage);if(null!=b)if(1===b.length)a=J0(a,b[0],a.shift,a.T+1);else{c=b.map(s0);var d=B0(b);b=E0(c,b,d,null,!0);a=J0(a,b,a.shift+1,a.T+1)}return a};U0=function(a,b,c){b=y0(a.tf(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof D0&&1===b.children.length?J0(a,b.children[0],a.shift-1,a.T-1):J0(a,b,a.shift,a.T-1)};V0=function(a,b,c){return Rgb(a,b,c,a.td)};Vgb=function(a,b,c){a=Rgb(a,c,b,a.td);return null==a?null:$APP.Fc(a)};
Y0=function(a,b,c){var d=Sgb(W0,Ugb(b));c=X0.g(c);for(var e=d,f=0;;){var m=$APP.ce(e);switch(m){case 0:return new $APP.G0(c,W0.g([]),0,0,a,null,null,null);case 1:return new $APP.G0(c,$APP.v(e),f,b.length,a,null,null,null);default:e=Sgb(function(){return function(p){var u=p.map(s0);return E0(u,p,null,null,!0)}}(e,f,m,d,c),Ugb(e)),f+=1}}};Wgb=function(a){var b=X0.g(a),c=W0.g([]),d=Z0.g(a);return new $APP.G0(b,c,0,0,$APP.k(d)?d:$APP.We,$APP.mb.g(a),null,null)};
Xgb=function(a,b,c,d){d=$APP.Wf(d);d=$APP.B.h(d,$0);return new $APP.G0(c,null,a1.g(d),$APP.zI.g(d),a,null,null,b)};$gb=function(){return new $APP.h(null,2,[b1,S0,Ygb,Zgb],null)};ahb=function(a){return"string"!==typeof a&&($APP.Le(a)||i0(a))};c1=function(a,b){return $APP.Ad(a,b)};
$APP.d1=function(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=$APP.d1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.d1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDatom.datom-tx",a);}return a};$APP.e1=function(a){if(null!=a&&null!=a.Qd)a=a.Qd(a);else{var b=$APP.e1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.e1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDatom.datom-added",a);}return a};
$APP.f1=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Ad=f;this.J=2162164496;this.M=0};bhb=function(a){return a instanceof $APP.f1};$APP.h1=function(a){return $APP.qg.h(g1,a)};chb=function(a,b){return null==a?0:null==b?0:$APP.kf($APP.We(a,b))};dhb=function(a,b){return $APP.Ra($APP.Lb($APP.Jb(a)),$APP.Lb($APP.Jb(b)))};
ehb=function(a,b){var c=$APP.ce(a),d=$APP.ce(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.we(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.w(a),b=$APP.w(b);else{if(null==c)return-1;if(null==d)return 1;c=i1(c,d);if($APP.x.h(c,0))a=$APP.w(a),b=$APP.w(b);else return c}}};fhb=function(a,b){return null==a?0:null==b?0:i1(a,b)};j1=function(a,b){var c=a.e-b.e;return 0===c?(c=chb(a.a,b.a),0===c?(c=fhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};
k1=function(a,b){var c=chb(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=fhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};l1=function(a,b){var c=chb(a.a,b.a);return 0===c?(c=fhb(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};m1=function(a,b){return a instanceof $APP.F?$APP.bd(a,b):$APP.Ra(a,b)};ghb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(a=i1(a.v,b.v),0===a?0:a):c):c};
hhb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};ihb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};jhb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=i1(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};khb=function(){};
n1=function(a,b){if(null!=a&&null!=a.tj)a=a.tj(a,b);else{var c=n1[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=n1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("ISearch.-search",a);}return a};o1=function(a,b){return $APP.v(n1(a,b))};
p1=function(a,b,c,d,e,f){if(null!=a&&null!=a.pj)a=a.pj(a,b,c,d,e,f);else{var m=p1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=p1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-datoms",a);}return a};
q1=function(a,b,c,d,e,f){if(null!=a&&null!=a.sj)a=a.sj(a,b,c,d,e,f);else{var m=q1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=q1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-seek-datoms",a);}return a};
r1=function(a,b,c,d,e,f){if(null!=a&&null!=a.rj)a=a.rj(a,b,c,d,e,f);else{var m=r1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=r1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-rseek-datoms",a);}return a};
s1=function(a,b,c,d){if(null!=a&&null!=a.qj)a=a.qj(a,b,c,d);else{var e=s1[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=s1._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("IIndexAccess.-index-range",a);}return a};
v1=function(a,b,c,d,e,f){if($APP.x.h(b,t1)&&null!=c&&!u1(a,c))throw $APP.Zl.h(["Attribute ",$APP.xj.l($APP.z([c]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.Ln,lhb,$APP.Oua,t1,mhb,new $APP.G(null,4,5,$APP.H,[c,d,e,f],null)],null));};w1=function(){};x1=function(a){if(null!=a&&null!=a.oj)a=a.oj(a);else{var b=x1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=x1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDB.-schema",a);}return a};
y1=function(a,b){if(null!=a&&null!=a.nj)a=a.nj(a,b);else{var c=y1[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=y1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IDB.-attrs-by",a);}return a};$APP.z1=function(a,b,c,d,e,f,m,p,u,t,A,C,E){this.Jc=a;this.jc=b;this.Lc=c;this.tc=d;this.dd=e;this.ed=f;this.Nc=m;this.Sc=p;this.Rc=u;this.hash=t;this.A=A;this.o=C;this.C=E;this.J=2230716170;this.M=139264};
nhb=function(a){var b=$APP.Ml.l(a,$APP.A1,$APP.z([$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1]));b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new $APP.z1($APP.A1.g(a),$APP.B1.g(a),C1.g(a),t1.g(a),D1.g(a),E1.g(a),F1.g(a),G1.g(a),H1.g(a),I1.g(a),null,$APP.Xf(b),null)};J1=function(a,b,c,d,e,f){this.Oc=a;this.ib=b;this.hash=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};ohb=function(a){return a instanceof J1?a.Oc:a};
qhb=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db.unique/identity":return new $APP.G(null,3,5,$APP.H,[K1,L1,M1],null);case "db.unique/value":return new $APP.G(null,3,5,$APP.H,[K1,phb,M1],null);case "db.cardinality/many":return new $APP.G(null,1,5,$APP.H,[N1],null);case "db.type/ref":return new $APP.G(null,2,5,$APP.H,[O1,M1],null);default:return $APP.x.h(P1,a)&&!0===b?new $APP.G(null,1,5,$APP.H,[P1],null):$APP.x.h(M1,a)&&!0===b?new $APP.G(null,1,5,$APP.H,[M1],null):$APP.x.h(Q1,a)?new $APP.G(null,
2,5,$APP.H,[R1,M1],null):$APP.Tg}};rhb=function(a,b){return $APP.bf.j(function(c,d){return Bgb(function(e,f,m){return $APP.bn.R(e,f,$APP.vi,d,m)},c,Q1.g($APP.B.h(a,d)))},$APP.Vf,R1.g(b))};T1=function(a){var b=$APP.ef(function(c,d,e){return e instanceof $APP.F?c:$APP.ef(function(f,m,p){return $APP.bf.j(function(u,t){return $APP.bn.F(u,t,shb,d)},f,qhb(m,p))},$APP.bn.j(c,S1,function(f){return $APP.k(f)?$APP.wf.h(f,d):$APP.Ai([d])}),e)},$APP.Vf,a);return $APP.vi.j(b,thb,rhb(a,b))};
W1=function(a,b,c,d){if(null!=c&&!$APP.Se(d,c))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([$APP.Uf([a,$APP.Uf([b,c])])])),", expected one of ",$APP.l.g(d)].join(""),new $APP.h(null,4,[$APP.Ln,U1,V1,a,$APP.LE,b,$APP.LI,c],null));};
Z1=function(a){for(var b=$APP.r(a),c=null,d=0,e=0;;)if(e<d){var f=c.ha(null,e),m=$APP.y.j(f,0,null),p=$APP.y.j(f,1,null),u=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.yi(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=u;return $APP.k(Z)?$APP.ui.h(X1.g(p),O1):Z}()))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,P1],null));
W1(m,K1,K1.g(p),new $APP.yi(null,new $APP.h(null,2,[L1,null,phb,null],null),null));W1(m,X1,X1.g(p),uhb);W1(m,Y1,Y1.g(p),new $APP.yi(null,new $APP.h(null,2,[N1,null,vhb,null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Se(p,Q1))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,X1],null));if($APP.Se(p,Q1)){f=new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,Q1],null);
if($APP.x.h(N1,Y1.g(p)))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var t=Q1.g(p);if(!$APP.Ae(t))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.xj.l($APP.z([t]))].join(""),f);if($APP.we(t))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),f);t=$APP.r(t);for(var A=null,C=0,E=0;;)if(E<C){var I=A.ha(null,E),Q=$APP.vi.j(f,$APP.LI,I);if($APP.Se($APP.B.h(a,
I),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([I]))].join(""),Q);if($APP.x.h(N1,Y1.g($APP.B.h(a,I))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([I]))].join(""),Q);E+=1}else if(t=$APP.r(t)){if($APP.Fe(t))C=$APP.dd(t),t=$APP.ed(t),A=C,C=$APP.ce(C);else{A=$APP.v(t);C=$APP.vi.j(f,$APP.LI,A);if($APP.Se($APP.B.h(a,A),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([A]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.B.h(a,A))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([A]))].join(""),C);t=$APP.w(t);A=null;C=0}E=0}else break}e+=1}else if(m=$APP.r(b)){b=m;if($APP.Fe(b))c=$APP.dd(b),b=$APP.ed(b),m=c,d=$APP.ce(c),c=m;else{c=$APP.v(b);m=$APP.y.j(c,0,null);p=$APP.y.j(c,1,null);var T=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.yi(null,
new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=T;return $APP.k(Z)?$APP.ui.h(X1.g(p),O1):Z}()))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,P1],null));W1(m,K1,K1.g(p),new $APP.yi(null,new $APP.h(null,2,[L1,null,phb,null],null),null));W1(m,X1,X1.g(p),uhb);W1(m,Y1,Y1.g(p),new $APP.yi(null,new $APP.h(null,2,[N1,null,vhb,
null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Se(p,Q1))throw $APP.Zl.h(["Bad attribute specification for ",$APP.xj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,X1],null));if($APP.Se(p,Q1)){c=new $APP.h(null,3,[$APP.Ln,U1,V1,m,$APP.LE,Q1],null);if($APP.x.h(N1,Y1.g(p)))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Q1.g(p);if(!$APP.Ae(d))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.xj.l($APP.z([d]))].join(""),c);if($APP.we(d))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.r(d);e=null;for(t=f=0;;)if(t<f){A=e.ha(null,t);C=$APP.vi.j(c,$APP.LI,A);if($APP.Se($APP.B.h(a,A),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([A]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.B.h(a,A))))throw $APP.Zl.h([$APP.xj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.xj.l($APP.z([A]))].join(""),C);t+=1}else if(d=$APP.r(d)){if($APP.Fe(d))f=$APP.dd(d),d=$APP.ed(d),e=f,f=$APP.ce(f);else{e=$APP.v(d);f=$APP.vi.j(c,$APP.LI,e);if($APP.Se($APP.B.h(a,e),Q1))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.xj.l($APP.z([e]))].join(""),f);if($APP.x.h(N1,Y1.g($APP.B.h(a,e))))throw $APP.Zl.h([$APP.xj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.xj.l($APP.z([e]))].join(""),f);d=$APP.w(d);e=null;f=0}t=0}else break}b=$APP.w(b);c=null;d=0}e=0}else return null};$1=function(a,b){Z1(a);return nhb($APP.hi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,536870912,$APP.Bj.g(0),Wgb($APP.vi.j(b,Z0,k1)),Wgb($APP.vi.j(b,Z0,l1)),0,Wgb($APP.vi.j(b,Z0,j1)),e0(),e0(),T1($APP.Ll.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])))]))};
whb=function(a,b,c){var d=function(){var e=Vgb(b,g1.F(536870911,null,null,2147483647),g1.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.eK.g(e)}();d=$APP.k($APP.k(d)?0<d:d)?d:0;a=O1.g(a);return $APP.bf.j(function(e,f){f=Vgb(c,g1.F(536870911,f,536870911,2147483647),g1.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:$APP.aK.g(f);return $APP.k($APP.k(f)?f>e:f)?f:e},d,a)};
a2=function(a,b,c){var d=$APP.v($APP.Pi.h(bhb,a));if(null!=d)throw $APP.Zl.h(["init-db expects list of Datoms, got ",$APP.xj.l($APP.z([$APP.Jb(d)]))].join(""),new $APP.h(null,1,[$APP.Ln,xhb],null));Z1(b);d=T1($APP.Ll.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b])));var e=M1.g(d),f=i0(a)?a:h0(a);f.sort(hhb);var m=Y0(j1,f,c);f.sort(ihb);f=Y0(k1,f,c);a=$APP.Qg.h(function(u){return $APP.Se(e,u.a)},a);a=$APP.cf(a);a.sort(jhb);c=Y0(l1,a,c);a=whb(d,m,c);var p=$APP.Px.F($APP.fj.g(function(u){return u.qb(null)}),
$APP.ln,536870912,m);return nhb($APP.hi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[b,p,$APP.Bj.g(0),f,c,a,m,e0(),e0(),d]))};yhb=function(a,b){return $APP.vi.l(a,$APP.A1,b,$APP.z([F1,T1($APP.Ll.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b]))),G1,e0(),H1,e0(),I1,$APP.Bj.g(0)]))};
$APP.c2=function(a){var b=$APP.Wf(a);a=$APP.B.h(b,$APP.A1);b=$APP.B.h(b,$APP.b2);return a2($APP.fj.h(function(c){var d=$APP.y.j(c,0,null),e=$APP.y.j(c,1,null),f=$APP.y.j(c,2,null);c=$APP.y.j(c,3,null);return g1.F(d,e,f,c)},b),a,$APP.Vf)};d2=function(a,b,c,d,e,f,m,p){this.ge=a;this.fe=b;this.ke=c;this.ie=d;this.le=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
zhb=function(a){var b=$APP.Ml.l(a,e2,$APP.z([f2,g2,h2,i2]));b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new d2(e2.g(a),f2.g(a),g2.g(a),h2.g(a),i2.g(a),null,$APP.Xf(b),null)};j2=function(){return null};k2=function(){return null};l2=function(){return null};m2=function(){return null};n2=function(){return null};Ahb=function(){return null};o2=function(){return null};
q2=function(a){if(a instanceof $APP.F)return o2(a)?$APP.gj.h($APP.Cf(a),$APP.Wi.h($APP.Fi(a),1)):$APP.gj.h($APP.Cf(a),["_",$APP.Fi(a)].join(""));if("string"===typeof a){var b=$APP.Si(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.y.j(b,0,null);a=$APP.y.j(b,1,null);b=$APP.y.j(b,2,null);return $APP.x.h("_",$APP.y.h(b,0))?$APP.k(a)?[$APP.l.g(a),"/",$APP.Wi.h(b,1)].join(""):$APP.Wi.h(b,1):$APP.k(a)?[$APP.l.g(a),"/_",$APP.l.g(b)].join(""):["_",$APP.l.g(b)].join("")}throw $APP.Zl.h(["Bad attribute type: ",$APP.xj.l($APP.z([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Ln,p2,V1,a],null));};Bhb=function(a,b,c){return $APP.qn.j(function(d,e){return r2(a,d)&&$APP.Ae(e)?s2(a,e):e},Q1.g($APP.B.h(x1(a),b)),c)};t2=function(){return null};Chb=function(){return null};u2=function(){this.id=$APP.Cj.h(Dhb,$APP.Qd);this.J=2147483648;this.M=0};g0=function(){return null};v2=function(a){return $APP.kf(E1.g(e2.g(a)))+1};
w2=function(a){return $APP.x.h(a,Ehb)||$APP.x.h(a,":db/current-tx")||$APP.x.h(a,"datomic.tx")||$APP.x.h(a,"datascript.tx")};x2=function(a){return"number"===typeof a&&0>a||"string"===typeof a||g0(a)};Fhb=function(a,b){return b>D1.g(a)&&536870912>b?$APP.vi.j(a,D1,b):a};
z2=function(a,b,c){var d=w2(b)?$APP.bn.ma($APP.bn.R(a,h2,$APP.vi,b,c),y2,$APP.bn,c,shb,b):a;d=x2(b)?$APP.bn.ma($APP.bn.R(d,h2,$APP.vi,b,c),y2,$APP.bn,c,shb,b):d;if(b=!x2(b))a=f2.g(a),b=c>D1.g(a)&&536870912>c;a=b?$APP.bn.R(d,h2,$APP.vi,c,c):d;return $APP.bn.F(a,f2,Fhb,c)};
Hhb=function(a,b){var c=$APP.A1.g(a),d=b.e,e=b.a,f=b.v;if($APP.x.h(e,S1)){if($APP.Bb(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.l.g(f)," does not exist"].join(""),d=new $APP.h(null,2,[$APP.Ln,Ghb,V1,f],null),$APP.Zl.h(a,d);return $APP.Jl.j($APP.Mq(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,d],null),$APP.Ml.h(c.g?c.g(f):c.call(null,f),e)),new $APP.G(null,1,5,$APP.H,[$APP.A1],null),function(m){return $APP.Ml.h(m,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.k(b))return $APP.k(c.g?c.g(b):
c.call(null,b))?$APP.Jl.j(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,b],null),function(m){return $APP.Ml.h(m,e)}):$APP.Jl.j(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,d],null),function(m){return $APP.Ml.l(m,e,$APP.z([f]))});a=["Schema with entity id ",$APP.l.g(d)," does not exist"].join("");d=new $APP.h(null,4,[$APP.Ln,Ghb,A2,d,V1,e,$APP.LI,d],null);throw $APP.Zl.h(a,d);};Ihb=function(a){a=$APP.A1.g(a);return $APP.k(a)?a:$APP.Vf};
Jhb=function(a){return $APP.vi.j(a,F1,T1($APP.Ll.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),Ihb(a)]))))};
Nhb=function(a,b){var c=b.Qd(null);c=$APP.k(c)?j2(a,b.a,K1):c;if($APP.k(c)&&(c=$APP.Xf(p1(a,t1,b.a,b.v,null,null)),null!=c))throw $APP.Zl.h(["Cannot add ",$APP.xj.l($APP.z([b]))," because of unique constraint: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,Khb,V1,b.a,Lhb,b],null));var d=u1(a,b.a);c=b.a;c=Mhb.g?Mhb.g(c):Mhb.call(null,c);if($APP.k(b.Qd(null))){a=$APP.bn.R(a,$APP.B1,T0,b,hhb);a=$APP.bn.R(a,C1,T0,b,ihb);d=d?$APP.bn.R(a,t1,T0,b,jhb):a;d=Fhb(d,b.e);d=$APP.vi.j(d,I1,$APP.Bj.g(0));
if($APP.k(c)){var e=Ihb(d);c=b.e;a=b.a;b=b.v;if($APP.x.h(a,S1)){var f=new $APP.G(null,2,5,$APP.H,[$APP.A1,b],null),m=$APP.Ll.l,p=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.Be(p)?$APP.Ll.l($APP.z([p,e])):e;b=$APP.Mq($APP.Mq(d,f,m.call($APP.Ll,$APP.z([$APP.k(e)?e:$APP.Vf,$APP.hi([a],[b])]))),new $APP.G(null,2,5,$APP.H,[$APP.A1,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.k(f)?$APP.k(e.g?e.g(f):e.call(null,f))?$APP.Mq(d,new $APP.G(null,3,5,$APP.H,[$APP.A1,f,a],null),b):$APP.Mq(d,
new $APP.G(null,3,5,$APP.H,[$APP.A1,c,a],null),b):$APP.Mq(d,new $APP.G(null,2,5,$APP.H,[$APP.A1,c],null),$APP.hi([a],[b]));b=Jhb(b)}else b=d;return b}e=o1(a,new $APP.G(null,3,5,$APP.H,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.bn.R(a,$APP.B1,U0,e,hhb);a=$APP.bn.R(a,C1,U0,e,ihb);d=d?$APP.bn.R(a,t1,U0,e,jhb):a;d=$APP.vi.j(d,I1,$APP.Bj.g(0));return $APP.k(c)?Jhb(Hhb(d,b)):d};
Ohb=function(a,b,c,d,e){return $APP.ef(function(f,m,p){var u=$APP.B.h(f,m);$APP.k(u)||(u=$APP.aK.g($APP.v(p1(c,$APP.B1,d,m,null,null))),u=$APP.k(u)?u:$APP.df($APP.kn.h($APP.ce(Q1.g($APP.B.h(x1(c),m))),null)));p=$APP.vi.j(u,p,e);return $APP.vi.j(f,m,p)},a,b)};
D2=function(a,b){var c=f2.g(a),d=B2.g(b);a=$APP.bn.F($APP.vi.j(a,f2,Nhb(c,b)),g2,$APP.wf,b);if(Ahb(c,d)){var e=$APP.eK.g(b);b=$APP.k($APP.e1(b))?$APP.aK.g(b):null;var f=$APP.B.h(C2.g(a),e);f=$APP.k(f)?f:$APP.Vf;d=$APP.B.h(y1(c,thb),d);c=Ohb(f,d,c,e,b);return $APP.bn.R(a,C2,$APP.vi,e,c)}return a};
Phb=function(a,b){function c(f,m){return $APP.bf.j(function(p,u){var t=d(f,u);return null==t?$APP.bn.F(p,0,$APP.wf,u):$APP.bn.R(p,1,$APP.vi,u,t)},new $APP.G(null,2,5,$APP.H,[$APP.Tg,$APP.Vf],null),m)}function d(f,m){return r2(a,f)?x2(m)?null:$APP.eK.g($APP.v(p1(a,t1,f,t2(a,m),null,null))):$APP.eK.g($APP.v(p1(a,t1,f,m,null,null)))}var e=$APP.Xf(y1(a,L1));return null==e?new $APP.G(null,2,5,$APP.H,[b,null],null):$APP.ef(function(f,m,p){var u=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);if(!(m instanceof $APP.F||
"string"===typeof m))throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([m]))," at ",$APP.xj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,m,E2,b,$APP.Ln,p2],null));if(null==p)throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.LI,null,E2,b,$APP.Ln,p2],null));if($APP.Se(e,m)){if(l2(a,m,p)){var t=c(m,p);p=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);return new $APP.G(null,2,5,$APP.H,[$APP.we(p)?u:$APP.vi.j(u,
m,p),$APP.we(t)?f:$APP.vi.j(f,m,t)],null)}t=d(m,p);return null==t?new $APP.G(null,2,5,$APP.H,[$APP.vi.j(u,m,p),f],null):new $APP.G(null,2,5,$APP.H,[u,$APP.vi.j(f,m,$APP.Uf([p,t]))],null)}return new $APP.G(null,2,5,$APP.H,[$APP.vi.j(u,m,p),f],null)},new $APP.G(null,2,5,$APP.H,[$APP.Vf,$APP.Vf],null),b)};
Shb=function(a,b){var c=$APP.ef(function(m,p,u){return $APP.ef(function(t,A,C){return $APP.vi.j(t,C,new $APP.G(null,2,5,$APP.H,[p,A],null))},m,u)},$APP.Vf,b);if(2<=$APP.ce(c)){b=$APP.v(c);a=$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null);b=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);var e=$APP.he(c);c=$APP.y.j(e,0,null);var f=$APP.y.j(e,1,null);e=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);throw $APP.Zl.h(["Conflicting upserts: ",$APP.xj.l($APP.z([new $APP.G(null,2,5,$APP.H,[b,d],null)]))," resolves to ",$APP.xj.l($APP.z([a])),
", but ",$APP.xj.l($APP.z([new $APP.G(null,2,5,$APP.H,[e,f],null)]))," resolves to ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,F2,Qhb,new $APP.G(null,3,5,$APP.H,[a,b,d],null),Rhb,new $APP.G(null,3,5,$APP.H,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.y.j(d,0,null);c=$APP.y.j(d,1,null);d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);a=G2.g(a);if(null!=b&&null!=a&&!x2(a)&&$APP.ui.h(b,a))throw $APP.Zl.h(["Conflicting upsert: ",$APP.xj.l($APP.z([new $APP.G(null,2,5,$APP.H,[d,c],null)]))," resolves to ",
$APP.xj.l($APP.z([b])),", but entity already has :db/id ",$APP.xj.l($APP.z([a]))].join(""),new $APP.h(null,3,[$APP.Ln,F2,Qhb,new $APP.G(null,3,5,$APP.H,[b,d,c],null),Rhb,new $APP.h(null,1,[G2,a],null)],null));return b};Thb=function(a,b,c){return o2(b)||k2(a,b)?i0(c)||$APP.xe(c)&&!$APP.Be(c)?$APP.x.h($APP.ce(c),2)&&j2(a,$APP.v(c),L1)?new $APP.G(null,1,5,$APP.H,[c],null):c:new $APP.G(null,1,5,$APP.H,[c],null):new $APP.G(null,1,5,$APP.H,[c],null)};
Uhb=function(a,b){var c=G2.g(b),d=$APP.qg.h($APP.K,$APP.bf.j(function(e,f){var m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return $APP.bn.F(e,n2(a,m)?1:0,$APP.wf,new $APP.G(null,2,5,$APP.H,[m,f],null))},new $APP.G(null,2,5,$APP.H,[$APP.Tg,$APP.Tg],null),b));return function m(f){return new $APP.Gf(null,function(){for(var p=f;;){var u=$APP.r(p);if(u){var t=u,A=$APP.v(t),C=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null);if($APP.ui.h(C,G2)){var I=function(){var Z=C;if(Z instanceof $APP.F||"string"===typeof Z)return null;
var ba=$APP.Uf([G2,c,C,E]);throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Z]))," at ",$APP.xj.l($APP.z([ba])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Z,E2,ba,$APP.Ln,p2],null));}(),Q=o2(C),T=Q?q2(C):C;if(Q&&!r2(a,T))throw $APP.Zl.h(["Bad attribute ",$APP.xj.l($APP.z([C])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.Ln,p2,V1,C,E2,$APP.Uf([G2,c,C,E])],null));if(u=$APP.r(function(Z,ba,da,ja,la,xa,sa,X,
S,W,V,Y){return function ha(za){return new $APP.Gf(null,function(qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb){return function(){for(;;){var Gb=$APP.r(za);if(Gb){if($APP.Fe(Gb)){var Nb=$APP.dd(Gb),$b=$APP.ce(Nb),ec=$APP.If($b);a:for(var Mc=0;;)if(Mc<$b){var pc=$APP.pe(Nb,Mc);$APP.Nf(ec,r2(a,Oa)&&$APP.Be(pc)?$APP.vi.j(pc,q2(gb),nb):ya?new $APP.G(null,4,5,$APP.H,[H2,pc,Oa,nb],null):new $APP.G(null,4,5,$APP.H,[H2,nb,Oa,pc],null));Mc+=1}else{Nb=!0;break a}return Nb?$APP.Mf($APP.Of(ec),ha($APP.ed(Gb))):$APP.Mf($APP.Of(ec),
null)}ec=$APP.v(Gb);return $APP.zf(r2(a,Oa)&&$APP.Be(ec)?$APP.vi.j(ec,q2(gb),nb):ya?new $APP.G(null,4,5,$APP.H,[H2,ec,Oa,nb],null):new $APP.G(null,4,5,$APP.H,[H2,nb,Oa,ec],null),ha($APP.Jd(Gb)))}return null}}}(Z,ba,da,ja,la,xa,sa,X,S,W,V,Y),null,null)}}(p,I,Q,T,null,A,C,E,t,u,c,d)(Thb(a,C,E))))return $APP.K.h(u,m($APP.Jd(p)))}p=$APP.Jd(p)}else return null}},null,null)}(d)};
J2=function(a,b){$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null),f=$APP.y.j(b,4,null);if(!(d instanceof $APP.F||"string"===typeof d))throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([d]))," at ",$APP.xj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,d,E2,b,$APP.Ln,p2],null));if(null==e)throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.LI,null,E2,b,$APP.Ln,p2],null));
b=$APP.k(f)?f:v2(a);f=f2.g(a);c=s2(f,c);e=r2(f,d)?s2(f,e):e;var m=g1.F(c,d,e,b);f=k2(f,d)?o1(f,new $APP.G(null,3,5,$APP.H,[c,d,e],null)):o1(f,new $APP.G(null,2,5,$APP.H,[c,d],null));return null==f?D2(a,m):$APP.x.h(f.v,e)?$APP.bn.F(a,I2,Vhb,m):D2(D2(a,g1.R(c,d,f.v,b,!1)),m)};Whb=function(a,b){var c=v2(a);return D2(a,g1.R(b.e,b.a,b.v,c,!1))};
Yhb=function(a,b){return $APP.Fh.j($APP.zi,$APP.pq.h($APP.Qg.g(function(c){return m2(a,c.a)}),$APP.fj.g(function(c){return new $APP.G(null,2,5,$APP.H,[Xhb,c.v],null)})),b)};
Zhb=function(a,b,c,d,e){var f=$APP.B.h(K2.g(a),d);if(null==f)return b=$APP.vi.j(h2.g(b),d,e),a=$APP.bn.R($APP.vi.j(a,h2,b),K2,$APP.vi,d,e),L2(a,c);throw $APP.Zl.h(["Conflicting upsert: ",$APP.xj.l($APP.z([d]))," resolves both to ",$APP.xj.l($APP.z([e]))," and ",$APP.xj.l($APP.z([f]))].join(""),new $APP.h(null,1,[$APP.Ln,F2],null));};
$hb=function(a){var b=f2.g(a);return $APP.ef(function(c,d,e){return $APP.ef(function(f,m,p){p=$APP.ng($APP.yb,p)?null:p;var u=$APP.aK.g($APP.v(p1(b,$APP.B1,d,m,null,null)));return $APP.x.h(p,u)?f:null==p?$APP.wf.h(f,$APP.se(new $APP.G(null,4,5,$APP.H,[M2,d,m,u],null),new $APP.h(null,1,[N2,!0],null))):$APP.wf.h(f,$APP.se(new $APP.G(null,4,5,$APP.H,[H2,d,m,p],null),new $APP.h(null,1,[N2,!0],null)))},c,e)},$APP.Tg,C2.g(a))};
aib=function(a){var b=O2.g(a);if($APP.k(b)){var c=$APP.Uc(b);b=function(d,e){return $APP.k($APP.e1(e))?$APP.my.h(d,$APP.eK.g(e)):d};c=$APP.bf.j(b,c,g2.g(a));b=$APP.bf.j(b,c,I2.g(a));if(0===$APP.ce(b))return $APP.Ml.l(a,O2,$APP.z([I2]));throw $APP.Zl.h(["Tempids used only as value in transaction: ",$APP.xj.l($APP.z([$APP.Jk.g($APP.ti($APP.Wc(b)))]))].join(""),new $APP.h(null,2,[$APP.Ln,p2,h2,b],null));}return $APP.Ml.l(a,O2,$APP.z([I2]))};
dib=function(a){if($APP.k(vgb(a))){var b;if(b=$APP.Se(a,S1)){b=S1.g(a);var c=b instanceof $APP.F||"string"===typeof b;c?(b=$APP.Cf($APP.gj.g(b)),b=$APP.k(b)?$APP.x.h("db",$APP.v($APP.gl.h(b,/\./))):!1):b=c}if(b)throw $APP.Zl.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.h(null,2,[$APP.Ln,bib,cib,a],null));b=Y1.g(a);b=$APP.k(b)?b:X1.g(a);if(b=$APP.k(b))b=S1.g(a),b=$APP.k(b)?Y1.g(a):b,b=!$APP.k(b);if(b)throw $APP.Zl.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.h(null,2,[$APP.Ln,bib,cib,a],null));}};eib=function(){};P2=function(a,b,c){if(null!=a&&null!=a.qm)a=a.qm(a,b,c);else{var d=P2[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IStorage.-store",a);}return a};
Q2=function(a,b){if(null!=a&&null!=a.pm)a=a.pm(a,b);else{var c=Q2[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Q2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.-restore",a);}return a};fib=function(a){return new $APP.G(null,4,5,$APP.H,[a.e,a.a,a.v,a.tx],null)};R2=function(a,b,c,d){this.storage=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};gib=function(a){return new R2(a,null,null,null)};
S2=function(a){return $APP.k(a)?$APP.B1.g(a).storage:null};T2=function(a){a=S2(a);return null==a?null:X0.g(a)};
W2=function(a,b,c){$APP.Cj.j(hib,$APP.wf,a);var d=U2;U2=$APP.zg($APP.Uc($APP.Tg));try{var e=$APP.B1.g(a),f=C1.g(a),m=t1.g(a),p=e.zg(null,b),u=f.zg(null,b),t=m.zg(null,b),A=$APP.Ll.l($APP.z([$APP.hi([$APP.A1,E1,C1,iib,t1,D1,$APP.B1,jib,kib,lib],[$APP.A1.g(a),E1.g(a),u,$APP.n(V2),t,D1.g(a),p,new $APP.h(null,2,[$APP.zI,f.T,a1,f.shift],null),new $APP.h(null,2,[$APP.zI,m.T,a1,m.shift],null),new $APP.h(null,2,[$APP.zI,e.T,a1,e.shift],null)]),$gb($APP.B1.g(a))]));if($APP.k($APP.k(c)?c:0<$APP.ce($APP.n(U2)))){$APP.ld(U2,
$APP.Sg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[0,A],null)));$APP.ld(U2,$APP.Sg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[1,$APP.Tg],null)));var C=X0.g(b),E=$APP.Jy.g($APP.B.h($APP.n(mib),C));$APP.Cj.F(mib,$APP.vi,C,null);P2(C,$APP.Wc($APP.n(U2)),E)}return a}finally{U2=d}};nib=function(a,b){return P2(T2(a),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[1,$APP.qn.h(function(c){return $APP.qn.h(fib,c)},b)],null)],null),null)};
pib=function(a,b){var c=Q2(a,0);if(null==c)return null;var d=Q2(a,1),e=$APP.Wf(c),f=$APP.B.h(e,kib),m=$APP.B.h(e,lib),p=$APP.B.h(e,$APP.A1),u=$APP.B.h(e,E1),t=$APP.B.h(e,C1),A=$APP.B.h(e,iib),C=$APP.B.h(e,t1),E=$APP.B.h(e,D1),I=$APP.B.h(e,$APP.B1);e=$APP.B.h(e,jib);V2.uc(null,function(){var T=V2.Ka(null);return T>A?T:A}());b=$APP.Ll.l($APP.z([c,b]));a=gib(a,b);var Q=X2(new $APP.h(null,6,[$APP.A1,p,$APP.B1,Xgb(j1,I,a,$APP.vi.j(b,$0,m)),C1,Xgb(k1,t,a,$APP.vi.j(b,$0,e)),t1,Xgb(l1,C,a,$APP.vi.j(b,$0,
f)),D1,E,E1,u],null));$APP.Cj.j(hib,$APP.wf,Q);return new $APP.G(null,2,5,$APP.H,[Q,$APP.qn.h(function(T){return $APP.un.h(function(Z){var ba=$APP.y.j(Z,0,null),da=$APP.y.j(Z,1,null),ja=$APP.y.j(Z,2,null),la=$APP.y.j(Z,3,null);Z=p1(Q,$APP.B1,ba,da,ja,null);Z=$APP.og(function(xa){return $APP.x.h(la,oib.g(xa))},Z);return $APP.k($APP.k(Z)?0<la:Z)?null:g1.F(ba,da,ja,la)},T)},d)],null)};
qib=function(a,b){return $APP.bf.j(function(c,d){if($APP.we(d))return c;try{var e=$APP.bf.j(Nhb,c,d);return $APP.vi.j(e,E1,oib.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};Y2=function(a){return null==X0.g(a)?a:$APP.bn.F(a,X0,gib,a)};Z2=function(a,b,c,d){this.dh=a;this.Eg=b;this.nb=c;this.P=d;this.M=98306;this.J=6455552};rib=function(a,b){if(null!=a&&!$APP.k(a.g?a.g(b):a.call(null,b)))throw $APP.Zl.h("Invalid reference state",new $APP.h(null,1,[$APP.LI,b],null));};
a3=function(a,b,c){var d=$APP.n(a);b=$APP.qg.j(b,d,c);rib(a.Eg,b);$APP.Qba(a.dh,$APP.vi.j($APP.n(a.dh),$2,d),$APP.vi.j($APP.n(a.dh),$2,b));a:{c=$APP.r(a.nb);for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m),u=$APP.y.j(p,0,null);p=$APP.y.j(p,1,null);p.F?p.F(u,a,d,b):p.call(null,u,a,d,b);m+=1}else if(c=$APP.r(c))$APP.Fe(c)?(e=$APP.dd(c),c=$APP.ed(c),u=e,f=$APP.ce(e),e=u):(e=$APP.v(c),u=$APP.y.j(e,0,null),p=$APP.y.j(e,1,null),p.F?p.F(u,a,d,b):p.call(null,u,a,d,b),c=$APP.w(c),e=null,f=0),m=0;else break a}return new $APP.G(null,
2,5,$APP.H,[d,b],null)};b3=function(a,b,c,d){return new Z2(a,b,c,d)};sib=function(a){a=$APP.Bj.g(a);return b3.g?b3.g(a):b3.call(null,a)};c3=function(a){switch(arguments.length){case 2:return c3.h(arguments[0],arguments[1]);case 3:return c3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};tib=function(a,b){return f2.g(c3.h(a,b))};
g3=function(a){if(null==T2(a))return sib(new $APP.h(null,1,[$2,a],null));d3.g(a);return sib(new $APP.h(null,3,[$2,a,e3,$APP.Tg,f3,a],null))};
vib=function(a,b,c){var d=$APP.zg(null),e=uib.g(c),f=$APP.Ml.h(c,uib);$APP.Cj.h(a,function(u){u=c3.j(u,b,f);$APP.ld(d,u);return f2.g(u)});if(null!=T2($APP.n(a))){c=$APP.n(d);var m=$APP.Wf(c);c=$APP.B.h(m,f2);var p=$APP.B.h(m,g2);m=$gb($APP.B1.g(c));a=$APP.uG.g(a);p=e3.g($APP.Cj.l(a,$APP.bn,e3,$APP.wf,$APP.z([p])));$APP.k(e)||($APP.Px.F($APP.fj.g($APP.ce),$APP.Qx,0,p)>b1.g(m)?(W2(c,S2(c),!1),$APP.Cj.l(a,$APP.vi,e3,$APP.Tg,$APP.z([f3,c]))):nib(c,p))}return $APP.n(d)};
wib=function(a,b){b=$APP.Cj.j(a,yhb,b);null!=T2($APP.n(a))&&(W2(b,S2(b),!0),$APP.Cj.l($APP.uG.g(a),$APP.vi,e3,$APP.Tg,$APP.z([f3,b])));return b};h3=function(a,b){b="number"===typeof b||$APP.Ae(b)||b instanceof $APP.F?t2(a,b):null;if($APP.k(b)&&Chb(a,b)){var c=$APP.zg(!1),d=$APP.zg($APP.Vf);return xib.F?xib.F(a,b,c,d):xib.call(null,a,b,c,d)}return null};
yib=function(a,b,c){return k2(a,b)?r2(a,b)?$APP.bf.j(function(d,e){return $APP.wf.h(d,h3(a,$APP.aK.g(e)))},$APP.zi,c):$APP.bf.j(function(d,e){return $APP.wf.h(d,$APP.aK.g(e))},$APP.zi,c):r2(a,b)?h3(a,$APP.aK.g($APP.v(c))):$APP.aK.g($APP.v(c))};zib=function(a,b,c,d){b=$APP.Xf(n1(a,new $APP.G(null,3,5,$APP.H,[null,c,b],null)));return $APP.k(b)?m2(a,c)?h3(a,$APP.eK.g($APP.v(b))):$APP.bf.j(function(e,f){return $APP.wf.h(e,h3(a,$APP.eK.g(f)))},$APP.zi,b):d};i3=function(a){return $APP.k(a)?$APP.cf(a):null};
k3=function(a){j3.g?j3.g(a):j3.call(null,a);return function d(c){return new $APP.Gf(null,function(){for(;;){var e=$APP.r(c);if(e){if($APP.Fe(e)){var f=$APP.dd(e),m=$APP.ce(f),p=$APP.If(m);a:for(var u=0;;)if(u<m){var t=$APP.pe(f,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);$APP.Nf(p,k2(a.db,A)?new $APP.G(null,2,5,$APP.H,[A,i3(t)],null):new $APP.G(null,2,5,$APP.H,[A,t],null));u+=1}else{f=!0;break a}return f?$APP.Mf($APP.Of(p),d($APP.ed(e))):$APP.Mf($APP.Of(p),null)}f=$APP.v(e);p=$APP.y.j(f,0,null);
f=$APP.y.j(f,1,null);return $APP.zf(k2(a.db,p)?new $APP.G(null,2,5,$APP.H,[p,i3(f)],null):new $APP.G(null,2,5,$APP.H,[p,f],null),d($APP.Jd(e)))}return null}},null,null)}($APP.n(a.cache))};l3=function(a,b,c,d){this.db=a;this.eid=b;this.Uj=c;this.cache=d;this.J=2162164483;this.M=0};xib=function(a,b,c,d){return new l3(a,b,c,d)};Aib=function(a){return a instanceof l3};m3=function(a,b){return b instanceof l3&&a.db===b.db&&$APP.x.h(a.eid,b.eid)};Bib=function(a){return c1($APP.zd(a.eid),$APP.ma(a.db))};
Cib=function(a,b){return $APP.ef(function(c,d,e){return $APP.vi.j(c,d,m2(a,d)?k2(a,d)?$APP.Ci($APP.fj.h(j3,e)):j3.g?j3.g(e):j3.call(null,e):e)},$APP.Vf,b)};Dib=function(a,b){return $APP.bf.j(function(c,d){var e=B2.g($APP.v(d));return $APP.vi.j(c,e,yib(a,e,d))},$APP.Vf,$APP.Oy.h(B2,b))};j3=function(a){if(null!=a){if(!$APP.k($APP.n(a.Uj))){var b=$APP.Xf(n1(a.db,new $APP.G(null,1,5,$APP.H,[a.eid],null)));$APP.k(b)&&($APP.Ag(a.cache,Cib(a.db,Dib(a.db,b))),$APP.ld(a.Uj,!0))}return a}return null};
Eib=function(a){return $APP.bf.j($APP.Qx,0,a)};Fib=function(a){return Eib(a)/$APP.ce(a)};
Gib=function(a){var b=Fib(a);return Eib(function(){return function e(d){return new $APP.Gf(null,function(){for(;;){var f=$APP.r(d);if(f){if($APP.Fe(f)){var m=$APP.dd(f),p=$APP.ce(m),u=$APP.If(p);a:for(var t=0;;)if(t<p){var A=$APP.pe(m,t)-b;u.add(A*A);t+=1}else{m=!0;break a}return m?$APP.Mf($APP.Of(u),e($APP.ed(f))):$APP.Mf($APP.Of(u),null)}u=$APP.v(f)-b;return $APP.zf(u*u,e($APP.Jd(f)))}return null}},null,null)}(a)}())/$APP.ce(a)};
n3=function(a,b,c,d,e,f,m,p,u,t,A,C,E,I,Q){this.as=a;this.Cb=b;this.Jb=c;this.name=d;this.pattern=e;this.zc=f;this.Da=m;this.Ic=p;this.Kb=u;this.yc=t;this.Ac=A;this.vc=C;this.A=E;this.o=I;this.C=Q;this.J=2230716170;this.M=139264};
Hib=function(a){var b=$APP.Ml.l(a,$APP.mo,$APP.z([$APP.Nm,o3,$APP.N,$APP.MF,p3,q3,r3,s3,t3,u3,v3]));b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new n3($APP.mo.g(a),$APP.Nm.g(a),o3.g(a),$APP.N.g(a),$APP.MF.g(a),p3.g(a),q3.g(a),r3.g(a),s3.g(a),t3.g(a),u3.g(a),v3.g(a),null,$APP.Xf(b),null)};w3=function(a,b,c,d,e,f,m,p){this.ta=a;this.Gd=b;this.Ud=c;this.vd=d;this.Pc=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Iib=function(a){var b=$APP.Ml.l(a,x3,$APP.z([y3,z3,A3,B3]));b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new w3(x3.g(a),y3.g(a),z3.g(a),A3.g(a),B3.g(a),null,$APP.Xf(b),null)};D3=function(a,b,c){if($APP.k(a))return null;throw $APP.Zl.h(["Expected ",$APP.l.g(b),", got: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,Jib,C3,c],null));};
Mib=function(a,b){var c=o2(b),d=c?q2(b):b,e=r2(a,d),f=m2(a,d);a=k2(a,d);if(c){D3(e,"reverse attribute having :db.type/ref",b);var m=!0}else m=null;return Hib($APP.hi([s3,o3,r3,$APP.N,$APP.mo,v3,u3,t3,$APP.MF],[$APP.ff,a?1E3:null,m,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?Kib:f?Lib:Kib:null]))};Nib=function(a,b,c){D3("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);D3(k2(a,$APP.N.g(b)),"limit attribute having :db.cardinality/many",$APP.N.g(b))};
Pib=function(a,b){var c=function(){var d=$APP.v(b);return E3.h?E3.h(a,d):E3.call(null,a,d)}();if(null==c)return null;D3($APP.pg($APP.ce($APP.w(b))),"even number of opts",b);return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);switch(f instanceof $APP.F?f.N:null){case "as":return $APP.vi.j(d,$APP.mo,e);case "limit":return Nib(a,d,e),$APP.vi.j(d,o3,e);case "default":return $APP.vi.j(d,$APP.Nm,e);case "xform":f=$APP.vi.j;var m=$APP.qe(e)?e:null;if($APP.k(m))e=m;else if(m=$APP.B.h(Oib,
e),$APP.k(m))e=m;else throw $APP.Zl.h(["Can't resolve symbol ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,2,[$APP.Ln,Jib,C3,e],null));return f.call($APP.vi,d,s3,e);default:return D3(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.qq.h(2,$APP.w(b)))};
E3=function(a,b){var c;!(c=b instanceof $APP.F)&&(c="string"===typeof b)&&(c=new $APP.yi(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.Bb(c));if(c)return Mib(a,b);if($APP.Ae(b)){c=Pib(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.yi(null,new $APP.h(null,2,[$APP.Dna,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.ce(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,
1,null),c=$APP.y.j(b,2,null),d=E3.h?E3.h(a,d):E3.call(null,a,d),Nib(a,d,c),c=$APP.vi.j(d,o3,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.yi(null,new $APP.h(null,2,[$APP.HJ,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.ce(b),3),"['default attr-name any-value]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),c=$APP.y.j(b,2,null),a=E3.h?E3.h(a,d):E3.call(null,a,d),a=$APP.vi.j(a,$APP.Nm,c)):a=null;return $APP.k(a)?a:D3(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};Qib=function(a,b){return $APP.og(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.fj.j($APP.Jw,b,$APP.Wn.D()))};Rib=function(a,b){var c=$APP.k(r3.g(b))?A3:x3,d=Qib(function(e){return $APP.x.h($APP.mo.g(e),$APP.mo.g(b))},$APP.B.h(a,c));return null==d?$APP.bn.F(a,c,$APP.wf,b):$APP.bn.R(a,c,$APP.vi,d,b)};
F3=function(a,b){D3($APP.Ae(b),"pattern to be sequential?",b);for(var c=Iib(new $APP.h(null,3,[x3,$APP.Tg,A3,$APP.Tg,B3,null],null));;){if($APP.we(b)){var d=c.ta,e=function(){return function(p){p=p.name;var u=new $APP.yi(null,new $APP.h(null,2,[G2,null,":db/id",null],null),null);return u.g?u.g(p):u.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.N.g(p);return p instanceof $APP.F?p:$APP.x.h(":",$APP.Wi.j(p,0,1))?$APP.gj.g($APP.Wi.h(p,1)):$APP.gj.g(p)}}(b,c,d,e);d=$APP.k(function(){var p=
c.Pc;return $APP.k(p)?$APP.Bb($APP.og(e,c.ta)):p}())?$APP.wf.h(d,Sib):d;d=$APP.Hs.g($APP.Nx.h(b,d));var f=$APP.js.h(e,d),m=$APP.v(f);f=$APP.ne(f);return Iib(new $APP.h(null,5,[x3,d,y3,m,z3,f,A3,$APP.Hs.g($APP.Nx.h(b,c.vd)),B3,c.Pc],null))}m=$APP.v(b);if($APP.x.h($APP.vH,m)||$APP.x.h("*",m)||$APP.x.h(Tib,m))b=$APP.w(b),c=d=$APP.vi.j(c,B3,!0);else if($APP.Be(m))d=$APP.ef(function(){return function(p,u,t){var A=E3(a,u);D3(null!=A,"attr-name | attr-expr",u);D3(r2(a,$APP.N.g(A)),"attribute having :db.type/ref",
u);$APP.x.h(Uib,t)||$APP.x.h("...",t)?u=$APP.vi.l(A,$APP.MF,null,$APP.z([q3,!0,p3,null])):"number"===typeof t?(D3(0<t,"(positive-num | ...)",$APP.Uf([u,t])),u=$APP.vi.l(A,$APP.MF,null,$APP.z([q3,!0,p3,t]))):u=$APP.vi.j(A,$APP.MF,F3.h?F3.h(a,t):F3.call(null,a,t));return Rib(p,u)}}(b,c,m),c,m),b=$APP.w(b),c=d;else{d=E3(a,m);if(null==d)return D3(!1,"attr-name | attr-expr | map-spec | *",m);b=$APP.w(b);c=d=Rib(c,d)}}};G3=function(a){return null==a?null:$APP.Yb(a)};H3=function(a){return null==a?null:$APP.bc(a)};
Vib=function(a,b){return null==a?new $APP.D(null,b,null,1,null):$APP.Vb(a,b)};Wib=function(a,b,c){return null==c?a:$APP.Hh.j(a,b,c)};I3=function(a,b,c,d,e){this.db=a;this.hf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};Xib=function(a,b,c,d,e){a=a.hf;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
Yib=function(a,b){if(null!=a&&null!=a.pi)a=a.pi(a,b);else{var c=Yib[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Yib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IFrame.-merge",a);}return a};Zib=function(a,b){if(null!=a&&null!=a.wh)a=a.wh(a,b);else{var c=Zib[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Zib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IFrame.-run",a);}return a};
J3=function(a,b,c,d,e){this.value=a;this.za=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};K3=function(a,b,c,d,e,f){this.pa=a;this.oa=b;this.za=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};L3=function(a,b,c,d,e,f,m,p,u){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.za=f;this.A=m;this.o=p;this.C=u;this.J=2230716170;this.M=139264};
M3=function(a,b,c,d,e,f,m,p,u,t,A){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.za=m;this.id=p;this.A=u;this.o=t;this.C=A;this.J=2230716170;this.M=139264};N3=function(a,b,c,d,e,f,m,p,u,t){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.id=m;this.A=p;this.o=u;this.C=t;this.J=2230716170;this.M=139264};$ib=function(a,b,c,d,e,f,m){return new N3(a,b,c,d,e,f,m,null,null,null)};
P3=function(a,b,c,d,e,f){var m=e.Da;$APP.k(m)||(m=e.vc,m=$APP.k(m)?e.pattern.Pc:m);if($APP.Bb(m))return d=e.pattern,O3.R?O3.R(a,b,c,d,f):O3.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new J3(new $APP.h(null,1,[G2,f],null),null,null,null,null);m=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(m)?0>=m&&!0:m))return new J3(null,null,null,null,null);b=$APP.wf.h(b,f);c=$APP.k(m)?$APP.bn.j(c,e,$APP.gf):$APP.k(e.zc)?$APP.vi.j(c,e,e.zc-1):c;d=$APP.k(e.Da)?d:e.pattern;return O3.R?O3.R(a,b,
c,d,f):O3.call(null,a,b,c,d,f)};
O3=function(a,b,c,d,e){var f=a.db,m=function(){var p=d.Pc;if($APP.k($APP.k(p)?f instanceof $APP.z1&&!0:p))return V0(f.jc,g1.F(e,null,null,536870912),g1.F(e,null,null,2147483647));if($APP.k(d.Pc))return n1(f,new $APP.G(null,1,5,$APP.H,[e],null));if(null==d.Gd)return null;p=d.Gd.name;var u=d.Ud.name;return f instanceof $APP.z1?V0(f.jc,g1.F(e,p,null,536870912),g1.F(e,u,null,2147483647)):q1(f,$APP.B1,e,null,null,null)}();$APP.k(d.Pc)&&Xib(a,ajb,e,null,null);return new M3(b,c,$APP.Uc($APP.Vf),d,G3(d.ta),
H3(d.ta),m,e,null,null,null)};Q3=function(a,b){var c=$APP.Wf(a);a=$APP.B.h(c,E2);c=$APP.B.h(c,$APP.MF);b=t2(a.db,b);if(null==b)return null;for(c=new $APP.D(null,O3(a,$APP.zi,$APP.Vf,c,b),null,1,null);;){b=G3(c);var d=H3(c);if(b instanceof J3){if(null==d)return b.value;c=G3(d);d=H3(d);c=Vib(d,Yib(c,b))}else c=$APP.bf.j(Vib,d,Zib(b,a))}};S3=function(a,b,c){c=$APP.Wf(c);c=$APP.B.h(c,R3);return new $APP.h(null,2,[$APP.MF,c0(ohb(a).Sc,b,function(){return F3(a,b)}),E2,new I3(a,c,null,null,null)],null)};
T3=function(a,b){return $APP.zb(a)?a[b]:$APP.y.h(a,b)};U3=function(a,b){return $APP.Be(a)?a.g?a.g(b):a.call(null,b):a[b]};V3=function(a,b){var c=Array($APP.ce(b));$APP.bf.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};bjb=function(a,b){var c=Array($APP.ce(b));$APP.bf.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};cjb=function(a,b){return null==b.a?-1:0>=$APP.We(a.a,b.a)?-1:1};
djb=function(a){if($APP.we(C1.g(a)))return $APP.Tg;for(var b=$APP.Uc(new $APP.G(null,1,5,$APP.H,[B2.g($APP.v(C1.g(a)))],null));;){var c=$APP.y.h(b,$APP.ce(b)-1),d=g1.j(0,c,null),e=g1.j(2147483647,null,null);c=B2;var f=c.g,m=C1.g(a);d=Rgb(m,d,e,cjb);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Sg.h(b,c);else return $APP.Wc(b)}};ejb=function(a){return $APP.Ea(a,":")?$APP.gj.g($APP.Wi.h(a,1)):a};
hjb=function(a,b){b=$APP.Wf(b);var c=$APP.B.j(b,fjb,$APP.xj),d=$APP.B.j(b,gjb,$APP.l);if($APP.k(T2(a)))throw $APP.Zl.h("serializable doesn't work with databases that have :storage",$APP.Vf);var e=djb(a),f=$APP.Fh.h($APP.Vf,$APP.fj.j($APP.Jw,e,$APP.Wn.D())),m=$APP.zg($APP.Uc($APP.Tg)),p=$APP.zg($APP.Uc($APP.Vf));b=bjb(function(C,E){E.idx=C|0;C=E.e;var I=E.a;I=f.g?f.g(I):f.call(null,I);var Q=E.v;if("string"!==typeof Q)if("number"===typeof Q)Q=Infinity===Q?[2]:-Infinity===Q?[3]:$APP.k(isNaN(Q))?[4]:
Q;else if(!$APP.Je(Q))if(Q instanceof $APP.F){var T=$APP.B.h($APP.n(p),Q);$APP.k(T)?Q=T:(T=m.uc(null,$APP.Sg.h(m.Ka(null),Q)),T=$APP.ce(T)-1,p.uc(null,$APP.Hh.j(p.Ka(null),Q,T)),Q=T);Q=[0,Q]}else Q=[1,c.g?c.g(Q):c.call(null,Q)];return[C,I,Q,E.tx-536870912]},$APP.B1.g(a));var u=bjb(function(C,E){return E.idx},C1.g(a)),t=bjb(function(C,E){return E.idx},t1.g(a)),A=function(){var C=$APP.A1.g(a);return c.g?c.g(C):c.call(null,C)}();e=V3(d,e);d=V3(d,$APP.Wc($APP.n(m)));return{count:$APP.ce($APP.B1.g(a)),
tx0:536870912,"max-eid":D1.g(a),"max-tx":E1.g(a),schema:A,attrs:e,keywords:d,eavt:b,aevt:u,avet:t}};W3=function(){};ijb=function(a,b,c){if(null!=a&&null!=a.Hb)a=a.Hb(a,b,c);else{var d=ijb[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ijb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("ITraversable.-collect",a);}return a};
jjb=function(a,b){if(null!=a&&null!=a.Ib)a=a.Ib(a,b);else{var c=jjb[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=jjb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("ITraversable.-collect-vars",a);}return a};X3=function(a,b){return $APP.Ae(a)&&$APP.x.h($APP.ce(a),b)};Y3=function(a,b){return $APP.Ae(b)?$APP.bf.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.wf.h(c,d):$APP.Td(null)},$APP.Tg,b):null};$3=function(a,b){return Z3(a,b,$APP.Tg)};
Z3=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.wf.h(c,b):(null!=b?$APP.yd===b.Gb||(b.kd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?ijb(b,a,c):ahb(b)?$APP.bf.j(function(d,e){return Z3(a,e,d)},c,b):c};a4=function(a){var b=$APP.we(a);return b?b:$APP.qg.h($APP.Zo,a)};b4=function(a,b){return $APP.se(a,new $APP.h(null,1,[$APP.Kl,b],null))};c4=function(a){var b=$APP.Kl.g($APP.te(a));return $APP.k(b)?b:a};d4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};
e4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};f4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};g4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};h4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};i4=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};
j4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};k4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?new e4(a,null,null,null):null};ljb=function(a){var b=k4(a);if($APP.k(b))return b;throw $APP.Zl.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.xj.l($APP.z([a]))].join(""),new $APP.h(null,2,[$APP.Ln,kjb,$APP.CB,a],null));};
l4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"$")?new f4(a,null,null,null):null};mjb=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?null:new i4(a,null,null,null)};m4=function(a){return a instanceof $APP.q&&$APP.Bb(k4(a))&&$APP.Bb(l4(a))&&$APP.Bb($APP.x.h($APP.Vv,a)?new h4(null,null,null):null)&&$APP.Bb($APP.x.h($APP.AH,a)?new d4(null,null,null):null)?new j4(a,null,null,null):null};njb=function(a){return $APP.k(m4(a))?new e4(a,null,null,null):null};
ojb=function(a){var b=k4(a);if($APP.k(b))return b;b=l4(a);return $APP.k(b)?b:mjb(a)};n4=function(a,b,c,d,e){this.required=a;this.ye=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
qjb=function(a){if($APP.Ae(a)){var b=$APP.Ae($APP.v(a))?new $APP.G(null,2,5,$APP.H,[$APP.v(a),$APP.w(a)],null):new $APP.G(null,2,5,$APP.H,[null,a],null),c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=Y3(ljb,c);b=Y3(ljb,b);if($APP.we(c)&&$APP.we(b))throw $APP.Zl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Ln,pjb,$APP.CB,a],null));if(!$APP.k(a4($APP.K.h(c,b))))throw $APP.Zl.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.Ln,pjb,$APP.CB,
a],null));return new n4(c,b,null,null,null)}throw $APP.Zl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Ln,pjb,$APP.CB,a],null));};p4=function(a){return $APP.K.h($APP.k($APP.cH.g(a))?new $APP.G(null,1,5,$APP.H,[$APP.qn.h($APP.Am,$APP.cH.g(a))],null):null,$APP.qn.h($APP.Am,o4.g(a)))};rjb=function(a){return new $APP.G(null,2,5,$APP.H,[$APP.ce($APP.cH.g(a)),$APP.ce(o4.g(a))],null)};
q4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};r4=function(a,b,c,d){this.fc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};s4=function(a,b,c,d){this.Ga=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};t4=function(a,b,c,d){this.dc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};sjb=function(a){return $APP.x.h($APP.AH,a)?b4(new q4(null,null,null),a):null};
tjb=function(a){var b=sjb(a);return $APP.k(b)?b:u4.g?u4.g(a):u4.call(null,a)};vjb=function(a){var b=Y3(tjb,a);if($APP.k(b)){if($APP.we(b))throw $APP.Zl.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.Ln,ujb,$APP.CB,a],null));return b4(new s4(b,null,null,null),a)}return null};
u4=function(a){a:{if(X3(a,2)&&$APP.x.h($APP.he(a),Uib)){var b=$APP.v(a);b=u4.g?u4.g(b):u4.call(null,b);if($APP.k(b)){b=b4(new t4(b,null,null,null),a);break a}throw $APP.Zl.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.Ln,ujb,$APP.CB,a],null));}b=null}if($APP.k(b))return b;b=X3(a,1)&&$APP.Ae($APP.v(a))?b4(new t4(vjb($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=vjb(a);if($APP.k(b))return b;b=sjb(a);if($APP.k(b))return b;b=k4(a);b=$APP.k(b)?b4(new r4(b,null,null,null),a):
null;if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Ln,ujb,$APP.CB,a],null));};v4=function(a){if(null!=a&&null!=a.oi)a=a.oi(a);else{var b=v4[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=v4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IFindVars.-find-vars",a);}return a};
w4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};x4=function(a,b,c,d,e,f){this.source=a;this.fc=b;this.pattern=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};y4=function(a){if(null!=a&&null!=a.vh)a=a.vh(a);else{var b=y4[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=y4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IFindElements.find-elements",a);}return a};
z4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};A4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};B4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};C4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};wjb=function(a){return a instanceof w4};xjb=function(a){return a instanceof x4};
D4=function(a){var b=k4(a);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),yjb)){if(3<=$APP.ce(a)&&4>=$APP.ce(a)){var c=(b=$APP.x.h($APP.ce(a),4))?$APP.y.h(a,1):zjb;b=b?$APP.le(a):$APP.w(a);var d=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=l4(c);d=k4(d);var e=k4(b);$APP.k(e)?b=e:(e=njb(b),b=$APP.k(e)?e:mjb(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new x4(c,d,b,null,null,null);break a}}throw $APP.Zl.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.Ln,Ajb,C3,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),Bjb)){if(3<=$APP.ce(a)&&(b=$APP.r(a),$APP.v(b),c=$APP.w(b),b=$APP.v(c),c=$APP.w(c),b=k4(b),c=Y3(ojb,c),$APP.k($APP.k(b)?c:b))){b=new w4(b,c,null,null,null);break a}throw $APP.Zl.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.Ln,Ajb,C3,a],null));}b=null}$APP.k(b)?a=b:$APP.Ae(a)&&2<=$APP.ce(a)?(b=$APP.r(a),a=$APP.v(b),b=$APP.w(b),a=m4(a),
b=Y3(ojb,b),a=$APP.k($APP.k(a)?b:a)?new w4(a,b,null,null,null):null):a=null;return a};
Cjb=function(a){var b=Y3(D4,a);b=null==b?null:new z4(b,null,null,null);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.ce(a),1)&&(b=$APP.v(a),$APP.Ae(b)&&$APP.x.h($APP.ce(b),2)&&$APP.x.h($APP.he(b),Uib))){b=D4($APP.v(b));b=null==b?null:new A4(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.ce(a),2)&&$APP.x.h($APP.he(a),$APP.zk)?(b=D4($APP.v(a)),b=null==b?null:new B4(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.ce(a),1)?(b=$APP.v(a),
b=Y3(D4,b),b=null==b?null:new C4(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.Ln,Ajb,C3,a],null));};E4=function(a,b,c,d,e){this.type=a;this.He=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Djb=function(a,b){if(!$APP.we(b)&&$APP.ng($APP.Bd,b))switch(a instanceof $APP.F?a.N:null){case "keys":return new E4(a,$APP.qn.h($APP.gj,b),null,null,null);case "syms":return new E4(a,$APP.df(b),null,null,null);case "strs":return new E4(a,$APP.qn.h($APP.l,b),null,null,null);default:return null}else return null};Ejb=function(a){var b=l4(a);$APP.k(b)||(b=$APP.x.h($APP.Vv,a)?new h4(null,null,null):null,b=$APP.k(b)?b:njb(a));return $APP.k(b)?b4(new r4(b,null,null,null),a):u4(a)};
Gjb=function(a){var b=Y3(Ejb,a);if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Ln,Fjb,$APP.CB,a],null));};F4=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};G4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
H4=function(a,b,c,d,e,f){this.na=a;this.Ba=b;this.dc=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};I4=function(a,b,c,d,e,f){this.source=a;this.name=b;this.Ba=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};J4=function(a,b,c,d,e,f){this.source=a;this.hc=b;this.Ia=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};K4=function(a,b,c,d,e,f){this.source=a;this.Wd=b;this.Ia=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};
L4=function(a,b,c,d){this.Ia=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Hjb=function(a){var b=$APP.x.h($APP.AH,a)?new d4(null,null,null):null;if($APP.k(b))return b;b=k4(a);return $APP.k(b)?b:mjb(a)};M4=function(a){if($APP.Ae(a)){var b=l4($APP.v(a));return $APP.k(b)?new $APP.G(null,2,5,$APP.H,[b,$APP.w(a)],null):new $APP.G(null,2,5,$APP.H,[new g4(null,null,null),a],null)}return null};
Ijb=function(a){if($APP.Ae(a)){var b=$APP.r(a);a=$APP.v(b);b=$APP.w(b);b=null==b?$APP.Tg:b;var c=m4(a);a=$APP.k(c)?c:k4(a);b=Y3(ojb,b);return $APP.k($APP.k(a)?b:a)?new $APP.G(null,2,5,$APP.H,[a,b],null):null}return null};Jjb=function(a,b,c){if($APP.we(a)&&$APP.we(b))throw $APP.Zl.h("Join variables should not be empty",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,c],null));};Kjb=function(a,b){Jjb(null,$APP.lI.g(a),b);return a};
Ljb=function(a,b){var c=$APP.Wf(a);c=$APP.B.h(c,O4);var d=$APP.Wf(c);c=$APP.B.h(d,$APP.cH);d=$APP.B.h(d,o4);Jjb(c,d,b);return a};Mjb=function(a){if($APP.Ae(a)&&$APP.x.h($APP.kt,$APP.v(a))){var b=$APP.w(a);b=P4.g?P4.g(b):P4.call(null,b);if($APP.k($APP.Xf(b)))return new L4(b,null,null,null);throw $APP.Zl.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));}return null};
Ojb=function(a){a:{var b=M4(a);if($APP.k(b)){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);var d=$APP.r(b);b=$APP.v(d);d=$APP.w(d);if($APP.x.h($APP.MC,b)){b=P4.g?P4.g(d):P4.call(null,d);if($APP.k(b)){c=Kjb(b4(new J4(c,$APP.df($APP.Jy.g(Q4($APP.Tg,b))),b,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)){c=$APP.y.j(b,0,null);b=$APP.y.j(b,
1,null);d=$APP.r(b);b=$APP.v(d);var e=$APP.w(d);d=$APP.v(e);e=$APP.w(e);if($APP.x.h(Njb,b)){b=Y3(k4,d);d=P4.g?P4.g(e):P4.call(null,e);if($APP.k($APP.k(b)?d:b)){c=Kjb(b4(new J4(c,b,d,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),d=$APP.w(d),$APP.x.h($APP.pt,
b))){b=Y3($APP.ty.h(Mjb,Ojb),d);if($APP.k(b)){c=Ljb(b4(new K4(c,new n4(null,$APP.df($APP.Jy.g(Q4($APP.Tg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),e=$APP.w(d),d=$APP.v(e),e=$APP.w(e),$APP.x.h(R4,b))){b=qjb(d);d=Y3($APP.ty.h(Mjb,Ojb),e);if($APP.k($APP.k(b)?
d:b)){c=Ljb(b4(new K4(c,b,d,null,null,null),a),a);break a}throw $APP.Zl.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));}c=null}if($APP.k(c))return c;a:{if(X3(a,1)&&(b=Ijb($APP.v(a)),$APP.k(b))){c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=b4(new G4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(X3(a,2)&&(b=$APP.y.j(a,0,null),c=$APP.y.j(a,1,null),d=Ijb(b),$APP.k(d))){b=$APP.y.j(d,0,null);d=$APP.y.j(d,
1,null);c=u4(c);c=$APP.k(c)?b4(new H4(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=$APP.r(b),d=$APP.v(b),b=$APP.w(b),d=m4(d),e=Y3(Hjb,b),$APP.k(d))){if($APP.we(b))throw $APP.Zl.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));if(null==e)throw $APP.Zl.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,
a],null));c=new I4(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=Y3(Hjb,b),$APP.k(b))){if($APP.we(b))throw $APP.Zl.h("Pattern could not be empty",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));c=b4(new F4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.Zl.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));};P4=function(a){return Y3(Ojb,a)};Pjb=function(a){var b=P4(a);if($APP.k(b))return b;throw $APP.Zl.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.Ln,N4,$APP.CB,a],null));};S4=function(a,b,c,d,e){this.hc=a;this.Ia=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};T4=function(a,b,c,d,e){this.name=a;this.oe=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Qjb=function(a){if($APP.Ae(a)){var b=$APP.r(a),c=$APP.v(b),d=$APP.w(b);if($APP.Ae(c)){b=$APP.r(c);var e=$APP.v(b);c=$APP.w(b);b=function(){var m=m4(e);if($APP.k(m))return m;throw $APP.Zl.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.Ln,U4,$APP.CB,a],null));}();c=qjb(c);var f=function(){var m=$APP.Xf(P4(d));if($APP.k(m))return m;throw $APP.Zl.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.Ln,U4,$APP.CB,a],null));}();return new $APP.h(null,3,[$APP.N,b,$APP.lI,
c,$APP.sK,f],null)}throw $APP.Zl.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,$APP.CB,a],null));}throw $APP.Zl.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.Ln,U4,$APP.CB,a],null));};
Sjb=function(a,b){var c=$APP.lI.g($APP.v(b)),d=rjb(c);b=$APP.r($APP.w(b));for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m);p=$APP.lI.g(p);if($APP.ui.h(d,rjb(p)))throw $APP.Zl.h(["Arity mismatch for rule '",$APP.xj.l($APP.z([$APP.Am.g(a)])),"': ",$APP.xj.l($APP.z([p4(c)]))," vs. ",$APP.xj.l($APP.z([p4(p)]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,Rjb,a],null));m+=1}else if(b=$APP.r(b)){if($APP.Fe(b))f=$APP.dd(b),b=$APP.ed(b),e=f,f=$APP.ce(f);else{p=$APP.v(b);e=$APP.lI.g(p);if($APP.ui.h(d,rjb(e)))throw $APP.Zl.h(["Arity mismatch for rule '",
$APP.xj.l($APP.z([$APP.Am.g(a)])),"': ",$APP.xj.l($APP.z([p4(c)]))," vs. ",$APP.xj.l($APP.z([p4(e)]))].join(""),new $APP.h(null,2,[$APP.Ln,U4,Rjb,a],null));b=$APP.w(b);e=null;f=0}m=0}else break};
Tjb=function(a){$APP.df(function(){return function d(c){return new $APP.Gf(null,function(){for(;;){var e=$APP.r(c);if(e){var f=e;if($APP.Fe(f)){var m=$APP.dd(f),p=$APP.ce(m),u=$APP.If(p);return function(){for(var E=0;;)if(E<p){var I=$APP.pe(m,E),Q=$APP.y.j(I,0,null),T=$APP.y.j(I,1,null);I=$APP.qn.h(function(){return function(Z){return new S4($APP.lI.g(Z),$APP.sK.g(Z),null,null,null)}}(E,I,Q,T,m,p,u,f,e),T);T=u;Sjb(Q,I);T.add(new T4(Q,I,null,null,null));E+=1}else return!0}()?$APP.Mf($APP.Of(u),d($APP.ed(f))):
$APP.Mf($APP.Of(u),null)}var t=$APP.v(f),A=$APP.y.j(t,0,null),C=$APP.y.j(t,1,null);t=$APP.qn.h(function(){return function(E){return new S4($APP.lI.g(E),$APP.sK.g(E),null,null,null)}}(t,A,C,f,e),C);Sjb(A,t);return $APP.zf(new T4(A,t,null,null,null),d($APP.Jd(f)))}return null}},null,null)}($APP.Fj($APP.N,Y3(Qjb,a)))}())};V4=function(a,b,c,d,e,f,m,p){this.Jd=a;this.Nd=b;this.Ld=c;this.Kd=d;this.Md=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Ujb=function(a){var b=$APP.Ml.l(a,W4,$APP.z([X4,Y4,Z4,$4]));b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new V4(W4.g(a),X4.g(a),Y4.g(a),Z4.g(a),$4.g(a),null,$APP.Xf(b),null)};Vjb=function(a){for(var b=$APP.Vf,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.F?(c=d,a=$APP.w(a)):(b=$APP.Jl.F(b,new $APP.G(null,1,5,$APP.H,[c],null),$APP.$m.h($APP.wf,$APP.Tg),d),a=$APP.w(a));else return b}};Wjb=function(a){var b=$APP.Kl.g(a);return a instanceof F4?b:null!=b?b instanceof g4?null:b:null};
$jb=function(a,b,c){var d=$APP.Ci(Q4($APP.Tg,W4.g(a))),e=$APP.Ci(X4.g(a)),f=$APP.Ci(Q4($APP.Tg,Z4.g(a))),m=$APP.Ci(Q4($APP.Tg,$4.g(a)));f=$APP.dx.h($APP.qL.h(d,e),$APP.qL.h(m,f));d=$APP.ex.h(d,e);if(!$APP.we(f))throw $APP.Zl.h(["Query for unknown vars: ",$APP.xj.l($APP.z([$APP.qn.h($APP.Am,f)]))].join(""),new $APP.h(null,3,[$APP.Ln,a5,$APP.lI,f,$APP.CB,b],null));if(!$APP.we(d))throw $APP.Zl.h([":find and :with should not use same variables: ",$APP.xj.l($APP.z([$APP.qn.h($APP.Am,d)]))].join(""),new $APP.h(null,
3,[$APP.Ln,a5,$APP.lI,d,$APP.CB,b],null));d=Y4.g(a);if(null!=d){if(W4.g(a)instanceof B4)throw $APP.Zl.h([$APP.xj.l($APP.z([$APP.Rl.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));if(W4.g(a)instanceof A4)throw $APP.Zl.h([$APP.xj.l($APP.z([$APP.Rl.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));}d=b5.g(Y4.g(a));if(null!=d&&(e=y4(W4.g(a)),!$APP.x.h($APP.ce(d),$APP.ce(e))))throw $APP.Zl.h(["Count of ",
$APP.xj.l($APP.z([$APP.Rl.g(Y4.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.Ln,a5,Xjb,$APP.zf($APP.Rl.g(Y4.g(a)),d),Yjb,e,$APP.CB,b],null));if(1<$APP.ce($APP.Qg.h($APP.Cb,new $APP.G(null,3,5,$APP.H,[$APP.aC.g(c),$APP.us.g(c),Zjb.g(c)],null))))throw $APP.Zl.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));var p=Q4($APP.Tg,Z4.g(a)),u=$3(function(A){return A instanceof f4},Z4.g(a)),t=$3(function(A){return A instanceof h4},Z4.g(a));
if(!$APP.k(function(){var A=a4(p);return $APP.k(A)?(A=a4(u),$APP.k(A)?a4(t):A):A}()))throw $APP.Zl.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));c=Q4($APP.Tg,X4.g(a));if(!$APP.k(a4(c)))throw $APP.Zl.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));c=Z3(function(A){return A instanceof f4},Z4.g(a),$APP.zi);d=Z3(function(A){return A instanceof f4},$4.g(a),$APP.zi);c=$APP.dx.h(d,c);if(!$APP.we(c))throw $APP.Zl.h(["Where uses unknown source vars: ",
$APP.xj.l($APP.z([$APP.qn.h($APP.Am,c)]))].join(""),new $APP.h(null,3,[$APP.Ln,a5,$APP.lI,c,$APP.CB,b],null));c=$3(function(A){return A instanceof I4},$4.g(a));a=$3(function(A){return A instanceof h4},Z4.g(a));if(!$APP.we(c)&&$APP.we(a))throw $APP.Zl.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,b],null));};
ckb=function(a){if($APP.Be(a))var b=a;else if($APP.Ae(a))b=Vjb(a);else throw $APP.Zl.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.Ln,a5,$APP.CB,a],null));var c=b,d=Pjb($APP.Wqa.h(c,$APP.Tg));b=Ujb(new $APP.h(null,5,[W4,Cjb(Yjb.g(c)),X4,function(){var e=akb.g(c);if($APP.k(e)){var f=Y3(k4,e);if($APP.k(f))e=f;else throw $APP.Zl.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.Ln,bkb,$APP.CB,e],null));}else e=null;return e}(),Y4,function(){var e=Djb($APP.aC,
$APP.aC.g(c));if($APP.k(e))return e;e=Djb($APP.us,$APP.us.g(c));return $APP.k(e)?e:Djb(Zjb,Zjb.g(c))}(),Z4,Gjb(function(){var e=$APP.gw.g(c);return $APP.k(e)?e:$APP.we($3(Wjb,d))?$APP.Tg:new $APP.G(null,1,5,$APP.H,[zjb],null)}()),$4,d],null));$jb(b,a,c);return b};c5=function(a,b,c,d,e,f){this.cf=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};d5=function(a,b,c,d,e){this.ta=a;this.zf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
dkb=function(a,b){return $APP.ex.h($APP.Ci($APP.ri(a)),$APP.Ci($APP.ri(b)))};ekb=function(a,b){return $APP.x.h($APP.ce(a),$APP.ce(b))&&$APP.ng(function(c){return $APP.Se(b,c)},$APP.ri(a))&&$APP.ng(function(c){return $APP.Se(a,c)},$APP.ri(b))};fkb=function(a){return a instanceof $APP.q&&$APP.x.h("$",$APP.v($APP.Fi(a)))};e5=function(a){return a instanceof $APP.q&&$APP.x.h("?",$APP.v($APP.Fi(a)))};f5=function(a){return a instanceof $APP.F||"string"===typeof a};
gkb=function(a){return($APP.Ae(a)||i0(a))&&$APP.x.h(2,$APP.ce(a))&&f5($APP.v(a))};hkb=function(a,b,c,d){for(var e=b.length,f=d.length,m=Array(e+f),p=0;;)if(p<e)m[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<f)m[e+a]=c[d[a]],a+=1;else break;return m};
ikb=function(a,b,c,d){var e=$APP.df(function(){return function u(p){return new $APP.Gf(null,function(){for(;;){var t=$APP.r(p);if(t){if($APP.Fe(t)){var A=$APP.dd(t),C=$APP.ce(A),E=$APP.If(C);a:for(var I=0;;)if(I<C){var Q=$APP.pe(A,I),T=$APP.y.j(Q,0,null);Q=$APP.y.j(Q,1,null);$APP.Nf(E,new $APP.G(null,2,5,$APP.H,[Q,a.g?a.g(T):a.call(null,T)],null));I+=1}else{A=!0;break a}return A?$APP.Mf($APP.Of(E),u($APP.ed(t))):$APP.Mf($APP.Of(E),null)}A=$APP.v(t);E=$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.zf(new $APP.G(null,
2,5,$APP.H,[A,a.g?a.g(E):a.call(null,E)],null),u($APP.Jd(t)))}return null}},null,null)}(c)}()),f=$APP.bf.h($APP.ln,$APP.ti(a))+1;b=$APP.Wc($APP.bf.j(function(m,p){for(var u=Array(f),t=$APP.r(e),A=null,C=0,E=0;;)if(E<C){var I=A.ha(null,E),Q=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);u[I]=p[Q];E+=1}else if(t=$APP.r(t))$APP.Fe(t)?(C=$APP.dd(t),t=$APP.ed(t),A=C,C=$APP.ce(C)):(C=$APP.v(t),A=$APP.y.j(C,0,null),C=$APP.y.j(C,1,null),u[C]=p[A],t=$APP.w(t),A=null,C=0),E=0;else break;return $APP.Sg.h(m,u)},$APP.Uc($APP.df(b)),
d));return new d5(a,b,null,null,null)};jkb=function(a){a=$APP.fj.h($APP.Am,$APP.df($APP.Jy.g(Q4($APP.Tg,a))));return new d5($APP.Gi(a,$APP.Wn.D()),$APP.Tg,null,null,null)};g5=function(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=g5[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=g5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IBinding.in-\x3erel",a);}return a};
kkb=function(a,b){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c instanceof r4&&h5.g(c)instanceof f4?a=$APP.bn.R(a,i5,$APP.vi,$APP.tp.h(c,new $APP.G(null,2,5,$APP.H,[h5,$APP.Am],null)),b):c instanceof r4&&h5.g(c)instanceof h4?(c=$APP.vi.j,b="string"===typeof b?$APP.Zm.g(b):b,Tjb(b),b=$APP.Fj($APP.ie,b),a=c.call($APP.vi,a,$APP.qG,b)):a=$APP.bn.F(a,j5,$APP.wf,g5(c,b));return a};
nkb=function(a,b,c){var d=$APP.ce(b),e=$APP.ce(c);if(d<e)throw $APP.Zl.h(["Extra inputs passed, expected: ",$APP.xj.l($APP.z([$APP.qn.h(function(f){return $APP.Kl.g($APP.te(f))},b)])),", got: ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Ln,lkb,$APP.qH,b,mkb,c],null));if(d>e)throw $APP.Zl.h(["Too few inputs passed, expected: ",$APP.xj.l($APP.z([$APP.qn.h(function(f){return $APP.Kl.g($APP.te(f))},b)])),", got: ",$APP.xj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Ln,lkb,$APP.qH,b,
mkb,c],null));return $APP.bf.j(kkb,a,$APP.Gi(b,c))};okb=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.Se(k5,b)){if($APP.Oe(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.Ae(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.Ae(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return $APP.Oe(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
m5=function(a,b){var c=$APP.ce(b);if(1===c)return okb(a,$APP.v(b));b=$APP.zs.g(b);for(var d=0;;)if(d<c)b[d]=okb(a,b[d]),d+=1;else return function(e,f,m){return function(p){return $APP.Hs.g(f.map(function(){return function(u){return u.g?u.g(p):u.call(null,p)}}(e,f,m)))}}(d,b,c)};pkb=function(a,b){var c=$APP.Id;return $APP.Wc($APP.bf.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.Hh.j(d,f,$APP.wf.h($APP.B.j(d,f,c),e))},$APP.Uc($APP.Vf),b))};
o5=function(a,b){var c=n5.g(a),d=n5.g(b),e=x3.g(a),f=x3.g(b),m=$APP.df(dkb(x3.g(a),x3.g(b)));a=$APP.ri(e);b=$APP.Wc($APP.ef(function(E,I){return $APP.k(e.g?e.g(I):e.call(null,I))?E:$APP.Sg.h(E,I)},$APP.Uc($APP.Tg),f));var p=$APP.cf($APP.ti(e)),u=$APP.cf($APP.sj($APP.fj.g(f),b)),t=m5(e,m),A=m5(f,m),C=pkb(t,c);c=$APP.Wc($APP.bf.j(function(E,I){var Q=A(I);Q=$APP.B.h(C,Q);return null==Q?E:$APP.bf.j(function(T,Z){return $APP.Sg.h(T,hkb(Z,p,I,u))},E,Q)},$APP.Uc($APP.Tg),d));return new d5($APP.Gi($APP.K.h(a,
b),$APP.Wn.D()),c,null,null,null)};qkb=function(a,b){var c=$APP.Wf(a),d=$APP.B.h(c,x3);c=$APP.B.h(c,n5);var e=$APP.Wf(b);b=$APP.B.h(e,x3);e=$APP.B.h(e,n5);var f=$APP.df(dkb(d,b));b=m5(b,f);var m=pkb(b,e),p=m5(d,f);return $APP.vi.j(a,n5,$APP.Ug(function(u){u=p(u);return null==(m.g?m.g(u):m.call(null,u))},c))};p5=function(a,b){return $APP.og(function(c){return $APP.Se(x3.g(c),b)?c:null},j5.g(a))};
rkb=function(a,b){if(e5(b)){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));if(null==a)return null;if(null==$APP.ke(n5.g(c)))return b=$APP.B.h(x3.g(c),b),a[b]}return null};skb=function(a,b){return $APP.qn.h(function(c){var d=rkb(a,c);return $APP.k(d)?d:c},b)};
tkb=function(a,b){if(null!=a?$APP.yd===a.mj||(a.kd?0:$APP.Ib(w1,a)):$APP.Ib(w1,a)){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null),f=$APP.y.j(b,3,null);c=gkb(c)||f5(c)?s2(a,c):c;e=$APP.k($APP.k(e)?f5(d)&&r2(a,d)&&(gkb(e)||f5(e)):e)?s2(a,e):e;a=gkb(f)?s2(a,f):f;return $APP.fl.j(new $APP.G(null,4,5,$APP.H,[c,d,e,a],null),0,$APP.ce(b))}return b};
ukb=function(a,b,c){a=$APP.qn.h(function(d){return $APP.x.h(d,$APP.AH)||e5(d)?null:d},tkb(b,skb(a,c)));b=n1(b,a);c=$APP.Fh.h($APP.Vf,$APP.Qg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.fj.j($APP.Jw,c,new $APP.G(null,4,5,$APP.H,["e","a","v","tx"],null))));return new d5(c,b,null,null,null)};
vkb=function(a,b){a=$APP.Qg.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var m=$APP.v(e);if($APP.x.h(m,$APP.AH)||e5(m)||$APP.x.h(f,m))d=$APP.w(d),e=$APP.w(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Fh.h($APP.Vf,$APP.Qg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.fj.j($APP.Jw,b,$APP.Wn.D())));return new d5(c,$APP.qn.h($APP.cf,a),null,null,null)};
wkb=function(a,b,c){return(null!=b?$APP.yd===b.zk||(b.kd?0:$APP.Ib(khb,b)):$APP.Ib(khb,b))?ukb(a,b,c):vkb(b,c)};q5=function(a,b){for(var c=$APP.Tg;;){var d=$APP.v(a);if(null==d)return $APP.wf.h(c,b);$APP.k($APP.Xf(dkb(x3.g(b),x3.g(d))))?(a=$APP.w(a),b=o5(d,b)):(a=$APP.w(a),c=$APP.wf.h(c,d))}};xkb=function(a,b){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));null==a?b=null:(c=x3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
ykb=function(a,b){return $APP.og(function(c){return $APP.Se(x3.g(a),c)},b)};zkb=function(a,b){var c=$APP.Qg.h(function(e){return ykb(e,b)},j5.g(a)),d=$APP.bf.h(r5,c);return new $APP.G(null,2,5,$APP.H,[$APP.bn.j(a,j5,function(e){return $APP.js.h($APP.Ci(c),e)}),d],null)};
Akb=function(a,b,c,d){a=i5.g(a);b=x3.g(b);for(var e=$APP.ce(d),f=Array(e),m=Array(e),p=0;;)if(p<e){var u=$APP.y.h(d,p);if(u instanceof $APP.q){var t=$APP.B.h(a,u);null==t?m[p]=$APP.B.h(b,u):f[p]=t}else f[p]=u;p+=1}else break;return c===$APP.Jw?function(A){for(var C=f.slice(0),E=0;;)if(E<e){var I=m[E];null!=I&&(C[E]=A[I]);E+=1}else break;return $APP.qg.h(c,C)}:function(A){for(var C=0;;)if(C<e){var E=m[C];null!=E&&(f[C]=A[E]);C+=1}else break;return $APP.qg.h(c,f)}};
Bkb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c),f=function(){var u=$APP.B.h(Oib,d);if($APP.k(u))return u;u=xkb(a,d);if($APP.k(u))return u;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Zl.h(["Unknown predicate '",$APP.xj.l($APP.z([d]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,b,$APP.Wo,d],null));return null}();c=zkb(a,$APP.Qg.h($APP.Bd,e));var m=$APP.y.j(c,0,null),p=$APP.y.j(c,1,null);c=$APP.k(f)?function(){var u=Akb(m,
p,f,e);return $APP.bn.j(p,n5,function(t){return $APP.Qg.h(u,t)})}():$APP.vi.j(p,n5,$APP.Tg);return $APP.bn.F(m,j5,$APP.wf,c)};
Ckb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c);c=$APP.y.j(b,1,null);var f=u4(c),m=function(){var t=$APP.B.h(Oib,d);if($APP.k(t))return t;t=xkb(a,d);if($APP.k(t))return t;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Zl.h(["Unknown function '",$APP.xj.l($APP.z([d]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,b,$APP.Wo,d],null));return null}();c=zkb(a,$APP.Qg.h($APP.Bd,e));var p=$APP.y.j(c,0,null),u=$APP.y.j(c,1,null);
c=$APP.k(m)?function(){var t=Akb(p,u,m,e),A=function(){return function I(E){return new $APP.Gf(null,function(){for(var Q=E;;)if(Q=$APP.r(Q)){if($APP.Fe(Q)){var T=$APP.dd(Q),Z=$APP.ce(T),ba=$APP.If(Z);a:for(var da=0;;)if(da<Z){var ja=$APP.pe(T,da),la=t(ja);null!=la&&$APP.Nf(ba,r5.h(new d5(x3.g(u),new $APP.G(null,1,5,$APP.H,[ja],null),null,null,null),g5(f,la)));da+=1}else{T=!0;break a}return T?$APP.Mf($APP.Of(ba),I($APP.ed(Q))):$APP.Mf($APP.Of(ba),null)}ba=$APP.v(Q);T=t(ba);if(null!=T)return $APP.zf(r5.h(new d5(x3.g(u),
new $APP.G(null,1,5,$APP.H,[ba],null),null,null,null),g5(f,T)),I($APP.Jd(Q)));Q=$APP.Jd(Q)}else return null},null,null)}(n5.g(u))}();return $APP.we(A)?r5.h(u,jkb(f)):$APP.bf.h(t5,A)}():r5.h($APP.vi.j(u,n5,$APP.Tg),jkb(f));return $APP.bn.F(p,j5,q5,c)};
Dkb=function(a,b){if($APP.Ae(b)){var c=fkb($APP.v(b))?$APP.he(b):$APP.v(b);if(c instanceof $APP.q){if(e5(c)||$APP.Se(new $APP.yi(null,new $APP.h(null,6,[$APP.kt,null,$APP.MC,null,Njb,null,R4,null,$APP.pt,null,$APP.AH,null],null),null),c))return!1;if($APP.Se($APP.qG.g(a),c))return!0;throw $APP.Zl.h(["Unknown rule '",$APP.xj.l($APP.z([c]))," in ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,s5,$APP.CB,b],null));}}return!1};
Fkb=function(a,b){var c=$APP.r(a),d=$APP.v(c),e=$APP.w(c),f=$APP.Cj.h(Ekb,$APP.Qd),m=$APP.B.h($APP.qG.g(b),d);return function t(u){return new $APP.Gf(null,function(){for(;;){var A=$APP.r(u);if(A){var C=A;if($APP.Fe(C)){var E=$APP.dd(C),I=$APP.ce(E),Q=$APP.If(I);return function(){for(var oa=0;;)if(oa<I){var za=$APP.pe(E,oa),ha=za,qa=$APP.r(ha),ua=$APP.v(qa),ya=$APP.w(qa),Oa=ua,Za=$APP.r(Oa),db=$APP.v(Za),gb=$APP.w(Za),eb=db,lb=gb,ib=ya,nb=$APP.Gi(lb,e);$APP.Nf(Q,$APP.Dt(function(Gb,Nb,$b,ec,Mc,pc,
Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Zf,Rd,sk,Yj,Aj,Gc,wd,Te,Kg,Kf,Yi,bh){return function(me){if(e5(me)){var Fg=xg.g?xg.g(me):xg.call(null,me);return null==Fg?$APP.lj.g([$APP.Fi(me),"__auto__",$APP.l.g(bh)].join("")):Fg}return me}}(oa,ha,qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb,za,E,I,Q,C,A,a,c,d,e,d,e,f,m),ib));oa+=1}else return!0}()?$APP.Mf($APP.Of(Q),t($APP.ed(C))):$APP.Mf($APP.Of(Q),null)}var T=$APP.v(C),Z=T,ba=$APP.r(Z),da=$APP.v(ba),ja=$APP.w(ba),la=da,xa=$APP.r(la),sa=$APP.v(xa),X=$APP.w(xa),S=sa,W=X,V=ja,Y=$APP.Gi(W,
e);return $APP.zf($APP.Dt(function(oa,za,ha,qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce){return function(rg){if(e5(rg)){var Jg=lb.g?lb.g(rg):lb.call(null,rg);return null==Jg?$APP.lj.g([$APP.Fi(rg),"__auto__",$APP.l.g(Ce)].join("")):Jg}return rg}}(Z,ba,da,ja,la,xa,sa,X,S,W,V,Y,T,C,A,a,c,d,e,d,e,f,m),V),t($APP.Jd(C)))}return null}},null,null)}(m)};
Gkb=function(a,b){a=$APP.js.h(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.x.h(d,c)},$APP.fj.j($APP.Jw,a,b));return new $APP.G(null,2,5,$APP.H,[$APP.fj.h($APP.v,a),$APP.fj.h($APP.he,a)],null)};
Hkb=function(a,b){a=$APP.r(a);var c=$APP.v(a),d=$APP.w(a);return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.dd(p),t=$APP.ce(u),A=$APP.If(t);a:for(var C=0;;)if(C<t){var E=$APP.pe(u,C),I=Gkb(d,E);E=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);$APP.Nf(A,new $APP.G(null,1,5,$APP.H,[$APP.K.l(new $APP.G(null,1,5,$APP.H,[u5],null),E,$APP.z([I]))],null));C+=1}else{u=!0;break a}return u?$APP.Mf($APP.Of(A),m($APP.ed(p))):$APP.Mf($APP.Of(A),null)}A=$APP.v(p);
u=Gkb(d,A);A=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);return $APP.zf(new $APP.G(null,1,5,$APP.H,[$APP.K.l(new $APP.G(null,1,5,$APP.H,[u5],null),A,$APP.z([u]))],null),m($APP.Jd(p)))}return null}},null,null)}($APP.B.h(b,c))};v5=function(a){var b=$APP.Bj.g($APP.Tg);$APP.Dt(function(c){$APP.k(e5.g?e5.g(c):e5.call(null,c))&&$APP.Cj.j(b,$APP.wf,c);return c},a);return $APP.n(b)};
Ikb=function(a,b){function c(e){e=$APP.y.j(e,0,null);e=$APP.r(e);$APP.v(e);e=$APP.w(e);return $APP.ng(d,e)}var d=$APP.Ci(v5(a));return new $APP.G(null,2,5,$APP.H,[$APP.Qg.h(c,b),$APP.js.h(c,b)],null)};
Kkb=function(a,b){function c(ya){return $APP.og(function(Oa){return $APP.we(n5.g(Oa))},j5.g(ya))}function d(ya,Oa){return $APP.bf.j(w5,ya,Oa)}for(var e=$APP.Qg.h(e5,b),f=$APP.Gi(e,$APP.Wn.D()),m=new $APP.D(null,new $APP.h(null,5,[x5,$APP.Tg,y5,a,$APP.sK,new $APP.G(null,1,5,$APP.H,[b],null),z5,$APP.Vf,A5,$APP.Vf],null),null,1,null),p=new d5(f,$APP.Tg,null,null,null);;){var u=$APP.v(m);if(null==u)return p;var t=u,A=$APP.Qi(function(){return function(ya){return!Dkb(a,ya)}}(m,p,t,u,e,f,d,c),$APP.sK.g(t)),
C=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null),I=$APP.r(E),Q=$APP.v(I),T=$APP.w(I),Z=Q,ba=T;if(null==Z){b=d(y5.g(t),C);b=ygb($APP.df,B5?B5(b,e):Jkb.call(null,b,e));var da=new d5(f,b,null,null,null);b=$APP.w(m);da=t5(p,da);m=b;p=da}else{var ja=Z,la=$APP.r(ja),xa=$APP.v(la),sa=$APP.w(la),X=xa,S=sa,W=Hkb(Z,z5.g(t)),V=Ikb($APP.K.h(x5.g(t),C),$APP.K.h(W,A5.g(t))),Y=$APP.y.j(V,0,null),oa=$APP.y.j(V,1,null);if($APP.k($APP.og(function(){return function(ya){return $APP.x.h(ya,new $APP.G(null,1,5,$APP.H,[$APP.J(u5)],
null))}}(m,p,ja,la,xa,sa,X,S,W,V,Y,oa,A,C,E,I,Q,T,Z,ba,t,u,e,f,d,c),Y)))b=$APP.w(m),da=p,m=b,p=da;else{var za=$APP.K.h(C,Y),ha=d(y5.g(t),za);if($APP.k(c(ha)))b=$APP.w(m),da=p,m=b,p=da;else{var qa=$APP.vi.j(z5.g(t),X,$APP.wf.h($APP.B.j(z5.g(t),X,$APP.Tg),S)),ua=Fkb(Z,a);b=$APP.K.h(function(){return function(ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Zf,Rd,sk,Yj,Aj,Gc,wd){return function Kf(Kg){return new $APP.Gf(null,function(Yi,bh,me,Fg,Sl,zh,Di,Qn,tk,Bq,uk,op,Zj,Cq,Xe,Tl,
pp,Lm,Zi,Lg,Mg,xd,of,Rc){return function(){for(;;){var $f=$APP.r(Kg);if($f){if($APP.Fe($f)){var Dq=$APP.dd($f),Iu=$APP.ce(Dq),ag=$APP.If(Iu);a:for(var qp=0;;)if(qp<Iu){var vx=$APP.pe(Dq,qp);$APP.Nf(ag,new $APP.h(null,5,[x5,Sl,y5,zh,$APP.sK,$APP.Fh.j($APP.Tg,$APP.qj,$APP.z([vx,Rc])),z5,me,A5,Tl],null));qp+=1}else{Dq=!0;break a}return Dq?$APP.Mf($APP.Of(ag),Kf($APP.ed($f))):$APP.Mf($APP.Of(ag),null)}ag=$APP.v($f);return $APP.zf(new $APP.h(null,5,[x5,Sl,y5,zh,$APP.sK,$APP.Fh.j($APP.Tg,$APP.qj,$APP.z([ag,
Rc])),z5,me,A5,Tl],null),Kf($APP.Jd($f)))}return null}}}(ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Zf,Rd,sk,Yj,Aj,Gc,wd),null,null)}}(m,p,qa,ua,za,ha,ja,la,xa,sa,X,S,W,V,Y,oa,A,C,E,I,Q,T,Z,ba,t,u,e,f,d,c)(ua)}(),$APP.w(m));da=p;m=b;p=da}}}}};Lkb=function(a,b){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null);b=$APP.y.j(b,3,null);c=e5(c)?$APP.wf.h($APP.zi,c):$APP.zi;c=e5(b)?$APP.wf.h(c,b):c;return e5(e)&&!e5(d)&&r2(a,d)?$APP.wf.h(c,e):c};
C5=function(a,b){return $APP.vi.j(a,j5,$APP.un.h(function(c){var d=$APP.Xf($APP.wi(x3.g(c),b));return null==d?null:$APP.vi.j(c,x3,d)},j5.g(a)))};D5=function(a){return $APP.Fh.h($APP.zi,$APP.Pg.l(function(b){return $APP.ri(x3.g(b))},$APP.z([j5.g(a)])))};
E5=function(a,b,c){if($APP.Yha(b,a))return null;a=$APP.dx.h($APP.Ci(b),a);throw $APP.Zl.h(["Insufficient bindings: ",$APP.xj.l($APP.z([a]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,c,$APP.lI,a],null));};
Mkb=function(a,b,c){b=$APP.qn.h(function(d){return $APP.dx.h($APP.Ci(v5(d)),a)},b);if($APP.k($APP.qg.h($APP.x,b)))return null;throw $APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([b]))," in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,c,$APP.lI,b],null));};
Nkb=function(a,b,c){for(var d=$APP.Ci($APP.js.h(a,b)),e=$APP.r(c),f=null,m=0,p=0;;)if(p<m){c=f.ha(null,p);var u=$APP.Xf($APP.dx.h(d,$APP.Ci(v5(c))));if(null!=u)throw e=u,$APP.zu.l($APP.z([c,a,b,d])),$APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([e]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,c,$APP.lI,e],null));p+=1}else if(c=$APP.r(e)){e=c;if($APP.Fe(e))f=$APP.dd(e),e=$APP.ed(e),c=f,m=$APP.ce(f),f=c;else{c=$APP.v(e);
f=$APP.Xf($APP.dx.h(d,$APP.Ci(v5(c))));if(null!=f)throw e=f,$APP.zu.l($APP.z([c,a,b,d])),$APP.Zl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.xj.l($APP.z([e]))," not bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Ln,s5,$APP.CB,c,$APP.lI,e],null));e=$APP.w(e);f=null;m=0}p=0}else return null};Okb=function(a,b){var c=l5;l5=$APP.B.h(i5.g(a),zjb);try{return $APP.bf.j(F5,a,b)}finally{l5=c}};
Pkb=function(a,b,c,d){return $APP.sj($APP.pq.h($APP.fj.g(function(e){return $APP.sj($APP.fj.g(function(f){for(var m=$APP.Ob(e),p=0;;)if(p<c){var u=d[p];null!=u&&(m[p]=f[u]);p+=1}else break;return m}),n5.g(b))}),$APP.qj),a)};Jkb=function(a){switch(arguments.length){case 2:return B5(arguments[0],arguments[1]);case 3:return Qkb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
B5=function(a,b){a=j5.g(a);return Qkb(new $APP.G(null,1,5,$APP.H,[Array($APP.ce(b))],null),a,b)};Qkb=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.we(n5.g(d)))return $APP.Tg;var e=$APP.wi(x3.g(d),c);if($APP.we(e))b=$APP.w(b);else{e=$APP.cf($APP.fj.h(function(m,p,u,t){return function(A){return $APP.B.h(t,A)}}(a,b,c,e,d),c));var f=$APP.ce(c);a=Pkb(a,d,f,e);b=$APP.w(b)}}};Rkb=function(a,b){return $APP.Fh.j($APP.zi,$APP.fj.g($APP.df),B5(a,b))};
G5=function(a,b){if(null!=a&&null!=a.yh)a=a.yh(a,b);else{var c=G5[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=G5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IContextResolve.-context-resolve",a);}return a};
Skb=function(a,b,c){return $APP.qn.F(function(d,e,f){if(wjb(d)){e=G5($APP.In.g(d),b);d=$APP.fj.h(function(p){return G5(p,b)},$APP.Ei($APP.dn.g(d)));var m=$APP.fj.h(function(p){return $APP.y.h(p,f)},c);return $APP.qg.h(e,$APP.K.h(d,new $APP.G(null,1,5,$APP.H,[m],null)))}return e},a,$APP.v(c),$APP.Wn.D())};Tkb=function(a){var b=$APP.sg(wjb);return $APP.js.h($APP.yb,$APP.fj.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Wn.D()))};
Ukb=function(a,b,c){var d=Tkb(a);return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.dd(p),t=$APP.ce(u),A=$APP.If(t);a:for(var C=0;;)if(C<t){var E=$APP.pe(u,C);$APP.y.j(E,0,null);E=$APP.y.j(E,1,null);$APP.Nf(A,Skb(a,b,E));C+=1}else{u=!0;break a}return u?$APP.Mf($APP.Of(A),m($APP.ed(p))):$APP.Mf($APP.Of(A),null)}A=$APP.v(p);$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.zf(Skb(a,b,A),m($APP.Jd(p)))}return null}},null,null)}($APP.Fj(function(f){return $APP.fj.h(function(m){return $APP.y.h(f,
m)},d)},c))};Vkb=function(a,b){return $APP.bf.j(function(c,d){return $APP.wf.h(c,a.g?a.g(d):a.call(null,d))},$APP.oe(b),b)};Wkb=function(a,b){var c=b5.g(a),d=$APP.Wn.h(0,$APP.ce(c));return Vkb(function(e){return $APP.bf.j(function(f,m){return $APP.vi.j(f,$APP.y.h(c,m),$APP.y.h(e,m))},$APP.Vf,d)},b)};
Xkb=function(a,b,c){if(null!=a&&null!=a.zh)a=a.zh(a,b,c);else{var d=Xkb[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Xkb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IPostProcess.-post-process",a);}return a};
Ykb=function(a,b,c){var d=function(){return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Fe(p)){var u=$APP.dd(p),t=$APP.ce(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var I=$APP.pe(u,E),Q=A;if(xjb(I)){var T=G5($APP.Kl.g(I),b);I=G5($APP.MF.g(I),b);T=S3(T,I,null)}else T=null;Q.add(T);E+=1}else return!0}()?$APP.Mf($APP.Of(A),m($APP.ed(p))):$APP.Mf($APP.Of(A),null)}var C=$APP.v(p);return $APP.zf(xjb(C)?function(){var E=G5($APP.Kl.g(C),b),I=G5($APP.MF.g(C),
b);return S3(E,I,null)}():null,m($APP.Jd(p)))}return null}},null,null)}(a)}();return function m(f){return new $APP.Gf(null,function(){for(;;){var p=$APP.r(f);if(p){var u=p;if($APP.Fe(u)){var t=$APP.dd(u),A=$APP.ce(t),C=$APP.If(A);return function(){for(var I=0;;)if(I<A){var Q=$APP.pe(t,I);$APP.Nf(C,$APP.qn.j(function(){return function(T,Z){return $APP.k(T)?Q3(T,Z):Z}}(I,Q,t,A,C,u,p,d),d,Q));I+=1}else return!0}()?$APP.Mf($APP.Of(C),m($APP.ed(u))):$APP.Mf($APP.Of(C),null)}var E=$APP.v(u);return $APP.zf($APP.qn.j(function(){return function(I,
Q){return $APP.k(I)?Q3(I,Q):Q}}(E,u,p,d),d,E),m($APP.Jd(u)))}return null}},null,null)}(c)};Zkb=function(a,b){if(a instanceof J1){var c=a.ib,d=a.Oc;return new J1(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.Bj.g(0),null,null,null)}return new J1(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.Bj.g(0),null,null,null)};$kb=function(a,b,c,d){return s1(a,b,c,d)};alb=function(a){return $APP.n(a)};blb=function(a){return $gb($APP.B1.g(a))};
H5=function H5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H5.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};H5.l=function(a){return $APP.vca(a,$APP.vi.j($APP.sb(),$APP.jb,!1))};H5.B=0;H5.G=function(a){return this.l($APP.r(a))};clb=new $APP.q("datascript.core","squuid","datascript.core/squuid",-408746813,null);L1=new $APP.F("db.unique","identity","db.unique/identity",1675950722);M2=new $APP.F("db","retract","db/retract",-1549825231);
dlb=new $APP.q("datascript.db","IDatom","datascript.db/IDatom",293960966,null);elb=new $APP.F(null,"-store","-store",86010660);flb=new $APP.F(null,"incomparable","incomparable",1634329662);glb=new $APP.q(null,"datom-tx","datom-tx",1349109608,null);Zjb=new $APP.F(null,"strs","strs",1175537277);vhb=new $APP.F("db.cardinality","one","db.cardinality/one",1428352190);F2=new $APP.F("transact","upsert","transact/upsert",412688078);Y4=new $APP.F(null,"qreturn-map","qreturn-map",1841215994);
bib=new $APP.F("transact","schema","transact/schema",1426844139);hlb=new $APP.q(null,"datom-added","datom-added",-363961980,null);ilb=new $APP.q(null,"entity?","entity?",555338193,null);jlb=new $APP.q("datascript.core","filter","datascript.core/filter",-1276765471,null);I5=new $APP.F(null,"acc","acc",838566312);klb=new $APP.F("lookup-ref","unique","lookup-ref/unique",-960647710);U4=new $APP.F("parser","rule","parser/rule",-464044566);
llb=new $APP.q("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);mlb=new $APP.q("datascript.core","q","datascript.core/q",2106686416,null);f3=new $APP.F(null,"db-last-stored","db-last-stored",-2068760702);nlb=new $APP.q(null,"added","added",-596784081,null);Ajb=new $APP.F("parser","find","parser/find",-801023103);olb=new $APP.q(null,"entity","entity",1189561251,null);B3=new $APP.F(null,"wildcard?","wildcard?",-686044101);
I2=new $APP.F("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);plb=new $APP.q("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);qlb=new $APP.q(null,"tail-addr","tail-addr",1565233666,null);rlb=new $APP.q("datascript.core","restore","datascript.core/restore",-655548009,null);a5=new $APP.F("parser","query","parser/query",1877320671);slb=new $APP.q(null,"_opts","_opts",1634624069,null);z3=new $APP.F(null,"last-attr","last-attr",-526000708);
Rhb=new $APP.F(null,"conflict","conflict",1978796605);tlb=new $APP.F("db","fn","db/fn",-1175261470);ulb=new $APP.q("datascript.core","touch","datascript.core/touch",632058772,null);vlb=new $APP.q(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);p3=new $APP.F(null,"recursion-limit","recursion-limit",52345639);wlb=new $APP.q("datascript.storage","-restore","datascript.storage/-restore",708714346,null);O1=new $APP.F("db.type","ref","db.type/ref",-1728373079);
xlb=new $APP.q(null,"variance","variance",-1522424942,null);ylb=new $APP.q("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);zlb=new $APP.q("datascript.core","with","datascript.core/with",-1124098173,null);Alb=new $APP.F(null,"-restore","-restore",-515892319);G2=new $APP.F("db","id","db/id",-1388397098);Blb=new $APP.F("db.fn","retractAttribute","db.fn/retractAttribute",937402164);Clb=new $APP.q("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);
Dlb=new $APP.F("lookup-ref","syntax","lookup-ref/syntax",-317304012);Elb=new $APP.q("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);Flb=new $APP.q("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);Glb=new $APP.q("datascript.core","db","datascript.core/db",667170070,null);J5=new $APP.q(null,"addr","addr",42880790,null);Hlb=new $APP.q(null,"-index-range","-index-range",898114142,null);
Ilb=new $APP.q(null,"settings","settings",-1098290894,null);g2=new $APP.F(null,"tx-data","tx-data",934159761);z5=new $APP.F(null,"used-args","used-args",23596256);Jlb=new $APP.q("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);Klb=new $APP.q("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);Llb=new $APP.q(null,"make-storage-adapter","make-storage-adapter",937815346,null);$4=new $APP.F(null,"qwhere","qwhere",-1645067378);
S1=new $APP.F("db","ident","db/ident",-737096);h2=new $APP.F(null,"tempids","tempids",1767509089);W4=new $APP.F(null,"qfind","qfind",1529332972);Mlb=new $APP.q("datascript.core","serializable","datascript.core/serializable",-630048076,null);y5=new $APP.F(null,"prefix-context","prefix-context",-1269613591);Nlb=new $APP.q(null,"store-impl!","store-impl!",901017629,null);N1=new $APP.F("db.cardinality","many","db.cardinality/many",772806234);
C2=new $APP.F("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);Olb=new $APP.q("datascript.core","pull","datascript.core/pull",-1213970902,null);Plb=new $APP.q("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);f2=new $APP.F(null,"db-after","db-after",-571884666);N4=new $APP.F("parser","where","parser/where",-966053850);Qlb=new $APP.q(null,"restore-impl","restore-impl",1420181842,null);K5=new $APP.F(null,"seen","seen",-518999789);
Rlb=new $APP.q("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);phb=new $APP.F("db.unique","value","db.unique/value",276903088);Slb=new $APP.F("db","tupleTypes","db/tupleTypes",1512507626);Xhb=new $APP.F("db.fn","retractEntity","db.fn/retractEntity",-1423535441);L5=new $APP.q(null,"attr","attr",1036399174,null);Tlb=new $APP.q(null,"storage-adapter","storage-adapter",-1255219640,null);Ulb=new $APP.F("entity-id","missing","entity-id/missing",1234588374);
Vlb=new $APP.q("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);R4=new $APP.q(null,"or-join","or-join",591375469,null);Wlb=new $APP.F("db.pull","reverse","db.pull/reverse",1999788297);Xlb=new $APP.q(null,"db-from-reader","db-from-reader",1527469533,null);Ylb=new $APP.q(null,"println-str","println-str",-2049216703,null);bkb=new $APP.F("parser","with","parser/with",-386255821);Zlb=new $APP.q(null,"missing?","missing?",-1710383910,null);
$lb=new $APP.q("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);amb=new $APP.q("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);bmb=new $APP.q("datascript.core","transact!","datascript.core/transact!",1506351773,null);t1=new $APP.F(null,"avet","avet",1383857032);M5=new $APP.q(null,"schema","schema",58529736,null);cib=new $APP.F(null,"entity","entity",-450970276);cmb=new $APP.q(null,"serializable-datom","serializable-datom",451141133,null);
dmb=new $APP.q("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);Fjb=new $APP.F("parser","in","parser/in",1617442048);xhb=new $APP.F(null,"init-db","init-db",1595181278);emb=new $APP.F(null,"addresses","addresses",-559529694);Z0=new $APP.F(null,"cmp","cmp",575646375);I1=new $APP.F(null,"hash","hash",-13781596);fmb=new $APP.q(null,"with","with",104234651,null);t3=new $APP.F(null,"multival?","multival?",1072388383);Jib=new $APP.F("parser","pull","parser/pull",-2147427204);
N5=new $APP.q(null,"tx","tx",2107161945,null);gmb=new $APP.q("datascript.core","store","datascript.core/store",1386427333,null);e3=new $APP.F(null,"tx-tail","tx-tail",1116487556);hmb=new $APP.q(null,"reset-conn!","reset-conn!",1315177148,null);O4=new $APP.F(null,"rule-vars","rule-vars",1665972520);X1=new $APP.F("db","valueType","db/valueType",1827971944);Ghb=new $APP.F("retract","schema","retract/schema",1546437764);C1=new $APP.F(null,"aevt","aevt",-585148059);
imb=new $APP.F("datascript","db","datascript/db",-1190971692);O5=new $APP.q(null,"-store","-store",1726542187,null);jmb=new $APP.F(null,"thaw-fn","thaw-fn",-240544261);P5=new $APP.F(null,"binding","binding",539932593);Qhb=new $APP.F(null,"assertion","assertion",-1645134882);$APP.b2=new $APP.F(null,"datoms","datoms",-290874434);yjb=new $APP.q(null,"pull","pull",779986722,null);$0=new $APP.F(null,"set-metadata","set-metadata",1293757705);
kmb=new $APP.q("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);lmb=new $APP.q(null,"untuple","untuple",-606149900,null);Q5=new $APP.q(null,"c0","c0",2105080311,null);mmb=new $APP.q(null,"index-range","index-range",1044940937,null);u5=new $APP.q(null,"-differ?","-differ?",1465687357,null);P1=new $APP.F("db","isComponent","db/isComponent",423352398);R5=new $APP.q(null,"db","db",-1661185010,null);nmb=new $APP.q(null,"sample","sample",1719555128,null);
S5=new $APP.q(null,"datom","datom",1268975437,null);omb=new $APP.F(null,"serialize","serialize",-69216574);Q1=new $APP.F("db","tupleAttrs","db/tupleAttrs",250080092);q3=new $APP.F(null,"recursive?","recursive?",1340075244);pmb=new $APP.q(null,"conn","conn",1918841190,null);qmb=new $APP.F(null,"thaw-kw","thaw-kw",1076733097);A5=new $APP.F(null,"pending-guards","pending-guards",-1255527308);rmb=new $APP.F("query","binding","query/binding",698240489);
kib=new $APP.F(null,"avet-metadata","avet-metadata",1556019837);Xjb=new $APP.F(null,"return-map","return-map",1620104901);smb=new $APP.q("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);n5=new $APP.F(null,"tuples","tuples",-676032639);tmb=new $APP.q("datascript.core","settings","datascript.core/settings",273729994,null);T5=new $APP.F(null,"branches","branches",-1240337268);
umb=new $APP.q("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);U5=new $APP.q(null,"datoms","datoms",1349657093,null);vmb=new $APP.F("transact","cas","transact/cas",816687170);wmb=new $APP.q("clojure.string","blank?","clojure.string/blank?",1772874244,null);xmb=new $APP.F(null,"listeners","listeners",394544445);ymb=new $APP.q(null,"validate-schema","validate-schema",758884380,null);$APP.B1=new $APP.F(null,"eavt","eavt",-666437073);
D1=new $APP.F(null,"max-eid","max-eid",2134868075);zmb=new $APP.q("datascript.storage","store","datascript.storage/store",-769865397,null);Amb=new $APP.q("datascript.core","index-range","datascript.core/index-range",-1484576383,null);Bmb=new $APP.F("db","retractEntity","db/retractEntity",-1452737935);Cmb=new $APP.q("datascript.core","listen!","datascript.core/listen!",1659161258,null);V1=new $APP.F(null,"attribute","attribute",-2074029119);$APP.A1=new $APP.F(null,"schema","schema",-1582001791);
Dmb=new $APP.q(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);Emb=new $APP.q("datascript.db","DB","datascript.db/DB",348347258,null);Fmb=new $APP.q("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);Gmb=new $APP.q("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);Hmb=new $APP.q("datascript.db","Datom","datascript.db/Datom",1951800754,null);
V5=new $APP.F(null,"recursion-limits","recursion-limits",1762857814);Uib=new $APP.q(null,"...","...",-1926939749,null);gjb=new $APP.F(null,"freeze-kw","freeze-kw",391758233);R1=new $APP.F("db.type","tuple","db.type/tuple",938234914);Imb=new $APP.q(null,"lookup-entity","lookup-entity",-936060612,null);M1=new $APP.F("db","index","db/index",-1531680669);iib=new $APP.F(null,"max-addr","max-addr",1373100454);fjb=new $APP.F(null,"freeze-fn","freeze-fn",-575885995);
Jmb=new $APP.q("datascript.core","db-with","datascript.core/db-with",-1263574350,null);uib=new $APP.F(null,"skip-store?","skip-store?",-484019625);Kmb=new $APP.q(null,"db-with-tail","db-with-tail",-1072910014,null);Lmb=new $APP.q("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);Ygb=new $APP.F(null,"ref-type","ref-type",-1367328851);K1=new $APP.F("db","unique","db/unique",329396388);Mmb=new $APP.F("entity-id","syntax","entity-id/syntax",1921317045);
lib=new $APP.F(null,"eavt-metadata","eavt-metadata",-1384819842);i5=new $APP.F(null,"sources","sources",-321166424);Nmb=new $APP.F("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);W5=new $APP.q(null,"delete-addrs","delete-addrs",742195107,null);jib=new $APP.F(null,"aevt-metadata","aevt-metadata",-1844063817);i2=new $APP.F(null,"tx-meta","tx-meta",1159283194);Omb=new $APP.q(null,"pull-many","pull-many",1857679657,null);
Pmb=new $APP.q(null,"conn-from-db","conn-from-db",-184109372,null);Qmb=new $APP.q(null,"ground","ground",-1460862835,null);Rmb=new $APP.q("datascript","Datom","datascript/Datom",-901340080,null);kjb=new $APP.F("parser","rule-var","parser/rule-var",-1584354459);K2=new $APP.F("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);Smb=new $APP.q("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);Tmb=new $APP.F(null,"new","new",-2085437848);
Umb=new $APP.q("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);Vmb=new $APP.q(null,"stddev","stddev",775056588,null);A2=new $APP.F(null,"entity-id","entity-id",1485898093);Wmb=new $APP.q(null,"store-tail","store-tail",-757879320,null);Xmb=new $APP.F("db","cas","db/cas",-451542322);Ymb=new $APP.q("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);E1=new $APP.F(null,"max-tx","max-tx",1119558339);
Zmb=new $APP.F("db","tupleType","db/tupleType",448013354);y3=new $APP.F(null,"first-attr","first-attr",-1993039831);u3=new $APP.F(null,"ref?","ref?",1932693720);$mb=new $APP.q(null,"sum","sum",1777518341,null);X5=new $APP.F(null,"attr","attr",-604132353);R3=new $APP.F(null,"visitor","visitor",-1026865865);Y5=new $APP.F(null,"elements","elements",657646735);anb=new $APP.F("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);s5=new $APP.F("query","where","query/where",-1935159429);
bnb=new $APP.q("datascript.storage","-store","datascript.storage/-store",-1879938067,null);E2=new $APP.F(null,"context","context",-830191113);cnb=new $APP.q("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);dnb=new $APP.q("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);enb=new $APP.q(null,"!\x3d","!\x3d",-201205829,null);j5=new $APP.F(null,"rels","rels",1770187185);
fnb=new $APP.q("datascript.core","init-db","datascript.core/init-db",1493526573,null);e2=new $APP.F(null,"db-before","db-before",-553691536);gnb=new $APP.q(null,"adapter","adapter",444204808,null);O2=new $APP.F("datascript.db","value-tempids","datascript.db/value-tempids",244806162);Lhb=new $APP.F(null,"datom","datom",-371556090);Zgb=new $APP.F(null,"strong","strong",269529E3);Khb=new $APP.F("transact","unique","transact/unique",-940992320);
hnb=new $APP.q("datascript.db","datom","datascript.db/datom",399198004,null);inb=new $APP.q(null,"seek-datoms","seek-datoms",-1423344839,null);jnb=new $APP.F(null,"old","old",-1825222690);knb=new $APP.F("db.pull","attr","db.pull/attr",-533298746);$2=new $APP.F(null,"db","db",993250759);lnb=new $APP.q("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);ajb=new $APP.F("db.pull","wildcard","db.pull/wildcard",116316031);G1=new $APP.F(null,"pull-patterns","pull-patterns",-343695048);
mnb=new $APP.q("datascript.storage","restore","datascript.storage/restore",1486895617,null);nnb=new $APP.q(null,"init-db","init-db",-1059254491,null);onb=new $APP.F(null,"internal-ctor","internal-ctor",937392560);pnb=new $APP.q(null,"datom-from-reader","datom-from-reader",1334075127,null);h5=new $APP.F(null,"variable","variable",-281346492);qnb=new $APP.q(null,"restore-conn","restore-conn",-1560700042,null);rnb=new $APP.q(null,"transact!","transact!",817805717,null);
thb=new $APP.F("db","attrTuples","db/attrTuples",860541631);v3=new $APP.F(null,"component?","component?",407783990);zjb=new $APP.q(null,"$","$",-1580747756,null);Bjb=new $APP.q(null,"aggregate","aggregate",-1142967327,null);H2=new $APP.F("db","add","db/add",235286841);H1=new $APP.F(null,"pull-attrs","pull-attrs",-974863177);oib=new $APP.F(null,"tx","tx",466630418);ujb=new $APP.F("parser","binding","parser/binding",-346395752);
snb=new $APP.q("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);tnb=new $APP.q(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);Z5=new $APP.F(null,"element","element",1974019749);unb=new $APP.q("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);$5=new $APP.q(null,"DB","DB",1622874957,null);vnb=new $APP.q(null,"get-some","get-some",409442058,null);
y2=new $APP.F("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);wnb=new $APP.q(null,"avg","avg",1837937727,null);a6=new $APP.F(null,"unfiltered-db","unfiltered-db",-1363720391);x3=new $APP.F(null,"attrs","attrs",-2090668713);mhb=new $APP.F(null,"components","components",-1073188942);X0=new $APP.F(null,"storage","storage",1867247511);xnb=new $APP.q(null,"StorageAdapter","StorageAdapter",106942083,null);b1=new $APP.F(null,"branching-factor","branching-factor",1903198601);
ynb=new $APP.q(null,"create-conn","create-conn",2071410861,null);znb=new $APP.q("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);s3=new $APP.F(null,"xform","xform",-1725711008);Njb=new $APP.q(null,"not-join","not-join",-645515756,null);X4=new $APP.F(null,"qwith","qwith",-45809392);akb=new $APP.F(null,"with","with",-1536296876);Anb=new $APP.q("datascript.core","datoms","datascript.core/datoms",961250077,null);pjb=new $APP.F("parser","rule-vars","parser/rule-vars",-1493174969);
Bnb=new $APP.q("datascript.core","tx0","datascript.core/tx0",1432817831,null);Cnb=new $APP.q("datascript.core","entity","datascript.core/entity",-1406213973,null);A3=new $APP.F(null,"reverse-attrs","reverse-attrs",630097702);U1=new $APP.F("schema","validation","schema/validation",1178447161);mkb=new $APP.F(null,"got","got",-1674745710);b6=new $APP.q(null,"Datom","Datom",1208901035,null);r3=new $APP.F(null,"reverse?","reverse?",-1672868474);lkb=new $APP.F("query","inputs","query/inputs",1042810394);
Y1=new $APP.F("db","cardinality","db/cardinality",-104975659);Dnb=new $APP.q(null,"serializable","serializable",1941609404,null);Enb=new $APP.q("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);Fnb=new $APP.q(null,"count-distinct","count-distinct",-1566572514,null);Gnb=new $APP.q("datascript.storage","storage","datascript.storage/storage",-366769060,null);Hnb=new $APP.q(null,"listen!","listen!",-115577950,null);
Inb=new $APP.q("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);Jnb=new $APP.q("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);Knb=new $APP.q(null,"db-with","db-with",233242042,null);c6=new $APP.F("db.fn","call","db.fn/call",-151594418);Lnb=new $APP.q(null,"force?","force?",-815397094,null);x5=new $APP.F(null,"prefix-clauses","prefix-clauses",1294180028);Mnb=new $APP.F("db","doc","db/doc",1913350069);
Nnb=new $APP.q(null,"touch","touch",-1158163300,null);Onb=new $APP.q("datascript.core","datom","datascript.core/datom",-1596234155,null);Ehb=new $APP.F("db","current-tx","db/current-tx",1600722132);Pnb=new $APP.q(null,"reset-schema!","reset-schema!",1937111832,null);Qnb=new $APP.q("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);Rnb=new $APP.q("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);
Snb=new $APP.F(null,"operation","operation",-1267664310);lhb=new $APP.F(null,"index-access","index-access",-1548960265);Z4=new $APP.F(null,"qin","qin",1372651151);d6=new $APP.q(null,"storage","storage",-787188258,null);b5=new $APP.F(null,"symbols","symbols",1211743);Tnb=new $APP.q(null,"squuid","squuid",-1898207797,null);C3=new $APP.F(null,"fragment","fragment",826775688);Unb=new $APP.F("transaction","filtered","transaction/filtered",1699706605);
N2=new $APP.F("datascript.db","internal","datascript.db/internal",-249301114);F1=new $APP.F(null,"rschema","rschema",-1196134054);Vnb=new $APP.q(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);e6=new $APP.q(null,"addr+data-seq","addr+data-seq",1516602343,null);Wnb=new $APP.q(null,"store","store",-1142205747,null);Xnb=new $APP.q(null,"median","median",-2084869638,null);Ynb=new $APP.q("clojure.string","includes?","clojure.string/includes?",-1842146260,null);
Znb=new $APP.q(null,"restore","restore",1907703951,null);$nb=new $APP.q(null,"empty-db","empty-db",1486862004,null);p2=new $APP.F("transact","syntax","transact/syntax",-299207078);f6=new $APP.q(null,"-restore","-restore",1124639208,null);Yjb=new $APP.F(null,"find","find",496279456);B2=new $APP.F(null,"a","a",-2123407586);aob=new $APP.q("datascript","DB","datascript/DB",-487332776,null);bob=new $APP.q(null,"G__46172","G__46172",-351851602,null);Tib=new $APP.F(null,"*","*",-1294732318);
o4=new $APP.F(null,"free","free",801364328);cob=new $APP.F("db.fn","cas","db.fn/cas",-379352172);a1=new $APP.F(null,"shift","shift",997140064);dob=new $APP.q(null,"tx0","tx0",-4656209,null);Rjb=new $APP.F(null,"rule","rule",729973257);eob=new $APP.q(null,"rseek-datoms","rseek-datoms",857788390,null);fob=new $APP.q(null,"from-serializable","from-serializable",945516427,null);gob=new $APP.q(null,"resolve-datom","resolve-datom",-294110827,null);
hob=new $APP.q(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);iob=new $APP.q(null,"IStorage","IStorage",668238001,null);job=new $APP.q(null,"get-else","get-else",1312024065,null);o3=new $APP.F(null,"limit","limit",-1355822363);kob=new $APP.q(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);lob=new $APP.q("datascript.core","pull-many","datascript.core/pull-many",394351057,null);g6=new $APP.q(null,"Entity","Entity",1953938502,null);var ugb=new $APP.yi(null,new $APP.h(null,12,[M1,null,K1,null,X1,null,Zmb,null,Slb,null,new $APP.F("db","noHistory","db/noHistory",-1975127444),null,P1,null,new $APP.F("db.install","_attribute","db.install/_attribute",1853441294),null,Y1,null,Mnb,null,S1,null,Q1,null],null),null),Mhb=new $APP.yi(null,new $APP.h(null,11,[M1,null,K1,null,X1,null,Zmb,null,Slb,null,P1,null,Y1,null,Mnb,null,G2,null,S1,null,Q1,null],null),null),uhb=new $APP.yi(null,new $APP.h(null,7,[new $APP.F("db.type","number","db.type/number",
-508502688),null,new $APP.F("db.type","instant","db.type/instant",-1024769248),null,R1,null,new $APP.F("db.type","uuid","db.type/uuid",1543195203),null,new $APP.F("db.type","string","db.type/string",1432572808),null,new $APP.F("db.type","keyword","db.type/keyword",205926793),null,O1,null],null),null);$APP.g=b0.prototype;$APP.g.O=function(a,b,c){return xgb.j?xgb.j(this,b,c):xgb.call(null,this,b,c)};$APP.g.ga=function(a,b){return $APP.fc(this.wg,b)};$APP.g.ba=function(a,b){return $APP.Hx(this.wg,b,null)};$APP.g.K=function(a,b,c){return $APP.Hx(this.wg,b,c)};$APP.g.W=function(a,b,c){return $APP.Oc(this.wg,b,c)};d0.prototype.V=function(a,b){return new d0(this.Jb,this.Hg,b)};d0.prototype.U=function(){return this.en};
d0.prototype.Ak=function(a,b,c){a=$APP.B.j($APP.n(this.Hg),b,null);if(null==a)return c=c.D?c.D():c.call(null),$APP.ld(this.Hg,$APP.vi.j($APP.n(this.Hg),b,c)),c;$APP.ld(this.Hg,$APP.vi.j($APP.n(this.Hg),b,a));return a};var h6=function h6(a){switch(arguments.length){case 0:return h6.D();case 1:return h6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};h6.D=function(){return h6.g((new Date).getTime())};
h6.g=function(a){return $APP.dk([$APP.l.g(f0(a/1E3|0,8)),"-",$APP.l.g(f0($APP.Dj(65536),4)),"-",$APP.l.g(f0($APP.Dj(65536)&4095|16384,4)),"-",$APP.l.g(f0($APP.Dj(65536)&16383|32768,4)),"-",$APP.l.g(f0($APP.Dj(65536),4)),$APP.l.g(f0($APP.Dj(65536),4)),$APP.l.g(f0($APP.Dj(65536),4))].join(""))};h6.B=1;var Vhb=$APP.$m.h($APP.wf,$APP.Tg),shb=$APP.$m.h($APP.wf,$APP.zi);var Fgb=Math.pow(2,31),S0=Math.pow(2,5),z0=S0/2,Tgb=S0+z0>>>1,Dgb=S0-1,Egb=h0($APP.fj.h(function(a){return Math.pow(2,a)},$APP.Wn.j(0,52,5)));$APP.g=D0.prototype;$APP.g.zg=function(a,b){var c=this;C0(this,$APP.ce(c.children));$APP.Ry.g($APP.yu.h(function(d,e){var f=c.children[d];e=$APP.k(f)?(e=null==e)?e:f.$g:f;return $APP.k(e)?(f=A0(f,b),c.zd[d]=f):null},c.zd));a=k0(b,this,c.Ab);c.$g=!1;return c.Ab=a};$APP.g.Cj=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};
$APP.g.Ej=function(a,b,c){C0(this,$APP.ce(this.children));C0(b,$APP.ce(b.children));a=b.Ab;$APP.k(a)&&l0(c,new $APP.G(null,1,5,$APP.H,[a],null));return E0(this.keys.concat(b.keys),this.children.concat(b.children),this.zd.concat(b.zd),this.Ab,!0)};$APP.g.Fj=function(a,b){C0(this,$APP.ce(this.children));C0(b,$APP.ce(b.children));a=q0(this.keys,b.keys);var c=q0(this.children,b.children),d=q0(this.zd,b.zd);return r0(E0(a[0],c[0],d[0],this.Ab,!0),E0(a[1],c[1],d[1],b.Ab,!0))};
$APP.g.Zf=function(a,b){if($APP.x.h(-1,a))return null;var c=$APP.k(this.zd)?this.zd[a]:null;$APP.Bb(this.children[a])?(b=j0(b,c),this.children[a]=b):$APP.k($APP.k(b)?c:b)&&Cgb(b,c);return this.children[a]};$APP.g.Dj=function(a,b,c,d){a=Igb(b,this.keys,c);a=this.Zf(a,d);return $APP.k(a)?w0(a,b,c,d):null};
$APP.g.Aj=function(a,b,c,d){C0(this,$APP.ce(this.children));a=o0(b,this.keys,this.keys.length-2,c);var e=this.Zf(a,d);c=$APP.k(e)?x0(e,b,c,d):null;if($APP.k(c)){d=this.keys;e=a+1;var f=c.map(s0);b=Kgb(b,d,a,e,f,f.length)?d:p0(d,a,e,f);d=p0(this.children,a,a+1,c);a=p0(this.zd,a,a+1,B0(c));if(d.length<=S0)return[E0(b,d,a,this.Ab,!0)];c=d.length>>>1;return[E0(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.Ab,!0),E0(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.Bj=function(a,b,c,d,e,f,m){C0(this,$APP.ce(this.children));var p=Igb(b,this.keys,c);if(-1===p)return null;var u=this.Zf(p,m);a=0<=p-1?this.Zf(p-1,m):null;var t=p+1<this.children.length?this.Zf(p+1,m):null;c=y0(u,b,c,!1,a,t,m);return $APP.k(c)?(a=$APP.k(a)?p-1:p,p=$APP.k(t)?2+p:1+p,t=this.keys,u=c.map(s0),b=Kgb(b,t,a,p,u,u.length)?t:p0(t,a,p,u),t=p0(this.children,a,p,c),c=p0(this.zd,a,p,B0(c)),p>a&&(a=$APP.dx.h($APP.Ci($APP.js.h($APP.yb,this.zd.slice(a,p))),$APP.Ci($APP.js.h($APP.yb,c))),$APP.k($APP.k(m)?
$APP.r(a):m)&&l0(m,a)),Mgb(E0(b,t,c,this.Ab,!0),d,e,f,m)):null};var W0=function W0(a){switch(arguments.length){case 1:return W0.g(arguments[0]);case 2:return W0.h(arguments[0],arguments[1]);case 3:return W0.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};W0.g=function(a){return W0.h(a,null)};W0.h=function(a,b){return W0.j(a,b,!0)};W0.j=function(a,b,c){return new Ngb(a,b,c)};W0.B=3;$APP.g=Ngb.prototype;
$APP.g.zg=function(a,b){a=this.$g;return $APP.k($APP.k(a)?a:null==this.Ab)?(b=k0(b,this,this.Ab),this.$g=!1,this.Ab=b):this.Ab};$APP.g.Cj=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};$APP.g.Ej=function(a,b,c){a=b.Ab;$APP.k(a)&&l0(c,new $APP.G(null,1,5,$APP.H,[a],null));return W0.h(this.keys.concat(b.keys),this.Ab)};$APP.g.Fj=function(a,b){a=q0(this.keys,b.keys);return r0(W0.h(a[0],this.Ab),W0.h(a[1],b.Ab))};$APP.g.Zf=function(a){return this.keys[a]};
$APP.g.Dj=function(a,b,c,d){a=Hgb(b,this.keys,c);return-1===a?null:this.Zf(a,d)};$APP.g.Aj=function(a,b,c){a=o0(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===S0?(b=d+1>>>1,a>b?[W0.h(this.keys.slice(0,b),this.Ab),W0.g(Jgb(this.keys,b,d,a,a,[c]))]:[W0.h(Jgb(this.keys,0,b,a,a,[c]),this.Ab),W0.g(this.keys.slice(b,d))]):[W0.h(p0(this.keys,a,a,[c]),this.Ab)]};
$APP.g.Bj=function(a,b,c,d,e,f,m){a=Hgb(b,this.keys,c);if(-1===a)return null;a=p0(this.keys,a,a+1,[]);return Mgb(W0.h(a,this.Ab),d,e,f,m)};$APP.g=$APP.G0.prototype;$APP.g.tf=function(){var a=this.root;return $APP.k(a)?a:$APP.k(this.Ab)?this.root=a=j0(this.storage,this.Ab):null};$APP.g.toString=function(){return $APP.pd(this)};$APP.g.ba=function(a,b){this.tf(null);return w0(this.root,this.td,b,this.storage)};
$APP.g.K=function(a,b,c){this.tf(null);a=w0(this.root,this.td,b,this.storage);return $APP.k(a)?a:c};$APP.g.W=function(a,b,c){return $APP.bj(b,$APP.ej,"#{"," ","}",c,$APP.r(this))};$APP.g.U=function(){return this.P};$APP.g.ca=function(){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,this.P,this.Ad,this.Ab)};$APP.g.aa=function(){return this.T};$APP.g.Bd=function(){return $APP.Fc(P0.g?P0.g(this):P0.call(null,this))};$APP.g.Y=function(){var a=this.Ad;return null!=a?a:this.Ad=a=$APP.Od(this)};
$APP.g.S=function(a,b){var c=this;return $APP.ye(b)&&this.T===$APP.ce(b)&&$APP.ng(function(d){return $APP.Se(c,d)},b)};$APP.g.mf=function(){return this};$APP.g.Oa=function(){return new $APP.G0(this.storage,W0.g([]),0,0,this.td,this.P,null,null)};$APP.g.bi=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.lb=function(a,b){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Ix(a,b):b.D?b.D():b.call(null)};
$APP.g.gb=function(a,b,c){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Ix(a,b,c):c};$APP.g.Oe=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.Df=function(){return this};$APP.g.zg=function(a,b){null==this.storage&&(this.storage=b);this.tf(null);null==this.Ab&&(this.Ab=A0(this.root,this.storage));return this.Ab};$APP.g.Z=function(){return P0.g?P0.g(this):P0.call(null,this)};
$APP.g.ej=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.V=function(a,b){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,b,this.Ad,this.Ab)};$APP.g.da=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return this.ba(null,a)};$APP.g.h=function(a,b){return this.K(null,a,b)};
var L0=function L0(a,b,c,d){var f=m0(c,d);if(0<d){var m=H0(b,f,a.storage),p=d-1;a=L0.F?L0.F(a,m,c,p):L0.call(null,a,m,c,p);return null==a?f+1<b.children.length?n0(0,d,f+1):null:n0(a,d,f)}return f+1<b.keys.length?n0(0,0,f+1):null},N0=function N0(a,b,c,d){var f=m0(c,d);if(0===d&&0===f)return null;if(0===d)return n0(0,0,f-1);if(f>=t0(b))return K0(b,c,d,a.storage);var m=H0(b,f,a.storage);var p=d-1;m=N0.F?N0.F(a,m,c,p):N0.call(null,a,m,c,p);if(null!=m)return n0(m,d,f);if(0===f)return null;a=K0(H0(b,f-
1,a.storage),c,d-1,a.storage);return n0(a,d,f-1)};$APP.g=Pgb.prototype;$APP.g.aa=function(){return this.end-this.Eb};$APP.g.ha=function(a,b){return this.I[this.Eb+b]};$APP.g.kb=function(a,b,c){return 0<=b&&b<this.end-this.Eb?this.I[this.Eb+b]:c};$APP.g.hh=function(){if(this.Eb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Jf(this.I,this.Eb+1,this.end)};$APP.g.lb=function(a,b){return this.Eb===this.end?b.D?b.D():b.call(null):$APP.Ix(this.hh(null),b,this.I[this.Eb])};
$APP.g.gb=function(a,b,c){for(a=this.Eb;;)if(a<this.end){var d=this.I[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Vd(c))return $APP.n(c);a+=1}else return c};$APP.g=Q0.prototype;$APP.g.toString=function(){return $APP.pd(this)};$APP.g.W=function(a,b,c){return $APP.bj(b,$APP.ej,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new Q0(this.set,a,this.right,this.keys,this.idx+1):null}a=M0(this.set,this.left);return a<this.right?this.xi(a,this.right):null}return null};$APP.g.Bd=function(){if($APP.k(this.keys)){var a=this.set,b=Ogb(this.set,this.left),c=Ogb(this.set,this.right);return Qgb.j?Qgb.j(a,b,c):Qgb.call(null,a,b,c)}return null};$APP.g.S=function(a,b){return $APP.tf(this,b)};
$APP.g.lb=function(a,b){if(null==this.keys)return b.D?b.D():b.call(null);a=this.hb(null);var c=this.bb(null);return null==c?a:$APP.Ix(c,b,a)};$APP.g.gb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Vd(c))return $APP.n(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=M0(this.set,a),a<this.right)f=a,d=I0(this.set,a),e=m0(a,0),a=f;else return c}};
$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Id};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.Kg=function(){var a=this.left,b=this.right;return new Pgb(this.keys,this.idx,(a<Fgb&&b<Fgb?a>>>5===b>>>5:Math.floor(a/S0)===Math.floor(b/S0))?m0(this.right,0):this.keys.length)};$APP.g.Cf=function(){var a=this.hg();return $APP.k(a)?a:$APP.Id};
$APP.g.xi=function(a,b){return new Q0(this.set,a,b,I0(this.set,a),m0(a,0))};$APP.g.hg=function(){var a=M0(this.set,n0(this.left,0,this.keys.length-1));return a<this.right?this.xi(a,this.right):null};$APP.g=R0.prototype;$APP.g.toString=function(){return $APP.pd(this)};$APP.g.W=function(a,b,c){return $APP.bj(b,$APP.ej,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new R0(this.set,this.left,a,this.keys,this.idx-1):null}a=Ogb(this.set,this.right);return this.left<a?this.xi(this.left,a):null}return null};$APP.g.Bd=function(){return $APP.k(this.keys)?O0(this.set,M0(this.set,this.left),M0(this.set,this.right)):null};$APP.g.S=function(a,b){return $APP.tf(this,b)};$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};
$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Id};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.xi=function(a,b){return new R0(this.set,a,b,I0(this.set,b),m0(b,0))};var mob=Error,i6=function i6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(i6),$APP.on.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Vf);},j6=function j6(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(j6),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);},k6=function k6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(k6),$APP.on.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Vf);},l6=function l6(a){switch(arguments.length){case 2:return l6.h(arguments[0],
arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(l6),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);};l6.j=function(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(l6),$APP.on.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Vf);};l6.B=3;
var m6=function m6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(m6),$APP.on.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Vf);},n6=function n6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(n6),$APP.on.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Vf);};$APP.g=$APP.f1.prototype;$APP.g.qb=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.Qd=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.Ad?this.Ad=i6(this):this.Ad};
$APP.g.S=function(a,b){return b instanceof $APP.f1&&j6(this,b)};$APP.g.Z=function(){return k6(this)};$APP.g.ba=function(a,b){return n6(this,b,null)};$APP.g.K=function(a,b,c){return n6(this,b,c)};$APP.g.ha=function(a,b){return l6.h(this,b)};$APP.g.kb=function(a,b,c){return l6.j(this,b,c)};$APP.g.O=function(a,b,c){return m6(this,b,c)};$APP.g.W=function(a,b,c){return $APP.bj(b,$APP.ej,"#datascript/Datom ["," ","]",c,new $APP.G(null,5,5,$APP.H,[this.e,this.a,this.v,this.qb(null),this.Qd(null)],null))};
tgb("datascript.db.Datom",$APP.f1);var g1=function g1(a){switch(arguments.length){case 3:return g1.j(arguments[0],arguments[1],arguments[2]);case 4:return g1.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return g1.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};g1.j=function(a,b,c){return new $APP.f1(a,b,c,536870912,0,0)};g1.F=function(a,b,c,d){return new $APP.f1(a,b,c,d,0,0)};
g1.R=function(a,b,c,d,e){return new $APP.f1(a,b,c,$APP.k(e)?d:-d,0,0)};g1.B=5;i6=function(){return null};i6=function(a){return c1(c1($APP.zd(a.e),$APP.zd(a.a)),$APP.zd(a.v))};j6=function(){return null};j6=function(a,b){return a.e===b.e&&$APP.x.h(a.a,b.a)&&$APP.x.h(a.v,b.v)};k6=function(){return null};k6=function(a){return new $APP.D(null,a.e,new $APP.D(null,a.a,new $APP.D(null,a.v,new $APP.D(null,a.qb(null),new $APP.D(null,a.Qd(null),null,1,null),2,null),3,null),4,null),5,null)};n6=function(){return null};
n6=function(a,b,c){if(b instanceof $APP.F)switch(b instanceof $APP.F?b.N:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else return c};
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(){return null};l6.j=function(){return null};l6.B=3;
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.l.g(b)].join(""));}};
l6.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:return c}};l6.B=3;m6=function(){return null};
m6=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "e":return g1.R(c,a.a,a.v,a.qb(null),a.Qd(null));case "a":return g1.R(a.e,c,a.v,a.qb(null),a.Qd(null));case "v":return g1.R(a.e,a.a,c,a.qb(null),a.Qd(null));case "tx":return g1.R(a.e,a.a,a.v,c,a.Qd(null));case "added":return g1.R(a.e,a.a,a.v,a.qb(null),c);default:throw new mob(["invalid key for #datascript/Datom: ",$APP.l.g(b)].join(""));}};
var i1=function i1(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(i1),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);};i1=function(){return null};
i1=function(a,b){try{return $APP.x.h(a,b)?0:$APP.Ae(a)&&$APP.Ae(b)?ehb(a,b):(null!=a?a.M&2048||$APP.yd===a.Le||(a.M?0:$APP.Ib($APP.ad,a)):$APP.Ib($APP.ad,a))?$APP.bd(a,b):$APP.Jb(a)===$APP.Jb(b)?"number"===typeof a||"string"===typeof a||$APP.zb(a)||!0===a||!1===a?$APP.Ra(a,b):$APP.zd(a)-$APP.zd(b):dhb(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Jb(a)===$APP.Jb(b))throw c;return dhb(a,b)}throw d;}};
var o6=function o6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(o6),$APP.on.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Vf);},p6=function p6(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(p6),$APP.on.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Vf);},q6=function q6(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(q6),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);},X2=function X2(a){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(X2),
$APP.on.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Vf);},u1=function u1(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(u1),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);},r6=function r6(a,b,c){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(r6),$APP.on.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Vf);},s6=function s6(a,b,c,d,e,f,m){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(s6),$APP.on.h(" ",new $APP.G(null,7,5,$APP.H,[a,b,c,d,e,
f,m],null))].join(""),$APP.Vf);},t6=function t6(a,b,c,d,e,f,m,p){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(t6),$APP.on.h(" ",new $APP.G(null,8,5,$APP.H,[a,b,c,d,e,f,m,p],null))].join(""),$APP.Vf);};$APP.g=$APP.z1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "schema":return this.Jc;case "eavt":return this.jc;case "aevt":return this.Lc;case "avet":return this.tc;case "max-eid":return this.dd;case "max-tx":return this.ed;case "rschema":return this.Nc;case "pull-patterns":return this.Sc;case "pull-attrs":return this.Rc;case "hash":return this.hash;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.K.h(new $APP.G(null,10,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.A1,this.Jc],null),new $APP.G(null,2,5,$APP.H,[$APP.B1,this.jc],null),new $APP.G(null,2,5,$APP.H,[C1,this.Lc],null),new $APP.G(null,2,5,$APP.H,[t1,this.tc],null),new $APP.G(null,2,5,$APP.H,[D1,this.dd],null),new $APP.G(null,2,5,$APP.H,[E1,this.ed],null),new $APP.G(null,2,5,$APP.H,[F1,this.Nc],null),new $APP.G(null,
2,5,$APP.H,[G1,this.Sc],null),new $APP.G(null,2,5,$APP.H,[H1,this.Rc],null),new $APP.G(null,2,5,$APP.H,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,10,new $APP.G(null,10,5,$APP.H,[$APP.A1,$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,this.C)};
$APP.g.aa=function(){return 10+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jc,b.Jc)&&$APP.x.h(this.jc,b.jc)&&$APP.x.h(this.Lc,b.Lc)&&$APP.x.h(this.tc,b.tc)&&$APP.x.h(this.dd,b.dd)&&$APP.x.h(this.ed,b.ed)&&$APP.x.h(this.Nc,b.Nc)&&$APP.x.h(this.Sc,b.Sc)&&$APP.x.h(this.Rc,b.Rc)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,10,[$APP.A1,null,E1,null,I1,null,C1,null,t1,null,D1,null,$APP.B1,null,H1,null,G1,null,F1,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.A1,b):$APP.Bf.call(null,$APP.A1,b))?new $APP.z1(c,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.B1,b):$APP.Bf.call(null,$APP.B1,b))?new $APP.z1(this.Jc,c,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(C1,b):$APP.Bf.call(null,C1,b))?new $APP.z1(this.Jc,this.jc,c,this.tc,this.dd,this.ed,this.Nc,
this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(t1,b):$APP.Bf.call(null,t1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,c,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(D1,b):$APP.Bf.call(null,D1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,c,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(E1,b):$APP.Bf.call(null,E1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,c,this.Nc,this.Sc,
this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(F1,b):$APP.Bf.call(null,F1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,c,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(G1,b):$APP.Bf.call(null,G1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,c,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(H1,b):$APP.Bf.call(null,H1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,
c,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(I1,b):$APP.Bf.call(null,I1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,c,this.A,this.o,null):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,10,5,$APP.H,[new $APP.Ue($APP.A1,this.Jc,null),new $APP.Ue($APP.B1,this.jc,null),new $APP.Ue(C1,this.Lc,null),new $APP.Ue(t1,this.tc,null),new $APP.Ue(D1,this.dd,null),new $APP.Ue(E1,this.ed,null),new $APP.Ue(F1,this.Nc,null),new $APP.Ue(G1,this.Sc,null),new $APP.Ue(H1,this.Rc,null),new $APP.Ue(I1,this.hash,null)],null),this.o))};
$APP.g.V=function(a,b){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};
$APP.g.xk=function(a,b){a:for(var c=this.jc,d=$APP.B1.g(b),e=a=b=$APP.Tg;;){if($APP.we(c)){var f=new $APP.G(null,3,5,$APP.H,[$APP.Xf(b),$APP.Xf($APP.Fh.h(a,d)),$APP.Xf(e)],null);break a}if($APP.we(d)){f=new $APP.G(null,3,5,$APP.H,[$APP.Xf($APP.Fh.h(b,c)),$APP.Xf(a),$APP.Xf(e)],null);break a}var m=$APP.v(c),p=$APP.v(d);try{f=ghb.h?ghb.h(m,p):ghb.call(null,m,p)}catch(u){if(u instanceof Error)f=flb;else throw u;}if($APP.x.h(f,flb))b=$APP.wf.h(b,m),a=$APP.wf.h(a,p),c=$APP.w(c),d=$APP.w(d);else if(0===
f)e=$APP.wf.h(e,m),c=$APP.w(c),d=$APP.w(d);else if(0>f)b=$APP.wf.h(b,m),c=$APP.w(c);else if(0<f)a=$APP.wf.h(a,p),d=$APP.w(d);else{f=null;break a}}return f};$APP.g.La=$APP.yd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.ai=$APP.yd;$APP.g.aa=function(){return $APP.ce(this.jc)};$APP.g.em=$APP.yd;$APP.g.Bd=function(){return $APP.Fc(this.jc)};$APP.g.ih=$APP.yd;$APP.g.Y=function(){return o6(this)};$APP.g.S=function(a,b){return q6(this,b)};$APP.g.Wi=$APP.yd;
$APP.g.mf=function(){return $APP.bn.j($APP.bn.j($APP.bn.j(this,$APP.B1,$APP.Qf),C1,$APP.Qf),t1,$APP.Qf)};$APP.g.Xi=$APP.yd;$APP.g.Oa=function(){return $APP.se(X2(new $APP.h(null,5,[$APP.A1,this.Jc,F1,this.Nc,$APP.B1,$APP.oe(this.jc),C1,$APP.oe(this.Lc),t1,$APP.oe(this.tc)],null)),$APP.te(this))};$APP.g.Oe=function(){throw $APP.Zl.h("datascript.DB/conj! is not supported",$APP.Vf);};$APP.g.Df=function(){return $APP.bn.j($APP.bn.j($APP.bn.j(this,$APP.B1,$APP.Rf),C1,$APP.Rf),t1,$APP.Rf)};$APP.g.yk=function(){return imb};
$APP.g.pj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.B.h(this,b),t6(this,b,c,d,e,f,0,536870912),t6(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.sj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.B.h(this,b),t6(this,b,c,d,e,f,0,536870912),g1.F(2147483647,null,null,2147483647))};$APP.g.rj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return Vgb($APP.B.h(this,b),t6(this,b,c,d,e,f,2147483647,2147483647),g1.F(0,null,null,536870912))};
$APP.g.qj=function(a,b,c,d){v1(this,t1,b,null,null,null);if(!(b instanceof $APP.F||"string"===typeof b))throw a=new $APP.D(null,Hlb,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([b]))," at ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,b,E2,a,$APP.Ln,p2],null));return V0(this.tc,s6(this,null,b,c,null,0,536870912),s6(this,null,b,d,null,
2147483647,2147483647))};$APP.g.mj=$APP.yd;$APP.g.oj=function(){return this.Jc};$APP.g.nj=function(a,b){a=this.Nc;return a.g?a.g(b):a.call(null,b)};$APP.g.zk=$APP.yd;
$APP.g.tj=function(a,b){a=$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null);b=this.jc;var f=this.Lc,m=this.tc;$APP.Se(y1(this,N1),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?V0(b,g1.F(a,c,d,e),g1.F(a,c,d,e)):V0(b,g1.F(a,c,d,536870912),g1.F(a,c,d,2147483647)):$APP.k(e)?$APP.sj($APP.Qg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647))):V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647)):null!=d?$APP.k(e)?
$APP.sj($APP.Qg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.sj($APP.Qg.g(function(p){return $APP.x.h(d,p.v)}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.k(e)?$APP.sj($APP.Qg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?u1(this,c)?$APP.sj($APP.Qg.g(function(p){return $APP.x.h(e,
p.qb(null))}),V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647))):$APP.sj($APP.Qg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):u1(this,c)?V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647)):$APP.sj($APP.Qg.g(function(p){return $APP.x.h(d,p.v)}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):$APP.k(e)?$APP.sj($APP.Qg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,
536870912),g1.F(2147483647,c,null,2147483647))):V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.Qg.h(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))},b):$APP.Qg.h(function(p){return $APP.x.h(d,p.v)},b):$APP.k(e)?$APP.Qg.h(function(p){return $APP.x.h(e,p.qb(null))},b):b};$APP.g=J1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":return this.Oc;case "pred":return this.ib;case "hash":return this.hash;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[a6,this.Oc],null),new $APP.G(null,2,5,$APP.H,[$APP.ew,this.ib],null),new $APP.G(null,2,5,$APP.H,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[a6,$APP.ew,I1],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J1(this.Oc,this.ib,this.hash,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oc,b.Oc)&&$APP.x.h(this.ib,b.ib)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[I1,null,$APP.ew,null,a6,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new J1(this.Oc,this.ib,this.hash,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(a6,b):$APP.Bf.call(null,a6,b))?new J1(c,this.ib,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.ew,b):$APP.Bf.call(null,$APP.ew,b))?new J1(this.Oc,c,this.hash,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(I1,b):$APP.Bf.call(null,I1,b))?new J1(this.Oc,this.ib,c,this.A,this.o,null):new J1(this.Oc,this.ib,this.hash,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue(a6,this.Oc,null),new $APP.Ue($APP.ew,this.ib,null),new $APP.Ue(I1,this.hash,null)],null),this.o))};$APP.g.V=function(a,b){return new J1(this.Oc,this.ib,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.hk=$APP.yd;$APP.g.ba=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.K=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.La=$APP.yd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.ai=$APP.yd;$APP.g.aa=function(){return $APP.ce(p1(this,$APP.B1,null,null,null,null))};$APP.g.ih=$APP.yd;$APP.g.Y=function(){return p6(this)};$APP.g.S=function(a,b){return q6(this,b)};$APP.g.Xi=$APP.yd;$APP.g.Oa=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.Vi=$APP.yd;
$APP.g.ga=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.O=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.pj=function(a,b,c,d,e,f){return $APP.Qg.h(this.ib,p1(this.Oc,b,c,d,e,f))};$APP.g.sj=function(a,b,c,d,e,f){return $APP.Qg.h(this.ib,q1(this.Oc,b,c,d,e,f))};$APP.g.rj=function(a,b,c,d,e,f){return $APP.Qg.h(this.ib,r1(this.Oc,b,c,d,e,f))};$APP.g.qj=function(a,b,c,d){return $APP.Qg.h(this.ib,s1(this.Oc,b,c,d))};$APP.g.mj=$APP.yd;
$APP.g.oj=function(){return x1(this.Oc)};$APP.g.nj=function(a,b){return y1(this.Oc,b)};$APP.g.zk=$APP.yd;$APP.g.tj=function(a,b){return $APP.Qg.h(this.ib,n1(this.Oc,b))};X2=function(a){a=$APP.Wf(a);$APP.B.h(a,$APP.A1);$APP.B.h(a,$APP.B1);$APP.B.h(a,C1);$APP.B.h(a,t1);$APP.B.h(a,D1);$APP.B.h(a,E1);return null};
X2=function(a){var b=$APP.Wf(a);a=$APP.B.h(b,$APP.A1);var c=$APP.B.h(b,$APP.B1),d=$APP.B.h(b,C1),e=$APP.B.h(b,t1),f=$APP.B.h(b,D1),m=$APP.B.h(b,E1);m=$APP.k(m)?m:536870912;var p=$APP.Bj.g(0);f=$APP.k(f)?f:0;var u=e0(),t=e0();b=F1.g(b);b=$APP.k(b)?b:T1($APP.Ll.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])));return nhb($APP.hi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,m,p,d,e,f,c,u,t,b]))};o6=function(){return null};
o6=function(a){var b=$APP.n(a.hash);return 0===b?$APP.vg(a.hash,c1($APP.zd(a.Jc),$APP.zd(a.jc))):b};p6=function(){return null};p6=function(a){var b=$APP.n(a.hash);(function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.zi})();return 0===b?(b=function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.zi}(),$APP.vg(a.hash,c1($APP.zd(x1(a)),$APP.Od(b)))):b};q6=function(){return null};
q6=function(a,b){var c;if(c=b instanceof $APP.z1||b instanceof J1)if(c=$APP.x.h(x1(a),x1(b)))a:for(a=p1(a,$APP.B1,null,null,null,null),c=p1(b,$APP.B1,null,null,null,null),b=$APP.r(a),a=$APP.r(c);;){if(null==b){c=null==a;break a}if($APP.x.h($APP.v(b),$APP.v(a)))b=$APP.w(b),a=$APP.w(a);else{c=!1;break a}}return c};r6=function(){return null};
r6=function(a,b,c){$APP.Lc(b,"#datascript/DB {");$APP.Lc(b,":schema ");$APP.ej(x1(a),b,c);$APP.Lc(b,", :datoms ");$APP.bj(b,function(d,e,f){return $APP.bj(e,$APP.ej,"["," ","]",f,new $APP.G(null,4,5,$APP.H,[d.e,d.a,d.v,$APP.d1(d)],null))},"["," ","]",c,p1(a,$APP.B1,null,null,null,null));return $APP.Lc(b,"}")};
var s2=function s2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(s2),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);},r2=function r2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(r2),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);};s6=function(){return null};
s6=function(a,b,c,d,e,f,m){if(null!=c&&!(c instanceof $APP.F||"string"===typeof c))throw a=new $APP.D(null,gob,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,new $APP.D(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([c]))," at ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,c,E2,a,$APP.Ln,p2],null));return g1.F(null!=b?s2(a,b):f,c,null!=d&&r2(a,c)?s2(a,d):d,null!=e?s2(a,
e):m)};t6=function(){return null};t6=function(a,b,c,d,e,f,m,p){b=b instanceof $APP.F?b.N:null;switch(b){case "eavt":return s6(a,c,d,e,f,m,p);case "aevt":return s6(a,d,c,e,f,m,p);case "avet":return s6(a,e,c,d,f,m,p);default:throw Error(["No matching clause: ",$APP.l.g(b)].join(""));}};$APP.g=d2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db-before":return this.ge;case "db-after":return this.fe;case "tx-data":return this.ke;case "tempids":return this.ie;case "tx-meta":return this.le;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[e2,this.ge],null),new $APP.G(null,2,5,$APP.H,[f2,this.fe],null),new $APP.G(null,2,5,$APP.H,[g2,this.ke],null),new $APP.G(null,2,5,$APP.H,[h2,this.ie],null),new $APP.G(null,2,5,$APP.H,[i2,this.le],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.G(null,5,5,$APP.H,[e2,f2,g2,h2,i2],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ge,b.ge)&&$APP.x.h(this.fe,b.fe)&&$APP.x.h(this.ke,b.ke)&&$APP.x.h(this.ie,b.ie)&&$APP.x.h(this.le,b.le)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,5,[h2,null,f2,null,e2,null,g2,null,i2,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(e2,b):$APP.Bf.call(null,e2,b))?new d2(c,this.fe,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(f2,b):$APP.Bf.call(null,f2,b))?new d2(this.ge,c,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(g2,b):$APP.Bf.call(null,g2,b))?new d2(this.ge,this.fe,c,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(h2,b):$APP.Bf.call(null,h2,b))?new d2(this.ge,this.fe,this.ke,c,this.le,this.A,this.o,
null):$APP.k($APP.Bf.h?$APP.Bf.h(i2,b):$APP.Bf.call(null,i2,b))?new d2(this.ge,this.fe,this.ke,this.ie,c,this.A,this.o,null):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Ue(e2,this.ge,null),new $APP.Ue(f2,this.fe,null),new $APP.Ue(g2,this.ke,null),new $APP.Ue(h2,this.ie,null),new $APP.Ue(i2,this.le,null)],null),this.o))};
$APP.g.V=function(a,b){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};j2=function(a,b,c){return $APP.Se(y1(a,c),b)};k2=function(a,b){return j2(a,b,N1)};l2=function(a,b,c){return j2(a,b,N1)&&(i0(c)||$APP.xe(c)&&!$APP.Be(c))};r2=function(){return null};r2=function(a,b){return j2(a,b,O1)};m2=function(a,b){return j2(a,b,P1)};u1=function(){return null};
u1=function(a,b){return j2(a,b,M1)};n2=function(a,b){return j2(a,b,R1)};Ahb=function(a,b){return j2(a,b,thb)};o2=function(a){if(a instanceof $APP.F)return $APP.x.h("_",$APP.y.h($APP.Fi(a),0));if("string"===typeof a)return $APP.hb($APP.Si(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Zl.h(["Bad attribute type: ",$APP.xj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Ln,p2,V1,a],null));};
t2=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Zl.h(["Highest supported entity id is ",$APP.xj.l($APP.z([2147483647])),", got ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,A2,$APP.LI,b],null));return b}if($APP.Ae(b)){var c=b,d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);if($APP.ui.h($APP.ce(b),2))throw $APP.Zl.h(["Lookup ref should contain 2 elements: ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Dlb,A2,b],null));if(j2(a,d,K1))return n2(a,
d)?(b=Bhb(a,d,c),$APP.eK.g($APP.v(p1(a,t1,d,b,null,null)))):null==c?null:$APP.eK.g($APP.v(p1(a,t1,d,c,null,null)));throw $APP.Zl.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,klb,A2,b],null));}if($APP.zb(b))b=$APP.z(b);else{if(b instanceof $APP.F)return $APP.eK.g($APP.v(p1(a,t1,S1,b,null,null)));throw $APP.Zl.h(["Expected number or lookup ref for entity id, got ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Mmb,
A2,b],null));}}};Chb=function(a,b){return $APP.x.h(b,$APP.eK.g($APP.v(q1(a,$APP.B1,b,null,null,null))))};s2=function(){return null};s2=function(a,b){a=t2(a,b);if($APP.k(a))return a;throw $APP.Zl.h(["Nothing found for entity id ",$APP.xj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Ln,Ulb,A2,b],null));};var Dhb=$APP.Bj.g(0);u2.prototype.W=function(a,b,c){return $APP.bj(b,$APP.ej,"#datascript/AutoTempid ["," ","]",c,new $APP.G(null,1,5,$APP.H,[this.id],null))};
g0=function(a){return a instanceof u2};
var u6=function u6(a,b){return function f(e){return new $APP.Gf(null,function(){for(;;){var m=$APP.r(e);if(m){var p=m;if($APP.Fe(p)){var u=$APP.dd(p),t=$APP.ce(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var I=$APP.pe(u,E);$APP.Nf(A,$APP.Be(I)?$APP.ef(function(){return function(Q,T,Z){return T instanceof $APP.F||"string"===typeof T?r2(a,T)&&l2(a,T,Z)?$APP.vi.j(Q,T,u6.h?u6.h(a,Z):u6.call(null,a,Z)):r2(a,T)?$APP.vi.j(Q,T,$APP.v(function(){var ba=new $APP.G(null,1,5,$APP.H,[Z],null);return u6.h?
u6.h(a,ba):u6.call(null,a,ba)}())):o2(T)&&$APP.Ae(Z)?$APP.vi.j(Q,T,u6.h?u6.h(a,Z):u6.call(null,a,Z)):o2(T)?$APP.vi.j(Q,T,$APP.v(function(){var ba=new $APP.G(null,1,5,$APP.H,[Z],null);return u6.h?u6.h(a,ba):u6.call(null,a,ba)}())):$APP.vi.j(Q,T,Z):$APP.vi.j(Q,T,Z)}}(E,I,u,t,A,p,m),$APP.Vf,$APP.Se(I,G2)?I:$APP.vi.j(I,G2,new u2)):function(){var Q=$APP.zg(null);if(function(){var la=$APP.Ae(I);if(la){la=$APP.ld(Q,I);var xa=$APP.y.j(la,0,null);$APP.y.j(la,1,null);var sa=$APP.y.j(la,2,null);$APP.y.j(la,
3,null);return $APP.x.h(H2,xa)&&r2(a,sa)&&!0}return la}()){var T=$APP.n(Q),Z=$APP.y.j(T,0,null),ba=$APP.y.j(T,1,null),da=$APP.y.j(T,2,null),ja=$APP.y.j(T,3,null);return l2(a,da,ja)?new $APP.G(null,4,5,$APP.H,[Z,ba,da,u6.h?u6.h(a,ja):u6.call(null,a,ja)],null):new $APP.G(null,4,5,$APP.H,[Z,ba,da,$APP.v(function(){var la=new $APP.G(null,1,5,$APP.H,[ja],null);return u6.h?u6.h(a,la):u6.call(null,a,la)}())],null)}return I}());E+=1}else return!0}()?$APP.Mf($APP.Of(A),f($APP.ed(p))):$APP.Mf($APP.Of(A),null)}var C=
$APP.v(p);return $APP.zf($APP.Be(C)?$APP.ef(function(){return function(E,I,Q){return I instanceof $APP.F||"string"===typeof I?r2(a,I)&&l2(a,I,Q)?$APP.vi.j(E,I,u6.h?u6.h(a,Q):u6.call(null,a,Q)):r2(a,I)?$APP.vi.j(E,I,$APP.v(function(){var T=new $APP.G(null,1,5,$APP.H,[Q],null);return u6.h?u6.h(a,T):u6.call(null,a,T)}())):o2(I)&&$APP.Ae(Q)?$APP.vi.j(E,I,u6.h?u6.h(a,Q):u6.call(null,a,Q)):o2(I)?$APP.vi.j(E,I,$APP.v(function(){var T=new $APP.G(null,1,5,$APP.H,[Q],null);return u6.h?u6.h(a,T):u6.call(null,
a,T)}())):$APP.vi.j(E,I,Q):$APP.vi.j(E,I,Q)}}(C,p,m),$APP.Vf,$APP.Se(C,G2)?C:$APP.vi.j(C,G2,new u2)):function(){var E=$APP.zg(null);if(function(){var da=$APP.Ae(C);if(da){da=$APP.ld(E,C);var ja=$APP.y.j(da,0,null);$APP.y.j(da,1,null);var la=$APP.y.j(da,2,null);$APP.y.j(da,3,null);return $APP.x.h(H2,ja)&&r2(a,la)&&!0}return da}()){var I=$APP.n(E),Q=$APP.y.j(I,0,null),T=$APP.y.j(I,1,null),Z=$APP.y.j(I,2,null),ba=$APP.y.j(I,3,null);return l2(a,Z,ba)?new $APP.G(null,4,5,$APP.H,[Q,T,Z,u6.h?u6.h(a,ba):
u6.call(null,a,ba)],null):new $APP.G(null,4,5,$APP.H,[Q,T,Z,$APP.v(function(){var da=new $APP.G(null,1,5,$APP.H,[ba],null);return u6.h?u6.h(a,da):u6.call(null,a,da)}())],null)}return C}(),f($APP.Jd(p)))}return null}},null,null)}(b)},L2=function L2(a,b){throw $APP.Zl.h(["Not implemented: (",$APP.l.g(L2),$APP.on.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Vf);},nob=new $APP.yi(null,new $APP.h(null,8,[c6,null,Xmb,null,Xhb,null,Bmb,null,M2,null,Blb,null,cob,null,H2,null],null),null);
L2=function(){return null};
L2=function(a,b){for(var c=!$APP.we(y1(f2.g(a),R1)),d=c?$APP.cn.h(b,$APP.kn.g(Nmb)):b,e=a,f=d;;){if($APP.we(f))return $APP.bn.R($APP.bn.R($APP.bn.j($APP.Ml.h($APP.Ml.h(aib(e),K2),y2),h2,function(){return function(Ud){return Agb(Ud)}}(e,f,a,c,d)),h2,$APP.vi,Ehb,v2(e)),f2,$APP.bn,E1,$APP.Qd);var m=f,p=$APP.r(m),u=$APP.v(p),t=$APP.w(p),A=u,C=t;if(null==A)f=C;else if($APP.x.h(Nmb,A))if($APP.Se(e,C2)){var E=$APP.Ml.h(e,C2),I=$APP.K.h($hb(e),C);e=E;f=I}else f=C;else{var Q=f2.g(e),T=h2.g(e);if($APP.Be(A)){var Z=
G2.g(A);dib(A);if(w2(Z)){var ba=v2(e),da=z2(e,Z,ba),ja=$APP.zf($APP.vi.j(A,G2,ba),C);e=da;f=ja}else if($APP.Ae(Z)){ba=s2(Q,Z);var la=e,xa=$APP.zf($APP.vi.j(A,G2,ba),C);e=la;f=xa}else{var sa=Phb(Q,A),X=$APP.y.j(sa,0,null),S=$APP.y.j(sa,1,null),W=Shb(X,S);if(null!=W){if(x2(Z)&&$APP.Se(T,Z)&&$APP.ui.h(W,$APP.B.h(T,Z)))return Zhb(a,e,b,Z,W);var V=$APP.bn.F(z2(e,Z,W),I2,Vhb,g1.F(W,null,null,536870912)),Y=$APP.K.h(Uhb(Q,$APP.vi.j(X,G2,W)),C);e=V;f=Y}else if("number"===typeof Z||null==Z||"string"===typeof Z||
g0(Z)){var oa=e,za=$APP.K.h(Uhb(Q,A),C);e=oa;f=za}else throw $APP.Zl.h(["Expected number, string or lookup ref for :db/id, got ",$APP.xj.l($APP.z([Z]))].join(""),new $APP.h(null,2,[$APP.Ln,Mmb,cib,A],null));}}else if($APP.Ae(A)){var ha=A,qa=$APP.y.j(ha,0,null),ua=$APP.y.j(ha,1,null),ya=$APP.y.j(ha,2,null),Oa=$APP.y.j(ha,3,null);if($APP.x.h(qa,c6)){var Za=$APP.r(A),db=$APP.v(Za),gb=$APP.w(Za),eb=db,lb=$APP.v(gb),ib=$APP.w(gb),nb=e,Gb=$APP.K.h(u6(Q,$APP.qg.j(lb,Q,ib)),C);e=nb;f=Gb}else if(qa instanceof
$APP.F&&$APP.Bb(nob.g?nob.g(qa):nob.call(null,qa))){var Nb=t2(Q,qa);if(null==Nb)throw $APP.Zl.h(["Can’t find entity for transaction fn ",$APP.xj.l($APP.z([qa]))].join(""),new $APP.h(null,3,[$APP.Ln,p2,Snb,c6,g2,A],null));var $b=$APP.aK.g(o1(Q,new $APP.G(null,2,5,$APP.H,[Nb,tlb],null)));ib=$APP.w(A);if($APP.qe($b)){var ec=e,Mc=$APP.K.h($APP.qg.j($b,Q,ib),C);e=ec;f=Mc}else throw $APP.Zl.h(["Entity ",$APP.xj.l($APP.z([qa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.h(null,
3,[$APP.Ln,p2,Snb,c6,g2,A],null));}else{if(x2(ua)&&$APP.ui.h(qa,H2))throw $APP.Zl.h(["Can't use tempid in '",$APP.xj.l($APP.z([A])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.Ln,p2,$APP.jH,A],null));if($APP.x.h(qa,cob)||$APP.x.h(qa,Xmb)){var pc=A;eb=$APP.y.j(pc,0,null);var Nd=$APP.y.j(pc,1,null),Ce=$APP.y.j(pc,2,null),rg=$APP.y.j(pc,3,null),Jg=$APP.y.j(pc,4,null),Nh=s2(Q,Nd),zj=function(){var Ud=Ce;if(Ud instanceof $APP.F||"string"===typeof Ud)return null;var Ul=A;
throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Ud]))," at ",$APP.xj.l($APP.z([Ul])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Ud,E2,Ul,$APP.Ln,p2],null));}(),xg=r2(Q,Ce)?s2(Q,rg):rg,Oh=r2(Q,Ce)?s2(Q,Jg):Jg,Zf=null==Oh?function(){var Ud=A;throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([Ud]))].join(""),new $APP.h(null,3,[$APP.LI,null,E2,Ud,$APP.Ln,p2],null));}():null,Rd=$APP.df(n1(Q,new $APP.G(null,2,5,$APP.H,[Nh,Ce],null)));if(k2(Q,Ce))if($APP.k($APP.og(function(Ud,
Ul,$i,NJ,xQ,yQ,zQ,OJ,AQ,BQ,mF){return function(Ju){return $APP.x.h(Ju.v,mF)}}(e,f,pc,eb,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Zf,Rd,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),Rd))){var sk=J2(e,new $APP.G(null,4,5,$APP.H,[H2,Nh,Ce,Oh],null)),Yj=C;e=sk;f=Yj}else throw $APP.Zl.h([":db.fn/cas failed on datom [",$APP.xj.l($APP.z([Nh]))," ",$APP.xj.l($APP.z([Ce]))," ",$APP.xj.l($APP.z([$APP.fj.h($APP.aK,Rd)])),"], expected ",$APP.xj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Ln,vmb,jnb,Rd,$APP.qH,xg,Tmb,Oh],null));
else{var Aj=$APP.aK.g($APP.v(Rd));if($APP.x.h(Aj,xg)){var Gc=J2(e,new $APP.G(null,4,5,$APP.H,[H2,Nh,Ce,Oh],null)),wd=C;e=Gc;f=wd}else throw $APP.Zl.h([":db.fn/cas failed on datom [",$APP.xj.l($APP.z([Nh]))," ",$APP.xj.l($APP.z([Ce]))," ",$APP.xj.l($APP.z([Aj])),"], expected ",$APP.xj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Ln,vmb,jnb,$APP.v(Rd),$APP.qH,xg,Tmb,Oh],null));}}else if(w2(ua)){var Te=z2(e,ua,v2(e)),Kg=$APP.zf(new $APP.G(null,4,5,$APP.H,[qa,v2(e),ya,Oa],null),C);e=Te;f=Kg}else if(r2(Q,
ya)&&w2(Oa)){var Kf=z2(e,Oa,v2(e)),Yi=$APP.zf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,v2(e)],null),C);e=Kf;f=Yi}else if(r2(Q,ya)&&x2(Oa))if(Nb=$APP.B.h(T,Oa),null==Nb){var bh=$APP.kf(D1.g(Q))+1,me=$APP.bn.R(z2(e,Oa,bh),O2,$APP.vi,bh,Oa),Fg=f;e=me;f=Fg}else{bh=Nb;var Sl=me=$APP.bn.R(e,O2,$APP.vi,bh,Oa),zh=$APP.zf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,bh],null),C);e=Sl;f=zh}else{var Di=$APP.zg(null);if(function(){var Ud=$APP.x.h(qa,H2)||$APP.x.h(qa,M2);return Ud?(Ud=$APP.Bb(N2.g($APP.te(A))))?(Ud=n2(Q,
ya))?(Ud=$APP.Ag(Di,Bhb(Q,ya,Oa)),$APP.ui.h(Oa,Ud)&&!0):Ud:Ud:Ud}()){var Qn=$APP.n(Di),tk=e,Bq=$APP.zf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,Qn],null),C);e=tk;f=Bq}else if(x2(ua)){W=j2(Q,ya,L1)?$APP.eK.g($APP.v(p1(Q,t1,ya,Oa,null,null))):null;var uk=$APP.B.h(T,ua);if($APP.k(function(){var Ud=W;return $APP.k(Ud)?(Ud=uk,$APP.k(Ud)?$APP.ui.h(W,uk):Ud):Ud}()))return Zhb(a,e,b,ua,W);var op=function(){var Ud=W;if($APP.k(Ud))return Ud;Ud=uk;return $APP.k(Ud)?Ud:$APP.kf(D1.g(Q))+1}(),Zj=z2(e,ua,op),Cq=$APP.zf(new $APP.G(null,
4,5,$APP.H,[qa,op,ya,Oa],null),C);e=Zj;f=Cq}else{var Xe=$APP.zg(null);if($APP.k(function(){var Ud=j2(Q,ya,L1);if(Ud){if(Ud=$APP.Se(y2.g(e),ua)){Ud=$APP.Ag(Xe,$APP.eK.g($APP.v(p1(Q,t1,ya,Oa,null,null))));var Ul=ua;return $APP.k(Ul)?$APP.k(Ud)?$APP.ui.h(ua,Ud)&&!0:Ud:Ul}return Ud}return Ud}())){W=$APP.n(Xe);var Tl=$APP.B.h(y2.g(e),ua),pp=zgb(function(Ud){return function(Ul){return!$APP.Se(K2.g(Ud),Ul)}}(e,f,Tl,W,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),Tl);if($APP.k(pp))return Zhb(a,e,b,pp,W);throw $APP.Zl.h(["Conflicting upsert: ",
$APP.xj.l($APP.z([ua]))," resolves to ",$APP.xj.l($APP.z([W]))," via ",$APP.xj.l($APP.z([A]))].join(""),new $APP.h(null,1,[$APP.Ln,F2],null));}if($APP.Bb(N2.g($APP.te(A)))&&n2(Q,ya)){var Lm=$APP.tp.h(Q,new $APP.G(null,3,5,$APP.H,[$APP.A1,ya,Q1],null));if($APP.x.h($APP.ce(Lm),$APP.ce(Oa))&&$APP.ng($APP.Cb,Oa)&&$APP.ng(function(Ud,Ul,$i,NJ,xQ,yQ,zQ,OJ,AQ,BQ,mF){return function(Ju){var PA=$APP.y.j(Ju,0,null);Ju=$APP.y.j(Ju,1,null);PA=$APP.aK.g($APP.v(p1(mF,$APP.B1,OJ,PA,null,null)));return $APP.x.h(Ju,
PA)}}(e,f,Lm,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),$APP.fj.j($APP.Jw,Lm,Oa)))f=C;else throw $APP.Zl.h(["Can’t modify tuple attrs directly: ",$APP.xj.l($APP.z([A]))].join(""),new $APP.h(null,2,[$APP.Ln,p2,g2,A],null));}else if($APP.x.h(qa,H2)){var Zi=J2(e,A),Lg=C;e=Zi;f=Lg}else if($APP.x.h(qa,M2)&&null!=Oa)if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;Aj=r2(Q,ya)?s2(Q,Oa):Oa;var Mg=ya;if(!(Mg instanceof $APP.F||"string"===typeof Mg)){var xd=A;throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Mg])),
" at ",$APP.xj.l($APP.z([xd])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Mg,E2,xd,$APP.Ln,p2],null));}if(null==Aj){var of=A;throw $APP.Zl.h(["Cannot store nil as a value at ",$APP.xj.l($APP.z([of]))].join(""),new $APP.h(null,3,[$APP.LI,null,E2,of,$APP.Ln,p2],null));}var Rc=o1(Q,new $APP.G(null,3,5,$APP.H,[Nd,ya,Aj],null));if(null==Rc)f=C;else{var $f=Whb(e,Rc),Dq=C;e=$f;f=Dq}}else if($APP.x.h(qa,Blb)||$APP.x.h(qa,M2))if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;eb=function(){var Ud=
ya;if(Ud instanceof $APP.F||"string"===typeof Ud)return null;var Ul=A;throw $APP.Zl.h(["Bad entity attribute ",$APP.xj.l($APP.z([Ud]))," at ",$APP.xj.l($APP.z([Ul])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Ud,E2,Ul,$APP.Ln,p2],null));}();Rd=$APP.df(n1(Q,new $APP.G(null,2,5,$APP.H,[Nd,ya],null)));var Iu=$APP.bf.j(Whb,e,Rd),ag=$APP.K.h(Yhb(Q,Rd),C);e=Iu;f=ag}else if($APP.x.h(qa,Xhb)||$APP.x.h(qa,Bmb))if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;var qp=$APP.df(n1(Q,new $APP.G(null,1,
5,$APP.H,[Nd],null))),vx=$APP.df($APP.Pg.l(function(Ud,Ul,$i,NJ,xQ,yQ,zQ,OJ,AQ,BQ,mF,Ju,PA){return function(qX){return n1(PA,new $APP.G(null,3,5,$APP.H,[null,qX,NJ],null))}}(e,f,qp,Nd,Nb,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),$APP.z([y1(Q,O1)]))),Ng=$APP.bf.j(Whb,e,$APP.K.h(qp,vx)),jX=$APP.K.h(Yhb(Q,qp),C);e=Ng;f=jX}else throw $APP.Zl.h(["Unknown operation at ",$APP.xj.l($APP.z([A])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.h(null,3,[$APP.Ln,p2,Snb,qa,g2,A],null));}}}}else if(bhb(A)){var OA=A;ua=$APP.y.j(OA,0,null);ya=$APP.y.j(OA,1,null);Oa=$APP.y.j(OA,2,null);var kX=$APP.y.j(OA,3,null),lX=$APP.y.j(OA,4,null);if($APP.k(lX)){var mX=J2(e,new $APP.G(null,5,5,$APP.H,[H2,ua,ya,Oa,kX],null)),nX=C;e=mX;f=nX}else{var oX=e,pX=$APP.zf(new $APP.G(null,4,5,$APP.H,[M2,ua,ya,Oa],null),C);e=oX;f=pX}}else throw $APP.Zl.h(["Bad entity type at ",$APP.xj.l($APP.z([A])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.Ln,
p2,g2,A],null));}}};var U2,mib=$APP.Bj.g($APP.Vf),V2=$APP.zg(1E6);$APP.g=R2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "storage":return this.storage;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[X0,this.storage],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[X0],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new R2(this.storage,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1627330428^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.storage,b.storage)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[X0,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new R2(this.storage,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "storage":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(X0,b):$APP.Bf.call(null,X0,b))?new R2(c,this.A,this.o,null):new R2(this.storage,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(X0,this.storage,null)],null),this.o))};$APP.g.V=function(a,b){return new R2(this.storage,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Kk=function(a,b,c){a=$APP.k($APP.k(c)?b instanceof D0&&$APP.Se($APP.Ci(b.zd),c):c)?V2.uc(null,V2.Ka(null)+1):$APP.k(c)?c:V2.uc(null,V2.Ka(null)+1);c=$APP.qn.h(fib,b.keys);c=new $APP.h(null,1,[$APP.aC,c],null);b=b instanceof D0?$APP.vi.j(c,emb,b.zd):c;$APP.ld(U2,$APP.Sg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[a,b],null)));return a};
$APP.g.Jk=function(a,b){if($APP.k(b)){a=Q2(this.storage,b);a=$APP.Wf(a);var c=$APP.B.h(a,$APP.aC);a=$APP.B.h(a,emb);if($APP.k(c)){c=h0($APP.fj.h(function(e){var f=$APP.y.j(e,0,null),m=$APP.y.j(e,1,null),p=$APP.y.j(e,2,null);e=$APP.y.j(e,3,null);return g1.F(f,m,p,e)},c));if($APP.k(a)){var d=Array($APP.ce(a));return E0(c,d,a,b,!1)}return W0.j(c,b,!1)}}return null};$APP.g.Im=function(){return null};
$APP.g.Ik=function(a,b){return $APP.Cj.F(mib,$APP.bn,this.storage,function(c){return $APP.Fh.h(c,$APP.js.h($APP.yb,b))})};var hib=$APP.Bj.g($APP.Tg),d3=function d3(a){switch(arguments.length){case 1:return d3.g(arguments[0]);case 2:return d3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};d3.g=function(a){var b=S2(a);if(null==b)throw $APP.Zl.h("Database has no associated storage",$APP.Vf);return W2(a,b,!1)};
d3.h=function(a,b){var c=S2(a);if(null==c)return $APP.B1.g(a),c=new R2(b,null,null,null),W2(a,c,!1);var d=X0.g(c);if(d===b)return W2(a,c,!1);throw $APP.Zl.h("Database is already stored with another IStorage",new $APP.h(null,1,[X0,d],null));};d3.B=2;var v6=function v6(a){switch(arguments.length){case 1:return v6.g(arguments[0]);case 2:return v6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};v6.g=function(a){return v6.h(a,$APP.Vf)};
v6.h=function(a,b){b=pib(a,b);a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return qib(a,b)};v6.B=2;$APP.g=Z2.prototype;$APP.g.equiv=function(a){return this.S(null,a)};$APP.g.Og=function(a,b){for(var c=$APP.r(this.nb),d=null,e=0,f=0;;)if(f<e){var m=d.ha(null,f),p=$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.F?m.F(p,this,a,b):m.call(null,p,this,a,b);f+=1}else if(c=$APP.r(c))$APP.Fe(c)?(d=$APP.dd(c),c=$APP.ed(c),p=d,e=$APP.ce(d),d=p):(d=$APP.v(c),p=$APP.y.j(d,0,null),m=$APP.y.j(d,1,null),m.F?m.F(p,this,a,b):m.call(null,p,this,a,b),c=$APP.w(c),d=null,e=0),f=0;else break};
$APP.g.lg=function(a,b,c){this.nb=$APP.vi.j(this.nb,b,c);return this};$APP.g.mg=function(a,b){return this.nb=$APP.Ml.h(this.nb,b)};$APP.g.S=function(a,b){return this===b};$APP.g.Y=function(){return $APP.ma(this)};$APP.g.jd=function(a,b){return $APP.y.h(a3(this,$APP.tg(b),$APP.Id),1)};$APP.g.lh=function(a,b){return $APP.y.h(a3(this,b,$APP.Id),1)};$APP.g.mh=function(a,b,c){return $APP.y.h(a3(this,b,new $APP.D(null,c,null,1,null)),1)};
$APP.g.nh=function(a,b,c,d){return $APP.y.h(a3(this,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null)),1)};$APP.g.oh=function(a,b,c,d,e){return $APP.y.h(a3(this,b,$APP.zf(c,$APP.zf(d,e))),1)};$APP.g.U=function(){return this.P};$APP.g.Ka=function(){return $2.g($APP.n(this.dh))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "atom":return this.dh;default:return c}};
b3=function(a){switch(arguments.length){case 1:return b3.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return b3.l(arguments[0],1<b.length?new $APP.Fd(b.slice(1),0,null):null)}};b3.g=function(a){return new Z2(a,null,$APP.Vf,$APP.Vf)};b3.l=function(a,b){b=$APP.qg.h($APP.$o,b);a=new Z2(a,null,$APP.Vf,$APP.Vf);var c=$APP.py.g(b);null!=c&&(rib(c,$APP.n(a)),a.Eg=c);b=$APP.mb.g(b);null!=b&&(a.P=b);return a};
b3.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};b3.B=1;c3.h=function(a,b){return c3.j(a,b,null)};c3.j=function(a,b,c){if(a instanceof J1)throw $APP.Zl.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.Ln,Unb],null));a=new d2(a,a,$APP.Tg,$APP.Vf,c,null,null,null);if(null!=b&&!$APP.Ae(b))throw $APP.Zl.h(["Bad transaction data ",$APP.xj.l($APP.z([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.Ln,p2,g2,b],null));b=u6(e2.g(a),b);return L2(a,b)};
c3.B=3;var w6=function w6(a){switch(arguments.length){case 1:return w6.g(arguments[0]);case 2:return w6.h(arguments[0],arguments[1]);case 3:return w6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w6.g=function(a){return g3(a2(a,null,$APP.Vf))};w6.h=function(a,b){return g3(a2(a,b,$APP.Vf))};w6.j=function(a,b,c){return g3(a2(a,b,Y2(c)))};w6.B=3;
var x6=function x6(a){switch(arguments.length){case 0:return x6.D();case 1:return x6.g(arguments[0]);case 2:return x6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};x6.D=function(){return g3($1(null,$APP.Vf))};x6.g=function(a){return g3($1(a,$APP.Vf))};x6.h=function(a,b){return g3($1(a,Y2(b)))};x6.B=2;
var y6=function y6(a){switch(arguments.length){case 1:return y6.g(arguments[0]);case 2:return y6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};y6.g=function(a){return y6.h(a,$APP.Vf)};y6.h=function(a,b){b=pib(a,b);if(null==b)return null;a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return sib(new $APP.h(null,3,[$2,qib(a,b),e3,b,f3,a],null))};y6.B=2;
var z6=function z6(a){switch(arguments.length){case 2:return z6.h(arguments[0],arguments[1]);case 3:return z6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};z6.h=function(a,b){return z6.j(a,b,null)};
z6.j=function(a,b,c){b=vib(a,b,c);a=$APP.r(xmb.g($APP.n($APP.uG.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.ha(null,e);$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.r(a))$APP.Fe(a)?(d=$APP.dd(a),a=$APP.ed(a),c=d,d=$APP.ce(d)):(c=$APP.v(a),$APP.y.j(c,0,null),c=$APP.y.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.w(a),c=null,d=0),e=0;else break;return b};z6.B=3;
var A6=function A6(a){switch(arguments.length){case 2:return A6.h(arguments[0],arguments[1]);case 3:return A6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};A6.h=function(a,b){return A6.j(a,b,null)};
A6.j=function(a,b,c){var d=$APP.n(a);c=zhb(new $APP.h(null,4,[e2,d,f2,b,g2,$APP.K.h($APP.k(d)?$APP.fj.h(function(p){return $APP.vi.j(p,$APP.nD,!1)},p1(d,$APP.B1,null,null,null,null)):null,p1(b,$APP.B1,null,null,null,null)),i2,c],null));null==T2(d)?$APP.vg(a,b):(d3.g(b),$APP.Cj.l($APP.uG.g(a),$APP.vi,$2,b,$APP.z([e3,$APP.Tg,f3,b])));a=$APP.r(xmb.g($APP.n($APP.uG.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var m=d.ha(null,f);$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.g?m.g(c):m.call(null,c);f+=1}else if(a=
$APP.r(a))$APP.Fe(a)?(e=$APP.dd(a),a=$APP.ed(a),d=e,e=$APP.ce(e)):(d=$APP.v(a),$APP.y.j(d,0,null),d=$APP.y.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.w(a),d=null,e=0),f=0;else break;return b};A6.B=3;var B6=function B6(a){switch(arguments.length){case 2:return B6.h(arguments[0],arguments[1]);case 3:return B6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};B6.h=function(a,b){return B6.j(a,$APP.az.D(),b)};
B6.j=function(a,b,c){$APP.Cj.l($APP.uG.g(a),$APP.bn,xmb,$APP.vi,$APP.z([b,c]));return b};B6.B=3;$APP.g=l3.prototype;$APP.g.entry_set=function(){return $APP.cf($APP.fj.h($APP.cf,k3(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.r(k3(this)),m=null,p=0,u=0;;)if(u<p){var t=m.ha(null,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);d.call(e,t,A,this);u+=1}else if(f=$APP.r(f))$APP.Fe(f)?(m=$APP.dd(f),f=$APP.ed(f),A=m,p=$APP.ce(m),m=A):(m=$APP.v(f),A=$APP.y.j(m,0,null),t=$APP.y.j(m,1,null),d.call(e,t,A,this),f=$APP.w(f),m=null,p=0),u=0;else return null}function b(d){for(var e=$APP.r(k3(this)),f=null,m=0,p=0;;)if(p<m){var u=f.ha(null,p),t=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);
d.j?d.j(u,t,this):d.call(null,u,t,this);p+=1}else if(e=$APP.r(e))$APP.Fe(e)?(f=$APP.dd(e),e=$APP.ed(e),t=f,m=$APP.ce(f),f=t):(f=$APP.v(e),t=$APP.y.j(f,0,null),u=$APP.y.j(f,1,null),d.j?d.j(u,t,this):d.call(null,u,t,this),e=$APP.w(e),f=null,m=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.x.h(a,":db/id"))return this.eid;if(o2(a))return i3(zib(this.db,this.eid,q2(a),null));var b=C6.h?C6.h(this,a):C6.call(null,this,a);return k2(this.db,a)?i3(b):b};$APP.g.key_set=function(){return $APP.cf($APP.ri(this))};$APP.g.entries=function(){return $APP.xh(k3(this))};$APP.g.value_set=function(){return $APP.cf($APP.fj.h($APP.he,k3(this)))};$APP.g.toString=function(){return $APP.pd(this)};$APP.g.keys=function(){return $APP.Kd($APP.ri(this))};
$APP.g.values=function(){return $APP.Kd($APP.fj.h($APP.he,k3(this)))};$APP.g.equiv=function(a){return m3.h?m3.h(this,a):m3.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.ba=function(a,b){return C6.j?C6.j(this,b,null):C6.call(null,this,b,null)};$APP.g.K=function(a,b,c){return C6.j?C6.j(this,b,c):C6.call(null,this,b,c)};$APP.g.W=function(a,b,c){return $APP.Oc($APP.vi.j($APP.n(this.cache),G2,this.eid),b,c)};$APP.g.aa=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.ce($APP.n(this.cache))};
$APP.g.Y=function(){return Bib.g?Bib.g(this):Bib.call(null,this)};$APP.g.S=function(a,b){return m3.h?m3.h(this,b):m3.call(null,this,b)};$APP.g.ga=function(a,b){return $APP.ui.h(anb,C6.j?C6.j(this,b,anb):C6.call(null,this,b,anb))};$APP.g.Z=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.r($APP.n(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return C6.h?C6.h(this,a):C6.call(null,this,a)};$APP.g.h=function(a,b){return C6.j?C6.j(this,a,b):C6.call(null,this,a,b)};
var C6=function C6(a){switch(arguments.length){case 2:return C6.h(arguments[0],arguments[1]);case 3:return C6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};C6.h=function(a,b){return C6.j(a,b,null)};
C6.j=function(a,b,c){if($APP.x.h(b,G2))return a.eid;if(o2(b))return zib(a.db,a.eid,q2(b),c);var d=$APP.n(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.n(a.Uj)))return c;d=$APP.Xf(n1(a.db,new $APP.G(null,2,5,$APP.H,[a.eid,b],null)));if(null==d)return c;c=yib(a.db,b,d);$APP.Ag(a.cache,$APP.vi.j($APP.n(a.cache),b,c));return c}return d};C6.B=3;tgb("datascript.impl.entity.Entity",l3);var D6=function D6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D6.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};D6.l=function(a){var b=$APP.ce(a);return $APP.ui.h($APP.Dg.h(b/2,a),$APP.Eg.h(b/2,a))};D6.B=0;D6.G=function(a){return this.l($APP.r(a))};var E6=function E6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E6.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)};
E6.l=function(a,b,c){return $APP.bf.j(function(d,e){d=$APP.v(n1(a,new $APP.G(null,2,5,$APP.H,[t2(a,b),e],null)));return null==d?null:$APP.Td(new $APP.G(null,2,5,$APP.H,[B2.g(d),$APP.aK.g(d)],null))},null,c)};E6.B=2;E6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};var F6=function F6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F6.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};
F6.l=function(a){return $APP.bf.j(function(b,c){return $APP.k(c)?c:$APP.Td(c)},!0,a)};F6.B=0;F6.G=function(a){return this.l($APP.r(a))};var G6=function G6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G6.l(0<c.length?new $APP.Fd(c.slice(0),0,null):null)};G6.l=function(a){return $APP.bf.j(function(b,c){return $APP.k(c)?$APP.Td(c):c},null,a)};G6.B=0;G6.G=function(a){return this.l($APP.r(a))};
var H6=function H6(a){switch(arguments.length){case 1:return H6.g(arguments[0]);case 2:return H6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H6.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)}};H6.g=function(){return!0};H6.h=function(a,b){return 0>i1(a,b)};H6.l=function(a,b,c){for(;;)if(H6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return H6.h(b,$APP.v(c));else return!1};
H6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};H6.B=2;var I6=function I6(a){switch(arguments.length){case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I6.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)}};I6.g=function(){return!0};I6.h=function(a,b){return 0<i1(a,b)};
I6.l=function(a,b,c){for(;;)if(I6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return I6.h(b,$APP.v(c));else return!1};I6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};I6.B=2;
var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J6.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)}};J6.g=function(){return!0};J6.h=function(a,b){return!(0<i1(a,b))};J6.l=function(a,b,c){for(;;)if(J6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return J6.h(b,$APP.v(c));else return!1};
J6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};J6.B=2;var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K6.l(arguments[0],arguments[1],2<c.length?new $APP.Fd(c.slice(2),0,null):null)}};K6.g=function(){return!0};K6.h=function(a,b){return!(0>i1(a,b))};
K6.l=function(a,b,c){for(;;)if(K6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return K6.h(b,$APP.v(c));else return!1};K6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};K6.B=2;
var Oib=$APP.hi([$APP.AI,$APP.kt,$APP.Yz,job,$APP.eI,$APP.JG,$APP.bI,$APP.yG,vnb,$APP.wz,lmb,$APP.xD,$APP.Bm,$APP.CK,$APP.aF,$APP.MC,$APP.HF,u5,$APP.Kqa,$APP.sH,$APP.YH,Rlb,$APP.cI,$APP.XI,$APP.xH,$APP.FC,Zlb,Qmb,$APP.dB,$APP.RI,$APP.dI,$APP.SF,$APP.MJ,$APP.SJ,$APP.LJ,$APP.sA,$APP.vH,$APP.RD,Ylb,$APP.xA,$APP.YG,enb,$APP.kH,$APP.GJ,$APP.hC,$APP.JA,$APP.ZC,$APP.AA,$APP.IG,$APP.aI,$APP.zF,$APP.TI,$APP.yH,$APP.yF,$APP.Kz,$APP.gH,$APP.OC,$APP.WD,$APP.nA,$lb,$APP.jI,$APP.uJ,Ynb,$APP.jE,$APP.kD,$APP.hG,
$APP.FE,$APP.iG,wmb,$APP.nE,$APP.pt,$APP.VI,$APP.ZG,$APP.pB],[$APP.Ie,F6,$APP.Pba,function(a,b,c,d){if(null==d)throw $APP.Zl.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.Ln,s5],null));a=$APP.v(n1(a,new $APP.G(null,2,5,$APP.H,[t2(a,b),c],null)));return null==a?d:$APP.aK.g(a)},K6,$APP.Uy,I6,$APP.ce,E6,$APP.yb,$APP.ff,$APP.Qd,$APP.Sx,$APP.lf,$APP.He,$APP.Bb,$APP.ff,D6,$APP.Jw,$APP.Vi,J6,$APP.jl,$APP.x,$APP.Xx,$APP.Qx,$APP.Fi,function(a,b,c){return null==$APP.B.h(h3(a,b),c)},
$APP.ff,$APP.Dj,$APP.sg,$APP.el,$APP.ap,$APP.We,$APP.Wn,$APP.ln,$APP.we,$APP.Rx,$APP.xj,H5,$APP.te,$APP.qf,$APP.ui,$APP.Sy,$APP.gf,$APP.Xi,$APP.Jw,$APP.ui,$APP.B,$APP.l,H6,$APP.Cf,$APP.gj,$APP.So,$APP.Cb,$APP.pf,$APP.az,$APP.Si,$APP.J,$APP.Se,$APP.$ca,$APP.Wi,$APP.jf,$APP.kl,$APP.$o,$APP.mf,$APP.pg,$APP.Jb,$APP.rf,$APP.il,$APP.Xf,G6,$APP.xb,$APP.Ci,$APP.Ti]),L6=function L6(a){switch(arguments.length){case 1:return L6.g(arguments[0]);case 2:return L6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.l.g(arguments.length)].join(""));}};L6.g=function(a){return $APP.bf.j(function(b,c){return 0>$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};L6.h=function(a,b){return $APP.df($APP.bf.j(function(c,d){return $APP.ce(c)<a?$APP.Jk.h($APP.We,$APP.wf.h(c,d)):0>$APP.We(d,$APP.ne(c))?$APP.Jk.h($APP.We,$APP.wf.h($APP.Ei(c),d)):c},$APP.Tg,b))};L6.B=2;
var M6=function M6(a){switch(arguments.length){case 1:return M6.g(arguments[0]);case 2:return M6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};M6.g=function(a){return $APP.bf.j(function(b,c){return 0<$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};M6.h=function(a,b){return $APP.df($APP.bf.j(function(c,d){return $APP.ce(c)<a?$APP.Jk.h($APP.We,$APP.wf.h(c,d)):0<$APP.We(d,$APP.v(c))?$APP.Jk.h($APP.We,$APP.wf.h($APP.w(c),d)):c},$APP.Tg,b))};
M6.B=2;var N6=function N6(a){switch(arguments.length){case 1:return N6.g(arguments[0]);case 2:return N6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};N6.g=function(a){return $APP.Ej(a)};N6.h=function(a,b){return $APP.df($APP.Ls.h(a,function(){return $APP.Ej(b)}))};N6.B=2;
var oob=$APP.hi([xlb,$APP.yG,Xnb,$mb,$APP.XI,$APP.LJ,Fnb,$APP.vI,wnb,Vmb,$APP.gH,nmb],[Gib,$APP.ce,function(a){var b=$APP.Jk.g(a);a=$APP.ce(a);var c=a>>1,d=$APP.y.h(b,c);return $APP.pg(a)?(d+$APP.y.h(b,c-1))/2:d},Eib,L6,M6,function(a){return $APP.ce($APP.Jy.g(a))},$APP.Ci,Fib,function(a){return Math.sqrt(Gib(a))},N6,function(a,b){return $APP.df($APP.Dg.h(a,$APP.Uaa(b)))}]);$APP.g=n3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "as":return this.as;case "default":return this.Cb;case "limit":return this.Jb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.zc;case "recursive?":return this.Da;case "reverse?":return this.Ic;case "xform":return this.Kb;case "multival?":return this.yc;case "ref?":return this.Ac;case "component?":return this.vc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.K.h(new $APP.G(null,12,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.mo,this.as],null),new $APP.G(null,2,5,$APP.H,[$APP.Nm,this.Cb],null),new $APP.G(null,2,5,$APP.H,[o3,this.Jb],null),new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[p3,this.zc],null),new $APP.G(null,2,5,
$APP.H,[q3,this.Da],null),new $APP.G(null,2,5,$APP.H,[r3,this.Ic],null),new $APP.G(null,2,5,$APP.H,[s3,this.Kb],null),new $APP.G(null,2,5,$APP.H,[t3,this.yc],null),new $APP.G(null,2,5,$APP.H,[u3,this.Ac],null),new $APP.G(null,2,5,$APP.H,[v3,this.vc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,12,new $APP.G(null,12,5,$APP.H,[$APP.mo,$APP.Nm,o3,$APP.N,$APP.MF,p3,q3,r3,s3,t3,u3,v3],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,this.C)};$APP.g.aa=function(){return 12+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.as,b.as)&&$APP.x.h(this.default,b.default)&&$APP.x.h(this.Jb,b.Jb)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.zc,b.zc)&&$APP.x.h(this.Da,b.Da)&&$APP.x.h(this.Ic,b.Ic)&&$APP.x.h(this.Kb,b.Kb)&&$APP.x.h(this.yc,b.yc)&&$APP.x.h(this.Ac,b.Ac)&&$APP.x.h(this.vc,b.vc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,12,[s3,null,o3,null,r3,null,p3,null,$APP.Nm,null,$APP.N,null,$APP.mo,null,q3,null,v3,null,u3,null,t3,null,$APP.MF,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.mo,b):$APP.Bf.call(null,$APP.mo,b))?new n3(c,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.Nm,b):$APP.Bf.call(null,$APP.Nm,b))?new n3(this.as,c,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(o3,b):$APP.Bf.call(null,o3,b))?new n3(this.as,this.Cb,c,this.name,
this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.N,b):$APP.Bf.call(null,$APP.N,b))?new n3(this.as,this.Cb,this.Jb,c,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,b):$APP.Bf.call(null,$APP.MF,b))?new n3(this.as,this.Cb,this.Jb,this.name,c,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(p3,b):$APP.Bf.call(null,
p3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,c,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(q3,b):$APP.Bf.call(null,q3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,c,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(r3,b):$APP.Bf.call(null,r3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,c,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?
$APP.Bf.h(s3,b):$APP.Bf.call(null,s3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,c,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(t3,b):$APP.Bf.call(null,t3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,c,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(u3,b):$APP.Bf.call(null,u3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,c,
this.vc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(v3,b):$APP.Bf.call(null,v3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,c,this.A,this.o,null):new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,12,5,$APP.H,[new $APP.Ue($APP.mo,this.as,null),new $APP.Ue($APP.Nm,this.Cb,null),new $APP.Ue(o3,this.Jb,null),new $APP.Ue($APP.N,this.name,null),new $APP.Ue($APP.MF,this.pattern,null),new $APP.Ue(p3,this.zc,null),new $APP.Ue(q3,this.Da,null),new $APP.Ue(r3,this.Ic,null),new $APP.Ue(s3,this.Kb,null),new $APP.Ue(t3,this.yc,null),new $APP.Ue(u3,this.Ac,null),new $APP.Ue(v3,this.vc,null)],null),this.o))};
$APP.g.V=function(a,b){return new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g=w3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "first-attr":return this.Gd;case "last-attr":return this.Ud;case "reverse-attrs":return this.vd;case "wildcard?":return this.Pc;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[y3,this.Gd],null),new $APP.G(null,2,5,$APP.H,[z3,this.Ud],null),new $APP.G(null,2,5,$APP.H,[A3,this.vd],null),new $APP.G(null,2,5,$APP.H,[B3,this.Pc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.G(null,5,5,$APP.H,[x3,y3,z3,A3,B3],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.Gd,b.Gd)&&$APP.x.h(this.Ud,b.Ud)&&$APP.x.h(this.vd,b.vd)&&$APP.x.h(this.Pc,b.Pc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,5,[A3,null,y3,null,x3,null,B3,null,z3,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(x3,b):$APP.Bf.call(null,x3,b))?new w3(c,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(y3,b):$APP.Bf.call(null,y3,b))?new w3(this.ta,c,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(z3,b):$APP.Bf.call(null,z3,b))?new w3(this.ta,this.Gd,c,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(A3,b):$APP.Bf.call(null,A3,b))?new w3(this.ta,this.Gd,this.Ud,c,this.Pc,this.A,this.o,
null):$APP.k($APP.Bf.h?$APP.Bf.h(B3,b):$APP.Bf.call(null,B3,b))?new w3(this.ta,this.Gd,this.Ud,this.vd,c,this.A,this.o,null):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Ue(x3,this.ta,null),new $APP.Ue(y3,this.Gd,null),new $APP.Ue(z3,this.Ud,null),new $APP.Ue(A3,this.vd,null),new $APP.Ue(B3,this.Pc,null)],null),this.o))};
$APP.g.V=function(a,b){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};var Sib=Hib(new $APP.h(null,3,[$APP.N,G2,$APP.mo,G2,s3,$APP.ff],null)),Kib=Iib(new $APP.h(null,1,[x3,new $APP.D(null,Sib,null,1,null)],null)),Lib=$APP.vi.j(Kib,B3,!0);$APP.g=I3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db":return this.db;case "visitor":return this.hf;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$2,this.db],null),new $APP.G(null,2,5,$APP.H,[R3,this.hf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$2,R3],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new I3(this.db,this.hf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.db,b.db)&&$APP.x.h(this.hf,b.hf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$2,null,R3,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new I3(this.db,this.hf,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db":case "visitor":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($2,b):$APP.Bf.call(null,$2,b))?new I3(c,this.hf,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(R3,b):$APP.Bf.call(null,R3,b))?new I3(this.db,c,this.A,this.o,null):new I3(this.db,this.hf,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($2,this.db,null),new $APP.Ue(R3,this.hf,null)],null),this.o))};$APP.g.V=function(a,b){return new I3(this.db,this.hf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g=J3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.LI,this.value],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.LI,$APP.b2],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J3(this.value,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.LI,null,$APP.b2,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new J3(this.value,this.za,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.LI,b):$APP.Bf.call(null,$APP.LI,b))?new J3(c,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.b2,b):$APP.Bf.call(null,$APP.b2,b))?new J3(this.value,c,this.A,this.o,null):new J3(this.value,this.za,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.LI,this.value,null),new $APP.Ue($APP.b2,this.za,null)],null),this.o))};
$APP.g.V=function(a,b){return new J3(this.value,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g=K3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "acc":return this.pa;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[I5,X5,$APP.b2],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K3(this.pa,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[I5,null,$APP.b2,null,X5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new K3(this.pa,this.oa,this.za,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(I5,b):$APP.Bf.call(null,I5,b))?new K3(c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(X5,b):$APP.Bf.call(null,X5,b))?new K3(this.pa,c,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.b2,b):$APP.Bf.call(null,$APP.b2,b))?new K3(this.pa,this.oa,c,this.A,this.o,null):new K3(this.pa,this.oa,this.za,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue(I5,this.pa,null),new $APP.Ue(X5,this.oa,null),new $APP.Ue($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new K3(this.pa,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};
$APP.g.wh=function(){for(var a=this,b=a.pa,c=a.za;;){var d=G3(c);if(null==d||$APP.ui.h(d.a,a.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Xf($APP.Wc(b)),function(){var m=c;return $APP.k(m)?m:$APP.Id}(),null,null,null)],null);if($APP.k(function(){var m=a.oa.Jb;return $APP.k(m)?$APP.ce(b)>=a.oa.Jb&&!0:m}()))for(var e=c;;){d=G3(e);if(null==d||$APP.ui.h(d.a,a.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Wc(b),function(){var m=e;return $APP.k(m)?m:$APP.Id}(),null,null,null)],null);
e=H3(e)}else{d=$APP.Sg.h(b,d.v);var f=H3(c);b=d;c=f}}};$APP.g=L3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.K.h(new $APP.G(null,6,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,6,new $APP.G(null,6,5,$APP.H,[K5,V5,I5,$APP.MF,X5,$APP.b2],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 6+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,6,[I5,null,K5,null,V5,null,$APP.b2,null,$APP.MF,null,X5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(K5,b):$APP.Bf.call(null,K5,b))?new L3(c,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(V5,b):$APP.Bf.call(null,V5,b))?new L3(this.va,c,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(I5,b):$APP.Bf.call(null,I5,b))?new L3(this.va,this.Aa,c,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,b):$APP.Bf.call(null,$APP.MF,b))?new L3(this.va,
this.Aa,this.pa,c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(X5,b):$APP.Bf.call(null,X5,b))?new L3(this.va,this.Aa,this.pa,this.pattern,c,this.za,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.b2,b):$APP.Bf.call(null,$APP.b2,b))?new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.A,this.o,null):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,6,5,$APP.H,[new $APP.Ue(K5,this.va,null),new $APP.Ue(V5,this.Aa,null),new $APP.Ue(I5,this.pa,null),new $APP.Ue($APP.MF,this.pattern,null),new $APP.Ue(X5,this.oa,null),new $APP.Ue($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};
$APP.g.pi=function(a,b){a=this.va;var c=this.Aa,d=this.pa;b=b.value;b=null==b?d:$APP.Sg.h(d,b);return new L3(a,c,b,this.pattern,this.oa,H3(this.za),null,null,null)};
$APP.g.wh=function(a,b){var c=this;a=G3(c.za);if(null==a||$APP.ui.h(a.a,c.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Xf($APP.Wc(c.pa)),function(){var e=c.za;return $APP.k(e)?e:$APP.Id}(),null,null,null)],null);if($APP.k(function(){var e=c.oa.Jb;return $APP.k(e)?$APP.ce(c.pa)>=c.oa.Jb&&!0:e}()))for(var d=c.za;;){b=G3(d);if(null==b||$APP.ui.h(b.a,c.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Wc(c.pa),function(){var e=d;return $APP.k(e)?e:$APP.Id}(),null,null,null)],null);d=
H3(d)}else return a=$APP.k(c.oa.Ic)?a.e:a.v,new $APP.G(null,2,5,$APP.H,[this,P3.ma?P3.ma(b,c.va,c.Aa,c.pattern,c.oa,a):P3.call(null,b,c.va,c.Aa,c.pattern,c.oa,a)],null)};$APP.g=M3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "datoms":return this.za;case "id":return this.id;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.K.h(new $APP.G(null,8,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],
null),new $APP.G(null,2,5,$APP.H,[$APP.Hq,this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,8,new $APP.G(null,8,5,$APP.H,[K5,V5,I5,$APP.MF,X5,x3,$APP.b2,$APP.Hq],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 8+$APP.ce(this.o)};
$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,8,[I5,null,K5,null,$APP.Hq,null,V5,null,x3,null,$APP.b2,null,$APP.MF,null,X5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(K5,b):$APP.Bf.call(null,K5,b))?new M3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(V5,b):$APP.Bf.call(null,V5,b))?new M3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(I5,b):$APP.Bf.call(null,I5,b))?new M3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,
b):$APP.Bf.call(null,$APP.MF,b))?new M3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(X5,b):$APP.Bf.call(null,X5,b))?new M3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(x3,b):$APP.Bf.call(null,x3,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.za,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.b2,b):$APP.Bf.call(null,$APP.b2,b))?new M3(this.va,this.Aa,
this.pa,this.pattern,this.oa,this.ta,c,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.Hq,b):$APP.Bf.call(null,$APP.Hq,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,c,this.A,this.o,null):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,8,5,$APP.H,[new $APP.Ue(K5,this.va,null),new $APP.Ue(V5,this.Aa,null),new $APP.Ue(I5,this.pa,null),new $APP.Ue($APP.MF,this.pattern,null),new $APP.Ue(X5,this.oa,null),new $APP.Ue(x3,this.ta,null),new $APP.Ue($APP.b2,this.za,null),new $APP.Ue($APP.Hq,this.id,null)],null),this.o))};$APP.g.V=function(a,b){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.pi=function(a,b){var c=this;return new M3(c.va,c.Aa,Wib(c.pa,c.oa.as,function(){var d=b.value,e=c.oa.Kb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,G3(c.ta),H3(c.ta),$APP.Xf(function(){var d=b.za;return $APP.k(d)?d:H3(c.za)}()),c.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this,d=c.pa,e=c.oa;a=c.ta;for(var f=c.za;;){if(null==f&&null==e)return new $APP.G(null,1,5,$APP.H,[function(){var E=c.va,I=c.Aa,Q=d,T=c.pattern,Z=G3(c.pattern.vd),ba=H3(c.pattern.vd),da=c.id;return $ib.Fa?$ib.Fa(E,I,Q,T,Z,ba,da):$ib.call(null,E,I,Q,T,Z,ba,da)}()],null);if(null!=e&&$APP.x.h(G2,e.name)){var m=$APP.Hh.j(d,e.as,function(){var E=e.Kb;return E.g?E.g(c.id):E.call(null,c.id)}()),p=G3(a);a=H3(a);d=m;e=p}else{var u=G3(f),t=$APP.k(function(){var E=u;return $APP.k(E)?
e:E}())?$APP.We(e.name,u.a):null,A=function(){var E=null==e;if(E)return E;E=t;return $APP.k(E)?0<t:E}(),C=function(){var E=null==u;if(E)return E;E=t;return $APP.k(E)?0>t:E}();if($APP.k(function(){var E=c.pattern.Pc;return $APP.k(E)?(E=null!=u)?(E=A,$APP.k(E)?!0:E):E:E}()))p=c0(ohb(b.db).Rc,u.a,function(E,I,Q,T,Z){return function(){return Mib(b.db,Z.a)}}(d,e,a,f,u,t,A,C,this)),m=d,a=$APP.k(e)?Vib(a,e):null,d=m,e=p;else if($APP.k(A))m=d,p=e,f=H3(f),d=m,e=p;else if(Xib(b,knb,c.id,e.name,null),$APP.k(function(){var E=
C;return $APP.k(E)?null==e&&!0:E}()))m=d,p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(function(){var E=C;return $APP.k(E)?null!=$APP.Nm.g(e)&&!0:E}()))m=$APP.Hh.j(d,e.as,$APP.Nm.g(e)),p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(C))m=function(){var E=e.Kb;return E.g?E.g(null):E.call(null,null)}(),null==m?(m=d,p=G3(a),a=H3(a),d=m,e=p):(m=$APP.Hh.j(d,e.as,m),p=G3(a),a=H3(a),d=m,e=p);else{if($APP.k(function(){var E=e.yc;return $APP.k(E)?(E=e.Ac,$APP.k(E)?!0:E):E}()))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,
c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new L3(c.va,c.Aa,$APP.Uc($APP.Tg),c.pattern,e,f,null,null,null)],null);if($APP.k(e.yc))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new K3($APP.Uc($APP.Tg),e,f,null,null,null)],null);if($APP.k(e.Ac))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var E=c.va,I=c.Aa,Q=c.pattern,T=e,Z=u.v;return P3.ma?P3.ma(b,E,I,Q,T,Z):P3.call(null,b,E,I,Q,T,Z)}()],null);m=
$APP.Hh.j(d,e.as,function(){var E=u.v,I=e.Kb;return I.g?I.g(E):I.call(null,E)}());p=G3(a);a=H3(a);f=H3(f);d=m;e=p}}}};$APP.g=N3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "id":return this.id;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.K.h(new $APP.G(null,7,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[$APP.Hq,
this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,7,new $APP.G(null,7,5,$APP.H,[K5,V5,I5,$APP.MF,X5,x3,$APP.Hq],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 7+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,7,[I5,null,K5,null,$APP.Hq,null,V5,null,x3,null,$APP.MF,null,X5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(K5,b):$APP.Bf.call(null,K5,b))?new N3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(V5,b):$APP.Bf.call(null,V5,b))?new N3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(I5,b):$APP.Bf.call(null,I5,b))?new N3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,b):$APP.Bf.call(null,
$APP.MF,b))?new N3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(X5,b):$APP.Bf.call(null,X5,b))?new N3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(x3,b):$APP.Bf.call(null,x3,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.id,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.Hq,b):$APP.Bf.call(null,$APP.Hq,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,c,this.A,
this.o,null):new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,7,5,$APP.H,[new $APP.Ue(K5,this.va,null),new $APP.Ue(V5,this.Aa,null),new $APP.Ue(I5,this.pa,null),new $APP.Ue($APP.MF,this.pattern,null),new $APP.Ue(X5,this.oa,null),new $APP.Ue(x3,this.ta,null),new $APP.Ue($APP.Hq,this.id,null)],null),this.o))};
$APP.g.V=function(a,b){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.pi=function(a,b){a=this.va;var c=this.Aa,d=this.pa,e=this.oa.as;b=b.value;var f=this.oa.Kb;b=f.g?f.g(b):f.call(null,b);return new N3(a,c,Wib(d,e,b),this.pattern,G3(this.ta),H3(this.ta),this.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this.pa;a=this.oa;for(var d=this.ta;;){if(null==a)return new $APP.G(null,1,5,$APP.H,[new J3($APP.Xf($APP.Wc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.z1?V0(f.tc,g1.F(0,e,this.id,536870912),g1.F(2147483647,e,this.id,2147483647)):n1(f,new $APP.G(null,3,5,$APP.H,[null,e,this.id],null));Xib(b,Wlb,null,e,this.id);if($APP.we(f)&&null!=$APP.Nm.g(a))c=$APP.Hh.j(c,a.as,$APP.Nm.g(a)),a=G3(d),d=e=H3(d);else if($APP.we(f))a=G3(d),d=e=H3(d);else{if($APP.k(a.vc)){e=
$APP.H;c=new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null);d=this.va;var m=this.Aa,p=this.pattern;f=G3(f).e;b=P3.ma?P3.ma(b,d,m,p,a,f):P3.call(null,b,d,m,p,a,f);b=new $APP.G(null,2,5,e,[c,b],null)}else b=new $APP.G(null,2,5,$APP.H,[new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null),new L3(this.va,this.Aa,$APP.Uc($APP.Tg),this.pattern,a,f,null,null,null)],null);return b}}};
var O6=function O6(a){switch(arguments.length){case 3:return O6.j(arguments[0],arguments[1],arguments[2]);case 4:return O6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};O6.j=function(a,b,c){return O6.F(a,b,c,$APP.Vf)};O6.F=function(a,b,c,d){a=S3(a,b,d);return Q3(a,c)};O6.B=4;
var P6=function P6(a){switch(arguments.length){case 3:return P6.j(arguments[0],arguments[1],arguments[2]);case 4:return P6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};P6.j=function(a,b,c){return P6.F(a,b,c,$APP.Vf)};P6.F=function(a,b,c,d){var e=S3(a,b,d);return $APP.qn.h(function(f){return Q3(e,f)},c)};P6.B=4;var Q6=function Q6(a){switch(arguments.length){case 1:return Q6.g(arguments[0]);case 2:return Q6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};Q6.g=function(a){return hjb(a,$APP.Vf)};Q6.h=function(a,b){return hjb(a,b)};Q6.B=2;var R6=function R6(a){switch(arguments.length){case 1:return R6.g(arguments[0]);case 2:return R6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
R6.g=function(a){return R6.h(a,$APP.Vf)};
R6.h=function(a,b){b=$APP.Wf(b);var c=$APP.B.j(b,jmb,$APP.RK),d=$APP.B.j(b,qmb,ejb),e=U3(a,"tx0"),f=function(){var A=U3(a,"schema");return c.g?c.g(A):c.call(null,A)}();(function(){var A=new $APP.Dd(function(){return Z1},cnb,$APP.hi([$APP.Rt,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[!0,$APP.jK,ymb,"datascript/db.cljc",23,1,931,931,$APP.J(new $APP.G(null,1,5,$APP.H,[M5],null)),null,$APP.k(Z1)?Z1.H:null]));return A.g?A.g(f):A.call(null,f)})();var m=$APP.qn.h(d,U3(a,
"attrs")),p=$APP.qn.h(d,U3(a,"keywords")),u=V3(function(A){var C=T3(A,0),E=$APP.y.h(m,T3(A,1)),I=T3(A,2);if("number"===typeof I)var Q=I;else if("string"===typeof I)Q=I;else if($APP.Je(I))Q=I;else if($APP.zb(I)||$APP.Ee(I))Q=function(){var T=T3(I,0);if($APP.k($APP.el.h?$APP.el.h(0,T):$APP.el.call(null,0,T)))return $APP.y.h(p,T3(I,1));if($APP.k($APP.el.h?$APP.el.h(1,T):$APP.el.call(null,1,T)))return T=T3(I,1),c.g?c.g(T):c.call(null,T);if($APP.k($APP.el.h?$APP.el.h(2,T):$APP.el.call(null,2,T)))return Infinity;
if($APP.k($APP.el.h?$APP.el.h(3,T):$APP.el.call(null,3,T)))return-Infinity;if($APP.k($APP.el.h?$APP.el.h(4,T):$APP.el.call(null,4,T)))return NaN;throw $APP.Zl.h(["Unexpected value marker ",$APP.xj.l($APP.z([T]))," in ",$APP.xj.l($APP.z([$APP.xj.l($APP.z([I]))]))].join(""),new $APP.h(null,2,[$APP.Ln,omb,$APP.LI,I],null));}();else throw $APP.Zl.h(["Unexpected value type ",$APP.xj.l($APP.z([$APP.Jb(I)]))," (",$APP.xj.l($APP.z([$APP.xj.l($APP.z([I]))])),")"].join(""),new $APP.h(null,2,[$APP.Ln,omb,$APP.LI,
I],null));A=e+T3(A,3);return g1.F(C,E,Q,A)},U3(a,"eavt"));d=function(){var A=U3(a,"aevt");return null==A?null:V3(function(C){return u[C]},A)}();var t=function(){var A=U3(a,"avet");return null==A?null:V3(function(C){return u[C]},A)}();b=$APP.Ll.l($APP.z([new $APP.h(null,2,[b1,U3(a,"branching-factor"),Ygb,function(){var A=U3(a,"ref-type");return null==A?null:$APP.gj.g(A)}()],null),$APP.wi(b,new $APP.G(null,2,5,$APP.H,[b1,Ygb],null))]));return X2(new $APP.h(null,6,[$APP.A1,f,$APP.B1,Y0(j1,u,b),C1,Y0(k1,
d,b),t1,Y0(l1,t,b),D1,U3(a,"max-eid"),E1,U3(a,"max-tx")],null))};R6.B=2;$APP.g=d4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.K.h($APP.Tg,this.o))};
$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Tg,$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se($APP.zi,b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new d4(this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Se(this.o,b)};$APP.g.O=function(a,b,c){return new d4(this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Tg,this.o))};$APP.g.V=function(a,b){return new d4(b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};
$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=e4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Am,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.Am],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new e4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new e4(this.Pa,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Am,b):$APP.Bf.call(null,$APP.Am,b))?new e4(c,this.A,this.o,null):new e4(this.Pa,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new e4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=f4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Am,this.Pa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.Am],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new f4(this.Pa,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new f4(this.Pa,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Am,b):$APP.Bf.call(null,$APP.Am,b))?new f4(c,this.A,this.o,null):new f4(this.Pa,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new f4(this.Pa,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=g4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.K.h($APP.Tg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Tg,$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new g4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.zi,b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new g4(this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Se(this.o,b)};$APP.g.O=function(a,b,c){return new g4(this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Tg,this.o))};$APP.g.V=function(a,b){return new g4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=h4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.K.h($APP.Tg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Tg,$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new h4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.zi,b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new h4(this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Se(this.o,b)};$APP.g.O=function(a,b,c){return new h4(this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Tg,this.o))};$APP.g.V=function(a,b){return new h4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=i4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.LI,this.value],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.LI],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new i4(this.value,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.LI,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new i4(this.value,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.LI,b):$APP.Bf.call(null,$APP.LI,b))?new i4(c,this.A,this.o,null):new i4(this.value,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.LI,this.value,null)],null),this.o))};$APP.g.V=function(a,b){return new i4(this.value,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.value,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.value):Q4.call(null,b,this.value)};$APP.g=j4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Am,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.Am],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new j4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.Am,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new j4(this.Pa,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Am,b):$APP.Bf.call(null,$APP.Am,b))?new j4(c,this.A,this.o,null):new j4(this.Pa,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.Am,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new j4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=n4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "required":return this.required;case "free":return this.ye;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.cH,this.required],null),new $APP.G(null,2,5,$APP.H,[o4,this.ye],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.cH,o4],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new n4(this.required,this.ye,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.required,b.required)&&$APP.x.h(this.ye,b.ye)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[o4,null,$APP.cH,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new n4(this.required,this.ye,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "required":case "free":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.cH,b):$APP.Bf.call(null,$APP.cH,b))?new n4(c,this.ye,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(o4,b):$APP.Bf.call(null,o4,b))?new n4(this.required,c,this.A,this.o,null):new n4(this.required,this.ye,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.cH,this.required,null),new $APP.Ue(o4,this.ye,null)],null),this.o))};$APP.g.V=function(a,b){return new n4(this.required,this.ye,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.ye,Z3(b,this.required,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.required):Q4.call(null,b,this.required);b=this.ye;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=q4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.K.h($APP.Tg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Tg,$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new q4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.zi,b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new q4(this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Se(this.o,b)};$APP.g.O=function(a,b,c){return new q4(this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Tg,this.o))};$APP.g.V=function(a,b){return new q4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=r4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "variable":return this.fc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[h5,this.fc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[h5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new r4(this.fc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[h5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new r4(this.fc,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "variable":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(h5,b):$APP.Bf.call(null,h5,b))?new r4(c,this.A,this.o,null):new r4(this.fc,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(h5,this.fc,null)],null),this.o))};$APP.g.V=function(a,b){return new r4(this.fc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.fc,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.fc):Q4.call(null,b,this.fc)};$APP.g=s4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "bindings":return this.Ga;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Aq,this.Ga],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.Aq],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new s4(this.Ga,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ga,b.Ga)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.Aq,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new s4(this.Ga,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "bindings":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Aq,b):$APP.Bf.call(null,$APP.Aq,b))?new s4(c,this.A,this.o,null):new s4(this.Ga,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.Aq,this.Ga,null)],null),this.o))};$APP.g.V=function(a,b){return new s4(this.Ga,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ga,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Ga):Q4.call(null,b,this.Ga)};$APP.g=t4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "binding":return this.dc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[P5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new t4(this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[P5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new t4(this.dc,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "binding":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(P5,b):$APP.Bf.call(null,P5,b))?new t4(c,this.A,this.o,null):new t4(this.dc,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new t4(this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.dc,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.dc):Q4.call(null,b,this.dc)};
e4.prototype.oi=function(){return new $APP.G(null,1,5,$APP.H,[this.Pa],null)};$APP.g=w4.prototype;$APP.g.oi=function(){return v4($APP.ne(this.Ba))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.In,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.dn,this.Ba],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.In,$APP.dn],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new w4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.dn,null,$APP.In,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new w4(this.na,this.Ba,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.In,b):$APP.Bf.call(null,$APP.In,b))?new w4(c,this.Ba,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.dn,b):$APP.Bf.call(null,$APP.dn,b))?new w4(this.na,c,this.A,this.o,null):new w4(this.na,this.Ba,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.In,this.na,null),new $APP.Ue($APP.dn,this.Ba,null)],null),this.o))};
$APP.g.V=function(a,b){return new w4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=x4.prototype;$APP.g.oi=function(){return v4(this.fc)};$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "variable":return this.fc;case "pattern":return this.pattern;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Kl,this.source],null),new $APP.G(null,2,5,$APP.H,[h5,this.fc],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Kl,h5,$APP.MF],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new x4(this.source,this.fc,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[h5,null,$APP.Kl,null,$APP.MF,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new x4(this.source,this.fc,this.pattern,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Kl,b):$APP.Bf.call(null,$APP.Kl,b))?new x4(c,this.fc,this.pattern,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(h5,b):$APP.Bf.call(null,h5,b))?new x4(this.source,c,this.pattern,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,b):$APP.Bf.call(null,$APP.MF,b))?new x4(this.source,this.fc,c,this.A,this.o,null):new x4(this.source,this.fc,this.pattern,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue($APP.Kl,this.source,null),new $APP.Ue(h5,this.fc,null),new $APP.Ue($APP.MF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new x4(this.source,this.fc,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.fc,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.fc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=z4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Y5,this.elements],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[Y5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new z4(this.elements,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new z4(this.elements,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(Y5,b):$APP.Bf.call(null,Y5,b))?new z4(c,this.A,this.o,null):new z4(this.elements,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new z4(this.elements,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=A4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[Z5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new A4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new A4(this.element,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.G(null,1,5,$APP.H,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(Z5,b):$APP.Bf.call(null,Z5,b))?new A4(c,this.A,this.o,null):new A4(this.element,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new A4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=B4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[Z5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new B4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new B4(this.element,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.G(null,1,5,$APP.H,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(Z5,b):$APP.Bf.call(null,Z5,b))?new B4(c,this.A,this.o,null):new B4(this.element,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new B4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=C4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Y5,this.elements],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[Y5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new C4(this.elements,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new C4(this.elements,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(Y5,b):$APP.Bf.call(null,Y5,b))?new C4(c,this.A,this.o,null):new C4(this.elements,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new C4(this.elements,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=E4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "type":return this.type;case "symbols":return this.He;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Rl,this.type],null),new $APP.G(null,2,5,$APP.H,[b5,this.He],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Rl,b5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new E4(this.type,this.He,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.type,b.type)&&$APP.x.h(this.He,b.He)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.Rl,null,b5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new E4(this.type,this.He,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "type":case "symbols":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Rl,b):$APP.Bf.call(null,$APP.Rl,b))?new E4(c,this.He,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(b5,b):$APP.Bf.call(null,b5,b))?new E4(this.type,c,this.A,this.o,null):new E4(this.type,this.He,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.Rl,this.type,null),new $APP.Ue(b5,this.He,null)],null),this.o))};$APP.g.V=function(a,b){return new E4(this.type,this.He,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.He,Z3(b,this.type,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.type):Q4.call(null,b,this.type);b=this.He;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=F4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Kl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.MF,this.pattern],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Kl,$APP.MF],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new F4(this.source,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.Kl,null,$APP.MF,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new F4(this.source,this.pattern,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "pattern":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Kl,b):$APP.Bf.call(null,$APP.Kl,b))?new F4(c,this.pattern,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.MF,b):$APP.Bf.call(null,$APP.MF,b))?new F4(this.source,c,this.A,this.o,null):new F4(this.source,this.pattern,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.Kl,this.source,null),new $APP.Ue($APP.MF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new F4(this.source,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.source,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=G4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.In,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.dn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.In,$APP.dn],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new G4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.dn,null,$APP.In,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new G4(this.na,this.Ba,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.In,b):$APP.Bf.call(null,$APP.In,b))?new G4(c,this.Ba,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.dn,b):$APP.Bf.call(null,$APP.dn,b))?new G4(this.na,c,this.A,this.o,null):new G4(this.na,this.Ba,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.In,this.na,null),new $APP.Ue($APP.dn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new G4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=H4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;case "binding":return this.dc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.In,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.dn,this.Ba],null),new $APP.G(null,2,5,$APP.H,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.In,$APP.dn,P5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new H4(this.na,this.Ba,this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[$APP.dn,null,$APP.In,null,P5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new H4(this.na,this.Ba,this.dc,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":case "binding":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.In,b):$APP.Bf.call(null,$APP.In,b))?new H4(c,this.Ba,this.dc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.dn,b):$APP.Bf.call(null,$APP.dn,b))?new H4(this.na,c,this.dc,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(P5,b):$APP.Bf.call(null,P5,b))?new H4(this.na,this.Ba,c,this.A,this.o,null):new H4(this.na,this.Ba,this.dc,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue($APP.In,this.na,null),new $APP.Ue($APP.dn,this.Ba,null),new $APP.Ue(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new H4(this.na,this.Ba,this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.dc,Z3(b,this.Ba,Z3(b,this.na,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.dc;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=I4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "name":return this.name;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Kl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[$APP.dn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Kl,$APP.N,$APP.dn],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new I4(this.source,this.name,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[$APP.dn,null,$APP.N,null,$APP.Kl,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new I4(this.source,this.name,this.Ba,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "name":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Kl,b):$APP.Bf.call(null,$APP.Kl,b))?new I4(c,this.name,this.Ba,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.N,b):$APP.Bf.call(null,$APP.N,b))?new I4(this.source,c,this.Ba,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.dn,b):$APP.Bf.call(null,$APP.dn,b))?new I4(this.source,this.name,c,this.A,this.o,null):new I4(this.source,this.name,this.Ba,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue($APP.Kl,this.source,null),new $APP.Ue($APP.N,this.name,null),new $APP.Ue($APP.dn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new I4(this.source,this.name,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.name,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.name;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=J4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "vars":return this.hc;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Kl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.lI,this.hc],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Kl,$APP.lI,$APP.sK],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new J4(this.source,this.hc,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[$APP.Kl,null,$APP.sK,null,$APP.lI,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new J4(this.source,this.hc,this.Ia,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Kl,b):$APP.Bf.call(null,$APP.Kl,b))?new J4(c,this.hc,this.Ia,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.lI,b):$APP.Bf.call(null,$APP.lI,b))?new J4(this.source,c,this.Ia,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.sK,b):$APP.Bf.call(null,$APP.sK,b))?new J4(this.source,this.hc,c,this.A,this.o,null):new J4(this.source,this.hc,this.Ia,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue($APP.Kl,this.source,null),new $APP.Ue($APP.lI,this.hc,null),new $APP.Ue($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new J4(this.source,this.hc,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.hc,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.hc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ia;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=K4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "rule-vars":return this.Wd;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Kl,this.source],null),new $APP.G(null,2,5,$APP.H,[O4,this.Wd],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Kl,O4,$APP.sK],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K4(this.source,this.Wd,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.Wd,b.Wd)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[O4,null,$APP.Kl,null,$APP.sK,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new K4(this.source,this.Wd,this.Ia,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.Kl,b):$APP.Bf.call(null,$APP.Kl,b))?new K4(c,this.Wd,this.Ia,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(O4,b):$APP.Bf.call(null,O4,b))?new K4(this.source,c,this.Ia,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.sK,b):$APP.Bf.call(null,$APP.sK,b))?new K4(this.source,this.Wd,c,this.A,this.o,null):new K4(this.source,this.Wd,this.Ia,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue($APP.Kl,this.source,null),new $APP.Ue(O4,this.Wd,null),new $APP.Ue($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new K4(this.source,this.Wd,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.Wd,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.Wd;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ia;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=L4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.sK],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L4(this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,1,[$APP.sK,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new L4(this.Ia,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.sK,b):$APP.Bf.call(null,$APP.sK,b))?new L4(c,this.A,this.o,null):new L4(this.Ia,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Ue($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new L4(this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Ia):Q4.call(null,b,this.Ia)};var Q4=function Q4(a,b){return b instanceof e4?$APP.wf.h(a,b):b instanceof J4?$APP.Fh.h(a,b.hc):b instanceof K4?(b=b.Wd,Q4.h?Q4.h(a,b):Q4.call(null,a,b)):(null!=b?$APP.yd===b.Gb||(b.kd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?jjb(b,a):$APP.Ae(b)?$APP.bf.j(Q4,a,b):a};$APP.g=S4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "vars":return this.hc;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.lI,this.hc],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.lI,$APP.sK],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new S4(this.hc,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.sK,null,$APP.lI,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new S4(this.hc,this.Ia,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.lI,b):$APP.Bf.call(null,$APP.lI,b))?new S4(c,this.Ia,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.sK,b):$APP.Bf.call(null,$APP.sK,b))?new S4(this.hc,c,this.A,this.o,null):new S4(this.hc,this.Ia,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.lI,this.hc,null),new $APP.Ue($APP.sK,this.Ia,null)],null),this.o))};
$APP.g.V=function(a,b){return new S4(this.hc,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.hc,c))};$APP.g.Ib=function(a,b){return Q4(Q4(b,this.hc),this.Ia)};$APP.g=T4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "name":return this.name;case "branches":return this.oe;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[T5,this.oe],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.N,T5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new T4(this.name,this.oe,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.oe,b.oe)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[$APP.N,null,T5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new T4(this.name,this.oe,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "name":case "branches":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h($APP.N,b):$APP.Bf.call(null,$APP.N,b))?new T4(c,this.oe,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(T5,b):$APP.Bf.call(null,T5,b))?new T4(this.name,c,this.A,this.o,null):new T4(this.name,this.oe,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue($APP.N,this.name,null),new $APP.Ue(T5,this.oe,null)],null),this.o))};
$APP.g.V=function(a,b){return new T4(this.name,this.oe,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.oe,Z3(b,this.name,c))};$APP.g.Ib=function(a,b){return Q4(Q4(b,this.name),this.oe)};$APP.g=V4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "qfind":return this.Jd;case "qwith":return this.Nd;case "qreturn-map":return this.Ld;case "qin":return this.Kd;case "qwhere":return this.Md;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[W4,this.Jd],null),new $APP.G(null,2,5,$APP.H,[X4,this.Nd],null),new $APP.G(null,2,5,$APP.H,[Y4,this.Ld],null),new $APP.G(null,2,5,$APP.H,[Z4,this.Kd],null),new $APP.G(null,2,5,$APP.H,[$4,this.Md],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.G(null,5,5,$APP.H,[W4,X4,Y4,Z4,$4],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Od(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jd,b.Jd)&&$APP.x.h(this.Nd,b.Nd)&&$APP.x.h(this.Ld,b.Ld)&&$APP.x.h(this.Kd,b.Kd)&&$APP.x.h(this.Md,b.Md)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,5,[W4,null,$4,null,Z4,null,X4,null,Y4,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(W4,b):$APP.Bf.call(null,W4,b))?new V4(c,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(X4,b):$APP.Bf.call(null,X4,b))?new V4(this.Jd,c,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(Y4,b):$APP.Bf.call(null,Y4,b))?new V4(this.Jd,this.Nd,c,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(Z4,b):$APP.Bf.call(null,Z4,b))?new V4(this.Jd,this.Nd,this.Ld,c,this.Md,this.A,this.o,
null):$APP.k($APP.Bf.h?$APP.Bf.h($4,b):$APP.Bf.call(null,$4,b))?new V4(this.Jd,this.Nd,this.Ld,this.Kd,c,this.A,this.o,null):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Ue(W4,this.Jd,null),new $APP.Ue(X4,this.Nd,null),new $APP.Ue(Y4,this.Ld,null),new $APP.Ue(Z4,this.Kd,null),new $APP.Ue($4,this.Md,null)],null),this.o))};
$APP.g.V=function(a,b){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g.Gb=$APP.yd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Md,Z3(b,this.Kd,Z3(b,this.Ld,Z3(b,this.Nd,Z3(b,this.Jd,c)))))};$APP.g.Ib=function(a,b){return Q4(Q4(Q4(Q4(Q4(b,this.Jd),this.Nd),this.Ld),this.Kd),this.Md)};var pob=e0();$APP.g=c5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "rels":return this.cf;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[j5,this.cf],null),new $APP.G(null,2,5,$APP.H,[i5,this.sources],null),new $APP.G(null,2,5,$APP.H,[$APP.qG,this.rules],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.G(null,3,5,$APP.H,[j5,i5,$APP.qG],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new c5(this.cf,this.sources,this.rules,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.cf,b.cf)&&$APP.x.h(this.sources,b.sources)&&$APP.x.h(this.rules,b.rules)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,3,[i5,null,$APP.qG,null,j5,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new c5(this.cf,this.sources,this.rules,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(j5,b):$APP.Bf.call(null,j5,b))?new c5(c,this.sources,this.rules,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(i5,b):$APP.Bf.call(null,i5,b))?new c5(this.cf,c,this.rules,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h($APP.qG,b):$APP.Bf.call(null,$APP.qG,b))?new c5(this.cf,this.sources,c,this.A,this.o,null):new c5(this.cf,this.sources,this.rules,this.A,$APP.vi.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Ue(j5,this.cf,null),new $APP.Ue(i5,this.sources,null),new $APP.Ue($APP.qG,this.rules,null)],null),this.o))};$APP.g.V=function(a,b){return new c5(this.cf,this.sources,this.rules,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};$APP.g=d5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "tuples":return this.zf;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.bf.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.bj(b,function(d){return $APP.bj(b,$APP.ej,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[n5,this.zf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.G(null,2,5,$APP.H,[x3,n5],null),$APP.k(this.o)?$APP.md(this.o):$APP.bg())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new d5(this.ta,this.zf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.ce(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Od(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.zf,b.zf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.yi(null,new $APP.h(null,2,[n5,null,x3,null],null),null),b)?$APP.Ml.h($APP.wc($APP.Fh.h($APP.Vf,this),this.A),b):new d5(this.ta,this.zf,this.A,$APP.Xf($APP.Ml.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "tuples":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Bf.h?$APP.Bf.h(x3,b):$APP.Bf.call(null,x3,b))?new d5(c,this.zf,this.A,this.o,null):$APP.k($APP.Bf.h?$APP.Bf.h(n5,b):$APP.Bf.call(null,n5,b))?new d5(this.ta,c,this.A,this.o,null):new d5(this.ta,this.zf,this.A,$APP.vi.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Ue(x3,this.ta,null),new $APP.Ue(n5,this.zf,null)],null),this.o))};$APP.g.V=function(a,b){return new d5(this.ta,this.zf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.Ee(b)?this.O(null,$APP.pe(b,0),$APP.pe(b,1)):$APP.bf.j($APP.Vb,this,b)};
var S6=function S6(a,b){return $APP.x.h($APP.AH,a)?!0:$APP.x.h(new $APP.G(null,1,5,$APP.H,[$APP.vH],null),a)?$APP.Ae(b):a instanceof $APP.q?$APP.x.h(b,a):$APP.Ae(a)?$APP.x.h($APP.ne(a),$APP.vH)?$APP.Ae(b)&&$APP.ng(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.fj.j($APP.Jw,$APP.Ei(a),b)):$APP.Ae(b)&&$APP.x.h($APP.ce(b),$APP.ce(a))&&$APP.ng(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.fj.j($APP.Jw,
a,b)):a.g?a.g(b):a.call(null,b)},t5=function t5(a,b){var d=$APP.Wf(a),e=$APP.B.h(d,x3);d=$APP.B.h(d,n5);var f=$APP.Wf(b),m=$APP.B.h(f,x3);f=$APP.B.h(f,n5);if($APP.x.h(e,m))return new d5(e,$APP.Fh.h($APP.df(d),f),null,null,null);if($APP.we(d))return b;if($APP.we(f))return a;if(ekb(e,m)){if($APP.ng($APP.Ab,$APP.ti(e)))return ikb(e,d,m,f);a=$APP.Gi($APP.ri(e),$APP.Wn.D());e=ikb(a,$APP.Tg,e,d);return t5.h?t5.h(e,b):t5.call(null,e,b)}throw $APP.Zl.h(["Can’t sum relations with different attrs: ",$APP.xj.l($APP.z([e])),
" and ",$APP.xj.l($APP.z([m]))].join(""),new $APP.h(null,1,[$APP.Ln,s5],null));},r5=function r5(a){switch(arguments.length){case 0:return r5.D();case 2:return r5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};r5.D=function(){return new d5($APP.Vf,new $APP.G(null,1,5,$APP.H,[[]],null),null,null,null)};
r5.h=function(a,b){var c=$APP.ri(x3.g(a)),d=$APP.ri(x3.g(b)),e=$APP.cf($APP.fj.h(x3.g(a),c)),f=$APP.cf($APP.fj.h(x3.g(b),d));return new d5($APP.Gi($APP.K.h(c,d),$APP.Wn.D()),$APP.Wc($APP.bf.j(function(m,p){return $APP.bf.j(function(u,t){return $APP.Sg.h(u,hkb(p,e,t,f))},m,n5.g(b))},$APP.Uc($APP.Tg),n5.g(a))),null,null,null)};r5.B=2;q4.prototype.xh=function(){return r5.D()};
r4.prototype.xh=function(a,b){return new d5($APP.Uf([$APP.tp.h(this,new $APP.G(null,2,5,$APP.H,[h5,$APP.Am],null)),0]),new $APP.G(null,1,5,$APP.H,[$APP.zs.g(new $APP.G(null,1,5,$APP.H,[b],null))],null),null,null,null)};
t4.prototype.xh=function(a,b){var c=this;if(ahb(b))return $APP.we(b)?jkb(c):$APP.bf.h(t5,$APP.fj.h(function(d){return g5(c.dc,d)},b));throw $APP.Zl.h(["Cannot bind value ",$APP.xj.l($APP.z([b]))," to collection ",$APP.xj.l($APP.z([c4(c)]))].join(""),new $APP.h(null,3,[$APP.Ln,rmb,$APP.LI,b,P5,c4(c)],null));};
s4.prototype.xh=function(a,b){if(ahb(b)){if($APP.ce(b)<$APP.ce(this.Ga))throw $APP.Zl.h(["Not enough elements in a collection ",$APP.xj.l($APP.z([b]))," to bind tuple ",$APP.xj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Ln,rmb,$APP.LI,b,P5,c4(this)],null));return $APP.bf.h(r5,$APP.fj.j(function(c,d){return g5(c,d)},this.Ga,b))}throw $APP.Zl.h(["Cannot bind value ",$APP.xj.l($APP.z([b]))," to tuple ",$APP.xj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Ln,rmb,$APP.LI,b,P5,c4(this)],
null));};var k5=null,l5=null,Ekb=$APP.Bj.g(0),w5=function w5(a){switch(arguments.length){case 2:return w5.h(arguments[0],arguments[1]);case 3:return w5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w5.h=function(a,b){return w5.j(a,b,b)};
w5.j=function(a,b,c){for(;;){var d=S6,e=b;if($APP.k(function(){var da=new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Bd,$APP.vH],null)],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return E5(D5(a),$APP.Qg.h(e5,$APP.je(b)),b),Bkb(a,b);if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Bd,$APP.vH],null),$APP.AH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return E5(D5(a),$APP.Qg.h(e5,$APP.je(b)),b),Ckb(a,b);if($APP.k(function(){var da=
new $APP.G(null,2,5,$APP.H,[fkb,$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){var f=$APP.r(b);c=$APP.v(f);f=$APP.w(f);var m=l5;l5=$APP.B.h(i5.g(a),c);try{return w5.j(a,f,b)}finally{l5=m}}else{if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.pt,$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){var p=b,u=$APP.r(p),t=$APP.v(u),A=$APP.w(u);f=t;m=A;var C=Mkb(D5(a),m,b),E=$APP.fj.h(function(da){return function(ja){return F5.h?F5.h(da,ja):F5.call(null,da,ja)}}(a,
b,c,p,u,t,A,f,m,C,d,e),m);b=$APP.fj.h(function(){return function(da){return $APP.bf.h(o5,j5.g(da))}}(a,b,c,p,u,t,A,f,m,C,E,d,e),E);return $APP.vi.j($APP.v(E),j5,new $APP.G(null,1,5,$APP.H,[$APP.bf.h(t5,b)],null))}if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[R4,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[$APP.vH],null),$APP.vH],null),$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){m=$APP.r(b);f=$APP.v(m);m=$APP.w(m);p=$APP.v(m);f=$APP.w(m);p=$APP.r(p);m=$APP.v(p);
p=$APP.w(p);C=m;m=f;f=D5(a);E5(f,C,c);Nkb(f,p,m);c=$APP.Hs.j(R4,$APP.K.h(C,p),m);f=b;b=c;c=f;continue}else{if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[R4,new $APP.G(null,1,5,$APP.H,[$APP.vH],null),$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){t=b;A=$APP.r(t);var I=$APP.v(A),Q=$APP.w(A);f=I;var T=$APP.v(Q),Z=$APP.w(Q);p=T;m=Z;var ba=$APP.Ci(p);C=Nkb(D5(a),ba,m);u=C5(a,ba);E=$APP.fj.h(function(da,ja,la,xa,sa,X,S,W,V,Y,oa,za,ha,qa,ua){return function(ya){return C5(F5.h?
F5.h(ua,ya):F5.call(null,ua,ya),ha)}}(a,b,c,t,A,I,Q,f,T,Z,p,m,ba,C,u,d,e),m);b=$APP.fj.h(function(){return function(da){return $APP.bf.h(o5,j5.g(da))}}(a,b,c,t,A,I,Q,f,T,Z,p,m,ba,C,u,E,d,e),E);b=$APP.bf.h(t5,b);return $APP.bn.F(a,j5,q5,b)}if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.kt,$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return c=$APP.r(b),b=$APP.v(c),c=$APP.w(c),f=b,b=c,$APP.bf.j(F5,a,b);if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.MC,
$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){f=$APP.r(b);b=$APP.v(f);m=$APP.w(f);f=b;b=m;f=D5(a);m=$APP.Ci(v5(b));if($APP.we($APP.ex.h(f,m)))throw $APP.Zl.h(["Insufficient bindings: none of ",$APP.xj.l($APP.z([m]))," is bound in ",$APP.xj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Ln,s5,$APP.CB,c],null));C=null;a=$APP.vi.j(a,j5,new $APP.G(null,1,5,$APP.H,[$APP.bf.h(o5,j5.g(a))],null));b=$APP.bf.j(F5,a,b);b=qkb($APP.v(j5.g(a)),$APP.bf.h(o5,j5.g(b)));return $APP.vi.j(a,j5,
new $APP.G(null,1,5,$APP.H,[b],null))}if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[Njb,new $APP.G(null,1,5,$APP.H,[$APP.vH],null),$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return b=$APP.r(b),f=$APP.v(b),b=$APP.w(b),f=$APP.v(b),b=$APP.w(b),p=f,f=D5(a),C=E5(f,p,c),a=$APP.vi.j(a,j5,new $APP.G(null,1,5,$APP.H,[$APP.bf.h(o5,j5.g(a))],null)),u=C5(a,p),b=C5($APP.bf.j(F5,u,b),p),b=qkb($APP.v(j5.g(a)),$APP.bf.h(o5,j5.g(b))),$APP.vi.j(a,j5,new $APP.G(null,1,5,$APP.H,[b],null));
if($APP.k(function(){var da=new $APP.G(null,1,5,$APP.H,[$APP.vH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){c=l5;b=tkb(c,b);f=wkb(a,c,b);m=k5;k5=(null!=c?$APP.yd===c.mj||(c.kd?0:$APP.Ib(w1,c)):$APP.Ib(w1,c))?Lkb(c,b):k5;try{return $APP.bn.F(a,j5,q5,f)}finally{k5=m}}else throw Error(["No matching clause: ",$APP.l.g(e)].join(""));}}break}};w5.B=3;
var F5=function F5(a,b){if($APP.k($APP.og($APP.pq.h($APP.we,n5),j5.g(a))))return a;if(Dkb(a,b))if(fkb($APP.v(b))){var d=l5;l5=$APP.B.h(i5.g(a),$APP.v(b));try{var e=$APP.w(b);return F5.h?F5.h(a,e):F5.call(null,a,e)}finally{l5=d}}else return $APP.bn.F(a,j5,q5,Kkb(a,b));else return w5.h(a,b)};e4.prototype.yh=function(a,b){return xkb(b,this.Pa)};f4.prototype.yh=function(a,b){return $APP.tp.h(b,new $APP.G(null,2,5,$APP.H,[i5,this.Pa],null))};
j4.prototype.yh=function(){var a=$APP.B.h(oob,this.Pa);return $APP.k(a)?a:null};i4.prototype.yh=function(){return this.value};z4.prototype.zh=function(a,b,c){return null==b?c:Wkb(b,c)};A4.prototype.zh=function(a,b,c){return $APP.Fh.j($APP.Tg,$APP.fj.g($APP.v),c)};B4.prototype.zh=function(a,b,c){return $APP.ie(c)};C4.prototype.zh=function(a,b,c){return null!=b?$APP.v(Wkb(b,new $APP.G(null,1,5,$APP.H,[$APP.v(c)],null))):$APP.v(c)};
var T6=function T6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return T6.l(arguments[0],1<c.length?new $APP.Fd(c.slice(1),0,null):null)};
T6.l=function(a,b){var c=c0(pob,a,function(){return ckb(a)}),d=W4.g(c),e=y4(d),f=$APP.Pg.l(v4,$APP.z([y4(d)])),m=$APP.ce(e),p=X4.g(c);p=$APP.K.h(f,$APP.fj.h($APP.Am,p));f=$APP.Ae(a)?Vjb(a):a;var u=$APP.Wqa.g(f);b=nkb(new c5($APP.Tg,$APP.Vf,$APP.Vf,null,null,null),Z4.g(c),b);p=Rkb(Okb(b,u),p);f=$APP.k(akb.g(f))?$APP.qn.h(function(t){return $APP.df($APP.fl.j(t,0,m))},p):p;f=$APP.k($APP.og(wjb,e))?Ukb(e,b,f):f;e=$APP.k($APP.og(xjb,e))?Ykb(e,b,f):f;return Xkb(d,Y4.g(c),e)};T6.B=1;
T6.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};var U6=function U6(a){switch(arguments.length){case 0:return U6.D();case 1:return U6.g(arguments[0]);case 2:return U6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};U6.D=function(){return $1(null,$APP.Vf)};U6.g=function(a){return $1(a,$APP.Vf)};U6.h=function(a,b){return $1(a,Y2(b))};U6.B=2;
var V6=function V6(a){switch(arguments.length){case 1:return V6.g(arguments[0]);case 2:return V6.h(arguments[0],arguments[1]);case 3:return V6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};V6.g=function(a){return a2(a,null,$APP.Vf)};V6.h=function(a,b){return a2(a,b,$APP.Vf)};V6.j=function(a,b,c){return a2(a,b,Y2(c))};V6.B=3;
var W6=function W6(a){switch(arguments.length){case 2:return W6.h(arguments[0],arguments[1]);case 3:return W6.j(arguments[0],arguments[1],arguments[2]);case 4:return W6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return W6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return W6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
W6.h=function(a,b){return p1(a,b,null,null,null,null)};W6.j=function(a,b,c){return p1(a,b,c,null,null,null)};W6.F=function(a,b,c,d){return p1(a,b,c,d,null,null)};W6.R=function(a,b,c,d,e){return p1(a,b,c,d,e,null)};W6.ma=function(a,b,c,d,e,f){return p1(a,b,c,d,e,f)};W6.B=6;
var X6=function X6(a){switch(arguments.length){case 2:return X6.h(arguments[0],arguments[1]);case 3:return X6.j(arguments[0],arguments[1],arguments[2]);case 4:return X6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
X6.h=function(a,b){return q1(a,b,null,null,null,null)};X6.j=function(a,b,c){return q1(a,b,c,null,null,null)};X6.F=function(a,b,c,d){return q1(a,b,c,d,null,null)};X6.R=function(a,b,c,d,e){return q1(a,b,c,d,e,null)};X6.ma=function(a,b,c,d,e,f){return q1(a,b,c,d,e,f)};X6.B=6;
var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.h(arguments[0],arguments[1]);case 3:return Y6.j(arguments[0],arguments[1],arguments[2]);case 4:return Y6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Y6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Y6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
Y6.h=function(a,b){return r1(a,b,null,null,null,null)};Y6.j=function(a,b,c){return r1(a,b,c,null,null,null)};Y6.F=function(a,b,c,d){return r1(a,b,c,d,null,null)};Y6.R=function(a,b,c,d,e){return r1(a,b,c,d,e,null)};Y6.ma=function(a,b,c,d,e,f){return r1(a,b,c,d,e,f)};Y6.B=6;
for(var qob=$APP.r(new $APP.h(null,2,[Rmb,$APP.h1,aob,$APP.c2],null)),rob=null,sob=0,Z6=0;;)if(Z6<sob){var tob=rob.ha(null,Z6),uob=$APP.y.j(tob,0,null),vob=$APP.y.j(tob,1,null),wob=uob,xob=vob;$APP.B.h($APP.n($APP.KK),wob);$APP.Cj.F($APP.KK,$APP.vi,wob,xob);Z6+=1}else{var yob=$APP.r(qob);if(yob){var $6=yob;if($APP.Fe($6)){var zob=$APP.dd($6),Aob=$APP.ed($6),Bob=zob,Cob=$APP.ce(zob);qob=Aob;rob=Bob;sob=Cob}else{var Dob=$APP.v($6),Eob=$APP.y.j(Dob,0,null),Fob=$APP.y.j(Dob,1,null),Gob=Eob,Hob=Fob;$APP.B.h($APP.n($APP.KK),
Gob);$APP.Cj.F($APP.KK,$APP.vi,Gob,Hob);qob=$APP.w($6);rob=null;sob=0}Z6=0}else break}$APP.Bj.g(-1E6);var a7=$APP.kN.h($APP.iJ,null),b7=$APP.kN.h($APP.jK,null),c7=$APP.kN.h($APP.EJ,null),Iob=$APP.kN.h($APP.fJ,null),Job=$APP.hi([fmb,Omb,olb,Znb,$APP.UH,Hnb,S5,Knb,mmb,Pmb,qnb,hmb,rnb,Tnb,R5,Dnb,Vnb,eob,fob,$nb,nnb,Nnb,dob,$APP.YE,Wnb,U5,Pnb,inb,yjb,Ilb,ynb],[function(){var a=new $APP.Dd(function(){return c3},zlb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,fmb,"datascript/core.cljc",60,1,267,267,$APP.Id,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.k(c3)?c3.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return P6},lob,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Omb,"datascript/core.cljc",
12,1,119,129,$APP.Id,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.k(P6)?P6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return h3},Cnb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,olb,"datascript/core.cljc",9,1,26,76,g6,$APP.Id,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(h3)?h3.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return v6},rlb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Znb,"datascript/core.cljc",
54,1,702,702,$APP.Id,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.k(v6)?v6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return T6},mlb,$APP.hi([$APP.P,$APP.N,
$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,$APP.UH,"datascript/core.cljc",4,1,133,145,$APP.Id,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.k(T6)?T6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return B6},Cmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Hnb,"datascript/core.cljc",65,1,565,565,$APP.Id,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(B6)?B6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return g1},Onb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,S5,"datascript/core.cljc",
8,1,181,188,b6,$APP.Id,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?
$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return tib},Jmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Knb,"datascript/core.cljc",50,1,271,271,$5,$APP.Id,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(tib)?tib.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,
$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return $kb},Amb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,mmb,"datascript/core.cljc",18,1,412,412,$APP.J(new $APP.G(null,4,5,$APP.H,[R5,L5,$APP.sz,$APP.NI],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k($kb)?$kb.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return g3},lnb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Pmb,"datascript/core.cljc",
39,1,446,446,$APP.Id,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(g3)?g3.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return y6},Qnb,$APP.hi([$APP.P,$APP.N,
$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,qnb,"datascript/core.cljc",59,1,466,466,$APP.Id,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.k(y6)?y6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?
e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return A6},ylb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,hmb,"datascript/core.cljc",61,1,558,558,$APP.Id,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.k(A6)?A6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,
4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return z6},bmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,rnb,"datascript/core.cljc",69,1,471,471,$APP.Id,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(z6)?z6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return h6},clb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Tnb,"datascript/core.cljc",
38,1,677,677,$APP.Id,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.k(h6)?h6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):
$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return alb},Glb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,R5,"datascript/core.cljc",13,1,617,617,$5,$APP.J(new $APP.G(null,1,5,$APP.H,[pmb],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.k(alb)?alb.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return Q6},Mlb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Dnb,"datascript/core.cljc",
15,1,206,218,$APP.Id,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(Q6)?Q6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return w6},kmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Vnb,"datascript/core.cljc",
84,1,450,450,$APP.Id,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(w6)?w6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return Y6},Jlb,$APP.hi([$APP.P,$APP.N,$APP.Wl,
$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,eob,"datascript/core.cljc",19,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,
2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,404,404,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,
5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.k(Y6)?Y6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,
b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return R6},Ymb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,fob,"datascript/core.cljc",20,1,220,229,$5,$APP.Id,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(R6)?R6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return U6},Umb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,$nb,"datascript/core.cljc",
19,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,3,5,$APP.H,[$APP.Tg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)],null),$APP.U,$APP.J($APP.Tg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)),$APP.fF,$APP.J(null,null,null)],null),1,150,150,$5,$APP.J($APP.Tg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.k(U6)?U6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return V6},fnb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,nnb,"datascript/core.cljc",
18,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,3,$APP.DJ,3,$APP.lJ,new $APP.G(null,3,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)),$APP.fF,$APP.J(null,null,null)],null),1,194,194,$5,$APP.J(new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),
new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.k(V6)?V6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return j3},ulb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Nnb,"datascript/core.cljc",8,1,90,100,g6,$APP.Id,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(j3)?j3.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return 536870912},Bnb,$APP.hi([$APP.pu,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.wA,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[!0,$APP.iJ,
dob,"datascript/core.cljc",26,1,!0,21,21,$APP.Id,null,$APP.k(536870912)?(536870912).H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return Zkb},jlb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,
$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,$APP.YE,"datascript/core.cljc",13,1,246,246,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.lK],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.k(Zkb)?Zkb.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return d3},gmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Wnb,"datascript/core.cljc",
45,1,693,693,$APP.Id,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.k(d3)?d3.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,
$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return W6},Anb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,U5,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,
3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,
Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,282,282,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(W6)?W6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return wib},amb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Pnb,"datascript/core.cljc",
49,1,562,562,$APP.Id,null,$APP.k(wib)?wib.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return X6},smb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],
[$APP.iJ,inb,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,
$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,367,367,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],
null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.k(X6)?X6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return O6},Olb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,yjb,"datascript/core.cljc",
7,1,105,117,$APP.Id,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(O6)?O6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return blb},tmb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,Ilb,"datascript/core.cljc",
15,1,735,735,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null)),null,$APP.k(blb)?blb.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),function(){var a=new $APP.Dd(function(){return x6},Smb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,
$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.iJ,ynb,"datascript/core.cljc",59,1,454,454,$APP.Id,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.k(x6)?x6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}()]),Kob=new $APP.h(null,7,[Xlb,function(){var a=new $APP.Dd(function(){return $APP.c2},Enb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.jK,
Xlb,"datascript/db.cljc",21,1,1124,1124,$APP.J(new $APP.G(null,1,5,$APP.H,[new $APP.h(null,1,[$APP.aC,new $APP.G(null,2,5,$APP.H,[M5,U5],null)],null)],null)),null,$APP.k($APP.c2)?$APP.c2.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),pnb,
function(){var a=new $APP.Dd(function(){return $APP.h1},snb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.jK,pnb,"datascript/db.cljc",31,1,333,333,b6,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.pJ],null)),null,$APP.k($APP.h1)?$APP.h1.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),hlb,function(){var a=new $APP.Dd(function(){return $APP.e1},Clb,$APP.hi([$APP.Er,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[dlb,$APP.jK,hlb,"datascript/db.cljc",15,1,179,181,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.zE],null)),null,$APP.k($APP.e1)?$APP.e1.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),
$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),glb,function(){var a=new $APP.Dd(function(){return $APP.d1},dmb,$APP.hi([$APP.Er,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[dlb,$APP.jK,glb,"datascript/db.cljc",12,1,179,180,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.zE],null)),null,$APP.k($APP.d1)?$APP.d1.H:null])),b=$APP.n(a),c=$APP.te(a);
a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),S5,function(){var a=new $APP.Dd(function(){return g1},hnb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.Dm,$APP.U,$APP.M,$APP.kF],[$APP.jK,S5,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.DA,!1,
$APP.Rs,5,$APP.DJ,5,$APP.lJ,new $APP.G(null,3,5,$APP.H,[new $APP.G(null,3,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH],null),new $APP.G(null,4,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5,nlb],null)],null),$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH],null),new $APP.G(null,4,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5,nlb],null)),$APP.fF,$APP.J(null,null,null)],null),1,257,257,b6,
$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH],null),new $APP.G(null,4,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.IH,$APP.DH,$APP.XH,N5,nlb],null)),null,$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,
d):$APP.ju.j(a,b,d)}(),$5,function(){var a=new $APP.Dd(function(){return $APP.z1},Emb,new $APP.h(null,8,[$APP.P,$APP.jK,$APP.M,null,$APP.Wl,"datascript/db.cljc",$APP.Xl,672,$APP.Pm,22,$APP.N,$5,$APP.kF,$APP.k($APP.z1)?$APP.z1.H:null,$APP.U,$APP.Id],null)),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?
e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),b6,function(){var a=new $APP.Dd(function(){return $APP.f1},Hmb,new $APP.h(null,8,[$APP.P,$APP.jK,$APP.M,null,$APP.Wl,"datascript/db.cljc",$APP.Xl,185,$APP.Pm,10,$APP.N,b6,$APP.kF,$APP.k($APP.f1)?$APP.f1.H:null,$APP.U,$APP.Id],null)),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}()],null),Lob=new $APP.h(null,3,[Imb,function(){var a=new $APP.Dd(function(){return C6},llb,$APP.hi([$APP.Rt,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.rI,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[!0,$APP.fJ,Imb,"datascript/impl/entity.cljc",21,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,3,$APP.DJ,3,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.se($APP.zE,
new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.bB],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.se($APP.zE,new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.bB],null)),$APP.fF,$APP.J(null,null)],null),1,165,165,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.se($APP.zE,new $APP.h(null,1,[$APP.Dm,g6],null)),L5,$APP.bB],null)),null,$APP.k(C6)?C6.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);
var d=new $APP.h(null,4,[$APP.P,Iob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),g6,function(){var a=new $APP.Dd(function(){return l3},Lmb,new $APP.h(null,8,[$APP.P,$APP.fJ,$APP.M,null,$APP.Wl,"datascript/impl/entity.cljc",$APP.Xl,48,$APP.Pm,10,$APP.N,g6,$APP.kF,$APP.k(l3)?l3.H:null,$APP.U,$APP.Id],null)),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,Iob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),ilb,function(){var a=new $APP.Dd(function(){return Aib},Plb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.fJ,ilb,"datascript/impl/entity.cljc",14,1,147,147,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.ZH],
null)),null,$APP.k(Aib)?Aib.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,Iob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}()],null),d7,Mob=$APP.Bj.g($APP.Vf),Nob=$APP.Bj.g($APP.Vf),Oob=$APP.Bj.g($APP.Vf),Pob=$APP.Bj.g($APP.Vf),Qob=$APP.B.j($APP.Vf,$APP.mr,$APP.Lj.D?$APP.Lj.D():$APP.Lj.call(null));
d7=new $APP.bk($APP.lj.h("nbb.impl.datascript","-store"),$APP.ar,$APP.Nm,Qob,Mob,Nob,Oob,Pob);var e7,Rob=$APP.Bj.g($APP.Vf),Sob=$APP.Bj.g($APP.Vf),Tob=$APP.Bj.g($APP.Vf),Uob=$APP.Bj.g($APP.Vf),Vob=$APP.B.j($APP.Vf,$APP.mr,$APP.Lj.D?$APP.Lj.D():$APP.Lj.call(null));e7=new $APP.bk($APP.lj.h("nbb.impl.datascript","-restore"),$APP.ar,$APP.Nm,Vob,Rob,Sob,Tob,Uob);d7.ea(null,$APP.bA,function(a,b){var c=$APP.Ep(a);c=$APP.B.h(c,O5);return c.h?c.h(a,b):c.call(null,a,b)});var Wob=P2;
d7.ea(null,$APP.Nm,function(a,b){return Wob.h?Wob.h(a,b):Wob.call(null,a,b)});P2=function(a,b){return d7.h(a,b)};e7.ea(null,$APP.bA,function(a,b){var c=$APP.Ep(a);c=$APP.B.h(c,f6);return c.h?c.h(a,b):c.call(null,a,b)});var Xob=Q2;e7.ea(null,$APP.Nm,function(a,b){return Xob.h?Xob.h(a,b):Xob.call(null,a,b)});Q2=function(a,b){return e7.h(a,b)};
var Yob=$APP.ju.h(hob,new $APP.h(null,3,[$APP.Er,eib,$APP.Dr,$APP.Ai([e7,d7]),$APP.P,c7],null)),Zob=$APP.vi.l($APP.lu($APP.hi([$APP.se(cmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.se($APP.EH,new $APP.h(null,1,[$APP.Dm,b6],null))],null)))],null)),$APP.se(kob,new $APP.h(null,4,[onb,!0,$APP.qJ,$APP.Vra,$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null))),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.se(Tlb,
new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J($APP.se(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.h(null,1,[$APP.Dm,xnb],null))))],null)),$APP.se(Wmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null)))],null)),$APP.se(iob,new $APP.h(null,4,[$APP.UG,!0,$APP.mA,new $APP.h(null,1,[$APP.Dr,new $APP.h(null,2,[$APP.se(O5,new $APP.h(null,1,[$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,3,5,$APP.H,[$APP.AH,e6,W5],null)],null),$APP.se(f6,new $APP.h(null,1,[$APP.M,"Read back and deserialize data stored under single `addr`"],null)),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.AH,J5],null)],null)],null)],null),$APP.HH,new $APP.h(null,2,[elb,new $APP.h(null,3,[$APP.N,O5,$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.AH,e6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),Alb,new $APP.h(null,3,[$APP.N,f6,$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.AH,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.CG,$APP.J("@interface")],null)),$APP.se(Znb,new $APP.h(null,2,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null))),$APP.rI,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,
2,5,$APP.H,[d6,$APP.bG],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null)),$APP.fF,$APP.J(null,null)],null)],null)),$APP.se(d6,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null)))],null)),$APP.se(O5,new $APP.h(null,3,[$APP.Er,Inb,$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.AH,e6,W5],null)))],null)),$APP.se(Nlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,3,5,$APP.H,[R5,gnb,Lnb],null)))],null)),$APP.se(f6,new $APP.h(null,3,[$APP.Er,Inb,$APP.M,"Read back and deserialize data stored under single `addr`",$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.AH,J5],null)))],null)),$APP.se(Qlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null)))],
null)),$APP.se(Dmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.bG],null)))],null)),$APP.se(Llb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,slb],null)))],null)),$APP.se(Wnb,new $APP.h(null,2,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null))),$APP.rI,new $APP.h(null,6,[$APP.DA,!1,$APP.Rs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[R5],null),
new $APP.G(null,2,5,$APP.H,[R5,d6],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null)),$APP.fF,$APP.J(null,null)],null)],null)),$APP.se(tnb,new $APP.h(null,4,[onb,!0,$APP.qJ,$APP.wm,$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,1,5,$APP.H,[bob],null))),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.se(Kmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Bk,$APP.J(new $APP.G(null,2,5,
$APP.H,[R5,$APP.$E],null)))],null))],[new $APP.h(null,3,[$APP.N,Elb,$APP.ku,fib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.se($APP.EH,new $APP.h(null,1,[$APP.Dm,b6],null))],null))],null)],null),new $APP.h(null,3,[$APP.N,Gmb,$APP.ku,function(a){return new R2(a,null,null,null)},$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null)),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.h(null,3,[$APP.N,
Vlb,$APP.ku,S2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J($APP.se(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.h(null,1,[$APP.Dm,xnb],null)))],null)],null),new $APP.h(null,3,[$APP.N,Fmb,$APP.ku,nib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null))],null)],null),new $APP.h(null,3,[$APP.N,Inb,$APP.ku,eib,$APP.mb,$APP.Vf],null),new $APP.h(null,3,[$APP.N,mnb,$APP.ku,v6,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,
2,5,$APP.H,[d6,$APP.bG],null))],null)],null),new $APP.h(null,3,[$APP.N,Gnb,$APP.ku,T2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null))],null)],null),new $APP.h(null,3,[$APP.N,bnb,$APP.ku,P2,$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.AH,e6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.h(null,3,[$APP.N,dnb,$APP.ku,W2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[R5,gnb,Lnb],null))],null)],null),new $APP.h(null,3,[$APP.N,wlb,$APP.ku,Q2,$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.AH,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.h(null,3,[$APP.N,plb,$APP.ku,pib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null))],null)],
null),new $APP.h(null,3,[$APP.N,umb,$APP.ku,Y2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.bG],null))],null)],null),new $APP.h(null,3,[$APP.N,Jnb,$APP.ku,gib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,slb],null))],null)],null),new $APP.h(null,3,[$APP.N,zmb,$APP.ku,d3,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null))],null)],null),new $APP.h(null,3,[$APP.N,unb,$APP.ku,function(a){var b=
$APP.Ml.h(a,X0);b=$APP.De(a)?$APP.Fh.h($APP.Vf,b):b;return new R2(X0.g(a),null,$APP.Xf(b),null)},$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[bob],null)),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.h(null,3,[$APP.N,Rnb,$APP.ku,qib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null))],null)],null)]),c7),O5,function(){var a=new $APP.Dd(function(){return d7},
Flb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.se(vlb,new $APP.h(null,1,[$APP.pu,!0],null)),O5,"nbb/impl/datascript.cljs",17,1,65,65,$APP.Id,null,$APP.k(d7)?d7.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,
b,d)}(),$APP.z([f6,function(){var a=new $APP.Dd(function(){return e7},Klb,$APP.hi([$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[$APP.se(vlb,new $APP.h(null,1,[$APP.pu,!0],null)),f6,"nbb/impl/datascript.cljs",19,1,66,66,$APP.Id,null,$APP.k(e7)?e7.H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}(),iob,Yob,qlb,function(){var a=new $APP.Dd(function(){return 1},znb,$APP.hi([$APP.Rt,$APP.P,$APP.N,$APP.Wl,$APP.Xz,$APP.Pm,$APP.Xl,$APP.EK,$APP.U,$APP.M,$APP.kF],[!0,$APP.EJ,qlb,"datascript/storage.cljs",25,1,31,31,$APP.Id,null,$APP.k(1)?(1).H:null])),b=$APP.n(a),c=$APP.te(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Vq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.lq.g(c);return $APP.k(e)?e:$APP.yq.g(c)}())?$APP.fN.j(a,b,d):$APP.ju.j(a,b,d)}()]));$APP.Zu(new $APP.h(null,1,[$APP.Lq,new $APP.h(null,4,[$APP.iJ,Job,$APP.jK,Kob,$APP.EJ,Zob,$APP.fJ,Lob],null)],null));