import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var Lbb,Nbb,a0,Pbb,Obb,b0,c0,d0,e0,Qbb,Rbb,Sbb,Tbb,g0,h0,i0,Ubb,j0,k0,l0,m0,n0,Ybb,Zbb,$bb,acb,o0,p0,bcb,q0,ccb,r0,s0,t0,u0,v0,w0,x0,dcb,z0,A0,B0,D0,C0,ecb,E0,G0,H0,I0,J0,L0,fcb,O0,gcb,P0,N0,Q0,hcb,icb,jcb,lcb,S0,T0,U0,mcb,X0,ncb,ocb,rcb,scb,b1,tcb,ucb,vcb,wcb,xcb,i1,j1,k1,l1,ycb,zcb,Acb,Bcb,Ccb,m1,n1,o1,p1,q1,r1,u1,v1,w1,x1,Gcb,I1,Hcb,Jcb,Kcb,S1,V1,Y1,Z1,Pcb,a2,Rcb,d2,Scb,j2,k2,l2,m2,n2,Tcb,o2,q2,Ucb,t2,Vcb,u2,f0,v2,w2,x2,Ycb,z2,$cb,adb,bdb,fdb,gdb,D2,hdb,kdb,ldb,mdb,J2,odb,qdb,rdb,sdb,tdb,wdb,xdb,
P2,Q2,ydb,R2,zdb,S2,T2,W2,Gdb,Idb,Jdb,Y2,Z2,Kdb,a3,b3,Ldb,c3,Mdb,g3,Odb,Pdb,h3,Rdb,Sdb,i3,k3,l3,Qdb,Tdb,m3,Udb,Vdb,Wdb,j3,Xdb,Ydb,Zdb,n3,$db,w3,aeb,D3,eeb,feb,heb,E3,ieb,jeb,F3,G3,H3,neb,oeb,I3,peb,qeb,reb,J3,K3,L3,M3,N3,seb,P3,O3,Q3,S3,T3,U3,V3,ueb,veb,web,xeb,Aeb,W3,Beb,Ceb,X3,Y3,$3,Z3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,Eeb,l4,Feb,m4,Geb,Heb,n4,Jeb,p4,Keb,q4,r4,s4,t4,Leb,Meb,Oeb,u4,v4,w4,x4,y4,z4,A4,B4,C4,Peb,Qeb,D4,Veb,E4,Web,Xeb,Zeb,F4,G4,H4,I4,J4,K4,L4,$eb,M4,afb,bfb,cfb,dfb,efb,gfb,P4,hfb,S4,
T4,ifb,kfb,lfb,V4,mfb,nfb,ofb,sfb,vfb,c5,d5,wfb,xfb,yfb,e5,f5,zfb,Afb,Bfb,Cfb,g5,Dfb,Gfb,Hfb,m5,Ifb,o5,Jfb,p5,Kfb,Lfb,Mfb,Nfb,Ofb,Pfb,q5,Qfb,Rfb,Sfb,Tfb,Ufb,Vfb,Wfb,Yfb,Zfb,$fb,v5,agb,cgb,dgb,C5,D5,E5,egb,fgb,ggb,hgb,bgb,B5,igb,jgb,G5,kgb,lgb,mgb,ngb,ogb,pgb,qgb,rgb,sgb,tgb,ugb,H5,vgb,K1,M2,wgb,xgb,ygb,zgb,rfb,Ocb,F2,Y4,udb,Agb,Bgb,Cgb,I5,Dgb,U4,Egb,Fgb,f3,Ggb,Teb,Hgb,B3,I2,Igb,Jgb,Kgb,a5,Lgb,z3,jdb,Mgb,Ngb,Ogb,p3,Pgb,N1,Qgb,Rgb,Sgb,Tgb,G2,Ugb,Vgb,Wgb,Xgb,Ygb,Zgb,$gb,J5,ahb,bhb,g2,z5,chb,dhb,ehb,
$4,R1,h2,W4,fhb,y5,ghb,M1,C2,hhb,ihb,f2,N4,jhb,K5,khb,Icb,lhb,pdb,L5,mhb,nhb,ohb,R4,phb,qhb,rhb,ufb,shb,thb,uhb,vhb,s1,M5,vdb,whb,xhb,Yeb,Qcb,yhb,Y0,H1,zhb,t3,beb,N5,Ahb,e3,Bhb,O4,W1,Zcb,B1,Chb,P5,Dhb,Q5,idb,Reb,Z0,Ehb,Fhb,R5,Ghb,u5,O1,S5,Hhb,T5,Ihb,P1,q3,Jhb,Khb,A5,Lhb,Ddb,pfb,Mhb,n5,Nhb,U5,Ohb,V5,Phb,Qhb,Rhb,Shb,C1,Thb,Uhb,Vhb,Whb,U1,Xhb,Yhb,Zhb,$hb,aib,W5,meb,zeb,Q1,bib,L1,Bdb,yeb,cib,Ndb,dib,eib,pcb,J1,fib,Edb,i5,gib,X5,Cdb,i2,hib,iib,jib,kib,Deb,K2,lib,mib,Ecb,nib,oib,A2,pib,qib,rib,D1,sib,y3,
u3,tib,Y5,R3,Z5,uib,s5,vib,E2,wib,xib,yib,j5,zib,e2,Aib,O2,ddb,qcb,cdb,Bib,Cib,Dib,Eib,$2,Fib,teb,F1,Gib,Hib,Iib,Jib,h5,Kib,Lib,Mcb,v3,Seb,Ueb,H2,G1,Hdb,Neb,Mib,Nib,$5,Oib,a6,Pib,y2,Qib,b6,x3,Fcb,W0,Rib,a1,Sib,Tib,s3,ffb,X4,tfb,Uib,Ieb,Vib,Wib,A3,T1,Ffb,c6,r3,Efb,X1,Xib,Yib,Zib,$ib,ajb,bjb,cjb,djb,d6,ejb,x5,fjb,gjb,hjb,Xcb,ijb,jjb,kjb,ljb,Dcb,Z4,e6,b5,mjb,C3,njb,N2,E1,ojb,f6,pjb,qjb,rjb,sjb,tjb,$1,p2,g6,qfb,B2,ujb,leb,o4,vjb,$0,wjb,jfb,xjb,yjb,zjb,Ajb,Bjb,Cjb,o3,Djb,Ejb,h6;
Lbb=function(a,b){a=a.split(".");var c=$APP.Iu;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};Nbb=function(a){return $APP.og(function(b){return $APP.Se(a,b)},Mbb)};a0=function(a,b,c,d,e){this.lg=a;this.ik=b;this.jk=c;this.Nf=d;this.Gb=e;this.J=2147484416;this.M=0};
Pbb=function(a,b,c){var d=a.lg,e=a.ik,f=a.jk,l=a.Nf;a=a.Gb;var p=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(p))return new a0(d,$APP.ui.j($APP.Ol.h(e,p),l,b),$APP.ui.j(f,b,l),l+1,a);b=new a0($APP.ui.j(d,b,c),$APP.ui.j(e,l,b),$APP.ui.j(f,b,l),l+1,a);return Obb.g?Obb.g(b):Obb.call(null,b)};Obb=function(a){if($APP.be(a.lg)>a.Gb){var b=a.lg,c=a.ik,d=a.jk,e=a.Nf;a=a.Gb;var f=$APP.v(c),l=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return new a0($APP.Ol.h(b,f),$APP.Ol.h(c,l),$APP.Ol.h(d,f),e,a)}return a};
b0=function(a,b,c){if(null!=a&&null!=a.ek)a=a.ek(a,b,c);else{var d=b0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=b0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ICache.-get",a);}return a};c0=function(a,b,c){this.Gb=a;this.wg=b;this.Km=c;this.J=393216;this.M=0};d0=function(){var a=new a0($APP.Xf,$APP.Cy(),$APP.Xf,0,100);return new c0(100,$APP.yg(a),$APP.Xf)};
e0=function(a,b){a=a.toString(16);var c=$APP.be(a);return c>b?$APP.Yi.j(a,0,b):c<b?[$APP.m.g($APP.qg.h($APP.m,$APP.jn.h(b-c,"0"))),$APP.m.g(a)].join(""):a};Qbb=function(a,b){return $APP.Vc($APP.ge($APP.af.j(function(c,d){var e=$APP.y.j(c,0,null),f=$APP.y.j(c,1,null),l=a.g?a.g(d):a.call(null,d);return $APP.Se(e,l)?c:new $APP.H(null,2,5,$APP.I,[$APP.Rg.h(e,l),$APP.Rg.h(f,d)],null)},new $APP.H(null,2,5,$APP.I,[$APP.Tc($APP.Ai),$APP.Tc($APP.Sg)],null),b)))};
Rbb=function(a,b){return $APP.af.j(function(c,d){return $APP.k(a.g?a.g(d):a.call(null,d))?$APP.Sd(d):null},null,b)};Sbb=function(a){var b=f0;return $APP.Vc($APP.df(function(c,d,e){return $APP.k(b.g?b.g(d):b.call(null,d))?c:$APP.Ih.j(c,d,e)},$APP.Tc($APP.ne(a)),a))};
Tbb=function(a,b,c){return $APP.v($APP.af.j(function(d,e){var f=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Ud(e)?$APP.Sd(new $APP.H(null,2,5,$APP.I,[e,d],null)):new $APP.H(null,2,5,$APP.I,[e,d+1],null)},new $APP.H(null,2,5,$APP.I,[b,0],null),c))};g0=function(a){return $APP.af.j(function(b,c){b.push(c);return b},[],a)};h0=function(a){return a instanceof Array};
i0=function(a,b){if(null!=a&&null!=a.nk)a=a.nk(a,b);else{var c=i0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=i0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.restore",a);}return a};Ubb=function(a,b){if(null==a||null==a.nm){var c=Ubb[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=Ubb._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.accessed",a);}};
j0=function(a,b,c){if(null!=a&&null!=a.pk)a=a.pk(a,b,c);else{var d=j0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=j0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.store",a);}return a};k0=function(a,b){if(null!=a&&null!=a.mk)a.mk(a,b);else{var c=k0[$APP.fa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=k0._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.delete",a);}};
l0=function(a,b){return 6>b?a>>>5*b&Vbb:Math.floor(a/Wbb[b])&Vbb};m0=function(a,b,c){var d=a<Xbb&&6>b,e=l0(a,b);return a-(d?e<<5*b:e*Wbb[b])+(d?c<<5*b:c*Wbb[b])};n0=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0>(a.h?a.h(l,d):a.call(null,l,d))?e=c+1:f=c-1}else return e};Ybb=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0<(a.h?a.h(l,d):a.call(null,l,d))?f=c-1:e=c+1}else return e};
Zbb=function(a,b,c){var d=b.length,e=n0(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};$bb=function(a,b,c){var d=b.length;a=n0(a,b,d-1,c);return a===d?-1:a};acb=function(a,b,c,d,e,f){var l=f.length,p=d-b,u=p+l,t=Array(p+l+(c-e));d-=b;for(var A=0;;)if(A<d)t[A+0]=a[A+b],A+=1;else break;b=l-0;for(l=0;;)if(l<b)t[l+p]=f[l+0],l+=1;else break;c-=e;for(f=0;;)if(f<c)t[f+u]=a[f+e],f+=1;else break;return t};o0=function(a,b,c,d){return acb(a,0,a.length,b,c,d)};
p0=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,l=Array(f);e=Array(e-f);if(c<=f){for(var p=c-0,u=0;;)if(u<p)l[u+0]=a[u+0],u+=1;else break;a=f-c;for(p=0;;)if(p<a)l[p+c]=b[p+0],p+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{p=f-0;for(u=0;;)if(u<p)l[u+0]=a[u+0],u+=1;else break;p=c-f;for(u=0;;)if(u<p)e[u+0]=a[u+f],u+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[l,e]};
bcb=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var l=b[f+c],p=e[f+0];if(0!==(a.h?a.h(l,p):a.call(null,l,p)))return!1;f+=1}else return f};q0=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};ccb=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
r0=function(a){if(null!=a&&null!=a.lj)a=a.lj(a);else{var b=r0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=r0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-lim-key",a);}return a};s0=function(a){if(null!=a&&null!=a.lk)a=a.keys.length;else{var b=s0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=s0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("INode.node-len",a);}return a};
t0=function(a,b,c){if(null!=a&&null!=a.nj)a=a.nj(a,b,c);else{var d=t0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=t0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("INode.node-merge",a);}return a};u0=function(a,b){if(null!=a&&null!=a.oj)a=a.oj(a,b);else{var c=u0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=u0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("INode.node-merge-n-split",a);}return a};
v0=function(a,b,c,d){if(null!=a&&null!=a.mj)a=a.mj(a,b,c,d);else{var e=v0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=v0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-lookup",a);}return a};
w0=function(a,b,c,d){if(null!=a&&null!=a.jj)a=a.jj(a,b,c,d);else{var e=w0[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=w0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("INode.node-conj",a);}return a};
x0=function(a,b,c,d,e,f,l){if(null!=a&&null!=a.kj)a=a.kj(a,b,c,d,e,f,l);else{var p=x0[$APP.fa(null==a?null:a)];if(null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,l):p.call(null,a,b,c,d,e,f,l);else if(p=x0._,null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,l):p.call(null,a,b,c,d,e,f,l);else throw $APP.Lb("INode.node-disj",a);}return a};
dcb=function(a,b,c,d,e){if($APP.k(b))return[a];if(s0(a)>y0)return ccb(c,a,d);if($APP.k($APP.k(c)?s0(c)<=y0:c))return q0(t0(c,a,e),d);if($APP.k($APP.k(d)?s0(d)<=y0:d))return q0(c,t0(a,d,e));if($APP.k($APP.k(c)?null==d||s0(c)<s0(d):c))return a=u0(c,a),ccb(a[0],a[1],d);a=u0(a,d);return ccb(c,a[0],a[1])};
z0=function(a,b){if(null!=a&&null!=a.og)a=a.og(a,b);else{var c=z0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=z0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStore.store-aux",a);}return a};A0=function(a){a=$APP.ej.h(function(b){return b.yb},a);return g0(a)};B0=function(a,b){$APP.ve(a.vd)&&(b=$APP.r(a.children)?A0(a.children):Array(b),a.vd=b)};D0=function(a,b,c,d,e){c=null==c?$APP.r(b)?A0(b):Array(a.length):c;return new C0(a,b,c,d,e)};
C0=function(a,b,c,d,e){this.keys=a;this.children=b;this.vd=c;this.yb=d;this.Og=e};ecb=function(a,b,c){this.keys=a;this.yb=b;this.Og=c};E0=function(a){if(null!=a&&null!=a.mf)a=a.mf(a);else{var b=E0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=E0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IRoot.-ensure-root-node",a);}return a};
$APP.F0=function(a,b,c,d,e,f,l,p){this.storage=a;this.root=b;this.shift=c;this.S=d;this.pd=e;this.O=f;this.wd=l;this.yb=p;this.J=2297303311;this.M=8332};G0=function(a,b,c){return a instanceof C0?a.Pf(b,c):null};H0=function(a,b){for(var c=a.shift,d=E0(a);;)if(0<c){var e=c-1;d=G0(d,l0(b,c),a.storage);c=e}else return d.keys};I0=function(a,b,c,d){return new $APP.F0(a.storage,b,c,d,a.pd,a.O,null,null)};
J0=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.k(f)?f:G0(a,e,d);b=m0(b,c,e);--c}else return $APP.k(a)?m0(b,0,a.keys.length-1):null};L0=function(a,b){if(0>b)return 0;b=K0(a,E0(a),b,a.shift);return $APP.k(b)?b:J0(E0(a),0,a.shift,a.storage)+1};fcb=function(a,b){if(0<l0(b,a.shift+1))return J0(E0(a),b,a.shift,a.storage);a=M0(a,E0(a),b,a.shift);return $APP.k(a)?a:-1};
O0=function(a){if(0<s0(E0(a))){var b=J0(E0(a),0,a.shift,a.storage);b=L0(a,b);return N0.j?N0.j(a,0,b):N0.call(null,a,0,b)}return null};gcb=function(a,b,c){this.I=a;this.Bb=b;this.end=c;this.J=524306;this.M=0};P0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};N0=function(a,b,c){return new P0(a,b,c,H0(a,b),l0(b,0))};Q0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
hcb=function(a,b,c){return new Q0(a,b,c,H0(a,c),l0(c,0))};
icb=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.mf(null),f=0,l=a.shift;;)if($APP.k(e)){var p=s0(e);if(0===l){var u=e.keys;u=n0(d,u,p-1,b);b=p===u?null:m0(f,0,u);break a}u=e.keys;u=n0(d,u,p-2,b);e=G0(e,u,a.storage);f=m0(f,l,u);--l}else{b=null;break a}if(null==b)return null;a:if(null==c)c=J0(a.mf(null),0,a.shift,a.storage)+1;else for(e=a.mf(null),l=0,f=a.shift;;)if($APP.k(e)){p=s0(e);if(0===f){u=e.keys;p=Ybb(d,u,p-1,c);c=l=m0(l,0,p);break a}u=e.keys;p=Ybb(d,u,p-2,c);l=m0(l,f,p);e=G0(e,p,a.storage);
--f}else{c=null;break a}return b<c?new P0(a,b,c,H0(a,b),l0(b,0)):null};jcb=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};lcb=function(a){var b=a.length,c=$APP.Tc($APP.Sg);if(0<b)for(var d=0;;){var e=b-d;if(e<=R0){$APP.Rg.h(c,a.slice(d));break}else e>=kcb+y0?($APP.Rg.h(c,a.slice(d,d+kcb)),d+=kcb):(e>>>=1,$APP.Rg.h(c,a.slice(d,d+e)),d+=e)}return $APP.bf($APP.Vc(c))};
S0=function(a,b,c){b=w0(a.mf(null),c,b,a.storage);if(null!=b)if(1===b.length)a=I0(a,b[0],a.shift,a.S+1);else{c=b.map(r0);var d=A0(b);b=D0(c,b,d,null,!0);a=I0(a,b,a.shift+1,a.S+1)}return a};T0=function(a,b,c){b=x0(a.mf(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof C0&&1===b.children.length?I0(a,b.children[0],a.shift-1,a.S-1):I0(a,b,a.shift,a.S-1)};U0=function(a,b,c){return icb(a,b,c,a.pd)};mcb=function(a,b,c){a=icb(a,c,b,a.pd);return null==a?null:$APP.Fc(a)};
X0=function(a,b,c){var d=jcb(V0,lcb(b));c=W0.g(c);for(var e=d,f=0;;){var l=$APP.be(e);switch(l){case 0:return new $APP.F0(c,V0.g([]),0,0,a,null,null,null);case 1:return new $APP.F0(c,$APP.v(e),f,b.length,a,null,null,null);default:e=jcb(function(){return function(p){var u=p.map(r0);return D0(u,p,null,null,!0)}}(e,f,l,d,c),lcb(e)),f+=1}}};ncb=function(a){var b=W0.g(a),c=V0.g([]),d=Y0.g(a);return new $APP.F0(b,c,0,0,$APP.k(d)?d:$APP.We,$APP.nb.g(a),null,null)};
ocb=function(a,b,c,d){d=$APP.Yf(d);d=$APP.C.h(d,Z0);return new $APP.F0(c,null,$0.g(d),$APP.$J.g(d),a,null,null,b)};rcb=function(){return new $APP.h(null,2,[a1,R0,pcb,qcb],null)};scb=function(a){return"string"!==typeof a&&($APP.Ke(a)||h0(a))};b1=function(a,b){return $APP.zd(a,b)};
$APP.c1=function(a){if(null!=a&&null!=a.ob)a=a.ob(a);else{var b=$APP.c1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.c1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-tx",a);}return a};$APP.d1=function(a){if(null!=a&&null!=a.Md)a=a.Md(a);else{var b=$APP.d1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.d1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDatom.datom-added",a);}return a};
$APP.e1=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.wd=f;this.J=2162164496;this.M=0};tcb=function(a){return a instanceof $APP.e1};$APP.g1=function(a){return $APP.qg.h(f1,a)};ucb=function(a,b){return null==a?0:null==b?0:$APP.jf($APP.We(a,b))};vcb=function(a,b){return $APP.Ra($APP.Mb($APP.Jb(a)),$APP.Mb($APP.Jb(b)))};
wcb=function(a,b){var c=$APP.be(a),d=$APP.be(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.ve(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.w(a),b=$APP.w(b);else{if(null==c)return-1;if(null==d)return 1;c=h1(c,d);if($APP.x.h(c,0))a=$APP.w(a),b=$APP.w(b);else return c}}};xcb=function(a,b){return null==a?0:null==b?0:h1(a,b)};i1=function(a,b){var c=a.e-b.e;return 0===c?(c=ucb(a.a,b.a),0===c?(c=xcb(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};
j1=function(a,b){var c=ucb(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=xcb(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};k1=function(a,b){var c=ucb(a.a,b.a);return 0===c?(c=xcb(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};l1=function(a,b){return a instanceof $APP.F?$APP.ad(a,b):$APP.Ra(a,b)};ycb=function(a,b){var c=a.e-b.e;return 0===c?(c=l1(a.a,b.a),0===c?(a=h1(a.v,b.v),0===a?0:a):c):c};
zcb=function(a,b){var c=a.e-b.e;return 0===c?(c=l1(a.a,b.a),0===c?(c=h1(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};Acb=function(a,b){var c=l1(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=h1(a.v,b.v),0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};Bcb=function(a,b){var c=l1(a.a,b.a);return 0===c?(c=h1(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.ob(null)-b.ob(null),0===a?0:a):c):c):c};Ccb=function(){};
m1=function(a,b){if(null!=a&&null!=a.cj)a=a.cj(a,b);else{var c=m1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=m1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ISearch.-search",a);}return a};n1=function(a,b){return $APP.v(m1(a,b))};
o1=function(a,b,c,d,e,f){if(null!=a&&null!=a.Zi)a=a.Zi(a,b,c,d,e,f);else{var l=o1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=o1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-datoms",a);}return a};
p1=function(a,b,c,d,e,f){if(null!=a&&null!=a.bj)a=a.bj(a,b,c,d,e,f);else{var l=p1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=p1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-seek-datoms",a);}return a};
q1=function(a,b,c,d,e,f){if(null!=a&&null!=a.aj)a=a.aj(a,b,c,d,e,f);else{var l=q1[$APP.fa(null==a?null:a)];if(null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=q1._,null!=l)a=l.ja?l.ja(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.Lb("IIndexAccess.-rseek-datoms",a);}return a};
r1=function(a,b,c,d){if(null!=a&&null!=a.$i)a=a.$i(a,b,c,d);else{var e=r1[$APP.fa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=r1._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Lb("IIndexAccess.-index-range",a);}return a};
u1=function(a,b,c,d,e,f){if($APP.x.h(b,s1)&&null!=c&&!t1(a,c))throw $APP.Yl.h(["Attribute ",$APP.yj.l($APP.z([c]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.Kn,Dcb,Ecb,s1,Fcb,new $APP.H(null,4,5,$APP.I,[c,d,e,f],null)],null));};v1=function(){};w1=function(a){if(null!=a&&null!=a.Yi)a=a.Yi(a);else{var b=w1[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=w1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IDB.-schema",a);}return a};
x1=function(a,b){if(null!=a&&null!=a.Xi)a=a.Xi(a,b);else{var c=x1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=x1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IDB.-attrs-by",a);}return a};$APP.y1=function(a,b,c,d,e,f,l,p,u,t,A,B,E){this.Gc=a;this.ec=b;this.Ic=c;this.qc=d;this.ad=e;this.bd=f;this.Jc=l;this.Pc=p;this.Oc=u;this.hash=t;this.A=A;this.o=B;this.C=E;this.J=2230716170;this.M=139264};
Gcb=function(a){var b=$APP.Ol.l(a,$APP.z1,$APP.z([$APP.A1,B1,s1,C1,D1,E1,F1,G1,H1]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new $APP.y1($APP.z1.g(a),$APP.A1.g(a),B1.g(a),s1.g(a),C1.g(a),D1.g(a),E1.g(a),F1.g(a),G1.g(a),H1.g(a),null,$APP.Zf(b),null)};I1=function(a,b,c,d,e,f){this.Kc=a;this.gb=b;this.hash=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};Hcb=function(a){return a instanceof I1?a.Kc:a};
Jcb=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.I,[J1,K1,L1],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.I,[J1,Icb,L1],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.I,[M1],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.I,[N1,L1],null);default:return $APP.x.h(O1,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[O1],null):$APP.x.h(L1,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[L1],null):$APP.x.h(P1,a)?new $APP.H(null,
2,5,$APP.I,[Q1,L1],null):$APP.Sg}};Kcb=function(a,b){return $APP.af.j(function(c,d){return Tbb(function(e,f,l){return $APP.an.P(e,f,$APP.ui,d,l)},c,P1.g($APP.C.h(a,d)))},$APP.Xf,Q1.g(b))};S1=function(a){var b=$APP.df(function(c,d,e){return e instanceof $APP.F?c:$APP.df(function(f,l,p){return $APP.af.j(function(u,t){return $APP.an.F(u,t,Lcb,d)},f,Jcb(l,p))},$APP.an.j(c,R1,function(f){return $APP.k(f)?$APP.vf.h(f,d):$APP.Bi([d])}),e)},$APP.Xf,a);return $APP.ui.j(b,Mcb,Kcb(a,b))};
V1=function(a,b,c,d){if(null!=c&&!$APP.Se(d,c))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([$APP.Wf([a,$APP.Wf([b,c])])])),", expected one of ",$APP.m.g(d)].join(""),new $APP.h(null,4,[$APP.Kn,T1,U1,a,$APP.wF,b,$APP.lK,c],null));};
Y1=function(a){for(var b=$APP.r(a),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),l=$APP.y.j(f,0,null),p=$APP.y.j(f,1,null),u=O1.h(p,!1);V1(l,O1,O1.g(p),new $APP.zi(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=u;return $APP.k(Z)?$APP.ti.h(W1.g(p),N1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,O1],null));
V1(l,J1,J1.g(p),new $APP.zi(null,new $APP.h(null,2,[K1,null,Icb,null],null),null));V1(l,W1,W1.g(p),Ncb);V1(l,X1,X1.g(p),new $APP.zi(null,new $APP.h(null,2,[M1,null,Ocb,null],null),null));if($APP.x.h(Q1,W1.g(p))&&!$APP.Se(p,P1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,W1],null));if($APP.Se(p,P1)){f=new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,P1],null);
if($APP.x.h(M1,X1.g(p)))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var t=P1.g(p);if(!$APP.Ae(t))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yj.l($APP.z([t]))].join(""),f);if($APP.ve(t))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t be empty"].join(""),f);t=$APP.r(t);for(var A=null,B=0,E=0;;)if(E<B){var G=A.ea(null,E),O=$APP.ui.j(f,$APP.lK,G);if($APP.Se($APP.C.h(a,
G),P1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([G]))].join(""),O);if($APP.x.h(M1,X1.g($APP.C.h(a,G))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([G]))].join(""),O);E+=1}else if(t=$APP.r(t)){if($APP.Ee(t))B=$APP.cd(t),t=$APP.dd(t),A=B,B=$APP.be(B);else{A=$APP.v(t);B=$APP.ui.j(f,$APP.lK,A);if($APP.Se($APP.C.h(a,A),P1))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);if($APP.x.h(M1,X1.g($APP.C.h(a,A))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);t=$APP.w(t);A=null;B=0}E=0}else break}e+=1}else if(l=$APP.r(b)){b=l;if($APP.Ee(b))c=$APP.cd(b),b=$APP.dd(b),l=c,d=$APP.be(c),c=l;else{c=$APP.v(b);l=$APP.y.j(c,0,null);p=$APP.y.j(c,1,null);var T=O1.h(p,!1);V1(l,O1,O1.g(p),new $APP.zi(null,
new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=T;return $APP.k(Z)?$APP.ti.h(W1.g(p),N1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,O1],null));V1(l,J1,J1.g(p),new $APP.zi(null,new $APP.h(null,2,[K1,null,Icb,null],null),null));V1(l,W1,W1.g(p),Ncb);V1(l,X1,X1.g(p),new $APP.zi(null,new $APP.h(null,2,[M1,null,Ocb,
null],null),null));if($APP.x.h(Q1,W1.g(p))&&!$APP.Se(p,P1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.yj.l($APP.z([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,W1],null));if($APP.Se(p,P1)){c=new $APP.h(null,3,[$APP.Kn,T1,U1,l,$APP.wF,P1],null);if($APP.x.h(M1,X1.g(p)))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=P1.g(p);if(!$APP.Ae(d))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.yj.l($APP.z([d]))].join(""),c);if($APP.ve(d))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.r(d);e=null;for(t=f=0;;)if(t<f){A=e.ea(null,t);B=$APP.ui.j(c,$APP.lK,A);if($APP.Se($APP.C.h(a,A),P1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);if($APP.x.h(M1,X1.g($APP.C.h(a,A))))throw $APP.Yl.h([$APP.yj.l($APP.z([l])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yj.l($APP.z([A]))].join(""),B);t+=1}else if(d=$APP.r(d)){if($APP.Ee(d))f=$APP.cd(d),d=$APP.dd(d),e=f,f=$APP.be(f);else{e=$APP.v(d);f=$APP.ui.j(c,$APP.lK,e);if($APP.Se($APP.C.h(a,e),P1))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yj.l($APP.z([e]))].join(""),f);if($APP.x.h(M1,X1.g($APP.C.h(a,e))))throw $APP.Yl.h([$APP.yj.l($APP.z([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.yj.l($APP.z([e]))].join(""),f);d=$APP.w(d);e=null;f=0}t=0}else break}b=$APP.w(b);c=null;d=0}e=0}else return null};Z1=function(a,b){Y1(a);return Gcb($APP.gi([$APP.z1,D1,H1,B1,s1,C1,$APP.A1,G1,F1,E1],[a,536870912,$APP.Aj.g(0),ncb($APP.ui.j(b,Y0,j1)),ncb($APP.ui.j(b,Y0,k1)),0,ncb($APP.ui.j(b,Y0,i1)),d0(),d0(),S1($APP.Nl.l($APP.z([new $APP.h(null,1,[R1,new $APP.h(null,1,[J1,K1],null)],null),a])))]))};
Pcb=function(a,b,c){var d=function(){var e=mcb(b,f1.F(536870911,null,null,2147483647),f1.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.zL.g(e)}();d=$APP.k($APP.k(d)?0<d:d)?d:0;a=N1.g(a);return $APP.af.j(function(e,f){f=mcb(c,f1.F(536870911,f,536870911,2147483647),f1.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:$1.g(f);return $APP.k($APP.k(f)?f>e:f)?f:e},d,a)};
a2=function(a,b,c){var d=$APP.v($APP.Oi.h(tcb,a));if(null!=d)throw $APP.Yl.h(["init-db expects list of Datoms, got ",$APP.yj.l($APP.z([$APP.Jb(d)]))].join(""),new $APP.h(null,1,[$APP.Kn,Qcb],null));Y1(b);d=S1($APP.Nl.l($APP.z([new $APP.h(null,1,[R1,new $APP.h(null,1,[J1,K1],null)],null),b])));var e=L1.g(d),f=h0(a)?a:g0(a);f.sort(zcb);var l=X0(i1,f,c);f.sort(Acb);f=X0(j1,f,c);a=$APP.Pg.h(function(u){return $APP.Se(e,u.a)},a);a=$APP.bf(a);a.sort(Bcb);c=X0(k1,a,c);a=Pcb(d,l,c);var p=$APP.Lx.F($APP.ej.g(function(u){return u.ob(null)}),
$APP.kn,536870912,l);return Gcb($APP.gi([$APP.z1,D1,H1,B1,s1,C1,$APP.A1,G1,F1,E1],[b,p,$APP.Aj.g(0),f,c,a,l,d0(),d0(),d]))};Rcb=function(a,b){return $APP.ui.l(a,$APP.z1,b,$APP.z([E1,S1($APP.Nl.l($APP.z([new $APP.h(null,1,[R1,new $APP.h(null,1,[J1,K1],null)],null),b]))),F1,d0(),G1,d0(),H1,$APP.Aj.g(0)]))};
$APP.c2=function(a){var b=$APP.Yf(a);a=$APP.C.h(b,$APP.z1);b=$APP.C.h(b,$APP.b2);return a2($APP.ej.h(function(c){var d=$APP.y.j(c,0,null),e=$APP.y.j(c,1,null),f=$APP.y.j(c,2,null);c=$APP.y.j(c,3,null);return f1.F(d,e,f,c)},b),a,$APP.Xf)};d2=function(a,b,c,d,e,f,l,p){this.ce=a;this.be=b;this.ge=c;this.ee=d;this.he=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
Scb=function(a){var b=$APP.Ol.l(a,e2,$APP.z([f2,g2,h2,i2]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new d2(e2.g(a),f2.g(a),g2.g(a),h2.g(a),i2.g(a),null,$APP.Zf(b),null)};j2=function(){return null};k2=function(){return null};l2=function(){return null};m2=function(){return null};n2=function(){return null};Tcb=function(){return null};o2=function(){return null};
q2=function(a){if(a instanceof $APP.F)return o2(a)?$APP.fj.h($APP.Bf(a),$APP.Yi.h($APP.Fi(a),1)):$APP.fj.h($APP.Bf(a),["_",$APP.Fi(a)].join(""));if("string"===typeof a){var b=$APP.Ui(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.y.j(b,0,null);a=$APP.y.j(b,1,null);b=$APP.y.j(b,2,null);return $APP.x.h("_",$APP.y.h(b,0))?$APP.k(a)?[$APP.m.g(a),"/",$APP.Yi.h(b,1)].join(""):$APP.Yi.h(b,1):$APP.k(a)?[$APP.m.g(a),"/_",$APP.m.g(b)].join(""):["_",$APP.m.g(b)].join("")}throw $APP.Yl.h(["Bad attribute type: ",$APP.yj.l($APP.z([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,p2,U1,a],null));};Ucb=function(a,b,c){return $APP.on.j(function(d,e){return r2(a,d)&&$APP.Ae(e)?s2(a,e):e},P1.g($APP.C.h(w1(a),b)),c)};t2=function(){return null};Vcb=function(){return null};u2=function(){this.id=$APP.Bj.h(Wcb,$APP.Pd);this.J=2147483648;this.M=0};f0=function(){return null};v2=function(a){return $APP.jf(D1.g(e2.g(a)))+1};
w2=function(a){return $APP.x.h(a,Xcb)||$APP.x.h(a,":db/current-tx")||$APP.x.h(a,"datomic.tx")||$APP.x.h(a,"datascript.tx")};x2=function(a){return"number"===typeof a&&0>a||"string"===typeof a||f0(a)};Ycb=function(a,b){return b>C1.g(a)&&536870912>b?$APP.ui.j(a,C1,b):a};
z2=function(a,b,c){var d=w2(b)?$APP.an.ja($APP.an.P(a,h2,$APP.ui,b,c),y2,$APP.an,c,Lcb,b):a;d=x2(b)?$APP.an.ja($APP.an.P(d,h2,$APP.ui,b,c),y2,$APP.an,c,Lcb,b):d;if(b=!x2(b))a=f2.g(a),b=c>C1.g(a)&&536870912>c;a=b?$APP.an.P(d,h2,$APP.ui,c,c):d;return $APP.an.F(a,f2,Ycb,c)};
$cb=function(a,b){var c=$APP.z1.g(a),d=b.e,e=b.a,f=b.v;if($APP.x.h(e,R1)){if($APP.Cb(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.m.g(f)," does not exist"].join(""),d=new $APP.h(null,2,[$APP.Kn,Zcb,U1,f],null),$APP.Yl.h(a,d);return $APP.Ll.j($APP.Jq(a,new $APP.H(null,2,5,$APP.I,[$APP.z1,d],null),$APP.Ol.h(c.g?c.g(f):c.call(null,f),e)),new $APP.H(null,1,5,$APP.I,[$APP.z1],null),function(l){return $APP.Ol.h(l,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.k(b))return $APP.k(c.g?c.g(b):
c.call(null,b))?$APP.Ll.j(a,new $APP.H(null,2,5,$APP.I,[$APP.z1,b],null),function(l){return $APP.Ol.h(l,e)}):$APP.Ll.j(a,new $APP.H(null,2,5,$APP.I,[$APP.z1,d],null),function(l){return $APP.Ol.l(l,e,$APP.z([f]))});a=["Schema with entity id ",$APP.m.g(d)," does not exist"].join("");d=new $APP.h(null,4,[$APP.Kn,Zcb,A2,d,U1,e,$APP.lK,d],null);throw $APP.Yl.h(a,d);};adb=function(a){a=$APP.z1.g(a);return $APP.k(a)?a:$APP.Xf};
bdb=function(a){return $APP.ui.j(a,E1,S1($APP.Nl.l($APP.z([new $APP.h(null,1,[R1,new $APP.h(null,1,[J1,K1],null)],null),adb(a)]))))};
fdb=function(a,b){var c=b.Md(null);c=$APP.k(c)?j2(a,b.a,J1):c;if($APP.k(c)&&(c=$APP.Zf(o1(a,s1,b.a,b.v,null,null)),null!=c))throw $APP.Yl.h(["Cannot add ",$APP.yj.l($APP.z([b]))," because of unique constraint: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,cdb,U1,b.a,ddb,b],null));var d=t1(a,b.a);c=b.a;c=edb.g?edb.g(c):edb.call(null,c);if($APP.k(b.Md(null))){a=$APP.an.P(a,$APP.A1,S0,b,zcb);a=$APP.an.P(a,B1,S0,b,Acb);d=d?$APP.an.P(a,s1,S0,b,Bcb):a;d=Ycb(d,b.e);d=$APP.ui.j(d,H1,$APP.Aj.g(0));
if($APP.k(c)){var e=adb(d);c=b.e;a=b.a;b=b.v;if($APP.x.h(a,R1)){var f=new $APP.H(null,2,5,$APP.I,[$APP.z1,b],null),l=$APP.Nl.l,p=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.Be(p)?$APP.Nl.l($APP.z([p,e])):e;b=$APP.Jq($APP.Jq(d,f,l.call($APP.Nl,$APP.z([$APP.k(e)?e:$APP.Xf,$APP.gi([a],[b])]))),new $APP.H(null,2,5,$APP.I,[$APP.z1,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.k(f)?$APP.k(e.g?e.g(f):e.call(null,f))?$APP.Jq(d,new $APP.H(null,3,5,$APP.I,[$APP.z1,f,a],null),b):$APP.Jq(d,
new $APP.H(null,3,5,$APP.I,[$APP.z1,c,a],null),b):$APP.Jq(d,new $APP.H(null,2,5,$APP.I,[$APP.z1,c],null),$APP.gi([a],[b]));b=bdb(b)}else b=d;return b}e=n1(a,new $APP.H(null,3,5,$APP.I,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.an.P(a,$APP.A1,T0,e,zcb);a=$APP.an.P(a,B1,T0,e,Acb);d=d?$APP.an.P(a,s1,T0,e,Bcb):a;d=$APP.ui.j(d,H1,$APP.Aj.g(0));return $APP.k(c)?bdb($cb(d,b)):d};
gdb=function(a,b,c,d,e){return $APP.df(function(f,l,p){var u=$APP.C.h(f,l);$APP.k(u)||(u=$1.g($APP.v(o1(c,$APP.A1,d,l,null,null))),u=$APP.k(u)?u:$APP.cf($APP.jn.h($APP.be(P1.g($APP.C.h(w1(c),l))),null)));p=$APP.ui.j(u,p,e);return $APP.ui.j(f,l,p)},a,b)};
D2=function(a,b){var c=f2.g(a),d=B2.g(b);a=$APP.an.F($APP.ui.j(a,f2,fdb(c,b)),g2,$APP.vf,b);if(Tcb(c,d)){var e=$APP.zL.g(b);b=$APP.k($APP.d1(b))?$1.g(b):null;var f=$APP.C.h(C2.g(a),e);f=$APP.k(f)?f:$APP.Xf;d=$APP.C.h(x1(c,Mcb),d);c=gdb(f,d,c,e,b);return $APP.an.P(a,C2,$APP.ui,e,c)}return a};
hdb=function(a,b){function c(f,l){return $APP.af.j(function(p,u){var t=d(f,u);return null==t?$APP.an.F(p,0,$APP.vf,u):$APP.an.P(p,1,$APP.ui,u,t)},new $APP.H(null,2,5,$APP.I,[$APP.Sg,$APP.Xf],null),l)}function d(f,l){return r2(a,f)?x2(l)?null:$APP.zL.g($APP.v(o1(a,s1,f,t2(a,l),null,null))):$APP.zL.g($APP.v(o1(a,s1,f,l,null,null)))}var e=$APP.Zf(x1(a,K1));return null==e?new $APP.H(null,2,5,$APP.I,[b,null],null):$APP.df(function(f,l,p){var u=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);if(!(l instanceof $APP.F||
"string"===typeof l))throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([l]))," at ",$APP.yj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,l,E2,b,$APP.Kn,p2],null));if(null==p)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.lK,null,E2,b,$APP.Kn,p2],null));if($APP.Se(e,l)){if(l2(a,l,p)){var t=c(l,p);p=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.ve(p)?u:$APP.ui.j(u,
l,p),$APP.ve(t)?f:$APP.ui.j(f,l,t)],null)}t=d(l,p);return null==t?new $APP.H(null,2,5,$APP.I,[$APP.ui.j(u,l,p),f],null):new $APP.H(null,2,5,$APP.I,[u,$APP.ui.j(f,l,$APP.Wf([p,t]))],null)}return new $APP.H(null,2,5,$APP.I,[$APP.ui.j(u,l,p),f],null)},new $APP.H(null,2,5,$APP.I,[$APP.Xf,$APP.Xf],null),b)};
kdb=function(a,b){var c=$APP.df(function(l,p,u){return $APP.df(function(t,A,B){return $APP.ui.j(t,B,new $APP.H(null,2,5,$APP.I,[p,A],null))},l,u)},$APP.Xf,b);if(2<=$APP.be(c)){b=$APP.v(c);a=$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null);b=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);var e=$APP.ge(c);c=$APP.y.j(e,0,null);var f=$APP.y.j(e,1,null);e=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);throw $APP.Yl.h(["Conflicting upserts: ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[b,d],null)]))," resolves to ",$APP.yj.l($APP.z([a])),
", but ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[e,f],null)]))," resolves to ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,F2,idb,new $APP.H(null,3,5,$APP.I,[a,b,d],null),jdb,new $APP.H(null,3,5,$APP.I,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.y.j(d,0,null);c=$APP.y.j(d,1,null);d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);a=G2.g(a);if(null!=b&&null!=a&&!x2(a)&&$APP.ti.h(b,a))throw $APP.Yl.h(["Conflicting upsert: ",$APP.yj.l($APP.z([new $APP.H(null,2,5,$APP.I,[d,c],null)]))," resolves to ",
$APP.yj.l($APP.z([b])),", but entity already has :db/id ",$APP.yj.l($APP.z([a]))].join(""),new $APP.h(null,3,[$APP.Kn,F2,idb,new $APP.H(null,3,5,$APP.I,[b,d,c],null),jdb,new $APP.h(null,1,[G2,a],null)],null));return b};ldb=function(a,b,c){return o2(b)||k2(a,b)?h0(c)||$APP.we(c)&&!$APP.Be(c)?$APP.x.h($APP.be(c),2)&&j2(a,$APP.v(c),K1)?new $APP.H(null,1,5,$APP.I,[c],null):c:new $APP.H(null,1,5,$APP.I,[c],null):new $APP.H(null,1,5,$APP.I,[c],null)};
mdb=function(a,b){var c=G2.g(b),d=$APP.qg.h($APP.K,$APP.af.j(function(e,f){var l=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return $APP.an.F(e,n2(a,l)?1:0,$APP.vf,new $APP.H(null,2,5,$APP.I,[l,f],null))},new $APP.H(null,2,5,$APP.I,[$APP.Sg,$APP.Sg],null),b));return function l(f){return new $APP.Ff(null,function(){for(var p=f;;){var u=$APP.r(p);if(u){var t=u,A=$APP.v(t),B=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null);if($APP.ti.h(B,G2)){var G=function(){var Z=B;if(Z instanceof $APP.F||"string"===typeof Z)return null;
var ba=$APP.Wf([G2,c,B,E]);throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Z]))," at ",$APP.yj.l($APP.z([ba])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,Z,E2,ba,$APP.Kn,p2],null));}(),O=o2(B),T=O?q2(B):B;if(O&&!r2(a,T))throw $APP.Yl.h(["Bad attribute ",$APP.yj.l($APP.z([B])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.Kn,p2,U1,B,E2,$APP.Wf([G2,c,B,E])],null));if(u=$APP.r(function(Z,ba,da,ia,ma,ya,sa,X,
S,W,U,Y){return function ea(za){return new $APP.Ff(null,function(pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb){return function(){for(;;){var Ab=$APP.r(za);if(Ab){if($APP.Ee(Ab)){var Kb=$APP.cd(Ab),Zb=$APP.be(Kb),cc=$APP.If(Zb);a:for(var Hc=0;;)if(Hc<Zb){var lc=$APP.oe(Kb,Hc);$APP.Mf(cc,r2(a,Na)&&$APP.Be(lc)?$APP.ui.j(lc,q2(fb),mb):xa?new $APP.H(null,4,5,$APP.I,[H2,lc,Na,mb],null):new $APP.H(null,4,5,$APP.I,[H2,mb,Na,lc],null));Hc+=1}else{Kb=!0;break a}return Kb?$APP.Lf($APP.Nf(cc),ea($APP.dd(Ab))):$APP.Lf($APP.Nf(cc),
null)}cc=$APP.v(Ab);return $APP.yf(r2(a,Na)&&$APP.Be(cc)?$APP.ui.j(cc,q2(fb),mb):xa?new $APP.H(null,4,5,$APP.I,[H2,cc,Na,mb],null):new $APP.H(null,4,5,$APP.I,[H2,mb,Na,cc],null),ea($APP.Id(Ab)))}return null}}}(Z,ba,da,ia,ma,ya,sa,X,S,W,U,Y),null,null)}}(p,G,O,T,null,A,B,E,t,u,c,d)(ldb(a,B,E))))return $APP.K.h(u,l($APP.Id(p)))}p=$APP.Id(p)}else return null}},null,null)}(d)};
J2=function(a,b){$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null),f=$APP.y.j(b,4,null);if(!(d instanceof $APP.F||"string"===typeof d))throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([d]))," at ",$APP.yj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,d,E2,b,$APP.Kn,p2],null));if(null==e)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.lK,null,E2,b,$APP.Kn,p2],null));
b=$APP.k(f)?f:v2(a);f=f2.g(a);c=s2(f,c);e=r2(f,d)?s2(f,e):e;var l=f1.F(c,d,e,b);f=k2(f,d)?n1(f,new $APP.H(null,3,5,$APP.I,[c,d,e],null)):n1(f,new $APP.H(null,2,5,$APP.I,[c,d],null));return null==f?D2(a,l):$APP.x.h(f.v,e)?$APP.an.F(a,I2,ndb,l):D2(D2(a,f1.P(c,d,f.v,b,!1)),l)};odb=function(a,b){var c=v2(a);return D2(a,f1.P(b.e,b.a,b.v,c,!1))};
qdb=function(a,b){return $APP.Eh.j($APP.Ai,$APP.qq.h($APP.Pg.g(function(c){return m2(a,c.a)}),$APP.ej.g(function(c){return new $APP.H(null,2,5,$APP.I,[pdb,c.v],null)})),b)};
rdb=function(a,b,c,d,e){var f=$APP.C.h(K2.g(a),d);if(null==f)return b=$APP.ui.j(h2.g(b),d,e),a=$APP.an.P($APP.ui.j(a,h2,b),K2,$APP.ui,d,e),L2(a,c);throw $APP.Yl.h(["Conflicting upsert: ",$APP.yj.l($APP.z([d]))," resolves both to ",$APP.yj.l($APP.z([e]))," and ",$APP.yj.l($APP.z([f]))].join(""),new $APP.h(null,1,[$APP.Kn,F2],null));};
sdb=function(a){var b=f2.g(a);return $APP.df(function(c,d,e){return $APP.df(function(f,l,p){p=$APP.mg($APP.yb,p)?null:p;var u=$1.g($APP.v(o1(b,$APP.A1,d,l,null,null)));return $APP.x.h(p,u)?f:null==p?$APP.vf.h(f,$APP.re(new $APP.H(null,4,5,$APP.I,[M2,d,l,u],null),new $APP.h(null,1,[N2,!0],null))):$APP.vf.h(f,$APP.re(new $APP.H(null,4,5,$APP.I,[H2,d,l,p],null),new $APP.h(null,1,[N2,!0],null)))},c,e)},$APP.Sg,C2.g(a))};
tdb=function(a){var b=O2.g(a);if($APP.k(b)){var c=$APP.Tc(b);b=function(d,e){return $APP.k($APP.d1(e))?$APP.iy.h(d,$APP.zL.g(e)):d};c=$APP.af.j(b,c,g2.g(a));b=$APP.af.j(b,c,I2.g(a));if(0===$APP.be(b))return $APP.Ol.l(a,O2,$APP.z([I2]));throw $APP.Yl.h(["Tempids used only as value in transaction: ",$APP.yj.l($APP.z([$APP.Ik.g($APP.si($APP.Vc(b)))]))].join(""),new $APP.h(null,2,[$APP.Kn,p2,h2,b],null));}return $APP.Ol.l(a,O2,$APP.z([I2]))};
wdb=function(a){if($APP.k(Nbb(a))){var b;if(b=$APP.Se(a,R1)){b=R1.g(a);var c=b instanceof $APP.F||"string"===typeof b;c?(b=$APP.Bf($APP.fj.g(b)),b=$APP.k(b)?$APP.x.h("db",$APP.v($APP.fl.h(b,/\./))):!1):b=c}if(b)throw $APP.Yl.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.h(null,2,[$APP.Kn,udb,vdb,a],null));b=X1.g(a);b=$APP.k(b)?b:W1.g(a);if(b=$APP.k(b))b=R1.g(a),b=$APP.k(b)?X1.g(a):b,b=!$APP.k(b);if(b)throw $APP.Yl.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.h(null,2,[$APP.Kn,udb,vdb,a],null));}};xdb=function(){};P2=function(a,b,c){if(null!=a&&null!=a.Wl)a=a.Wl(a,b,c);else{var d=P2[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IStorage.-store",a);}return a};
Q2=function(a,b){if(null!=a&&null!=a.Vl)a=a.Vl(a,b);else{var c=Q2[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Q2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IStorage.-restore",a);}return a};ydb=function(a){return new $APP.H(null,4,5,$APP.I,[a.e,a.a,a.v,a.tx],null)};R2=function(a,b,c,d){this.storage=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};zdb=function(a){return new R2(a,null,null,null)};
S2=function(a){return $APP.k(a)?$APP.A1.g(a).storage:null};T2=function(a){a=S2(a);return null==a?null:W0.g(a)};
W2=function(a,b,c){$APP.Bj.j(Adb,$APP.vf,a);var d=U2;U2=$APP.yg($APP.Tc($APP.Sg));try{var e=$APP.A1.g(a),f=B1.g(a),l=s1.g(a),p=e.og(null,b),u=f.og(null,b),t=l.og(null,b),A=$APP.Nl.l($APP.z([$APP.gi([$APP.z1,D1,B1,Bdb,s1,C1,$APP.A1,Cdb,Ddb,Edb],[$APP.z1.g(a),D1.g(a),u,$APP.n(V2),t,C1.g(a),p,new $APP.h(null,2,[$APP.$J,f.S,$0,f.shift],null),new $APP.h(null,2,[$APP.$J,l.S,$0,l.shift],null),new $APP.h(null,2,[$APP.$J,e.S,$0,e.shift],null)]),rcb($APP.A1.g(a))]));if($APP.k($APP.k(c)?c:0<$APP.be($APP.n(U2)))){$APP.kd(U2,
$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.I,[0,A],null)));$APP.kd(U2,$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.I,[1,$APP.Sg],null)));var B=W0.g(b),E=$APP.Fy.g($APP.C.h($APP.n(Fdb),B));$APP.Bj.F(Fdb,$APP.ui,B,null);P2(B,$APP.Vc($APP.n(U2)),E)}return a}finally{U2=d}};Gdb=function(a,b){return P2(T2(a),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[1,$APP.on.h(function(c){return $APP.on.h(ydb,c)},b)],null)],null),null)};
Idb=function(a,b){var c=Q2(a,0);if(null==c)return null;var d=Q2(a,1),e=$APP.Yf(c),f=$APP.C.h(e,Ddb),l=$APP.C.h(e,Edb),p=$APP.C.h(e,$APP.z1),u=$APP.C.h(e,D1),t=$APP.C.h(e,B1),A=$APP.C.h(e,Bdb),B=$APP.C.h(e,s1),E=$APP.C.h(e,C1),G=$APP.C.h(e,$APP.A1);e=$APP.C.h(e,Cdb);V2.rc(null,function(){var T=V2.Ja(null);return T>A?T:A}());b=$APP.Nl.l($APP.z([c,b]));a=zdb(a,b);var O=X2(new $APP.h(null,6,[$APP.z1,p,$APP.A1,ocb(i1,G,a,$APP.ui.j(b,Z0,l)),B1,ocb(j1,t,a,$APP.ui.j(b,Z0,e)),s1,ocb(k1,B,a,$APP.ui.j(b,Z0,
f)),C1,E,D1,u],null));$APP.Bj.j(Adb,$APP.vf,O);return new $APP.H(null,2,5,$APP.I,[O,$APP.on.h(function(T){return $APP.sn.h(function(Z){var ba=$APP.y.j(Z,0,null),da=$APP.y.j(Z,1,null),ia=$APP.y.j(Z,2,null),ma=$APP.y.j(Z,3,null);Z=o1(O,$APP.A1,ba,da,ia,null);Z=$APP.og(function(ya){return $APP.x.h(ma,Hdb.g(ya))},Z);return $APP.k($APP.k(Z)?0<ma:Z)?null:f1.F(ba,da,ia,ma)},T)},d)],null)};
Jdb=function(a,b){return $APP.af.j(function(c,d){if($APP.ve(d))return c;try{var e=$APP.af.j(fdb,c,d);return $APP.ui.j(e,D1,Hdb.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};Y2=function(a){return null==W0.g(a)?a:$APP.an.F(a,W0,zdb,a)};Z2=function(a,b,c,d){this.Rg=a;this.tg=b;this.lb=c;this.O=d;this.M=98306;this.J=6455552};Kdb=function(a,b){if(null!=a&&!$APP.k(a.g?a.g(b):a.call(null,b)))throw $APP.Yl.h("Invalid reference state",new $APP.h(null,1,[$APP.lK,b],null));};
a3=function(a,b,c){var d=$APP.n(a);b=$APP.qg.j(b,d,c);Kdb(a.tg,b);$APP.Rba(a.Rg,$APP.ui.j($APP.n(a.Rg),$2,d),$APP.ui.j($APP.n(a.Rg),$2,b));a:{c=$APP.r(a.lb);for(var e=null,f=0,l=0;;)if(l<f){var p=e.ea(null,l),u=$APP.y.j(p,0,null);p=$APP.y.j(p,1,null);p.F?p.F(u,a,d,b):p.call(null,u,a,d,b);l+=1}else if(c=$APP.r(c))$APP.Ee(c)?(e=$APP.cd(c),c=$APP.dd(c),u=e,f=$APP.be(e),e=u):(e=$APP.v(c),u=$APP.y.j(e,0,null),p=$APP.y.j(e,1,null),p.F?p.F(u,a,d,b):p.call(null,u,a,d,b),c=$APP.w(c),e=null,f=0),l=0;else break a}return new $APP.H(null,
2,5,$APP.I,[d,b],null)};b3=function(a,b,c,d){return new Z2(a,b,c,d)};Ldb=function(a){a=$APP.Aj.g(a);return b3.g?b3.g(a):b3.call(null,a)};c3=function(a){switch(arguments.length){case 2:return c3.h(arguments[0],arguments[1]);case 3:return c3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};Mdb=function(a,b){return f2.g(c3.h(a,b))};
g3=function(a){if(null==T2(a))return Ldb(new $APP.h(null,1,[$2,a],null));d3.g(a);return Ldb(new $APP.h(null,3,[$2,a,e3,$APP.Sg,f3,a],null))};
Odb=function(a,b,c){var d=$APP.yg(null),e=Ndb.g(c),f=$APP.Ol.h(c,Ndb);$APP.Bj.h(a,function(u){u=c3.j(u,b,f);$APP.kd(d,u);return f2.g(u)});if(null!=T2($APP.n(a))){c=$APP.n(d);var l=$APP.Yf(c);c=$APP.C.h(l,f2);var p=$APP.C.h(l,g2);l=rcb($APP.A1.g(c));a=$APP.XH.g(a);p=e3.g($APP.Bj.l(a,$APP.an,e3,$APP.vf,$APP.z([p])));$APP.k(e)||($APP.Lx.F($APP.ej.g($APP.be),$APP.Mx,0,p)>a1.g(l)?(W2(c,S2(c),!1),$APP.Bj.l(a,$APP.ui,e3,$APP.Sg,$APP.z([f3,c]))):Gdb(c,p))}return $APP.n(d)};
Pdb=function(a,b){b=$APP.Bj.j(a,Rcb,b);null!=T2($APP.n(a))&&(W2(b,S2(b),!0),$APP.Bj.l($APP.XH.g(a),$APP.ui,e3,$APP.Sg,$APP.z([f3,b])));return b};h3=function(a,b){b="number"===typeof b||$APP.Ae(b)||b instanceof $APP.F?t2(a,b):null;if($APP.k(b)&&Vcb(a,b)){var c=$APP.yg(!1),d=$APP.yg($APP.Xf);return Qdb.F?Qdb.F(a,b,c,d):Qdb.call(null,a,b,c,d)}return null};
Rdb=function(a,b,c){return k2(a,b)?r2(a,b)?$APP.af.j(function(d,e){return $APP.vf.h(d,h3(a,$1.g(e)))},$APP.Ai,c):$APP.af.j(function(d,e){return $APP.vf.h(d,$1.g(e))},$APP.Ai,c):r2(a,b)?h3(a,$1.g($APP.v(c))):$1.g($APP.v(c))};Sdb=function(a,b,c,d){b=$APP.Zf(m1(a,new $APP.H(null,3,5,$APP.I,[null,c,b],null)));return $APP.k(b)?m2(a,c)?h3(a,$APP.zL.g($APP.v(b))):$APP.af.j(function(e,f){return $APP.vf.h(e,h3(a,$APP.zL.g(f)))},$APP.Ai,b):d};i3=function(a){return $APP.k(a)?$APP.bf(a):null};
k3=function(a){j3.g?j3.g(a):j3.call(null,a);return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){if($APP.Ee(e)){var f=$APP.cd(e),l=$APP.be(f),p=$APP.If(l);a:for(var u=0;;)if(u<l){var t=$APP.oe(f,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);$APP.Mf(p,k2(a.db,A)?new $APP.H(null,2,5,$APP.I,[A,i3(t)],null):new $APP.H(null,2,5,$APP.I,[A,t],null));u+=1}else{f=!0;break a}return f?$APP.Lf($APP.Nf(p),d($APP.dd(e))):$APP.Lf($APP.Nf(p),null)}f=$APP.v(e);p=$APP.y.j(f,0,null);
f=$APP.y.j(f,1,null);return $APP.yf(k2(a.db,p)?new $APP.H(null,2,5,$APP.I,[p,i3(f)],null):new $APP.H(null,2,5,$APP.I,[p,f],null),d($APP.Id(e)))}return null}},null,null)}($APP.n(a.cache))};l3=function(a,b,c,d){this.db=a;this.eid=b;this.Cj=c;this.cache=d;this.J=2162164483;this.M=0};Qdb=function(a,b,c,d){return new l3(a,b,c,d)};Tdb=function(a){return a instanceof l3};m3=function(a,b){return b instanceof l3&&a.db===b.db&&$APP.x.h(a.eid,b.eid)};Udb=function(a){return b1($APP.yd(a.eid),$APP.la(a.db))};
Vdb=function(a,b){return $APP.df(function(c,d,e){return $APP.ui.j(c,d,m2(a,d)?k2(a,d)?$APP.Di($APP.ej.h(j3,e)):j3.g?j3.g(e):j3.call(null,e):e)},$APP.Xf,b)};Wdb=function(a,b){return $APP.af.j(function(c,d){var e=B2.g($APP.v(d));return $APP.ui.j(c,e,Rdb(a,e,d))},$APP.Xf,$APP.Ky.h(B2,b))};j3=function(a){if(null!=a){if(!$APP.k($APP.n(a.Cj))){var b=$APP.Zf(m1(a.db,new $APP.H(null,1,5,$APP.I,[a.eid],null)));$APP.k(b)&&($APP.zg(a.cache,Vdb(a.db,Wdb(a.db,b))),$APP.kd(a.Cj,!0))}return a}return null};
Xdb=function(a){return $APP.af.j($APP.Mx,0,a)};Ydb=function(a){return Xdb(a)/$APP.be(a)};
Zdb=function(a){var b=Ydb(a);return Xdb(function(){return function e(d){return new $APP.Ff(null,function(){for(;;){var f=$APP.r(d);if(f){if($APP.Ee(f)){var l=$APP.cd(f),p=$APP.be(l),u=$APP.If(p);a:for(var t=0;;)if(t<p){var A=$APP.oe(l,t)-b;u.add(A*A);t+=1}else{l=!0;break a}return l?$APP.Lf($APP.Nf(u),e($APP.dd(f))):$APP.Lf($APP.Nf(u),null)}u=$APP.v(f)-b;return $APP.yf(u*u,e($APP.Id(f)))}return null}},null,null)}(a)}())/$APP.be(a)};
n3=function(a,b,c,d,e,f,l,p,u,t,A,B,E,G,O){this.as=a;this.Vc=b;this.Gb=c;this.name=d;this.pattern=e;this.wc=f;this.Ca=l;this.Fc=p;this.Hb=u;this.vc=t;this.xc=A;this.sc=B;this.A=E;this.o=G;this.C=O;this.J=2230716170;this.M=139264};
$db=function(a){var b=$APP.Ol.l(a,$APP.ko,$APP.z([$APP.Mm,o3,$APP.N,$APP.nH,p3,q3,r3,s3,t3,u3,v3]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new n3($APP.ko.g(a),$APP.Mm.g(a),o3.g(a),$APP.N.g(a),$APP.nH.g(a),p3.g(a),q3.g(a),r3.g(a),s3.g(a),t3.g(a),u3.g(a),v3.g(a),null,$APP.Zf(b),null)};w3=function(a,b,c,d,e,f,l,p){this.ta=a;this.Dd=b;this.Qd=c;this.rd=d;this.Lc=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
aeb=function(a){var b=$APP.Ol.l(a,x3,$APP.z([y3,z3,A3,B3]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new w3(x3.g(a),y3.g(a),z3.g(a),A3.g(a),B3.g(a),null,$APP.Zf(b),null)};D3=function(a,b,c){if($APP.k(a))return null;throw $APP.Yl.h(["Expected ",$APP.m.g(b),", got: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,beb,C3,c],null));};
eeb=function(a,b){var c=o2(b),d=c?q2(b):b,e=r2(a,d),f=m2(a,d);a=k2(a,d);if(c){D3(e,"reverse attribute having :db.type/ref",b);var l=!0}else l=null;return $db($APP.gi([s3,o3,r3,$APP.N,$APP.ko,v3,u3,t3,$APP.nH],[$APP.ef,a?1E3:null,l,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?ceb:f?deb:ceb:null]))};feb=function(a,b,c){D3("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);D3(k2(a,$APP.N.g(b)),"limit attribute having :db.cardinality/many",$APP.N.g(b))};
heb=function(a,b){var c=function(){var d=$APP.v(b);return E3.h?E3.h(a,d):E3.call(null,a,d)}();if(null==c)return null;D3($APP.pg($APP.be($APP.w(b))),"even number of opts",b);return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);switch(f instanceof $APP.F?f.N:null){case "as":return $APP.ui.j(d,$APP.ko,e);case "limit":return feb(a,d,e),$APP.ui.j(d,o3,e);case "default":return $APP.ui.j(d,$APP.Mm,e);case "xform":f=$APP.ui.j;var l=$APP.pe(e)?e:null;if($APP.k(l))e=l;else if(l=$APP.C.h(geb,
e),$APP.k(l))e=l;else throw $APP.Yl.h(["Can't resolve symbol ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,2,[$APP.Kn,beb,C3,e],null));return f.call($APP.ui,d,s3,e);default:return D3(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.rq.h(2,$APP.w(b)))};
E3=function(a,b){var c;!(c=b instanceof $APP.F)&&(c="string"===typeof b)&&(c=new $APP.zi(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.Cb(c));if(c)return eeb(a,b);if($APP.Ae(b)){c=heb(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.zi(null,new $APP.h(null,2,[$APP.Hna,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.be(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,
1,null),c=$APP.y.j(b,2,null),d=E3.h?E3.h(a,d):E3.call(null,a,d),feb(a,d,c),c=$APP.ui.j(d,o3,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.zi(null,new $APP.h(null,2,[$APP.gL,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.be(b),3),"['default attr-name any-value]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),c=$APP.y.j(b,2,null),a=E3.h?E3.h(a,d):E3.call(null,a,d),a=$APP.ui.j(a,$APP.Mm,c)):a=null;return $APP.k(a)?a:D3(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};ieb=function(a,b){return $APP.og(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.ej.j($APP.Fw,b,$APP.Un.D()))};jeb=function(a,b){var c=$APP.k(r3.g(b))?A3:x3,d=ieb(function(e){return $APP.x.h($APP.ko.g(e),$APP.ko.g(b))},$APP.C.h(a,c));return null==d?$APP.an.F(a,c,$APP.vf,b):$APP.an.P(a,c,$APP.ui,d,b)};
F3=function(a,b){D3($APP.Ae(b),"pattern to be sequential?",b);for(var c=aeb(new $APP.h(null,3,[x3,$APP.Sg,A3,$APP.Sg,B3,null],null));;){if($APP.ve(b)){var d=c.ta,e=function(){return function(p){p=p.name;var u=new $APP.zi(null,new $APP.h(null,2,[G2,null,":db/id",null],null),null);return u.g?u.g(p):u.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.N.g(p);return p instanceof $APP.F?p:$APP.x.h(":",$APP.Yi.j(p,0,1))?$APP.fj.g($APP.Yi.h(p,1)):$APP.fj.g(p)}}(b,c,d,e);d=$APP.k(function(){var p=
c.Lc;return $APP.k(p)?$APP.Cb($APP.og(e,c.ta)):p}())?$APP.vf.h(d,keb):d;d=$APP.Es.g($APP.Jx.h(b,d));var f=$APP.gs.h(e,d),l=$APP.v(f);f=$APP.me(f);return aeb(new $APP.h(null,5,[x3,d,y3,l,z3,f,A3,$APP.Es.g($APP.Jx.h(b,c.rd)),B3,c.Lc],null))}l=$APP.v(b);if($APP.x.h($APP.XI,l)||$APP.x.h("*",l)||$APP.x.h(leb,l))b=$APP.w(b),c=d=$APP.ui.j(c,B3,!0);else if($APP.Be(l))d=$APP.df(function(){return function(p,u,t){var A=E3(a,u);D3(null!=A,"attr-name | attr-expr",u);D3(r2(a,$APP.N.g(A)),"attribute having :db.type/ref",
u);$APP.x.h(meb,t)||$APP.x.h("...",t)?u=$APP.ui.l(A,$APP.nH,null,$APP.z([q3,!0,p3,null])):"number"===typeof t?(D3(0<t,"(positive-num | ...)",$APP.Wf([u,t])),u=$APP.ui.l(A,$APP.nH,null,$APP.z([q3,!0,p3,t]))):u=$APP.ui.j(A,$APP.nH,F3.h?F3.h(a,t):F3.call(null,a,t));return jeb(p,u)}}(b,c,l),c,l),b=$APP.w(b),c=d;else{d=E3(a,l);if(null==d)return D3(!1,"attr-name | attr-expr | map-spec | *",l);b=$APP.w(b);c=d=jeb(c,d)}}};G3=function(a){return null==a?null:$APP.Yb(a)};H3=function(a){return null==a?null:$APP.bc(a)};
neb=function(a,b){return null==a?new $APP.D(null,b,null,1,null):$APP.Vb(a,b)};oeb=function(a,b,c){return null==c?a:$APP.Ih.j(a,b,c)};I3=function(a,b,c,d,e){this.db=a;this.bf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};peb=function(a,b,c,d,e){a=a.bf;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
qeb=function(a,b){if(null!=a&&null!=a.ai)a=a.ai(a,b);else{var c=qeb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=qeb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-merge",a);}return a};reb=function(a,b){if(null!=a&&null!=a.hh)a=a.hh(a,b);else{var c=reb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=reb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IFrame.-run",a);}return a};
J3=function(a,b,c,d,e){this.value=a;this.ya=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};K3=function(a,b,c,d,e,f){this.pa=a;this.na=b;this.ya=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};L3=function(a,b,c,d,e,f,l,p,u){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ya=f;this.A=l;this.o=p;this.C=u;this.J=2230716170;this.M=139264};
M3=function(a,b,c,d,e,f,l,p,u,t,A){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ta=f;this.ya=l;this.id=p;this.A=u;this.o=t;this.C=A;this.J=2230716170;this.M=139264};N3=function(a,b,c,d,e,f,l,p,u,t){this.ua=a;this.za=b;this.pa=c;this.pattern=d;this.na=e;this.ta=f;this.id=l;this.A=p;this.o=u;this.C=t;this.J=2230716170;this.M=139264};seb=function(a,b,c,d,e,f,l){return new N3(a,b,c,d,e,f,l,null,null,null)};
P3=function(a,b,c,d,e,f){var l=e.Ca;$APP.k(l)||(l=e.sc,l=$APP.k(l)?e.pattern.Lc:l);if($APP.Cb(l))return d=e.pattern,O3.P?O3.P(a,b,c,d,f):O3.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new J3(new $APP.h(null,1,[G2,f],null),null,null,null,null);l=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(l)?0>=l&&!0:l))return new J3(null,null,null,null,null);b=$APP.vf.h(b,f);c=$APP.k(l)?$APP.an.j(c,e,$APP.ff):$APP.k(e.wc)?$APP.ui.j(c,e,e.wc-1):c;d=$APP.k(e.Ca)?d:e.pattern;return O3.P?O3.P(a,b,
c,d,f):O3.call(null,a,b,c,d,f)};
O3=function(a,b,c,d,e){var f=a.db,l=function(){var p=d.Lc;if($APP.k($APP.k(p)?f instanceof $APP.y1&&!0:p))return U0(f.ec,f1.F(e,null,null,536870912),f1.F(e,null,null,2147483647));if($APP.k(d.Lc))return m1(f,new $APP.H(null,1,5,$APP.I,[e],null));if(null==d.Dd)return null;p=d.Dd.name;var u=d.Qd.name;return f instanceof $APP.y1?U0(f.ec,f1.F(e,p,null,536870912),f1.F(e,u,null,2147483647)):p1(f,$APP.A1,e,null,null,null)}();$APP.k(d.Lc)&&peb(a,teb,e,null,null);return new M3(b,c,$APP.Tc($APP.Xf),d,G3(d.ta),
H3(d.ta),l,e,null,null,null)};Q3=function(a,b){var c=$APP.Yf(a);a=$APP.C.h(c,E2);c=$APP.C.h(c,$APP.nH);b=t2(a.db,b);if(null==b)return null;for(c=new $APP.D(null,O3(a,$APP.Ai,$APP.Xf,c,b),null,1,null);;){b=G3(c);var d=H3(c);if(b instanceof J3){if(null==d)return b.value;c=G3(d);d=H3(d);c=neb(d,qeb(c,b))}else c=$APP.af.j(neb,d,reb(b,a))}};S3=function(a,b,c){c=$APP.Yf(c);c=$APP.C.h(c,R3);return new $APP.h(null,2,[$APP.nH,b0(Hcb(a).Pc,b,function(){return F3(a,b)}),E2,new I3(a,c,null,null,null)],null)};
T3=function(a,b){return $APP.zb(a)?a[b]:$APP.y.h(a,b)};U3=function(a,b){return $APP.Be(a)?a.g?a.g(b):a.call(null,b):a[b]};V3=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};ueb=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};veb=function(a,b){return null==b.a?-1:0>=$APP.We(a.a,b.a)?-1:1};
web=function(a){if($APP.ve(B1.g(a)))return $APP.Sg;for(var b=$APP.Tc(new $APP.H(null,1,5,$APP.I,[B2.g($APP.v(B1.g(a)))],null));;){var c=$APP.y.h(b,$APP.be(b)-1),d=f1.j(0,c,null),e=f1.j(2147483647,null,null);c=B2;var f=c.g,l=B1.g(a);d=icb(l,d,e,veb);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Rg.h(b,c);else return $APP.Vc(b)}};xeb=function(a){return $APP.Ea(a,":")?$APP.fj.g($APP.Yi.h(a,1)):a};
Aeb=function(a,b){b=$APP.Yf(b);var c=$APP.C.j(b,yeb,$APP.yj),d=$APP.C.j(b,zeb,$APP.m);if($APP.k(T2(a)))throw $APP.Yl.h("serializable doesn't work with databases that have :storage",$APP.Xf);var e=web(a),f=$APP.Eh.h($APP.Xf,$APP.ej.j($APP.Fw,e,$APP.Un.D())),l=$APP.yg($APP.Tc($APP.Sg)),p=$APP.yg($APP.Tc($APP.Xf));b=ueb(function(B,E){E.idx=B|0;B=E.e;var G=E.a;G=f.g?f.g(G):f.call(null,G);var O=E.v;if("string"!==typeof O)if("number"===typeof O)O=Infinity===O?[2]:-Infinity===O?[3]:$APP.k(isNaN(O))?[4]:
O;else if(!$APP.Ie(O))if(O instanceof $APP.F){var T=$APP.C.h($APP.n(p),O);$APP.k(T)?O=T:(T=l.rc(null,$APP.Rg.h(l.Ja(null),O)),T=$APP.be(T)-1,p.rc(null,$APP.Ih.j(p.Ja(null),O,T)),O=T);O=[0,O]}else O=[1,c.g?c.g(O):c.call(null,O)];return[B,G,O,E.tx-536870912]},$APP.A1.g(a));var u=ueb(function(B,E){return E.idx},B1.g(a)),t=ueb(function(B,E){return E.idx},s1.g(a)),A=function(){var B=$APP.z1.g(a);return c.g?c.g(B):c.call(null,B)}();e=V3(d,e);d=V3(d,$APP.Vc($APP.n(l)));return{count:$APP.be($APP.A1.g(a)),
tx0:536870912,"max-eid":C1.g(a),"max-tx":D1.g(a),schema:A,attrs:e,keywords:d,eavt:b,aevt:u,avet:t}};W3=function(){};Beb=function(a,b,c){if(null!=a&&null!=a.Eb)a=a.Eb(a,b,c);else{var d=Beb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Beb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("ITraversable.-collect",a);}return a};
Ceb=function(a,b){if(null!=a&&null!=a.Fb)a=a.Fb(a,b);else{var c=Ceb[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ceb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("ITraversable.-collect-vars",a);}return a};X3=function(a,b){return $APP.Ae(a)&&$APP.x.h($APP.be(a),b)};Y3=function(a,b){return $APP.Ae(b)?$APP.af.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.vf.h(c,d):$APP.Sd(null)},$APP.Sg,b):null};$3=function(a,b){return Z3(a,b,$APP.Sg)};
Z3=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.vf.h(c,b):(null!=b?$APP.xd===b.Db||(b.yd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?Beb(b,a,c):scb(b)?$APP.af.j(function(d,e){return Z3(a,e,d)},c,b):c};a4=function(a){var b=$APP.ve(a);return b?b:$APP.qg.h($APP.Xo,a)};b4=function(a,b){return $APP.re(a,new $APP.h(null,1,[$APP.Ml,b],null))};c4=function(a){var b=$APP.Ml.g($APP.se(a));return $APP.k(b)?b:a};d4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};
e4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};f4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};g4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};h4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};i4=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};
j4=function(a,b,c,d){this.Oa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};k4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?new e4(a,null,null,null):null};Eeb=function(a){var b=k4(a);if($APP.k(b))return b;throw $APP.Yl.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.yj.l($APP.z([a]))].join(""),new $APP.h(null,2,[$APP.Kn,Deb,$APP.wB,a],null));};
l4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"$")?new f4(a,null,null,null):null};Feb=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Fi(a)),"?")?null:new i4(a,null,null,null)};m4=function(a){return a instanceof $APP.q&&$APP.Cb(k4(a))&&$APP.Cb(l4(a))&&$APP.Cb($APP.x.h($APP.Rv,a)?new h4(null,null,null):null)&&$APP.Cb($APP.x.h($APP.bJ,a)?new d4(null,null,null):null)?new j4(a,null,null,null):null};Geb=function(a){return $APP.k(m4(a))?new e4(a,null,null,null):null};
Heb=function(a){var b=k4(a);if($APP.k(b))return b;b=l4(a);return $APP.k(b)?b:Feb(a)};n4=function(a,b,c,d,e){this.required=a;this.ue=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Jeb=function(a){if($APP.Ae(a)){var b=$APP.Ae($APP.v(a))?new $APP.H(null,2,5,$APP.I,[$APP.v(a),$APP.w(a)],null):new $APP.H(null,2,5,$APP.I,[null,a],null),c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=Y3(Eeb,c);b=Y3(Eeb,b);if($APP.ve(c)&&$APP.ve(b))throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,Ieb,$APP.wB,a],null));if(!$APP.k(a4($APP.K.h(c,b))))throw $APP.Yl.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.Kn,Ieb,$APP.wB,
a],null));return new n4(c,b,null,null,null)}throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,Ieb,$APP.wB,a],null));};p4=function(a){return $APP.K.h($APP.k($APP.CI.g(a))?new $APP.H(null,1,5,$APP.I,[$APP.on.h($APP.zm,$APP.CI.g(a))],null):null,$APP.on.h($APP.zm,o4.g(a)))};Keb=function(a){return new $APP.H(null,2,5,$APP.I,[$APP.be($APP.CI.g(a)),$APP.be(o4.g(a))],null)};
q4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};r4=function(a,b,c,d){this.bc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};s4=function(a,b,c,d){this.Mc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};t4=function(a,b,c,d){this.$b=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Leb=function(a){return $APP.x.h($APP.bJ,a)?b4(new q4(null,null,null),a):null};
Meb=function(a){var b=Leb(a);return $APP.k(b)?b:u4.g?u4.g(a):u4.call(null,a)};Oeb=function(a){var b=Y3(Meb,a);if($APP.k(b)){if($APP.ve(b))throw $APP.Yl.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.Kn,Neb,$APP.wB,a],null));return b4(new s4(b,null,null,null),a)}return null};
u4=function(a){a:{if(X3(a,2)&&$APP.x.h($APP.ge(a),meb)){var b=$APP.v(a);b=u4.g?u4.g(b):u4.call(null,b);if($APP.k(b)){b=b4(new t4(b,null,null,null),a);break a}throw $APP.Yl.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.Kn,Neb,$APP.wB,a],null));}b=null}if($APP.k(b))return b;b=X3(a,1)&&$APP.Ae($APP.v(a))?b4(new t4(Oeb($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=Oeb(a);if($APP.k(b))return b;b=Leb(a);if($APP.k(b))return b;b=k4(a);b=$APP.k(b)?b4(new r4(b,null,null,null),a):
null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,Neb,$APP.wB,a],null));};v4=function(a){if(null!=a&&null!=a.$h)a=a.$h(a);else{var b=v4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=v4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindVars.-find-vars",a);}return a};
w4=function(a,b,c,d,e){this.ma=a;this.Aa=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};x4=function(a,b,c,d,e,f){this.source=a;this.bc=b;this.pattern=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};y4=function(a){if(null!=a&&null!=a.gh)a=a.gh(a);else{var b=y4[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=y4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Lb("IFindElements.find-elements",a);}return a};
z4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};A4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};B4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};C4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Peb=function(a){return a instanceof w4};Qeb=function(a){return a instanceof x4};
D4=function(a){var b=k4(a);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),Reb)){if(3<=$APP.be(a)&&4>=$APP.be(a)){var c=(b=$APP.x.h($APP.be(a),4))?$APP.y.h(a,1):Seb;b=b?$APP.le(a):$APP.w(a);var d=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=l4(c);d=k4(d);var e=k4(b);$APP.k(e)?b=e:(e=Geb(b),b=$APP.k(e)?e:Feb(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new x4(c,d,b,null,null,null);break a}}throw $APP.Yl.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.Kn,Teb,C3,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.v(a),Ueb)){if(3<=$APP.be(a)&&(b=$APP.r(a),$APP.v(b),c=$APP.w(b),b=$APP.v(c),c=$APP.w(c),b=k4(b),c=Y3(Heb,c),$APP.k($APP.k(b)?c:b))){b=new w4(b,c,null,null,null);break a}throw $APP.Yl.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.Kn,Teb,C3,a],null));}b=null}$APP.k(b)?a=b:$APP.Ae(a)&&2<=$APP.be(a)?(b=$APP.r(a),a=$APP.v(b),b=$APP.w(b),a=m4(a),
b=Y3(Heb,b),a=$APP.k($APP.k(a)?b:a)?new w4(a,b,null,null,null):null):a=null;return a};
Veb=function(a){var b=Y3(D4,a);b=null==b?null:new z4(b,null,null,null);if($APP.k(b))return b;a:{if($APP.Ae(a)&&$APP.x.h($APP.be(a),1)&&(b=$APP.v(a),$APP.Ae(b)&&$APP.x.h($APP.be(b),2)&&$APP.x.h($APP.ge(b),meb))){b=D4($APP.v(b));b=null==b?null:new A4(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.be(a),2)&&$APP.x.h($APP.ge(a),$APP.yk)?(b=D4($APP.v(a)),b=null==b?null:new B4(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.Ae(a)&&$APP.x.h($APP.be(a),1)?(b=$APP.v(a),
b=Y3(D4,b),b=null==b?null:new C4(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.Kn,Teb,C3,a],null));};E4=function(a,b,c,d,e){this.type=a;this.Ce=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Web=function(a,b){if(!$APP.ve(b)&&$APP.mg($APP.Ad,b))switch(a instanceof $APP.F?a.N:null){case "keys":return new E4(a,$APP.on.h($APP.fj,b),null,null,null);case "syms":return new E4(a,$APP.cf(b),null,null,null);case "strs":return new E4(a,$APP.on.h($APP.m,b),null,null,null);default:return null}else return null};Xeb=function(a){var b=l4(a);$APP.k(b)||(b=$APP.x.h($APP.Rv,a)?new h4(null,null,null):null,b=$APP.k(b)?b:Geb(a));return $APP.k(b)?b4(new r4(b,null,null,null),a):u4(a)};
Zeb=function(a){var b=Y3(Xeb,a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,Yeb,$APP.wB,a],null));};F4=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};G4=function(a,b,c,d,e){this.ma=a;this.Aa=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
H4=function(a,b,c,d,e,f){this.ma=a;this.Aa=b;this.$b=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};I4=function(a,b,c,d,e,f){this.source=a;this.name=b;this.Aa=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};J4=function(a,b,c,d,e,f){this.source=a;this.cc=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};K4=function(a,b,c,d,e,f){this.source=a;this.Sd=b;this.Ha=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};
L4=function(a,b,c,d){this.Ha=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};$eb=function(a){var b=$APP.x.h($APP.bJ,a)?new d4(null,null,null):null;if($APP.k(b))return b;b=k4(a);return $APP.k(b)?b:Feb(a)};M4=function(a){if($APP.Ae(a)){var b=l4($APP.v(a));return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[b,$APP.w(a)],null):new $APP.H(null,2,5,$APP.I,[new g4(null,null,null),a],null)}return null};
afb=function(a){if($APP.Ae(a)){var b=$APP.r(a);a=$APP.v(b);b=$APP.w(b);b=null==b?$APP.Sg:b;var c=m4(a);a=$APP.k(c)?c:k4(a);b=Y3(Heb,b);return $APP.k($APP.k(a)?b:a)?new $APP.H(null,2,5,$APP.I,[a,b],null):null}return null};bfb=function(a,b,c){if($APP.ve(a)&&$APP.ve(b))throw $APP.Yl.h("Join variables should not be empty",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,c],null));};cfb=function(a,b){bfb(null,$APP.MJ.g(a),b);return a};
dfb=function(a,b){var c=$APP.Yf(a);c=$APP.C.h(c,O4);var d=$APP.Yf(c);c=$APP.C.h(d,$APP.CI);d=$APP.C.h(d,o4);bfb(c,d,b);return a};efb=function(a){if($APP.Ae(a)&&$APP.x.h($APP.ht,$APP.v(a))){var b=$APP.w(a);b=P4.g?P4.g(b):P4.call(null,b);if($APP.k($APP.Zf(b)))return new L4(b,null,null,null);throw $APP.Yl.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));}return null};
gfb=function(a){a:{var b=M4(a);if($APP.k(b)){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);var d=$APP.r(b);b=$APP.v(d);d=$APP.w(d);if($APP.x.h($APP.HC,b)){b=P4.g?P4.g(d):P4.call(null,d);if($APP.k(b)){c=cfb(b4(new J4(c,$APP.cf($APP.Fy.g(Q4($APP.Sg,b))),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)){c=$APP.y.j(b,0,null);b=$APP.y.j(b,
1,null);d=$APP.r(b);b=$APP.v(d);var e=$APP.w(d);d=$APP.v(e);e=$APP.w(e);if($APP.x.h(ffb,b)){b=Y3(k4,d);d=P4.g?P4.g(e):P4.call(null,e);if($APP.k($APP.k(b)?d:b)){c=cfb(b4(new J4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),d=$APP.w(d),$APP.x.h($APP.mt,
b))){b=Y3($APP.py.h(efb,gfb),d);if($APP.k(b)){c=dfb(b4(new K4(c,new n4(null,$APP.cf($APP.Fy.g(Q4($APP.Sg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),e=$APP.w(d),d=$APP.v(e),e=$APP.w(e),$APP.x.h(R4,b))){b=Jeb(d);d=Y3($APP.py.h(efb,gfb),e);if($APP.k($APP.k(b)?
d:b)){c=dfb(b4(new K4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));}c=null}if($APP.k(c))return c;a:{if(X3(a,1)&&(b=afb($APP.v(a)),$APP.k(b))){c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=b4(new G4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(X3(a,2)&&(b=$APP.y.j(a,0,null),c=$APP.y.j(a,1,null),d=afb(b),$APP.k(d))){b=$APP.y.j(d,0,null);d=$APP.y.j(d,
1,null);c=u4(c);c=$APP.k(c)?b4(new H4(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=$APP.r(b),d=$APP.v(b),b=$APP.w(b),d=m4(d),e=Y3($eb,b),$APP.k(d))){if($APP.ve(b))throw $APP.Yl.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));if(null==e)throw $APP.Yl.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,
a],null));c=new I4(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=Y3($eb,b),$APP.k(b))){if($APP.ve(b))throw $APP.Yl.h("Pattern could not be empty",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));c=b4(new F4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.Yl.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));};P4=function(a){return Y3(gfb,a)};hfb=function(a){var b=P4(a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.Kn,N4,$APP.wB,a],null));};S4=function(a,b,c,d,e){this.cc=a;this.Ha=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};T4=function(a,b,c,d,e){this.name=a;this.le=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
ifb=function(a){if($APP.Ae(a)){var b=$APP.r(a),c=$APP.v(b),d=$APP.w(b);if($APP.Ae(c)){b=$APP.r(c);var e=$APP.v(b);c=$APP.w(b);b=function(){var l=m4(e);if($APP.k(l))return l;throw $APP.Yl.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.Kn,U4,$APP.wB,a],null));}();c=Jeb(c);var f=function(){var l=$APP.Zf(P4(d));if($APP.k(l))return l;throw $APP.Yl.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.Kn,U4,$APP.wB,a],null));}();return new $APP.h(null,3,[$APP.N,b,$APP.MJ,
c,$APP.ML,f],null)}throw $APP.Yl.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,$APP.wB,a],null));}throw $APP.Yl.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.Kn,U4,$APP.wB,a],null));};
kfb=function(a,b){var c=$APP.MJ.g($APP.v(b)),d=Keb(c);b=$APP.r($APP.w(b));for(var e=null,f=0,l=0;;)if(l<f){var p=e.ea(null,l);p=$APP.MJ.g(p);if($APP.ti.h(d,Keb(p)))throw $APP.Yl.h(["Arity mismatch for rule '",$APP.yj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.yj.l($APP.z([p4(c)]))," vs. ",$APP.yj.l($APP.z([p4(p)]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,jfb,a],null));l+=1}else if(b=$APP.r(b)){if($APP.Ee(b))f=$APP.cd(b),b=$APP.dd(b),e=f,f=$APP.be(f);else{p=$APP.v(b);e=$APP.MJ.g(p);if($APP.ti.h(d,Keb(e)))throw $APP.Yl.h(["Arity mismatch for rule '",
$APP.yj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.yj.l($APP.z([p4(c)]))," vs. ",$APP.yj.l($APP.z([p4(e)]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,jfb,a],null));b=$APP.w(b);e=null;f=0}l=0}else break};
lfb=function(a){$APP.cf(function(){return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){var f=e;if($APP.Ee(f)){var l=$APP.cd(f),p=$APP.be(l),u=$APP.If(p);return function(){for(var E=0;;)if(E<p){var G=$APP.oe(l,E),O=$APP.y.j(G,0,null),T=$APP.y.j(G,1,null);G=$APP.on.h(function(){return function(Z){return new S4($APP.MJ.g(Z),$APP.ML.g(Z),null,null,null)}}(E,G,O,T,l,p,u,f,e),T);T=u;kfb(O,G);T.add(new T4(O,G,null,null,null));E+=1}else return!0}()?$APP.Lf($APP.Nf(u),d($APP.dd(f))):
$APP.Lf($APP.Nf(u),null)}var t=$APP.v(f),A=$APP.y.j(t,0,null),B=$APP.y.j(t,1,null);t=$APP.on.h(function(){return function(E){return new S4($APP.MJ.g(E),$APP.ML.g(E),null,null,null)}}(t,A,B,f,e),B);kfb(A,t);return $APP.yf(new T4(A,t,null,null,null),d($APP.Id(f)))}return null}},null,null)}($APP.Ej($APP.N,Y3(ifb,a)))}())};V4=function(a,b,c,d,e,f,l,p){this.Fd=a;this.Jd=b;this.Hd=c;this.Gd=d;this.Id=e;this.A=f;this.o=l;this.C=p;this.J=2230716170;this.M=139264};
mfb=function(a){var b=$APP.Ol.l(a,W4,$APP.z([X4,Y4,Z4,$4]));b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new V4(W4.g(a),X4.g(a),Y4.g(a),Z4.g(a),$4.g(a),null,$APP.Zf(b),null)};nfb=function(a){for(var b=$APP.Xf,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.F?(c=d,a=$APP.w(a)):(b=$APP.Ll.F(b,new $APP.H(null,1,5,$APP.I,[c],null),$APP.Zm.h($APP.vf,$APP.Sg),d),a=$APP.w(a));else return b}};ofb=function(a){var b=$APP.Ml.g(a);return a instanceof F4?b:null!=b?b instanceof g4?null:b:null};
sfb=function(a,b,c){var d=$APP.Di(Q4($APP.Sg,W4.g(a))),e=$APP.Di(X4.g(a)),f=$APP.Di(Q4($APP.Sg,Z4.g(a))),l=$APP.Di(Q4($APP.Sg,$4.g(a)));f=$APP.bx.h($APP.KM.h(d,e),$APP.KM.h(l,f));d=$APP.cx.h(d,e);if(!$APP.ve(f))throw $APP.Yl.h(["Query for unknown vars: ",$APP.yj.l($APP.z([$APP.on.h($APP.zm,f)]))].join(""),new $APP.h(null,3,[$APP.Kn,a5,$APP.MJ,f,$APP.wB,b],null));if(!$APP.ve(d))throw $APP.Yl.h([":find and :with should not use same variables: ",$APP.yj.l($APP.z([$APP.on.h($APP.zm,d)]))].join(""),new $APP.h(null,
3,[$APP.Kn,a5,$APP.MJ,d,$APP.wB,b],null));d=Y4.g(a);if(null!=d){if(W4.g(a)instanceof B4)throw $APP.Yl.h([$APP.yj.l($APP.z([$APP.Tl.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));if(W4.g(a)instanceof A4)throw $APP.Yl.h([$APP.yj.l($APP.z([$APP.Tl.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));}d=b5.g(Y4.g(a));if(null!=d&&(e=y4(W4.g(a)),!$APP.x.h($APP.be(d),$APP.be(e))))throw $APP.Yl.h(["Count of ",
$APP.yj.l($APP.z([$APP.Tl.g(Y4.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.Kn,a5,pfb,$APP.yf($APP.Tl.g(Y4.g(a)),d),qfb,e,$APP.wB,b],null));if(1<$APP.be($APP.Pg.h($APP.Db,new $APP.H(null,3,5,$APP.I,[$APP.UB.g(c),$APP.rs.g(c),rfb.g(c)],null))))throw $APP.Yl.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));var p=Q4($APP.Sg,Z4.g(a)),u=$3(function(A){return A instanceof f4},Z4.g(a)),t=$3(function(A){return A instanceof h4},Z4.g(a));
if(!$APP.k(function(){var A=a4(p);return $APP.k(A)?(A=a4(u),$APP.k(A)?a4(t):A):A}()))throw $APP.Yl.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));c=Q4($APP.Sg,X4.g(a));if(!$APP.k(a4(c)))throw $APP.Yl.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));c=Z3(function(A){return A instanceof f4},Z4.g(a),$APP.Ai);d=Z3(function(A){return A instanceof f4},$4.g(a),$APP.Ai);c=$APP.bx.h(d,c);if(!$APP.ve(c))throw $APP.Yl.h(["Where uses unknown source vars: ",
$APP.yj.l($APP.z([$APP.on.h($APP.zm,c)]))].join(""),new $APP.h(null,3,[$APP.Kn,a5,$APP.MJ,c,$APP.wB,b],null));c=$3(function(A){return A instanceof I4},$4.g(a));a=$3(function(A){return A instanceof h4},Z4.g(a));if(!$APP.ve(c)&&$APP.ve(a))throw $APP.Yl.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,b],null));};
vfb=function(a){if($APP.Be(a))var b=a;else if($APP.Ae(a))b=nfb(a);else throw $APP.Yl.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.Kn,a5,$APP.wB,a],null));var c=b,d=hfb($APP.iG.h(c,$APP.Sg));b=mfb(new $APP.h(null,5,[W4,Veb(qfb.g(c)),X4,function(){var e=tfb.g(c);if($APP.k(e)){var f=Y3(k4,e);if($APP.k(f))e=f;else throw $APP.Yl.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.Kn,ufb,$APP.wB,e],null));}else e=null;return e}(),Y4,function(){var e=Web($APP.UB,
$APP.UB.g(c));if($APP.k(e))return e;e=Web($APP.rs,$APP.rs.g(c));return $APP.k(e)?e:Web(rfb,rfb.g(c))}(),Z4,Zeb(function(){var e=$APP.cw.g(c);return $APP.k(e)?e:$APP.ve($3(ofb,d))?$APP.Sg:new $APP.H(null,1,5,$APP.I,[Seb],null)}()),$4,d],null));sfb(b,a,c);return b};c5=function(a,b,c,d,e,f){this.Xe=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};d5=function(a,b,c,d,e){this.ta=a;this.tf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
wfb=function(a,b){return $APP.cx.h($APP.Di($APP.qi(a)),$APP.Di($APP.qi(b)))};xfb=function(a,b){return $APP.x.h($APP.be(a),$APP.be(b))&&$APP.mg(function(c){return $APP.Se(b,c)},$APP.qi(a))&&$APP.mg(function(c){return $APP.Se(a,c)},$APP.qi(b))};yfb=function(a){return a instanceof $APP.q&&$APP.x.h("$",$APP.v($APP.Fi(a)))};e5=function(a){return a instanceof $APP.q&&$APP.x.h("?",$APP.v($APP.Fi(a)))};f5=function(a){return a instanceof $APP.F||"string"===typeof a};
zfb=function(a){return($APP.Ae(a)||h0(a))&&$APP.x.h(2,$APP.be(a))&&f5($APP.v(a))};Afb=function(a,b,c,d){for(var e=b.length,f=d.length,l=Array(e+f),p=0;;)if(p<e)l[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<f)l[e+a]=c[d[a]],a+=1;else break;return l};
Bfb=function(a,b,c,d){var e=$APP.cf(function(){return function u(p){return new $APP.Ff(null,function(){for(;;){var t=$APP.r(p);if(t){if($APP.Ee(t)){var A=$APP.cd(t),B=$APP.be(A),E=$APP.If(B);a:for(var G=0;;)if(G<B){var O=$APP.oe(A,G),T=$APP.y.j(O,0,null);O=$APP.y.j(O,1,null);$APP.Mf(E,new $APP.H(null,2,5,$APP.I,[O,a.g?a.g(T):a.call(null,T)],null));G+=1}else{A=!0;break a}return A?$APP.Lf($APP.Nf(E),u($APP.dd(t))):$APP.Lf($APP.Nf(E),null)}A=$APP.v(t);E=$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(new $APP.H(null,
2,5,$APP.I,[A,a.g?a.g(E):a.call(null,E)],null),u($APP.Id(t)))}return null}},null,null)}(c)}()),f=$APP.af.h($APP.kn,$APP.si(a))+1;b=$APP.Vc($APP.af.j(function(l,p){for(var u=Array(f),t=$APP.r(e),A=null,B=0,E=0;;)if(E<B){var G=A.ea(null,E),O=$APP.y.j(G,0,null);G=$APP.y.j(G,1,null);u[G]=p[O];E+=1}else if(t=$APP.r(t))$APP.Ee(t)?(B=$APP.cd(t),t=$APP.dd(t),A=B,B=$APP.be(B)):(B=$APP.v(t),A=$APP.y.j(B,0,null),B=$APP.y.j(B,1,null),u[B]=p[A],t=$APP.w(t),A=null,B=0),E=0;else break;return $APP.Rg.h(l,u)},$APP.Tc($APP.cf(b)),
d));return new d5(a,b,null,null,null)};Cfb=function(a){a=$APP.ej.h($APP.zm,$APP.cf($APP.Fy.g(Q4($APP.Sg,a))));return new d5($APP.Gi(a,$APP.Un.D()),$APP.Sg,null,null,null)};g5=function(a,b){if(null!=a&&null!=a.ih)a=a.ih(a,b);else{var c=g5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=g5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IBinding.in-\x3erel",a);}return a};
Dfb=function(a,b){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c instanceof r4&&h5.g(c)instanceof f4?a=$APP.an.P(a,i5,$APP.ui,$APP.rp.h(c,new $APP.H(null,2,5,$APP.I,[h5,$APP.zm],null)),b):c instanceof r4&&h5.g(c)instanceof h4?(c=$APP.ui.j,b="string"===typeof b?$APP.Ym.g(b):b,lfb(b),b=$APP.Ej($APP.he,b),a=c.call($APP.ui,a,$APP.TH,b)):a=$APP.an.F(a,j5,$APP.vf,g5(c,b));return a};
Gfb=function(a,b,c){var d=$APP.be(b),e=$APP.be(c);if(d<e)throw $APP.Yl.h(["Extra inputs passed, expected: ",$APP.yj.l($APP.z([$APP.on.h(function(f){return $APP.Ml.g($APP.se(f))},b)])),", got: ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,Efb,$APP.RI,b,Ffb,c],null));if(d>e)throw $APP.Yl.h(["Too few inputs passed, expected: ",$APP.yj.l($APP.z([$APP.on.h(function(f){return $APP.Ml.g($APP.se(f))},b)])),", got: ",$APP.yj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,Efb,$APP.RI,b,
Ffb,c],null));return $APP.af.j(Dfb,a,$APP.Gi(b,c))};Hfb=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.Se(k5,b)){if($APP.Ne(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.Ae(e)?t2(l5,e):h0(e)?t2(l5,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.Ae(e)?t2(l5,e):h0(e)?t2(l5,e):e}}return $APP.Ne(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
m5=function(a,b){var c=$APP.be(b);if(1===c)return Hfb(a,$APP.v(b));b=$APP.ws.g(b);for(var d=0;;)if(d<c)b[d]=Hfb(a,b[d]),d+=1;else return function(e,f,l){return function(p){return $APP.Es.g(f.map(function(){return function(u){return u.g?u.g(p):u.call(null,p)}}(e,f,l)))}}(d,b,c)};Ifb=function(a,b){var c=$APP.Hd;return $APP.Vc($APP.af.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.Ih.j(d,f,$APP.vf.h($APP.C.j(d,f,c),e))},$APP.Tc($APP.Xf),b))};
o5=function(a,b){var c=n5.g(a),d=n5.g(b),e=x3.g(a),f=x3.g(b),l=$APP.cf(wfb(x3.g(a),x3.g(b)));a=$APP.qi(e);b=$APP.Vc($APP.df(function(E,G){return $APP.k(e.g?e.g(G):e.call(null,G))?E:$APP.Rg.h(E,G)},$APP.Tc($APP.Sg),f));var p=$APP.bf($APP.si(e)),u=$APP.bf($APP.tj($APP.ej.g(f),b)),t=m5(e,l),A=m5(f,l),B=Ifb(t,c);c=$APP.Vc($APP.af.j(function(E,G){var O=A(G);O=$APP.C.h(B,O);return null==O?E:$APP.af.j(function(T,Z){return $APP.Rg.h(T,Afb(Z,p,G,u))},E,O)},$APP.Tc($APP.Sg),d));return new d5($APP.Gi($APP.K.h(a,
b),$APP.Un.D()),c,null,null,null)};Jfb=function(a,b){var c=$APP.Yf(a),d=$APP.C.h(c,x3);c=$APP.C.h(c,n5);var e=$APP.Yf(b);b=$APP.C.h(e,x3);e=$APP.C.h(e,n5);var f=$APP.cf(wfb(d,b));b=m5(b,f);var l=Ifb(b,e),p=m5(d,f);return $APP.ui.j(a,n5,$APP.Tg(function(u){u=p(u);return null==(l.g?l.g(u):l.call(null,u))},c))};p5=function(a,b){return $APP.og(function(c){return $APP.Se(x3.g(c),b)?c:null},j5.g(a))};
Kfb=function(a,b){if(e5(b)){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));if(null==a)return null;if(null==$APP.je(n5.g(c)))return b=$APP.C.h(x3.g(c),b),a[b]}return null};Lfb=function(a,b){return $APP.on.h(function(c){var d=Kfb(a,c);return $APP.k(d)?d:c},b)};
Mfb=function(a,b){if(null!=a?$APP.xd===a.Wi||(a.yd?0:$APP.Ib(v1,a)):$APP.Ib(v1,a)){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null),f=$APP.y.j(b,3,null);c=zfb(c)||f5(c)?s2(a,c):c;e=$APP.k($APP.k(e)?f5(d)&&r2(a,d)&&(zfb(e)||f5(e)):e)?s2(a,e):e;a=zfb(f)?s2(a,f):f;return $APP.el.j(new $APP.H(null,4,5,$APP.I,[c,d,e,a],null),0,$APP.be(b))}return b};
Nfb=function(a,b,c){a=$APP.on.h(function(d){return $APP.x.h(d,$APP.bJ)||e5(d)?null:d},Mfb(b,Lfb(a,c)));b=m1(b,a);c=$APP.Eh.h($APP.Xf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.ej.j($APP.Fw,c,new $APP.H(null,4,5,$APP.I,["e","a","v","tx"],null))));return new d5(c,b,null,null,null)};
Ofb=function(a,b){a=$APP.Pg.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var l=$APP.v(e);if($APP.x.h(l,$APP.bJ)||e5(l)||$APP.x.h(f,l))d=$APP.w(d),e=$APP.w(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Eh.h($APP.Xf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.ej.j($APP.Fw,b,$APP.Un.D())));return new d5(c,$APP.on.h($APP.bf,a),null,null,null)};
Pfb=function(a,b,c){return(null!=b?$APP.xd===b.dk||(b.yd?0:$APP.Ib(Ccb,b)):$APP.Ib(Ccb,b))?Nfb(a,b,c):Ofb(b,c)};q5=function(a,b){for(var c=$APP.Sg;;){var d=$APP.v(a);if(null==d)return $APP.vf.h(c,b);$APP.k($APP.Zf(wfb(x3.g(b),x3.g(d))))?(a=$APP.w(a),b=o5(d,b)):(a=$APP.w(a),c=$APP.vf.h(c,d))}};Qfb=function(a,b){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));null==a?b=null:(c=x3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
Rfb=function(a,b){return $APP.og(function(c){return $APP.Se(x3.g(a),c)},b)};Sfb=function(a,b){var c=$APP.Pg.h(function(e){return Rfb(e,b)},j5.g(a)),d=$APP.af.h(r5,c);return new $APP.H(null,2,5,$APP.I,[$APP.an.j(a,j5,function(e){return $APP.gs.h($APP.Di(c),e)}),d],null)};
Tfb=function(a,b,c,d){a=i5.g(a);b=x3.g(b);for(var e=$APP.be(d),f=Array(e),l=Array(e),p=0;;)if(p<e){var u=$APP.y.h(d,p);if(u instanceof $APP.q){var t=$APP.C.h(a,u);null==t?l[p]=$APP.C.h(b,u):f[p]=t}else f[p]=u;p+=1}else break;return c===$APP.Fw?function(A){for(var B=f.slice(0),E=0;;)if(E<e){var G=l[E];null!=G&&(B[E]=A[G]);E+=1}else break;return $APP.qg.h(c,B)}:function(A){for(var B=0;;)if(B<e){var E=l[B];null!=E&&(f[B]=A[E]);B+=1}else break;return $APP.qg.h(c,f)}};
Ufb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c),f=function(){var u=$APP.C.h(geb,d);if($APP.k(u))return u;u=Qfb(a,d);if($APP.k(u))return u;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Yl.h(["Unknown predicate '",$APP.yj.l($APP.z([d]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,b,$APP.Uo,d],null));return null}();c=Sfb(a,$APP.Pg.h($APP.Ad,e));var l=$APP.y.j(c,0,null),p=$APP.y.j(c,1,null);c=$APP.k(f)?function(){var u=Tfb(l,
p,f,e);return $APP.an.j(p,n5,function(t){return $APP.Pg.h(u,t)})}():$APP.ui.j(p,n5,$APP.Sg);return $APP.an.F(l,j5,$APP.vf,c)};
Vfb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c);c=$APP.y.j(b,1,null);var f=u4(c),l=function(){var t=$APP.C.h(geb,d);if($APP.k(t))return t;t=Qfb(a,d);if($APP.k(t))return t;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Yl.h(["Unknown function '",$APP.yj.l($APP.z([d]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,b,$APP.Uo,d],null));return null}();c=Sfb(a,$APP.Pg.h($APP.Ad,e));var p=$APP.y.j(c,0,null),u=$APP.y.j(c,1,null);
c=$APP.k(l)?function(){var t=Tfb(p,u,l,e),A=function(){return function G(E){return new $APP.Ff(null,function(){for(var O=E;;)if(O=$APP.r(O)){if($APP.Ee(O)){var T=$APP.cd(O),Z=$APP.be(T),ba=$APP.If(Z);a:for(var da=0;;)if(da<Z){var ia=$APP.oe(T,da),ma=t(ia);null!=ma&&$APP.Mf(ba,r5.h(new d5(x3.g(u),new $APP.H(null,1,5,$APP.I,[ia],null),null,null,null),g5(f,ma)));da+=1}else{T=!0;break a}return T?$APP.Lf($APP.Nf(ba),G($APP.dd(O))):$APP.Lf($APP.Nf(ba),null)}ba=$APP.v(O);T=t(ba);if(null!=T)return $APP.yf(r5.h(new d5(x3.g(u),
new $APP.H(null,1,5,$APP.I,[ba],null),null,null,null),g5(f,T)),G($APP.Id(O)));O=$APP.Id(O)}else return null},null,null)}(n5.g(u))}();return $APP.ve(A)?r5.h(u,Cfb(f)):$APP.af.h(t5,A)}():r5.h($APP.ui.j(u,n5,$APP.Sg),Cfb(f));return $APP.an.F(p,j5,q5,c)};
Wfb=function(a,b){if($APP.Ae(b)){var c=yfb($APP.v(b))?$APP.ge(b):$APP.v(b);if(c instanceof $APP.q){if(e5(c)||$APP.Se(new $APP.zi(null,new $APP.h(null,6,[$APP.ht,null,$APP.HC,null,ffb,null,R4,null,$APP.mt,null,$APP.bJ,null],null),null),c))return!1;if($APP.Se($APP.TH.g(a),c))return!0;throw $APP.Yl.h(["Unknown rule '",$APP.yj.l($APP.z([c]))," in ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,s5,$APP.wB,b],null));}}return!1};
Yfb=function(a,b){var c=$APP.r(a),d=$APP.v(c),e=$APP.w(c),f=$APP.Bj.h(Xfb,$APP.Pd),l=$APP.C.h($APP.TH.g(b),d);return function t(u){return new $APP.Ff(null,function(){for(;;){var A=$APP.r(u);if(A){var B=A;if($APP.Ee(B)){var E=$APP.cd(B),G=$APP.be(E),O=$APP.If(G);return function(){for(var na=0;;)if(na<G){var za=$APP.oe(E,na),ea=za,pa=$APP.r(ea),ua=$APP.v(pa),xa=$APP.w(pa),Na=ua,Wa=$APP.r(Na),bb=$APP.v(Wa),fb=$APP.w(Wa),db=bb,kb=fb,hb=xa,mb=$APP.Gi(kb,e);$APP.Mf(O,$APP.At(function(Ab,Kb,Zb,cc,Hc,lc,
Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td,Pe,Hg,Hf,Ri,Xg){return function(ke){if(e5(ke)){var Cg=tg.g?tg.g(ke):tg.call(null,ke);return null==Cg?$APP.kj.g([$APP.Fi(ke),"__auto__",$APP.m.g(Xg)].join("")):Cg}return ke}}(na,ea,pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb,za,E,G,O,B,A,a,c,d,e,d,e,f,l),hb));na+=1}else return!0}()?$APP.Lf($APP.Nf(O),t($APP.dd(B))):$APP.Lf($APP.Nf(O),null)}var T=$APP.v(B),Z=T,ba=$APP.r(Z),da=$APP.v(ba),ia=$APP.w(ba),ma=da,ya=$APP.r(ma),sa=$APP.v(ya),X=$APP.w(ya),S=sa,W=X,U=ia,Y=$APP.Gi(W,
e);return $APP.yf($APP.At(function(na,za,ea,pa,ua,xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe){return function(ng){if(e5(ng)){var Gg=kb.g?kb.g(ng):kb.call(null,ng);return null==Gg?$APP.kj.g([$APP.Fi(ng),"__auto__",$APP.m.g(xe)].join("")):Gg}return ng}}(Z,ba,da,ia,ma,ya,sa,X,S,W,U,Y,T,B,A,a,c,d,e,d,e,f,l),U),t($APP.Id(B)))}return null}},null,null)}(l)};
Zfb=function(a,b){a=$APP.gs.h(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.x.h(d,c)},$APP.ej.j($APP.Fw,a,b));return new $APP.H(null,2,5,$APP.I,[$APP.ej.h($APP.v,a),$APP.ej.h($APP.ge,a)],null)};
$fb=function(a,b){a=$APP.r(a);var c=$APP.v(a),d=$APP.w(a);return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);a:for(var B=0;;)if(B<t){var E=$APP.oe(u,B),G=Zfb(d,E);E=$APP.y.j(G,0,null);G=$APP.y.j(G,1,null);$APP.Mf(A,new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[u5],null),E,$APP.z([G]))],null));B+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);
u=Zfb(d,A);A=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);return $APP.yf(new $APP.H(null,1,5,$APP.I,[$APP.K.l(new $APP.H(null,1,5,$APP.I,[u5],null),A,$APP.z([u]))],null),l($APP.Id(p)))}return null}},null,null)}($APP.C.h(b,c))};v5=function(a){var b=$APP.Aj.g($APP.Sg);$APP.At(function(c){$APP.k(e5.g?e5.g(c):e5.call(null,c))&&$APP.Bj.j(b,$APP.vf,c);return c},a);return $APP.n(b)};
agb=function(a,b){function c(e){e=$APP.y.j(e,0,null);e=$APP.r(e);$APP.v(e);e=$APP.w(e);return $APP.mg(d,e)}var d=$APP.Di(v5(a));return new $APP.H(null,2,5,$APP.I,[$APP.Pg.h(c,b),$APP.gs.h(c,b)],null)};
cgb=function(a,b){function c(xa){return $APP.og(function(Na){return $APP.ve(n5.g(Na))},j5.g(xa))}function d(xa,Na){return $APP.af.j(w5,xa,Na)}for(var e=$APP.Pg.h(e5,b),f=$APP.Gi(e,$APP.Un.D()),l=new $APP.D(null,new $APP.h(null,5,[x5,$APP.Sg,y5,a,$APP.ML,new $APP.H(null,1,5,$APP.I,[b],null),z5,$APP.Xf,A5,$APP.Xf],null),null,1,null),p=new d5(f,$APP.Sg,null,null,null);;){var u=$APP.v(l);if(null==u)return p;var t=u,A=$APP.Pi(function(){return function(xa){return!Wfb(a,xa)}}(l,p,t,u,e,f,d,c),$APP.ML.g(t)),
B=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null),G=$APP.r(E),O=$APP.v(G),T=$APP.w(G),Z=O,ba=T;if(null==Z){b=d(y5.g(t),B);b=Qbb($APP.cf,B5?B5(b,e):bgb.call(null,b,e));var da=new d5(f,b,null,null,null);b=$APP.w(l);da=t5(p,da);l=b;p=da}else{var ia=Z,ma=$APP.r(ia),ya=$APP.v(ma),sa=$APP.w(ma),X=ya,S=sa,W=$fb(Z,z5.g(t)),U=agb($APP.K.h(x5.g(t),B),$APP.K.h(W,A5.g(t))),Y=$APP.y.j(U,0,null),na=$APP.y.j(U,1,null);if($APP.k($APP.og(function(){return function(xa){return $APP.x.h(xa,new $APP.H(null,1,5,$APP.I,[$APP.J(u5)],
null))}}(l,p,ia,ma,ya,sa,X,S,W,U,Y,na,A,B,E,G,O,T,Z,ba,t,u,e,f,d,c),Y)))b=$APP.w(l),da=p,l=b,p=da;else{var za=$APP.K.h(B,Y),ea=d(y5.g(t),za);if($APP.k(c(ea)))b=$APP.w(l),da=p,l=b,p=da;else{var pa=$APP.ui.j(z5.g(t),X,$APP.vf.h($APP.C.j(z5.g(t),X,$APP.Sg),S)),ua=Yfb(Z,a);b=$APP.K.h(function(){return function(xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td){return function Hf(Hg){return new $APP.Ff(null,function(Ri,Xg,ke,Cg,Il,uh,vi,Dn,ik,gq,jk,Yo,Pj,hq,Ue,Jl,
Zo,Bm,Si,Ig,Jg,ud,lf,Oc){return function(){for(;;){var Uf=$APP.r(Hg);if(Uf){if($APP.Ee(Uf)){var iq=$APP.cd(Uf),lu=$APP.be(iq),Vf=$APP.If(lu);a:for(var $o=0;;)if($o<lu){var Vw=$APP.oe(iq,$o);$APP.Mf(Vf,new $APP.h(null,5,[x5,Il,y5,uh,$APP.ML,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([Vw,Oc])),z5,ke,A5,Jl],null));$o+=1}else{iq=!0;break a}return iq?$APP.Lf($APP.Nf(Vf),Hf($APP.dd(Uf))):$APP.Lf($APP.Nf(Vf),null)}Vf=$APP.v(Uf);return $APP.yf(new $APP.h(null,5,[x5,Il,y5,uh,$APP.ML,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([Vf,
Oc])),z5,ke,A5,Jl],null),Hf($APP.Id(Uf)))}return null}}}(xa,Na,Wa,bb,fb,db,kb,hb,mb,Ab,Kb,Zb,cc,Hc,lc,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,hk,Oj,rj,Dc,td),null,null)}}(l,p,pa,ua,za,ea,ia,ma,ya,sa,X,S,W,U,Y,na,A,B,E,G,O,T,Z,ba,t,u,e,f,d,c)(ua)}(),$APP.w(l));da=p;l=b;p=da}}}}};dgb=function(a,b){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null);b=$APP.y.j(b,3,null);c=e5(c)?$APP.vf.h($APP.Ai,c):$APP.Ai;c=e5(b)?$APP.vf.h(c,b):c;return e5(e)&&!e5(d)&&r2(a,d)?$APP.vf.h(c,e):c};
C5=function(a,b){return $APP.ui.j(a,j5,$APP.sn.h(function(c){var d=$APP.Zf($APP.wi(x3.g(c),b));return null==d?null:$APP.ui.j(c,x3,d)},j5.g(a)))};D5=function(a){return $APP.Eh.h($APP.Ai,$APP.Og.l(function(b){return $APP.qi(x3.g(b))},$APP.z([j5.g(a)])))};
E5=function(a,b,c){if($APP.aia(b,a))return null;a=$APP.bx.h($APP.Di(b),a);throw $APP.Yl.h(["Insufficient bindings: ",$APP.yj.l($APP.z([a]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,c,$APP.MJ,a],null));};
egb=function(a,b,c){b=$APP.on.h(function(d){return $APP.bx.h($APP.Di(v5(d)),a)},b);if($APP.k($APP.qg.h($APP.x,b)))return null;throw $APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([b]))," in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,c,$APP.MJ,b],null));};
fgb=function(a,b,c){for(var d=$APP.Di($APP.gs.h(a,b)),e=$APP.r(c),f=null,l=0,p=0;;)if(p<l){c=f.ea(null,p);var u=$APP.Zf($APP.bx.h(d,$APP.Di(v5(c))));if(null!=u)throw e=u,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([e]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,c,$APP.MJ,e],null));p+=1}else if(c=$APP.r(e)){e=c;if($APP.Ee(e))f=$APP.cd(e),e=$APP.dd(e),c=f,l=$APP.be(f),f=c;else{c=$APP.v(e);
f=$APP.Zf($APP.bx.h(d,$APP.Di(v5(c))));if(null!=f)throw e=f,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.yj.l($APP.z([e]))," not bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.wB,c,$APP.MJ,e],null));e=$APP.w(e);f=null;l=0}p=0}else return null};ggb=function(a,b){var c=l5;l5=$APP.C.h(i5.g(a),Seb);try{return $APP.af.j(F5,a,b)}finally{l5=c}};
hgb=function(a,b,c,d){return $APP.tj($APP.qq.h($APP.ej.g(function(e){return $APP.tj($APP.ej.g(function(f){for(var l=$APP.Ob(e),p=0;;)if(p<c){var u=d[p];null!=u&&(l[p]=f[u]);p+=1}else break;return l}),n5.g(b))}),$APP.pj),a)};bgb=function(a){switch(arguments.length){case 2:return B5(arguments[0],arguments[1]);case 3:return igb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
B5=function(a,b){a=j5.g(a);return igb(new $APP.H(null,1,5,$APP.I,[Array($APP.be(b))],null),a,b)};igb=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.ve(n5.g(d)))return $APP.Sg;var e=$APP.wi(x3.g(d),c);if($APP.ve(e))b=$APP.w(b);else{e=$APP.bf($APP.ej.h(function(l,p,u,t){return function(A){return $APP.C.h(t,A)}}(a,b,c,e,d),c));var f=$APP.be(c);a=hgb(a,d,f,e);b=$APP.w(b)}}};jgb=function(a,b){return $APP.Eh.j($APP.Ai,$APP.ej.g($APP.cf),B5(a,b))};
G5=function(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=G5[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=G5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Lb("IContextResolve.-context-resolve",a);}return a};
kgb=function(a,b,c){return $APP.on.F(function(d,e,f){if(Peb(d)){e=G5($APP.Hn.g(d),b);d=$APP.ej.h(function(p){return G5(p,b)},$APP.Ei($APP.cn.g(d)));var l=$APP.ej.h(function(p){return $APP.y.h(p,f)},c);return $APP.qg.h(e,$APP.K.h(d,new $APP.H(null,1,5,$APP.I,[l],null)))}return e},a,$APP.v(c),$APP.Un.D())};lgb=function(a){var b=$APP.rg(Peb);return $APP.gs.h($APP.yb,$APP.ej.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Un.D()))};
mgb=function(a,b,c){var d=lgb(a);return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);a:for(var B=0;;)if(B<t){var E=$APP.oe(u,B);$APP.y.j(E,0,null);E=$APP.y.j(E,1,null);$APP.Mf(A,kgb(a,b,E));B+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(kgb(a,b,A),l($APP.Id(p)))}return null}},null,null)}($APP.Ej(function(f){return $APP.ej.h(function(l){return $APP.y.h(f,
l)},d)},c))};ngb=function(a,b){return $APP.af.j(function(c,d){return $APP.vf.h(c,a.g?a.g(d):a.call(null,d))},$APP.ne(b),b)};ogb=function(a,b){var c=b5.g(a),d=$APP.Un.h(0,$APP.be(c));return ngb(function(e){return $APP.af.j(function(f,l){return $APP.ui.j(f,$APP.y.h(c,l),$APP.y.h(e,l))},$APP.Xf,d)},b)};
pgb=function(a,b,c){if(null!=a&&null!=a.kh)a=a.kh(a,b,c);else{var d=pgb[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=pgb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Lb("IPostProcess.-post-process",a);}return a};
qgb=function(a,b,c){var d=function(){return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var G=$APP.oe(u,E),O=A;if(Qeb(G)){var T=G5($APP.Ml.g(G),b);G=G5($APP.nH.g(G),b);T=S3(T,G,null)}else T=null;O.add(T);E+=1}else return!0}()?$APP.Lf($APP.Nf(A),l($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var B=$APP.v(p);return $APP.yf(Qeb(B)?function(){var E=G5($APP.Ml.g(B),b),G=G5($APP.nH.g(B),
b);return S3(E,G,null)}():null,l($APP.Id(p)))}return null}},null,null)}(a)}();return function l(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){var u=p;if($APP.Ee(u)){var t=$APP.cd(u),A=$APP.be(t),B=$APP.If(A);return function(){for(var G=0;;)if(G<A){var O=$APP.oe(t,G);$APP.Mf(B,$APP.on.j(function(){return function(T,Z){return $APP.k(T)?Q3(T,Z):Z}}(G,O,t,A,B,u,p,d),d,O));G+=1}else return!0}()?$APP.Lf($APP.Nf(B),l($APP.dd(u))):$APP.Lf($APP.Nf(B),null)}var E=$APP.v(u);return $APP.yf($APP.on.j(function(){return function(G,
O){return $APP.k(G)?Q3(G,O):O}}(E,u,p,d),d,E),l($APP.Id(u)))}return null}},null,null)}(c)};rgb=function(a,b){if(a instanceof I1){var c=a.gb,d=a.Kc;return new I1(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.Aj.g(0),null,null,null)}return new I1(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.Aj.g(0),null,null,null)};sgb=function(a,b,c,d){return r1(a,b,c,d)};tgb=function(a){return $APP.n(a)};ugb=function(a){return rcb($APP.A1.g(a))};
H5=function H5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H5.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};H5.l=function(a){return $APP.wca(a,$APP.ui.j($APP.sb(),$APP.jb,!1))};H5.B=0;H5.G=function(a){return this.l($APP.r(a))};vgb=new $APP.q("datascript.core","squuid","datascript.core/squuid",-408746813,null);K1=new $APP.F("db.unique","identity","db.unique/identity",1675950722);M2=new $APP.F("db","retract","db/retract",-1549825231);
wgb=new $APP.q("datascript.db","IDatom","datascript.db/IDatom",293960966,null);xgb=new $APP.F(null,"-store","-store",86010660);ygb=new $APP.F(null,"incomparable","incomparable",1634329662);zgb=new $APP.q(null,"datom-tx","datom-tx",1349109608,null);rfb=new $APP.F(null,"strs","strs",1175537277);Ocb=new $APP.F("db.cardinality","one","db.cardinality/one",1428352190);F2=new $APP.F("transact","upsert","transact/upsert",412688078);Y4=new $APP.F(null,"qreturn-map","qreturn-map",1841215994);
udb=new $APP.F("transact","schema","transact/schema",1426844139);Agb=new $APP.q(null,"datom-added","datom-added",-363961980,null);Bgb=new $APP.q(null,"entity?","entity?",555338193,null);Cgb=new $APP.q("datascript.core","filter","datascript.core/filter",-1276765471,null);I5=new $APP.F(null,"acc","acc",838566312);Dgb=new $APP.F("lookup-ref","unique","lookup-ref/unique",-960647710);U4=new $APP.F("parser","rule","parser/rule",-464044566);
Egb=new $APP.q("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);Fgb=new $APP.q("datascript.core","q","datascript.core/q",2106686416,null);f3=new $APP.F(null,"db-last-stored","db-last-stored",-2068760702);Ggb=new $APP.q(null,"added","added",-596784081,null);Teb=new $APP.F("parser","find","parser/find",-801023103);Hgb=new $APP.q(null,"entity","entity",1189561251,null);B3=new $APP.F(null,"wildcard?","wildcard?",-686044101);
I2=new $APP.F("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);Igb=new $APP.q("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);Jgb=new $APP.q(null,"tail-addr","tail-addr",1565233666,null);Kgb=new $APP.q("datascript.core","restore","datascript.core/restore",-655548009,null);a5=new $APP.F("parser","query","parser/query",1877320671);Lgb=new $APP.q(null,"_opts","_opts",1634624069,null);z3=new $APP.F(null,"last-attr","last-attr",-526000708);
jdb=new $APP.F(null,"conflict","conflict",1978796605);Mgb=new $APP.F("db","fn","db/fn",-1175261470);Ngb=new $APP.q("datascript.core","touch","datascript.core/touch",632058772,null);Ogb=new $APP.q(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);p3=new $APP.F(null,"recursion-limit","recursion-limit",52345639);Pgb=new $APP.q("datascript.storage","-restore","datascript.storage/-restore",708714346,null);N1=new $APP.F("db.type","ref","db.type/ref",-1728373079);
Qgb=new $APP.q(null,"variance","variance",-1522424942,null);Rgb=new $APP.q("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);Sgb=new $APP.q("datascript.core","with","datascript.core/with",-1124098173,null);Tgb=new $APP.F(null,"-restore","-restore",-515892319);G2=new $APP.F("db","id","db/id",-1388397098);Ugb=new $APP.F("db.fn","retractAttribute","db.fn/retractAttribute",937402164);Vgb=new $APP.q(null,"G__44233","G__44233",1228305576,null);
Wgb=new $APP.q("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);Xgb=new $APP.F("lookup-ref","syntax","lookup-ref/syntax",-317304012);Ygb=new $APP.q("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);Zgb=new $APP.q("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);$gb=new $APP.q("datascript.core","db","datascript.core/db",667170070,null);J5=new $APP.q(null,"addr","addr",42880790,null);
ahb=new $APP.q(null,"-index-range","-index-range",898114142,null);bhb=new $APP.q(null,"settings","settings",-1098290894,null);g2=new $APP.F(null,"tx-data","tx-data",934159761);z5=new $APP.F(null,"used-args","used-args",23596256);chb=new $APP.q("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);dhb=new $APP.q("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);ehb=new $APP.q(null,"make-storage-adapter","make-storage-adapter",937815346,null);
$4=new $APP.F(null,"qwhere","qwhere",-1645067378);R1=new $APP.F("db","ident","db/ident",-737096);h2=new $APP.F(null,"tempids","tempids",1767509089);W4=new $APP.F(null,"qfind","qfind",1529332972);fhb=new $APP.q("datascript.core","serializable","datascript.core/serializable",-630048076,null);y5=new $APP.F(null,"prefix-context","prefix-context",-1269613591);ghb=new $APP.q(null,"store-impl!","store-impl!",901017629,null);M1=new $APP.F("db.cardinality","many","db.cardinality/many",772806234);
C2=new $APP.F("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);hhb=new $APP.q("datascript.core","pull","datascript.core/pull",-1213970902,null);ihb=new $APP.q("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);f2=new $APP.F(null,"db-after","db-after",-571884666);N4=new $APP.F("parser","where","parser/where",-966053850);jhb=new $APP.q(null,"restore-impl","restore-impl",1420181842,null);K5=new $APP.F(null,"seen","seen",-518999789);
khb=new $APP.q("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);Icb=new $APP.F("db.unique","value","db.unique/value",276903088);lhb=new $APP.F("db","tupleTypes","db/tupleTypes",1512507626);pdb=new $APP.F("db.fn","retractEntity","db.fn/retractEntity",-1423535441);L5=new $APP.q(null,"attr","attr",1036399174,null);mhb=new $APP.q(null,"storage-adapter","storage-adapter",-1255219640,null);nhb=new $APP.F("entity-id","missing","entity-id/missing",1234588374);
ohb=new $APP.q("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);R4=new $APP.q(null,"or-join","or-join",591375469,null);phb=new $APP.F("db.pull","reverse","db.pull/reverse",1999788297);qhb=new $APP.q(null,"db-from-reader","db-from-reader",1527469533,null);rhb=new $APP.q(null,"println-str","println-str",-2049216703,null);ufb=new $APP.F("parser","with","parser/with",-386255821);shb=new $APP.q(null,"missing?","missing?",-1710383910,null);
thb=new $APP.q("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);uhb=new $APP.q("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);vhb=new $APP.q("datascript.core","transact!","datascript.core/transact!",1506351773,null);s1=new $APP.F(null,"avet","avet",1383857032);M5=new $APP.q(null,"schema","schema",58529736,null);vdb=new $APP.F(null,"entity","entity",-450970276);whb=new $APP.q(null,"serializable-datom","serializable-datom",451141133,null);
xhb=new $APP.q("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);Yeb=new $APP.F("parser","in","parser/in",1617442048);Qcb=new $APP.F(null,"init-db","init-db",1595181278);yhb=new $APP.F(null,"addresses","addresses",-559529694);Y0=new $APP.F(null,"cmp","cmp",575646375);H1=new $APP.F(null,"hash","hash",-13781596);zhb=new $APP.q(null,"with","with",104234651,null);t3=new $APP.F(null,"multival?","multival?",1072388383);beb=new $APP.F("parser","pull","parser/pull",-2147427204);
N5=new $APP.q(null,"tx","tx",2107161945,null);Ahb=new $APP.q("datascript.core","store","datascript.core/store",1386427333,null);e3=new $APP.F(null,"tx-tail","tx-tail",1116487556);Bhb=new $APP.q(null,"reset-conn!","reset-conn!",1315177148,null);O4=new $APP.F(null,"rule-vars","rule-vars",1665972520);W1=new $APP.F("db","valueType","db/valueType",1827971944);Zcb=new $APP.F("retract","schema","retract/schema",1546437764);B1=new $APP.F(null,"aevt","aevt",-585148059);
Chb=new $APP.F("datascript","db","datascript/db",-1190971692);P5=new $APP.q(null,"-store","-store",1726542187,null);Dhb=new $APP.F(null,"thaw-fn","thaw-fn",-240544261);Q5=new $APP.F(null,"binding","binding",539932593);idb=new $APP.F(null,"assertion","assertion",-1645134882);$APP.b2=new $APP.F(null,"datoms","datoms",-290874434);Reb=new $APP.q(null,"pull","pull",779986722,null);Z0=new $APP.F(null,"set-metadata","set-metadata",1293757705);
Ehb=new $APP.q("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);Fhb=new $APP.q(null,"untuple","untuple",-606149900,null);R5=new $APP.q(null,"c0","c0",2105080311,null);Ghb=new $APP.q(null,"index-range","index-range",1044940937,null);u5=new $APP.q(null,"-differ?","-differ?",1465687357,null);O1=new $APP.F("db","isComponent","db/isComponent",423352398);S5=new $APP.q(null,"db","db",-1661185010,null);Hhb=new $APP.q(null,"sample","sample",1719555128,null);
T5=new $APP.q(null,"datom","datom",1268975437,null);Ihb=new $APP.F(null,"serialize","serialize",-69216574);P1=new $APP.F("db","tupleAttrs","db/tupleAttrs",250080092);q3=new $APP.F(null,"recursive?","recursive?",1340075244);Jhb=new $APP.q(null,"conn","conn",1918841190,null);Khb=new $APP.F(null,"thaw-kw","thaw-kw",1076733097);A5=new $APP.F(null,"pending-guards","pending-guards",-1255527308);Lhb=new $APP.F("query","binding","query/binding",698240489);
Ddb=new $APP.F(null,"avet-metadata","avet-metadata",1556019837);pfb=new $APP.F(null,"return-map","return-map",1620104901);Mhb=new $APP.q("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);n5=new $APP.F(null,"tuples","tuples",-676032639);Nhb=new $APP.q("datascript.core","settings","datascript.core/settings",273729994,null);U5=new $APP.F(null,"branches","branches",-1240337268);
Ohb=new $APP.q("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);V5=new $APP.q(null,"datoms","datoms",1349657093,null);Phb=new $APP.F("transact","cas","transact/cas",816687170);Qhb=new $APP.q("clojure.string","blank?","clojure.string/blank?",1772874244,null);Rhb=new $APP.F(null,"listeners","listeners",394544445);Shb=new $APP.q(null,"validate-schema","validate-schema",758884380,null);$APP.A1=new $APP.F(null,"eavt","eavt",-666437073);
C1=new $APP.F(null,"max-eid","max-eid",2134868075);Thb=new $APP.q("datascript.storage","store","datascript.storage/store",-769865397,null);Uhb=new $APP.q("datascript.core","index-range","datascript.core/index-range",-1484576383,null);Vhb=new $APP.F("db","retractEntity","db/retractEntity",-1452737935);Whb=new $APP.q("datascript.core","listen!","datascript.core/listen!",1659161258,null);U1=new $APP.F(null,"attribute","attribute",-2074029119);$APP.z1=new $APP.F(null,"schema","schema",-1582001791);
Xhb=new $APP.q(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);Yhb=new $APP.q("datascript.db","DB","datascript.db/DB",348347258,null);Zhb=new $APP.q("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);$hb=new $APP.q("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);aib=new $APP.q("datascript.db","Datom","datascript.db/Datom",1951800754,null);
W5=new $APP.F(null,"recursion-limits","recursion-limits",1762857814);meb=new $APP.q(null,"...","...",-1926939749,null);zeb=new $APP.F(null,"freeze-kw","freeze-kw",391758233);Q1=new $APP.F("db.type","tuple","db.type/tuple",938234914);bib=new $APP.q(null,"lookup-entity","lookup-entity",-936060612,null);L1=new $APP.F("db","index","db/index",-1531680669);Bdb=new $APP.F(null,"max-addr","max-addr",1373100454);yeb=new $APP.F(null,"freeze-fn","freeze-fn",-575885995);
cib=new $APP.q("datascript.core","db-with","datascript.core/db-with",-1263574350,null);Ndb=new $APP.F(null,"skip-store?","skip-store?",-484019625);dib=new $APP.q(null,"db-with-tail","db-with-tail",-1072910014,null);eib=new $APP.q("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);pcb=new $APP.F(null,"ref-type","ref-type",-1367328851);J1=new $APP.F("db","unique","db/unique",329396388);fib=new $APP.F("entity-id","syntax","entity-id/syntax",1921317045);
Edb=new $APP.F(null,"eavt-metadata","eavt-metadata",-1384819842);i5=new $APP.F(null,"sources","sources",-321166424);gib=new $APP.F("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);X5=new $APP.q(null,"delete-addrs","delete-addrs",742195107,null);Cdb=new $APP.F(null,"aevt-metadata","aevt-metadata",-1844063817);i2=new $APP.F(null,"tx-meta","tx-meta",1159283194);hib=new $APP.q(null,"pull-many","pull-many",1857679657,null);
iib=new $APP.q(null,"conn-from-db","conn-from-db",-184109372,null);jib=new $APP.q(null,"ground","ground",-1460862835,null);kib=new $APP.q("datascript","Datom","datascript/Datom",-901340080,null);Deb=new $APP.F("parser","rule-var","parser/rule-var",-1584354459);K2=new $APP.F("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);lib=new $APP.q("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);mib=new $APP.F(null,"new","new",-2085437848);
Ecb=new $APP.F(null,"index","index",-1531685915);nib=new $APP.q("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);oib=new $APP.q(null,"stddev","stddev",775056588,null);A2=new $APP.F(null,"entity-id","entity-id",1485898093);pib=new $APP.q(null,"store-tail","store-tail",-757879320,null);qib=new $APP.F("db","cas","db/cas",-451542322);rib=new $APP.q("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);D1=new $APP.F(null,"max-tx","max-tx",1119558339);
sib=new $APP.F("db","tupleType","db/tupleType",448013354);y3=new $APP.F(null,"first-attr","first-attr",-1993039831);u3=new $APP.F(null,"ref?","ref?",1932693720);tib=new $APP.q(null,"sum","sum",1777518341,null);Y5=new $APP.F(null,"attr","attr",-604132353);R3=new $APP.F(null,"visitor","visitor",-1026865865);Z5=new $APP.F(null,"elements","elements",657646735);uib=new $APP.F("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);s5=new $APP.F("query","where","query/where",-1935159429);
vib=new $APP.q("datascript.storage","-store","datascript.storage/-store",-1879938067,null);E2=new $APP.F(null,"context","context",-830191113);wib=new $APP.q("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);xib=new $APP.q("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);yib=new $APP.q(null,"!\x3d","!\x3d",-201205829,null);j5=new $APP.F(null,"rels","rels",1770187185);
zib=new $APP.q("datascript.core","init-db","datascript.core/init-db",1493526573,null);e2=new $APP.F(null,"db-before","db-before",-553691536);Aib=new $APP.q(null,"adapter","adapter",444204808,null);O2=new $APP.F("datascript.db","value-tempids","datascript.db/value-tempids",244806162);ddb=new $APP.F(null,"datom","datom",-371556090);qcb=new $APP.F(null,"strong","strong",269529E3);cdb=new $APP.F("transact","unique","transact/unique",-940992320);
Bib=new $APP.q("datascript.db","datom","datascript.db/datom",399198004,null);Cib=new $APP.q(null,"seek-datoms","seek-datoms",-1423344839,null);Dib=new $APP.F(null,"old","old",-1825222690);Eib=new $APP.F("db.pull","attr","db.pull/attr",-533298746);$2=new $APP.F(null,"db","db",993250759);Fib=new $APP.q("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);teb=new $APP.F("db.pull","wildcard","db.pull/wildcard",116316031);F1=new $APP.F(null,"pull-patterns","pull-patterns",-343695048);
Gib=new $APP.q("datascript.storage","restore","datascript.storage/restore",1486895617,null);Hib=new $APP.q(null,"init-db","init-db",-1059254491,null);Iib=new $APP.F(null,"internal-ctor","internal-ctor",937392560);Jib=new $APP.q(null,"datom-from-reader","datom-from-reader",1334075127,null);h5=new $APP.F(null,"variable","variable",-281346492);Kib=new $APP.q(null,"restore-conn","restore-conn",-1560700042,null);Lib=new $APP.q(null,"transact!","transact!",817805717,null);
Mcb=new $APP.F("db","attrTuples","db/attrTuples",860541631);v3=new $APP.F(null,"component?","component?",407783990);Seb=new $APP.q(null,"$","$",-1580747756,null);Ueb=new $APP.q(null,"aggregate","aggregate",-1142967327,null);H2=new $APP.F("db","add","db/add",235286841);G1=new $APP.F(null,"pull-attrs","pull-attrs",-974863177);Hdb=new $APP.F(null,"tx","tx",466630418);Neb=new $APP.F("parser","binding","parser/binding",-346395752);
Mib=new $APP.q("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);Nib=new $APP.q(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);$5=new $APP.F(null,"element","element",1974019749);Oib=new $APP.q("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);a6=new $APP.q(null,"DB","DB",1622874957,null);Pib=new $APP.q(null,"get-some","get-some",409442058,null);
y2=new $APP.F("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);Qib=new $APP.q(null,"avg","avg",1837937727,null);b6=new $APP.F(null,"unfiltered-db","unfiltered-db",-1363720391);x3=new $APP.F(null,"attrs","attrs",-2090668713);Fcb=new $APP.F(null,"components","components",-1073188942);W0=new $APP.F(null,"storage","storage",1867247511);Rib=new $APP.q(null,"StorageAdapter","StorageAdapter",106942083,null);a1=new $APP.F(null,"branching-factor","branching-factor",1903198601);
Sib=new $APP.q(null,"create-conn","create-conn",2071410861,null);Tib=new $APP.q("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);s3=new $APP.F(null,"xform","xform",-1725711008);ffb=new $APP.q(null,"not-join","not-join",-645515756,null);X4=new $APP.F(null,"qwith","qwith",-45809392);tfb=new $APP.F(null,"with","with",-1536296876);Uib=new $APP.q("datascript.core","datoms","datascript.core/datoms",961250077,null);Ieb=new $APP.F("parser","rule-vars","parser/rule-vars",-1493174969);
Vib=new $APP.q("datascript.core","tx0","datascript.core/tx0",1432817831,null);Wib=new $APP.q("datascript.core","entity","datascript.core/entity",-1406213973,null);A3=new $APP.F(null,"reverse-attrs","reverse-attrs",630097702);T1=new $APP.F("schema","validation","schema/validation",1178447161);Ffb=new $APP.F(null,"got","got",-1674745710);c6=new $APP.q(null,"Datom","Datom",1208901035,null);r3=new $APP.F(null,"reverse?","reverse?",-1672868474);Efb=new $APP.F("query","inputs","query/inputs",1042810394);
X1=new $APP.F("db","cardinality","db/cardinality",-104975659);Xib=new $APP.q(null,"serializable","serializable",1941609404,null);Yib=new $APP.q("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);Zib=new $APP.q(null,"count-distinct","count-distinct",-1566572514,null);$ib=new $APP.q("datascript.storage","storage","datascript.storage/storage",-366769060,null);ajb=new $APP.q(null,"listen!","listen!",-115577950,null);
bjb=new $APP.q("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);cjb=new $APP.q("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);djb=new $APP.q(null,"db-with","db-with",233242042,null);d6=new $APP.F("db.fn","call","db.fn/call",-151594418);ejb=new $APP.q(null,"force?","force?",-815397094,null);x5=new $APP.F(null,"prefix-clauses","prefix-clauses",1294180028);fjb=new $APP.F("db","doc","db/doc",1913350069);
gjb=new $APP.q(null,"touch","touch",-1158163300,null);hjb=new $APP.q("datascript.core","datom","datascript.core/datom",-1596234155,null);Xcb=new $APP.F("db","current-tx","db/current-tx",1600722132);ijb=new $APP.q(null,"reset-schema!","reset-schema!",1937111832,null);jjb=new $APP.q("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);kjb=new $APP.q("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);
ljb=new $APP.F(null,"operation","operation",-1267664310);Dcb=new $APP.F(null,"index-access","index-access",-1548960265);Z4=new $APP.F(null,"qin","qin",1372651151);e6=new $APP.q(null,"storage","storage",-787188258,null);b5=new $APP.F(null,"symbols","symbols",1211743);mjb=new $APP.q(null,"squuid","squuid",-1898207797,null);C3=new $APP.F(null,"fragment","fragment",826775688);njb=new $APP.F("transaction","filtered","transaction/filtered",1699706605);
N2=new $APP.F("datascript.db","internal","datascript.db/internal",-249301114);E1=new $APP.F(null,"rschema","rschema",-1196134054);ojb=new $APP.q(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);f6=new $APP.q(null,"addr+data-seq","addr+data-seq",1516602343,null);pjb=new $APP.q(null,"store","store",-1142205747,null);qjb=new $APP.q(null,"median","median",-2084869638,null);rjb=new $APP.q("clojure.string","includes?","clojure.string/includes?",-1842146260,null);
sjb=new $APP.q(null,"restore","restore",1907703951,null);tjb=new $APP.q(null,"empty-db","empty-db",1486862004,null);$1=new $APP.F(null,"v","v",21465059);p2=new $APP.F("transact","syntax","transact/syntax",-299207078);g6=new $APP.q(null,"-restore","-restore",1124639208,null);qfb=new $APP.F(null,"find","find",496279456);B2=new $APP.F(null,"a","a",-2123407586);ujb=new $APP.q("datascript","DB","datascript/DB",-487332776,null);leb=new $APP.F(null,"*","*",-1294732318);o4=new $APP.F(null,"free","free",801364328);
vjb=new $APP.F("db.fn","cas","db.fn/cas",-379352172);$0=new $APP.F(null,"shift","shift",997140064);wjb=new $APP.q(null,"tx0","tx0",-4656209,null);jfb=new $APP.F(null,"rule","rule",729973257);xjb=new $APP.q(null,"rseek-datoms","rseek-datoms",857788390,null);yjb=new $APP.q(null,"from-serializable","from-serializable",945516427,null);zjb=new $APP.q(null,"resolve-datom","resolve-datom",-294110827,null);Ajb=new $APP.q(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);
Bjb=new $APP.q(null,"IStorage","IStorage",668238001,null);Cjb=new $APP.q(null,"get-else","get-else",1312024065,null);o3=new $APP.F(null,"limit","limit",-1355822363);Djb=new $APP.q(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);Ejb=new $APP.q("datascript.core","pull-many","datascript.core/pull-many",394351057,null);h6=new $APP.q(null,"Entity","Entity",1953938502,null);var Mbb=new $APP.zi(null,new $APP.h(null,12,[L1,null,J1,null,W1,null,sib,null,lhb,null,new $APP.F("db","noHistory","db/noHistory",-1975127444),null,O1,null,new $APP.F("db.install","_attribute","db.install/_attribute",1853441294),null,X1,null,fjb,null,R1,null,P1,null],null),null),edb=new $APP.zi(null,new $APP.h(null,11,[L1,null,J1,null,W1,null,sib,null,lhb,null,O1,null,X1,null,fjb,null,G2,null,R1,null,P1,null],null),null),Ncb=new $APP.zi(null,new $APP.h(null,7,[new $APP.F("db.type","number","db.type/number",
-508502688),null,new $APP.F("db.type","instant","db.type/instant",-1024769248),null,Q1,null,new $APP.F("db.type","uuid","db.type/uuid",1543195203),null,new $APP.F("db.type","string","db.type/string",1432572808),null,new $APP.F("db.type","keyword","db.type/keyword",205926793),null,N1,null],null),null);$APP.g=a0.prototype;$APP.g.R=function(a,b,c){return Pbb.j?Pbb.j(this,b,c):Pbb.call(null,this,b,c)};$APP.g.ha=function(a,b){return $APP.ec(this.lg,b)};$APP.g.da=function(a,b){return $APP.Dx(this.lg,b,null)};$APP.g.K=function(a,b,c){return $APP.Dx(this.lg,b,c)};$APP.g.V=function(a,b,c){return $APP.Nc(this.lg,b,c)};c0.prototype.W=function(a,b){return new c0(this.Gb,this.wg,b)};c0.prototype.U=function(){return this.Km};
c0.prototype.ek=function(a,b,c){a=$APP.C.j($APP.n(this.wg),b,null);if(null==a)return c=c.D?c.D():c.call(null),$APP.kd(this.wg,$APP.ui.j($APP.n(this.wg),b,c)),c;$APP.kd(this.wg,$APP.ui.j($APP.n(this.wg),b,a));return a};var i6=function i6(a){switch(arguments.length){case 0:return i6.D();case 1:return i6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};i6.D=function(){return i6.g((new Date).getTime())};
i6.g=function(a){return $APP.ck([$APP.m.g(e0(a/1E3|0,8)),"-",$APP.m.g(e0($APP.Cj(65536),4)),"-",$APP.m.g(e0($APP.Cj(65536)&4095|16384,4)),"-",$APP.m.g(e0($APP.Cj(65536)&16383|32768,4)),"-",$APP.m.g(e0($APP.Cj(65536),4)),$APP.m.g(e0($APP.Cj(65536),4)),$APP.m.g(e0($APP.Cj(65536),4))].join(""))};i6.B=1;var ndb=$APP.Zm.h($APP.vf,$APP.Sg),Lcb=$APP.Zm.h($APP.vf,$APP.Ai);var Xbb=Math.pow(2,31),R0=Math.pow(2,5),y0=R0/2,kcb=R0+y0>>>1,Vbb=R0-1,Wbb=g0($APP.ej.h(function(a){return Math.pow(2,a)},$APP.Un.j(0,52,5)));$APP.g=C0.prototype;$APP.g.og=function(a,b){var c=this;B0(this,$APP.be(c.children));$APP.Ny.g($APP.xu.h(function(d,e){var f=c.children[d];e=$APP.k(f)?(e=null==e)?e:f.Og:f;return $APP.k(e)?(f=z0(f,b),c.vd[d]=f):null},c.vd));a=j0(b,this,c.yb);c.Og=!1;return c.yb=a};$APP.g.lj=function(){var a=this.keys;return a[a.length-1]};$APP.g.lk=function(){return this.keys.length};
$APP.g.nj=function(a,b,c){B0(this,$APP.be(this.children));B0(b,$APP.be(b.children));a=b.yb;$APP.k(a)&&k0(c,new $APP.H(null,1,5,$APP.I,[a],null));return D0(this.keys.concat(b.keys),this.children.concat(b.children),this.vd.concat(b.vd),this.yb,!0)};$APP.g.oj=function(a,b){B0(this,$APP.be(this.children));B0(b,$APP.be(b.children));a=p0(this.keys,b.keys);var c=p0(this.children,b.children),d=p0(this.vd,b.vd);return q0(D0(a[0],c[0],d[0],this.yb,!0),D0(a[1],c[1],d[1],b.yb,!0))};
$APP.g.Pf=function(a,b){if($APP.x.h(-1,a))return null;var c=$APP.k(this.vd)?this.vd[a]:null;$APP.Cb(this.children[a])?(b=i0(b,c),this.children[a]=b):$APP.k($APP.k(b)?c:b)&&Ubb(b,c);return this.children[a]};$APP.g.mj=function(a,b,c,d){a=$bb(b,this.keys,c);a=this.Pf(a,d);return $APP.k(a)?v0(a,b,c,d):null};
$APP.g.jj=function(a,b,c,d){B0(this,$APP.be(this.children));a=n0(b,this.keys,this.keys.length-2,c);var e=this.Pf(a,d);c=$APP.k(e)?w0(e,b,c,d):null;if($APP.k(c)){d=this.keys;e=a+1;var f=c.map(r0);b=bcb(b,d,a,e,f,f.length)?d:o0(d,a,e,f);d=o0(this.children,a,a+1,c);a=o0(this.vd,a,a+1,A0(c));if(d.length<=R0)return[D0(b,d,a,this.yb,!0)];c=d.length>>>1;return[D0(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.yb,!0),D0(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.kj=function(a,b,c,d,e,f,l){B0(this,$APP.be(this.children));var p=$bb(b,this.keys,c);if(-1===p)return null;var u=this.Pf(p,l);a=0<=p-1?this.Pf(p-1,l):null;var t=p+1<this.children.length?this.Pf(p+1,l):null;c=x0(u,b,c,!1,a,t,l);return $APP.k(c)?(a=$APP.k(a)?p-1:p,p=$APP.k(t)?2+p:1+p,t=this.keys,u=c.map(r0),b=bcb(b,t,a,p,u,u.length)?t:o0(t,a,p,u),t=o0(this.children,a,p,c),c=o0(this.vd,a,p,A0(c)),p>a&&(a=$APP.bx.h($APP.Di($APP.gs.h($APP.yb,this.vd.slice(a,p))),$APP.Di($APP.gs.h($APP.yb,c))),$APP.k($APP.k(l)?
$APP.r(a):l)&&k0(l,a)),dcb(D0(b,t,c,this.yb,!0),d,e,f,l)):null};var V0=function V0(a){switch(arguments.length){case 1:return V0.g(arguments[0]);case 2:return V0.h(arguments[0],arguments[1]);case 3:return V0.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};V0.g=function(a){return V0.h(a,null)};V0.h=function(a,b){return V0.j(a,b,!0)};V0.j=function(a,b,c){return new ecb(a,b,c)};V0.B=3;$APP.g=ecb.prototype;
$APP.g.og=function(a,b){a=this.Og;return $APP.k($APP.k(a)?a:null==this.yb)?(b=j0(b,this,this.yb),this.Og=!1,this.yb=b):this.yb};$APP.g.lj=function(){var a=this.keys;return a[a.length-1]};$APP.g.lk=function(){return this.keys.length};$APP.g.nj=function(a,b,c){a=b.yb;$APP.k(a)&&k0(c,new $APP.H(null,1,5,$APP.I,[a],null));return V0.h(this.keys.concat(b.keys),this.yb)};$APP.g.oj=function(a,b){a=p0(this.keys,b.keys);return q0(V0.h(a[0],this.yb),V0.h(a[1],b.yb))};$APP.g.Pf=function(a){return this.keys[a]};
$APP.g.mj=function(a,b,c,d){a=Zbb(b,this.keys,c);return-1===a?null:this.Pf(a,d)};$APP.g.jj=function(a,b,c){a=n0(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===R0?(b=d+1>>>1,a>b?[V0.h(this.keys.slice(0,b),this.yb),V0.g(acb(this.keys,b,d,a,a,[c]))]:[V0.h(acb(this.keys,0,b,a,a,[c]),this.yb),V0.g(this.keys.slice(b,d))]):[V0.h(o0(this.keys,a,a,[c]),this.yb)]};
$APP.g.kj=function(a,b,c,d,e,f,l){a=Zbb(b,this.keys,c);if(-1===a)return null;a=o0(this.keys,a,a+1,[]);return dcb(V0.h(a,this.yb),d,e,f,l)};$APP.g=$APP.F0.prototype;$APP.g.mf=function(){var a=this.root;return $APP.k(a)?a:$APP.k(this.yb)?this.root=a=i0(this.storage,this.yb):null};$APP.g.toString=function(){return $APP.od(this)};$APP.g.da=function(a,b){this.mf(null);return v0(this.root,this.pd,b,this.storage)};
$APP.g.K=function(a,b,c){this.mf(null);a=v0(this.root,this.pd,b,this.storage);return $APP.k(a)?a:c};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#{"," ","}",c,$APP.r(this))};$APP.g.U=function(){return this.O};$APP.g.ba=function(){return new $APP.F0(this.storage,this.root,this.shift,this.S,this.pd,this.O,this.wd,this.yb)};$APP.g.aa=function(){return this.S};$APP.g.xd=function(){return $APP.Fc(O0.g?O0.g(this):O0.call(null,this))};$APP.g.Y=function(){var a=this.wd;return null!=a?a:this.wd=a=$APP.Nd(this)};
$APP.g.T=function(a,b){var c=this;return $APP.ye(b)&&this.S===$APP.be(b)&&$APP.mg(function(d){return $APP.Se(c,d)},b)};$APP.g.ff=function(){return this};$APP.g.Na=function(){return new $APP.F0(this.storage,V0.g([]),0,0,this.pd,this.O,null,null)};$APP.g.Nh=function(a,b){return T0.j?T0.j(this,b,this.pd):T0.call(null,this,b,this.pd)};$APP.g.ib=function(a,b){a=O0.g?O0.g(this):O0.call(null,this);return $APP.k(a)?$APP.Ex(a,b):b.D?b.D():b.call(null)};
$APP.g.fb=function(a,b,c){a=O0.g?O0.g(this):O0.call(null,this);return $APP.k(a)?$APP.Ex(a,b,c):c};$APP.g.Je=function(a,b){return S0.j?S0.j(this,b,this.pd):S0.call(null,this,b,this.pd)};$APP.g.xf=function(){return this};$APP.g.og=function(a,b){null==this.storage&&(this.storage=b);this.mf(null);null==this.yb&&(this.yb=z0(this.root,this.storage));return this.yb};$APP.g.Z=function(){return O0.g?O0.g(this):O0.call(null,this)};
$APP.g.Oi=function(a,b){return T0.j?T0.j(this,b,this.pd):T0.call(null,this,b,this.pd)};$APP.g.W=function(a,b){return new $APP.F0(this.storage,this.root,this.shift,this.S,this.pd,b,this.wd,this.yb)};$APP.g.ca=function(a,b){return S0.j?S0.j(this,b,this.pd):S0.call(null,this,b,this.pd)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return this.da(null,a)};$APP.g.h=function(a,b){return this.K(null,a,b)};
var K0=function K0(a,b,c,d){var f=l0(c,d);if(0<d){var l=G0(b,f,a.storage),p=d-1;a=K0.F?K0.F(a,l,c,p):K0.call(null,a,l,c,p);return null==a?f+1<b.children.length?m0(0,d,f+1):null:m0(a,d,f)}return f+1<b.keys.length?m0(0,0,f+1):null},M0=function M0(a,b,c,d){var f=l0(c,d);if(0===d&&0===f)return null;if(0===d)return m0(0,0,f-1);if(f>=s0(b))return J0(b,c,d,a.storage);var l=G0(b,f,a.storage);var p=d-1;l=M0.F?M0.F(a,l,c,p):M0.call(null,a,l,c,p);if(null!=l)return m0(l,d,f);if(0===f)return null;a=J0(G0(b,f-
1,a.storage),c,d-1,a.storage);return m0(a,d,f-1)};$APP.g=gcb.prototype;$APP.g.aa=function(){return this.end-this.Bb};$APP.g.ea=function(a,b){return this.I[this.Bb+b]};$APP.g.mb=function(a,b,c){return 0<=b&&b<this.end-this.Bb?this.I[this.Bb+b]:c};$APP.g.Vg=function(){if(this.Bb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Jf(this.I,this.Bb+1,this.end)};$APP.g.ib=function(a,b){return this.Bb===this.end?b.D?b.D():b.call(null):$APP.Ex(this.Vg(null),b,this.I[this.Bb])};
$APP.g.fb=function(a,b,c){for(a=this.Bb;;)if(a<this.end){var d=this.I[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Ud(c))return $APP.n(c);a+=1}else return c};$APP.g=P0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.eb=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new P0(this.set,a,this.right,this.keys,this.idx+1):null}a=L0(this.set,this.left);return a<this.right?this.gi(a,this.right):null}return null};$APP.g.xd=function(){if($APP.k(this.keys)){var a=this.set,b=fcb(this.set,this.left),c=fcb(this.set,this.right);return hcb.j?hcb.j(a,b,c):hcb.call(null,a,b,c)}return null};$APP.g.T=function(a,b){return $APP.sf(this,b)};
$APP.g.ib=function(a,b){if(null==this.keys)return b.D?b.D():b.call(null);a=this.jb(null);var c=this.eb(null);return null==c?a:$APP.Ex(c,b,a)};$APP.g.fb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Ud(c))return $APP.n(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=L0(this.set,a),a<this.right)f=a,d=H0(this.set,a),e=l0(a,0),a=f;else return c}};
$APP.g.jb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.vb=function(){var a=this.eb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.zg=function(){var a=this.left,b=this.right;return new gcb(this.keys,this.idx,(a<Xbb&&b<Xbb?a>>>5===b>>>5:Math.floor(a/R0)===Math.floor(b/R0))?l0(this.right,0):this.keys.length)};$APP.g.wf=function(){var a=this.Yf();return $APP.k(a)?a:$APP.Hd};
$APP.g.gi=function(a,b){return new P0(this.set,a,b,H0(this.set,a),l0(a,0))};$APP.g.Yf=function(){var a=L0(this.set,m0(this.left,0,this.keys.length-1));return a<this.right?this.gi(a,this.right):null};$APP.g=Q0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.eb=function(){if($APP.k(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new Q0(this.set,this.left,a,this.keys,this.idx-1):null}a=fcb(this.set,this.right);return this.left<a?this.gi(this.left,a):null}return null};$APP.g.xd=function(){return $APP.k(this.keys)?N0(this.set,L0(this.set,this.left),L0(this.set,this.right)):null};$APP.g.T=function(a,b){return $APP.sf(this,b)};$APP.g.jb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};
$APP.g.vb=function(){var a=this.eb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.gi=function(a,b){return new Q0(this.set,a,b,H0(this.set,b),l0(b,0))};var Fjb=Error,j6=function j6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(j6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},k6=function k6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(k6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},l6=function l6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(l6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},m6=function m6(a){switch(arguments.length){case 2:return m6.h(arguments[0],
arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(m6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};m6.j=function(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(m6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);};m6.B=3;
var n6=function n6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(n6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);},o6=function o6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(o6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);};$APP.g=$APP.e1.prototype;$APP.g.ob=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.Md=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.wd?this.wd=j6(this):this.wd};
$APP.g.T=function(a,b){return b instanceof $APP.e1&&k6(this,b)};$APP.g.Z=function(){return l6(this)};$APP.g.da=function(a,b){return o6(this,b,null)};$APP.g.K=function(a,b,c){return o6(this,b,c)};$APP.g.ea=function(a,b){return m6.h(this,b)};$APP.g.mb=function(a,b,c){return m6.j(this,b,c)};$APP.g.R=function(a,b,c){return n6(this,b,c)};$APP.g.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.I,[this.e,this.a,this.v,this.ob(null),this.Md(null)],null))};
Lbb("datascript.db.Datom",$APP.e1);var f1=function f1(a){switch(arguments.length){case 3:return f1.j(arguments[0],arguments[1],arguments[2]);case 4:return f1.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return f1.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};f1.j=function(a,b,c){return new $APP.e1(a,b,c,536870912,0,0)};f1.F=function(a,b,c,d){return new $APP.e1(a,b,c,d,0,0)};
f1.P=function(a,b,c,d,e){return new $APP.e1(a,b,c,$APP.k(e)?d:-d,0,0)};f1.B=5;j6=function(){return null};j6=function(a){return b1(b1($APP.yd(a.e),$APP.yd(a.a)),$APP.yd(a.v))};k6=function(){return null};k6=function(a,b){return a.e===b.e&&$APP.x.h(a.a,b.a)&&$APP.x.h(a.v,b.v)};l6=function(){return null};l6=function(a){return new $APP.D(null,a.e,new $APP.D(null,a.a,new $APP.D(null,a.v,new $APP.D(null,a.ob(null),new $APP.D(null,a.Md(null),null,1,null),2,null),3,null),4,null),5,null)};o6=function(){return null};
o6=function(a,b,c){if(b instanceof $APP.F)switch(b instanceof $APP.F?b.N:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ob(null);case "added":return a.Md(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.ob(null);case "added":return a.Md(null);default:return c}else return c};
m6=function(a){switch(arguments.length){case 2:return m6.h(arguments[0],arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(){return null};m6.j=function(){return null};m6.B=3;
m6=function(a){switch(arguments.length){case 2:return m6.h(arguments[0],arguments[1]);case 3:return m6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};m6.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ob(null);case 4:return a.Md(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.m.g(b)].join(""));}};
m6.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.ob(null);case 4:return a.Md(null);default:return c}};m6.B=3;n6=function(){return null};
n6=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "e":return f1.P(c,a.a,a.v,a.ob(null),a.Md(null));case "a":return f1.P(a.e,c,a.v,a.ob(null),a.Md(null));case "v":return f1.P(a.e,a.a,c,a.ob(null),a.Md(null));case "tx":return f1.P(a.e,a.a,a.v,c,a.Md(null));case "added":return f1.P(a.e,a.a,a.v,a.ob(null),c);default:throw new Fjb(["invalid key for #datascript/Datom: ",$APP.m.g(b)].join(""));}};
var h1=function h1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(h1),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};h1=function(){return null};
h1=function(a,b){try{return $APP.x.h(a,b)?0:$APP.Ae(a)&&$APP.Ae(b)?wcb(a,b):(null!=a?a.M&2048||$APP.xd===a.Ge||(a.M?0:$APP.Ib($APP.$c,a)):$APP.Ib($APP.$c,a))?$APP.ad(a,b):$APP.Jb(a)===$APP.Jb(b)?"number"===typeof a||"string"===typeof a||$APP.zb(a)||!0===a||!1===a?$APP.Ra(a,b):$APP.yd(a)-$APP.yd(b):vcb(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Jb(a)===$APP.Jb(b))throw c;return vcb(a,b)}throw d;}};
var p6=function p6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(p6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},q6=function q6(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(q6),$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},r6=function r6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(r6),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},X2=function X2(a){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(X2),
$APP.mn.h(" ",new $APP.H(null,1,5,$APP.I,[a],null))].join(""),$APP.Xf);},t1=function t1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(t1),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},s6=function s6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(s6),$APP.mn.h(" ",new $APP.H(null,3,5,$APP.I,[a,b,c],null))].join(""),$APP.Xf);},t6=function t6(a,b,c,d,e,f,l){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(t6),$APP.mn.h(" ",new $APP.H(null,7,5,$APP.I,[a,b,c,d,e,
f,l],null))].join(""),$APP.Xf);},u6=function u6(a,b,c,d,e,f,l,p){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(u6),$APP.mn.h(" ",new $APP.H(null,8,5,$APP.I,[a,b,c,d,e,f,l,p],null))].join(""),$APP.Xf);};$APP.g=$APP.y1.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "schema":return this.Gc;case "eavt":return this.ec;case "aevt":return this.Ic;case "avet":return this.qc;case "max-eid":return this.ad;case "max-tx":return this.bd;case "rschema":return this.Jc;case "pull-patterns":return this.Pc;case "pull-attrs":return this.Oc;case "hash":return this.hash;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.z1,this.Gc],null),new $APP.H(null,2,5,$APP.I,[$APP.A1,this.ec],null),new $APP.H(null,2,5,$APP.I,[B1,this.Ic],null),new $APP.H(null,2,5,$APP.I,[s1,this.qc],null),new $APP.H(null,2,5,$APP.I,[C1,this.ad],null),new $APP.H(null,2,5,$APP.I,[D1,this.bd],null),new $APP.H(null,2,5,$APP.I,[E1,this.Jc],null),new $APP.H(null,
2,5,$APP.I,[F1,this.Pc],null),new $APP.H(null,2,5,$APP.I,[G1,this.Oc],null),new $APP.H(null,2,5,$APP.I,[H1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,10,new $APP.H(null,10,5,$APP.I,[$APP.z1,$APP.A1,B1,s1,C1,D1,E1,F1,G1,H1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,this.C)};
$APP.g.aa=function(){return 10+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Gc,b.Gc)&&$APP.x.h(this.ec,b.ec)&&$APP.x.h(this.Ic,b.Ic)&&$APP.x.h(this.qc,b.qc)&&$APP.x.h(this.ad,b.ad)&&$APP.x.h(this.bd,b.bd)&&$APP.x.h(this.Jc,b.Jc)&&$APP.x.h(this.Pc,b.Pc)&&$APP.x.h(this.Oc,b.Oc)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,10,[$APP.z1,null,D1,null,H1,null,B1,null,s1,null,C1,null,$APP.A1,null,G1,null,F1,null,E1,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.z1,b):$APP.Af.call(null,$APP.z1,b))?new $APP.y1(c,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.A1,b):$APP.Af.call(null,$APP.A1,b))?new $APP.y1(this.Gc,c,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(B1,b):$APP.Af.call(null,B1,b))?new $APP.y1(this.Gc,this.ec,c,this.qc,this.ad,this.bd,this.Jc,
this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(s1,b):$APP.Af.call(null,s1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,c,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(C1,b):$APP.Af.call(null,C1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,c,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(D1,b):$APP.Af.call(null,D1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,c,this.Jc,this.Pc,
this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(E1,b):$APP.Af.call(null,E1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,c,this.Pc,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(F1,b):$APP.Af.call(null,F1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,c,this.Oc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(G1,b):$APP.Af.call(null,G1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,
c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H1,b):$APP.Af.call(null,H1,b))?new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,c,this.A,this.o,null):new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,10,5,$APP.I,[new $APP.Te($APP.z1,this.Gc,null),new $APP.Te($APP.A1,this.ec,null),new $APP.Te(B1,this.Ic,null),new $APP.Te(s1,this.qc,null),new $APP.Te(C1,this.ad,null),new $APP.Te(D1,this.bd,null),new $APP.Te(E1,this.Jc,null),new $APP.Te(F1,this.Pc,null),new $APP.Te(G1,this.Oc,null),new $APP.Te(H1,this.hash,null)],null),this.o))};
$APP.g.W=function(a,b){return new $APP.y1(this.Gc,this.ec,this.Ic,this.qc,this.ad,this.bd,this.Jc,this.Pc,this.Oc,this.hash,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.bk=function(a,b){a:for(var c=this.ec,d=$APP.A1.g(b),e=a=b=$APP.Sg;;){if($APP.ve(c)){var f=new $APP.H(null,3,5,$APP.I,[$APP.Zf(b),$APP.Zf($APP.Eh.h(a,d)),$APP.Zf(e)],null);break a}if($APP.ve(d)){f=new $APP.H(null,3,5,$APP.I,[$APP.Zf($APP.Eh.h(b,c)),$APP.Zf(a),$APP.Zf(e)],null);break a}var l=$APP.v(c),p=$APP.v(d);try{f=ycb.h?ycb.h(l,p):ycb.call(null,l,p)}catch(u){if(u instanceof Error)f=ygb;else throw u;}if($APP.x.h(f,ygb))b=$APP.vf.h(b,l),a=$APP.vf.h(a,p),c=$APP.w(c),d=$APP.w(d);else if(0===
f)e=$APP.vf.h(e,l),c=$APP.w(c),d=$APP.w(d);else if(0>f)b=$APP.vf.h(b,l),c=$APP.w(c);else if(0<f)a=$APP.vf.h(a,p),d=$APP.w(d);else{f=null;break a}}return f};$APP.g.Ka=$APP.xd;$APP.g.V=function(a,b,c){return s6(this,b,c)};$APP.g.Mh=$APP.xd;$APP.g.aa=function(){return $APP.be(this.ec)};$APP.g.Kl=$APP.xd;$APP.g.xd=function(){return $APP.Fc(this.ec)};$APP.g.Wg=$APP.xd;$APP.g.Y=function(){return p6(this)};$APP.g.T=function(a,b){return r6(this,b)};$APP.g.Fi=$APP.xd;
$APP.g.ff=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.A1,$APP.Pf),B1,$APP.Pf),s1,$APP.Pf)};$APP.g.Gi=$APP.xd;$APP.g.Na=function(){return $APP.re(X2(new $APP.h(null,5,[$APP.z1,this.Gc,E1,this.Jc,$APP.A1,$APP.ne(this.ec),B1,$APP.ne(this.Ic),s1,$APP.ne(this.qc)],null)),$APP.se(this))};$APP.g.Je=function(){throw $APP.Yl.h("datascript.DB/conj! is not supported",$APP.Xf);};$APP.g.xf=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.A1,$APP.Qf),B1,$APP.Qf),s1,$APP.Qf)};$APP.g.ck=function(){return Chb};
$APP.g.Zi=function(a,b,c,d,e,f){u1(this,b,c,d,e,f);return U0($APP.C.h(this,b),u6(this,b,c,d,e,f,0,536870912),u6(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.bj=function(a,b,c,d,e,f){u1(this,b,c,d,e,f);return U0($APP.C.h(this,b),u6(this,b,c,d,e,f,0,536870912),f1.F(2147483647,null,null,2147483647))};$APP.g.aj=function(a,b,c,d,e,f){u1(this,b,c,d,e,f);return mcb($APP.C.h(this,b),u6(this,b,c,d,e,f,2147483647,2147483647),f1.F(0,null,null,536870912))};
$APP.g.$i=function(a,b,c,d){u1(this,s1,b,null,null,null);if(!(b instanceof $APP.F||"string"===typeof b))throw a=new $APP.D(null,ahb,new $APP.D(null,S5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([b]))," at ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,b,E2,a,$APP.Kn,p2],null));return U0(this.qc,t6(this,null,b,c,null,0,536870912),t6(this,null,b,d,null,
2147483647,2147483647))};$APP.g.Wi=$APP.xd;$APP.g.Yi=function(){return this.Gc};$APP.g.Xi=function(a,b){a=this.Jc;return a.g?a.g(b):a.call(null,b)};$APP.g.dk=$APP.xd;
$APP.g.cj=function(a,b){a=$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null);b=this.ec;var f=this.Ic,l=this.qc;$APP.Se(x1(this,M1),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?U0(b,f1.F(a,c,d,e),f1.F(a,c,d,e)):U0(b,f1.F(a,c,d,536870912),f1.F(a,c,d,2147483647)):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),U0(b,f1.F(a,c,null,536870912),f1.F(a,c,null,2147483647))):U0(b,f1.F(a,c,null,536870912),f1.F(a,c,null,2147483647)):null!=d?$APP.k(e)?
$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))}),U0(b,f1.F(a,null,null,536870912),f1.F(a,null,null,2147483647))):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),U0(b,f1.F(a,null,null,536870912),f1.F(a,null,null,2147483647))):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),U0(b,f1.F(a,null,null,536870912),f1.F(a,null,null,2147483647))):U0(b,f1.F(a,null,null,536870912),f1.F(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?t1(this,c)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,
p.ob(null))}),U0(l,f1.F(0,c,d,536870912),f1.F(2147483647,c,d,2147483647))):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))}),U0(f,f1.F(0,c,null,536870912),f1.F(2147483647,c,null,2147483647))):t1(this,c)?U0(l,f1.F(0,c,d,536870912),f1.F(2147483647,c,d,2147483647)):$APP.tj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),U0(f,f1.F(0,c,null,536870912),f1.F(2147483647,c,null,2147483647))):$APP.k(e)?$APP.tj($APP.Pg.g(function(p){return $APP.x.h(e,p.ob(null))}),U0(f,f1.F(0,c,null,
536870912),f1.F(2147483647,c,null,2147483647))):U0(f,f1.F(0,c,null,536870912),f1.F(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.ob(null))},b):$APP.Pg.h(function(p){return $APP.x.h(d,p.v)},b):$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(e,p.ob(null))},b):b};$APP.g=I1.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":return this.Kc;case "pred":return this.gb;case "hash":return this.hash;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[b6,this.Kc],null),new $APP.H(null,2,5,$APP.I,[$APP.aw,this.gb],null),new $APP.H(null,2,5,$APP.I,[H1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[b6,$APP.aw,H1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new I1(this.Kc,this.gb,this.hash,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Kc,b.Kc)&&$APP.x.h(this.gb,b.gb)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[H1,null,$APP.aw,null,b6,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new I1(this.Kc,this.gb,this.hash,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(b6,b):$APP.Af.call(null,b6,b))?new I1(c,this.gb,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.aw,b):$APP.Af.call(null,$APP.aw,b))?new I1(this.Kc,c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H1,b):$APP.Af.call(null,H1,b))?new I1(this.Kc,this.gb,c,this.A,this.o,null):new I1(this.Kc,this.gb,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(b6,this.Kc,null),new $APP.Te($APP.aw,this.gb,null),new $APP.Te(H1,this.hash,null)],null),this.o))};$APP.g.W=function(a,b){return new I1(this.Kc,this.gb,this.hash,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Qj=$APP.xd;$APP.g.da=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.K=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.Ka=$APP.xd;$APP.g.V=function(a,b,c){return s6(this,b,c)};$APP.g.Mh=$APP.xd;$APP.g.aa=function(){return $APP.be(o1(this,$APP.A1,null,null,null,null))};$APP.g.Wg=$APP.xd;$APP.g.Y=function(){return q6(this)};$APP.g.T=function(a,b){return r6(this,b)};$APP.g.Gi=$APP.xd;$APP.g.Na=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.Ei=$APP.xd;
$APP.g.ha=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.R=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.Zi=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,o1(this.Kc,b,c,d,e,f))};$APP.g.bj=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,p1(this.Kc,b,c,d,e,f))};$APP.g.aj=function(a,b,c,d,e,f){return $APP.Pg.h(this.gb,q1(this.Kc,b,c,d,e,f))};$APP.g.$i=function(a,b,c,d){return $APP.Pg.h(this.gb,r1(this.Kc,b,c,d))};$APP.g.Wi=$APP.xd;
$APP.g.Yi=function(){return w1(this.Kc)};$APP.g.Xi=function(a,b){return x1(this.Kc,b)};$APP.g.dk=$APP.xd;$APP.g.cj=function(a,b){return $APP.Pg.h(this.gb,m1(this.Kc,b))};X2=function(a){a=$APP.Yf(a);$APP.C.h(a,$APP.z1);$APP.C.h(a,$APP.A1);$APP.C.h(a,B1);$APP.C.h(a,s1);$APP.C.h(a,C1);$APP.C.h(a,D1);return null};
X2=function(a){var b=$APP.Yf(a);a=$APP.C.h(b,$APP.z1);var c=$APP.C.h(b,$APP.A1),d=$APP.C.h(b,B1),e=$APP.C.h(b,s1),f=$APP.C.h(b,C1),l=$APP.C.h(b,D1);l=$APP.k(l)?l:536870912;var p=$APP.Aj.g(0);f=$APP.k(f)?f:0;var u=d0(),t=d0();b=E1.g(b);b=$APP.k(b)?b:S1($APP.Nl.l($APP.z([new $APP.h(null,1,[R1,new $APP.h(null,1,[J1,K1],null)],null),a])));return Gcb($APP.gi([$APP.z1,D1,H1,B1,s1,C1,$APP.A1,G1,F1,E1],[a,l,p,d,e,f,c,u,t,b]))};p6=function(){return null};
p6=function(a){var b=$APP.n(a.hash);return 0===b?$APP.vg(a.hash,b1($APP.yd(a.Gc),$APP.yd(a.ec))):b};q6=function(){return null};q6=function(a){var b=$APP.n(a.hash);(function(){var c=o1(a,$APP.A1,null,null,null,null);return $APP.k(c)?c:$APP.Ai})();return 0===b?(b=function(){var c=o1(a,$APP.A1,null,null,null,null);return $APP.k(c)?c:$APP.Ai}(),$APP.vg(a.hash,b1($APP.yd(w1(a)),$APP.Nd(b)))):b};r6=function(){return null};
r6=function(a,b){var c;if(c=b instanceof $APP.y1||b instanceof I1)if(c=$APP.x.h(w1(a),w1(b)))a:for(a=o1(a,$APP.A1,null,null,null,null),c=o1(b,$APP.A1,null,null,null,null),b=$APP.r(a),a=$APP.r(c);;){if(null==b){c=null==a;break a}if($APP.x.h($APP.v(b),$APP.v(a)))b=$APP.w(b),a=$APP.w(a);else{c=!1;break a}}return c};s6=function(){return null};
s6=function(a,b,c){$APP.Lc(b,"#datascript/DB {");$APP.Lc(b,":schema ");$APP.dj(w1(a),b,c);$APP.Lc(b,", :datoms ");$APP.aj(b,function(d,e,f){return $APP.aj(e,$APP.dj,"["," ","]",f,new $APP.H(null,4,5,$APP.I,[d.e,d.a,d.v,$APP.c1(d)],null))},"["," ","]",c,o1(a,$APP.A1,null,null,null,null));return $APP.Lc(b,"}")};
var s2=function s2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(s2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},r2=function r2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(r2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);};t6=function(){return null};
t6=function(a,b,c,d,e,f,l){if(null!=c&&!(c instanceof $APP.F||"string"===typeof c))throw a=new $APP.D(null,zjb,new $APP.D(null,S5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,new $APP.D(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([c]))," at ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,c,E2,a,$APP.Kn,p2],null));return f1.F(null!=b?s2(a,b):f,c,null!=d&&r2(a,c)?s2(a,d):d,null!=e?s2(a,
e):l)};u6=function(){return null};u6=function(a,b,c,d,e,f,l,p){b=b instanceof $APP.F?b.N:null;switch(b){case "eavt":return t6(a,c,d,e,f,l,p);case "aevt":return t6(a,d,c,e,f,l,p);case "avet":return t6(a,e,c,d,f,l,p);default:throw Error(["No matching clause: ",$APP.m.g(b)].join(""));}};$APP.g=d2.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db-before":return this.ce;case "db-after":return this.be;case "tx-data":return this.ge;case "tempids":return this.ee;case "tx-meta":return this.he;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[e2,this.ce],null),new $APP.H(null,2,5,$APP.I,[f2,this.be],null),new $APP.H(null,2,5,$APP.I,[g2,this.ge],null),new $APP.H(null,2,5,$APP.I,[h2,this.ee],null),new $APP.H(null,2,5,$APP.I,[i2,this.he],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[e2,f2,g2,h2,i2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new d2(this.ce,this.be,this.ge,this.ee,this.he,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ce,b.ce)&&$APP.x.h(this.be,b.be)&&$APP.x.h(this.ge,b.ge)&&$APP.x.h(this.ee,b.ee)&&$APP.x.h(this.he,b.he)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[h2,null,f2,null,e2,null,g2,null,i2,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new d2(this.ce,this.be,this.ge,this.ee,this.he,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(e2,b):$APP.Af.call(null,e2,b))?new d2(c,this.be,this.ge,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(f2,b):$APP.Af.call(null,f2,b))?new d2(this.ce,c,this.ge,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(g2,b):$APP.Af.call(null,g2,b))?new d2(this.ce,this.be,c,this.ee,this.he,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(h2,b):$APP.Af.call(null,h2,b))?new d2(this.ce,this.be,this.ge,c,this.he,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(i2,b):$APP.Af.call(null,i2,b))?new d2(this.ce,this.be,this.ge,this.ee,c,this.A,this.o,null):new d2(this.ce,this.be,this.ge,this.ee,this.he,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(e2,this.ce,null),new $APP.Te(f2,this.be,null),new $APP.Te(g2,this.ge,null),new $APP.Te(h2,this.ee,null),new $APP.Te(i2,this.he,null)],null),this.o))};
$APP.g.W=function(a,b){return new d2(this.ce,this.be,this.ge,this.ee,this.he,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};j2=function(a,b,c){return $APP.Se(x1(a,c),b)};k2=function(a,b){return j2(a,b,M1)};l2=function(a,b,c){return j2(a,b,M1)&&(h0(c)||$APP.we(c)&&!$APP.Be(c))};r2=function(){return null};r2=function(a,b){return j2(a,b,N1)};m2=function(a,b){return j2(a,b,O1)};t1=function(){return null};
t1=function(a,b){return j2(a,b,L1)};n2=function(a,b){return j2(a,b,Q1)};Tcb=function(a,b){return j2(a,b,Mcb)};o2=function(a){if(a instanceof $APP.F)return $APP.x.h("_",$APP.y.h($APP.Fi(a),0));if("string"===typeof a)return $APP.ib($APP.Ui(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Yl.h(["Bad attribute type: ",$APP.yj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,p2,U1,a],null));};
t2=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Yl.h(["Highest supported entity id is ",$APP.yj.l($APP.z([2147483647])),", got ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,A2,$APP.lK,b],null));return b}if($APP.Ae(b)){var c=b,d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);if($APP.ti.h($APP.be(b),2))throw $APP.Yl.h(["Lookup ref should contain 2 elements: ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Xgb,A2,b],null));if(j2(a,d,J1))return n2(a,
d)?(b=Ucb(a,d,c),$APP.zL.g($APP.v(o1(a,s1,d,b,null,null)))):null==c?null:$APP.zL.g($APP.v(o1(a,s1,d,c,null,null)));throw $APP.Yl.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Dgb,A2,b],null));}if($APP.zb(b))b=$APP.z(b);else{if(b instanceof $APP.F)return $APP.zL.g($APP.v(o1(a,s1,R1,b,null,null)));throw $APP.Yl.h(["Expected number or lookup ref for entity id, got ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,fib,
A2,b],null));}}};Vcb=function(a,b){return $APP.x.h(b,$APP.zL.g($APP.v(p1(a,$APP.A1,b,null,null,null))))};s2=function(){return null};s2=function(a,b){a=t2(a,b);if($APP.k(a))return a;throw $APP.Yl.h(["Nothing found for entity id ",$APP.yj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,nhb,A2,b],null));};var Wcb=$APP.Aj.g(0);u2.prototype.V=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/AutoTempid ["," ","]",c,new $APP.H(null,1,5,$APP.I,[this.id],null))};
f0=function(a){return a instanceof u2};
var v6=function v6(a,b){return function f(e){return new $APP.Ff(null,function(){for(;;){var l=$APP.r(e);if(l){var p=l;if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.If(t);return function(){for(var E=0;;)if(E<t){var G=$APP.oe(u,E);$APP.Mf(A,$APP.Be(G)?$APP.df(function(){return function(O,T,Z){return T instanceof $APP.F||"string"===typeof T?r2(a,T)&&l2(a,T,Z)?$APP.ui.j(O,T,v6.h?v6.h(a,Z):v6.call(null,a,Z)):r2(a,T)?$APP.ui.j(O,T,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Z],null);return v6.h?
v6.h(a,ba):v6.call(null,a,ba)}())):o2(T)&&$APP.Ae(Z)?$APP.ui.j(O,T,v6.h?v6.h(a,Z):v6.call(null,a,Z)):o2(T)?$APP.ui.j(O,T,$APP.v(function(){var ba=new $APP.H(null,1,5,$APP.I,[Z],null);return v6.h?v6.h(a,ba):v6.call(null,a,ba)}())):$APP.ui.j(O,T,Z):$APP.ui.j(O,T,Z)}}(E,G,u,t,A,p,l),$APP.Xf,$APP.Se(G,G2)?G:$APP.ui.j(G,G2,new u2)):function(){var O=$APP.yg(null);if(function(){var ma=$APP.Ae(G);if(ma){ma=$APP.kd(O,G);var ya=$APP.y.j(ma,0,null);$APP.y.j(ma,1,null);var sa=$APP.y.j(ma,2,null);$APP.y.j(ma,
3,null);return $APP.x.h(H2,ya)&&r2(a,sa)&&!0}return ma}()){var T=$APP.n(O),Z=$APP.y.j(T,0,null),ba=$APP.y.j(T,1,null),da=$APP.y.j(T,2,null),ia=$APP.y.j(T,3,null);return l2(a,da,ia)?new $APP.H(null,4,5,$APP.I,[Z,ba,da,v6.h?v6.h(a,ia):v6.call(null,a,ia)],null):new $APP.H(null,4,5,$APP.I,[Z,ba,da,$APP.v(function(){var ma=new $APP.H(null,1,5,$APP.I,[ia],null);return v6.h?v6.h(a,ma):v6.call(null,a,ma)}())],null)}return G}());E+=1}else return!0}()?$APP.Lf($APP.Nf(A),f($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var B=
$APP.v(p);return $APP.yf($APP.Be(B)?$APP.df(function(){return function(E,G,O){return G instanceof $APP.F||"string"===typeof G?r2(a,G)&&l2(a,G,O)?$APP.ui.j(E,G,v6.h?v6.h(a,O):v6.call(null,a,O)):r2(a,G)?$APP.ui.j(E,G,$APP.v(function(){var T=new $APP.H(null,1,5,$APP.I,[O],null);return v6.h?v6.h(a,T):v6.call(null,a,T)}())):o2(G)&&$APP.Ae(O)?$APP.ui.j(E,G,v6.h?v6.h(a,O):v6.call(null,a,O)):o2(G)?$APP.ui.j(E,G,$APP.v(function(){var T=new $APP.H(null,1,5,$APP.I,[O],null);return v6.h?v6.h(a,T):v6.call(null,
a,T)}())):$APP.ui.j(E,G,O):$APP.ui.j(E,G,O)}}(B,p,l),$APP.Xf,$APP.Se(B,G2)?B:$APP.ui.j(B,G2,new u2)):function(){var E=$APP.yg(null);if(function(){var da=$APP.Ae(B);if(da){da=$APP.kd(E,B);var ia=$APP.y.j(da,0,null);$APP.y.j(da,1,null);var ma=$APP.y.j(da,2,null);$APP.y.j(da,3,null);return $APP.x.h(H2,ia)&&r2(a,ma)&&!0}return da}()){var G=$APP.n(E),O=$APP.y.j(G,0,null),T=$APP.y.j(G,1,null),Z=$APP.y.j(G,2,null),ba=$APP.y.j(G,3,null);return l2(a,Z,ba)?new $APP.H(null,4,5,$APP.I,[O,T,Z,v6.h?v6.h(a,ba):
v6.call(null,a,ba)],null):new $APP.H(null,4,5,$APP.I,[O,T,Z,$APP.v(function(){var da=new $APP.H(null,1,5,$APP.I,[ba],null);return v6.h?v6.h(a,da):v6.call(null,a,da)}())],null)}return B}(),f($APP.Id(p)))}return null}},null,null)}(b)},L2=function L2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.m.g(L2),$APP.mn.h(" ",new $APP.H(null,2,5,$APP.I,[a,b],null))].join(""),$APP.Xf);},Gjb=new $APP.zi(null,new $APP.h(null,8,[d6,null,qib,null,pdb,null,Vhb,null,M2,null,Ugb,null,vjb,null,H2,null],null),null);
L2=function(){return null};
L2=function(a,b){for(var c=!$APP.ve(x1(f2.g(a),Q1)),d=c?$APP.bn.h(b,$APP.jn.g(gib)):b,e=a,f=d;;){if($APP.ve(f))return $APP.an.P($APP.an.P($APP.an.j($APP.Ol.h($APP.Ol.h(tdb(e),K2),y2),h2,function(){return function(Td){return Sbb(Td)}}(e,f,a,c,d)),h2,$APP.ui,Xcb,v2(e)),f2,$APP.an,D1,$APP.Pd);var l=f,p=$APP.r(l),u=$APP.v(p),t=$APP.w(p),A=u,B=t;if(null==A)f=B;else if($APP.x.h(gib,A))if($APP.Se(e,C2)){var E=$APP.Ol.h(e,C2),G=$APP.K.h(sdb(e),B);e=E;f=G}else f=B;else{var O=f2.g(e),T=h2.g(e);if($APP.Be(A)){var Z=
G2.g(A);wdb(A);if(w2(Z)){var ba=v2(e),da=z2(e,Z,ba),ia=$APP.yf($APP.ui.j(A,G2,ba),B);e=da;f=ia}else if($APP.Ae(Z)){ba=s2(O,Z);var ma=e,ya=$APP.yf($APP.ui.j(A,G2,ba),B);e=ma;f=ya}else{var sa=hdb(O,A),X=$APP.y.j(sa,0,null),S=$APP.y.j(sa,1,null),W=kdb(X,S);if(null!=W){if(x2(Z)&&$APP.Se(T,Z)&&$APP.ti.h(W,$APP.C.h(T,Z)))return rdb(a,e,b,Z,W);var U=$APP.an.F(z2(e,Z,W),I2,ndb,f1.F(W,null,null,536870912)),Y=$APP.K.h(mdb(O,$APP.ui.j(X,G2,W)),B);e=U;f=Y}else if("number"===typeof Z||null==Z||"string"===typeof Z||
f0(Z)){var na=e,za=$APP.K.h(mdb(O,A),B);e=na;f=za}else throw $APP.Yl.h(["Expected number, string or lookup ref for :db/id, got ",$APP.yj.l($APP.z([Z]))].join(""),new $APP.h(null,2,[$APP.Kn,fib,vdb,A],null));}}else if($APP.Ae(A)){var ea=A,pa=$APP.y.j(ea,0,null),ua=$APP.y.j(ea,1,null),xa=$APP.y.j(ea,2,null),Na=$APP.y.j(ea,3,null);if($APP.x.h(pa,d6)){var Wa=$APP.r(A),bb=$APP.v(Wa),fb=$APP.w(Wa),db=bb,kb=$APP.v(fb),hb=$APP.w(fb),mb=e,Ab=$APP.K.h(v6(O,$APP.qg.j(kb,O,hb)),B);e=mb;f=Ab}else if(pa instanceof
$APP.F&&$APP.Cb(Gjb.g?Gjb.g(pa):Gjb.call(null,pa))){var Kb=t2(O,pa);if(null==Kb)throw $APP.Yl.h(["Can’t find entity for transaction fn ",$APP.yj.l($APP.z([pa]))].join(""),new $APP.h(null,3,[$APP.Kn,p2,ljb,d6,g2,A],null));var Zb=$1.g(n1(O,new $APP.H(null,2,5,$APP.I,[Kb,Mgb],null)));hb=$APP.w(A);if($APP.pe(Zb)){var cc=e,Hc=$APP.K.h($APP.qg.j(Zb,O,hb),B);e=cc;f=Hc}else throw $APP.Yl.h(["Entity ",$APP.yj.l($APP.z([pa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.h(null,3,[$APP.Kn,
p2,ljb,d6,g2,A],null));}else{if(x2(ua)&&$APP.ti.h(pa,H2))throw $APP.Yl.h(["Can't use tempid in '",$APP.yj.l($APP.z([A])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.Kn,p2,$APP.KI,A],null));if($APP.x.h(pa,vjb)||$APP.x.h(pa,qib)){var lc=A;db=$APP.y.j(lc,0,null);var Kd=$APP.y.j(lc,1,null),xe=$APP.y.j(lc,2,null),ng=$APP.y.j(lc,3,null),Gg=$APP.y.j(lc,4,null),Gh=s2(O,Kd),qj=function(){var Td=xe;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Kl=A;throw $APP.Yl.h(["Bad entity attribute ",
$APP.yj.l($APP.z([Td]))," at ",$APP.yj.l($APP.z([Kl])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,Td,E2,Kl,$APP.Kn,p2],null));}(),tg=r2(O,xe)?s2(O,ng):ng,Hh=r2(O,xe)?s2(O,Gg):Gg,Tf=null==Hh?function(){var Td=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([Td]))].join(""),new $APP.h(null,3,[$APP.lK,null,E2,Td,$APP.Kn,p2],null));}():null,Qd=$APP.cf(m1(O,new $APP.H(null,2,5,$APP.I,[Gh,xe],null)));if(k2(O,xe))if($APP.k($APP.og(function(Td,Kl,Ti,TI,sP,tP,uP,UI,
vP,wP,wE){return function(mu){return $APP.x.h(mu.v,wE)}}(e,f,lc,db,Kd,xe,ng,Gg,Gh,qj,tg,Hh,Tf,Qd,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),Qd))){var hk=J2(e,new $APP.H(null,4,5,$APP.I,[H2,Gh,xe,Hh],null)),Oj=B;e=hk;f=Oj}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.yj.l($APP.z([Gh]))," ",$APP.yj.l($APP.z([xe]))," ",$APP.yj.l($APP.z([$APP.ej.h($1,Qd)])),"], expected ",$APP.yj.l($APP.z([tg]))].join(""),new $APP.h(null,4,[$APP.Kn,Phb,Dib,Qd,$APP.RI,tg,mib,Hh],null));else{var rj=$1.g($APP.v(Qd));
if($APP.x.h(rj,tg)){var Dc=J2(e,new $APP.H(null,4,5,$APP.I,[H2,Gh,xe,Hh],null)),td=B;e=Dc;f=td}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.yj.l($APP.z([Gh]))," ",$APP.yj.l($APP.z([xe]))," ",$APP.yj.l($APP.z([rj])),"], expected ",$APP.yj.l($APP.z([tg]))].join(""),new $APP.h(null,4,[$APP.Kn,Phb,Dib,$APP.v(Qd),$APP.RI,tg,mib,Hh],null));}}else if(w2(ua)){var Pe=z2(e,ua,v2(e)),Hg=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,v2(e),xa,Na],null),B);e=Pe;f=Hg}else if(r2(O,xa)&&w2(Na)){var Hf=z2(e,
Na,v2(e)),Ri=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,v2(e)],null),B);e=Hf;f=Ri}else if(r2(O,xa)&&x2(Na))if(Kb=$APP.C.h(T,Na),null==Kb){var Xg=$APP.jf(C1.g(O))+1,ke=$APP.an.P(z2(e,Na,Xg),O2,$APP.ui,Xg,Na),Cg=f;e=ke;f=Cg}else{Xg=Kb;var Il=ke=$APP.an.P(e,O2,$APP.ui,Xg,Na),uh=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,Xg],null),B);e=Il;f=uh}else{var vi=$APP.yg(null);if(function(){var Td=$APP.x.h(pa,H2)||$APP.x.h(pa,M2);return Td?(Td=$APP.Cb(N2.g($APP.se(A))))?(Td=n2(O,xa))?(Td=$APP.zg(vi,Ucb(O,
xa,Na)),$APP.ti.h(Na,Td)&&!0):Td:Td:Td}()){var Dn=$APP.n(vi),ik=e,gq=$APP.yf(new $APP.H(null,4,5,$APP.I,[pa,ua,xa,Dn],null),B);e=ik;f=gq}else if(x2(ua)){W=j2(O,xa,K1)?$APP.zL.g($APP.v(o1(O,s1,xa,Na,null,null))):null;var jk=$APP.C.h(T,ua);if($APP.k(function(){var Td=W;return $APP.k(Td)?(Td=jk,$APP.k(Td)?$APP.ti.h(W,jk):Td):Td}()))return rdb(a,e,b,ua,W);var Yo=function(){var Td=W;if($APP.k(Td))return Td;Td=jk;return $APP.k(Td)?Td:$APP.jf(C1.g(O))+1}(),Pj=z2(e,ua,Yo),hq=$APP.yf(new $APP.H(null,4,5,$APP.I,
[pa,Yo,xa,Na],null),B);e=Pj;f=hq}else{var Ue=$APP.yg(null);if($APP.k(function(){var Td=j2(O,xa,K1);if(Td){if(Td=$APP.Se(y2.g(e),ua)){Td=$APP.zg(Ue,$APP.zL.g($APP.v(o1(O,s1,xa,Na,null,null))));var Kl=ua;return $APP.k(Kl)?$APP.k(Td)?$APP.ti.h(ua,Td)&&!0:Td:Kl}return Td}return Td}())){W=$APP.n(Ue);var Jl=$APP.C.h(y2.g(e),ua),Zo=Rbb(function(Td){return function(Kl){return!$APP.Se(K2.g(Td),Kl)}}(e,f,Jl,W,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),Jl);if($APP.k(Zo))return rdb(a,e,b,Zo,W);throw $APP.Yl.h(["Conflicting upsert: ",
$APP.yj.l($APP.z([ua]))," resolves to ",$APP.yj.l($APP.z([W]))," via ",$APP.yj.l($APP.z([A]))].join(""),new $APP.h(null,1,[$APP.Kn,F2],null));}if($APP.Cb(N2.g($APP.se(A)))&&n2(O,xa)){var Bm=$APP.rp.h(O,new $APP.H(null,3,5,$APP.I,[$APP.z1,xa,P1],null));if($APP.x.h($APP.be(Bm),$APP.be(Na))&&$APP.mg($APP.Db,Na)&&$APP.mg(function(Td,Kl,Ti,TI,sP,tP,uP,UI,vP,wP,wE){return function(mu){var iA=$APP.y.j(mu,0,null);mu=$APP.y.j(mu,1,null);iA=$1.g($APP.v(o1(wE,$APP.A1,UI,iA,null,null)));return $APP.x.h(mu,iA)}}(e,
f,Bm,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),$APP.ej.j($APP.Fw,Bm,Na)))f=B;else throw $APP.Yl.h(["Can’t modify tuple attrs directly: ",$APP.yj.l($APP.z([A]))].join(""),new $APP.h(null,2,[$APP.Kn,p2,g2,A],null));}else if($APP.x.h(pa,H2)){var Si=J2(e,A),Ig=B;e=Si;f=Ig}else if($APP.x.h(pa,M2)&&null!=Na)if(Kb=t2(O,ua),null==Kb)f=B;else{Kd=Kb;rj=r2(O,xa)?s2(O,Na):Na;var Jg=xa;if(!(Jg instanceof $APP.F||"string"===typeof Jg)){var ud=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Jg])),
" at ",$APP.yj.l($APP.z([ud])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,Jg,E2,ud,$APP.Kn,p2],null));}if(null==rj){var lf=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.yj.l($APP.z([lf]))].join(""),new $APP.h(null,3,[$APP.lK,null,E2,lf,$APP.Kn,p2],null));}var Oc=n1(O,new $APP.H(null,3,5,$APP.I,[Kd,xa,rj],null));if(null==Oc)f=B;else{var Uf=odb(e,Oc),iq=B;e=Uf;f=iq}}else if($APP.x.h(pa,Ugb)||$APP.x.h(pa,M2))if(Kb=t2(O,ua),null==Kb)f=B;else{Kd=Kb;db=function(){var Td=
xa;if(Td instanceof $APP.F||"string"===typeof Td)return null;var Kl=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.yj.l($APP.z([Td]))," at ",$APP.yj.l($APP.z([Kl])),", expected keyword or string"].join(""),new $APP.h(null,3,[U1,Td,E2,Kl,$APP.Kn,p2],null));}();Qd=$APP.cf(m1(O,new $APP.H(null,2,5,$APP.I,[Kd,xa],null)));var lu=$APP.af.j(odb,e,Qd),Vf=$APP.K.h(qdb(O,Qd),B);e=lu;f=Vf}else if($APP.x.h(pa,pdb)||$APP.x.h(pa,Vhb))if(Kb=t2(O,ua),null==Kb)f=B;else{Kd=Kb;var $o=$APP.cf(m1(O,new $APP.H(null,1,
5,$APP.I,[Kd],null))),Vw=$APP.cf($APP.Og.l(function(Td,Kl,Ti,TI,sP,tP,uP,UI,vP,wP,wE,mu,iA){return function(dW){return m1(iA,new $APP.H(null,3,5,$APP.I,[null,dW,TI],null))}}(e,f,$o,Kd,Kb,Ue,vi,ea,pa,ua,xa,Na,O,T,l,p,u,t,A,B,a,c,d),$APP.z([x1(O,N1)]))),Kg=$APP.af.j(odb,e,$APP.K.h($o,Vw)),XV=$APP.K.h(qdb(O,$o),B);e=Kg;f=XV}else throw $APP.Yl.h(["Unknown operation at ",$APP.yj.l($APP.z([A])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.h(null,3,[$APP.Kn,p2,ljb,pa,g2,A],null));}}}}else if(tcb(A)){var hA=A;ua=$APP.y.j(hA,0,null);xa=$APP.y.j(hA,1,null);Na=$APP.y.j(hA,2,null);var YV=$APP.y.j(hA,3,null),ZV=$APP.y.j(hA,4,null);if($APP.k(ZV)){var $V=J2(e,new $APP.H(null,5,5,$APP.I,[H2,ua,xa,Na,YV],null)),aW=B;e=$V;f=aW}else{var bW=e,cW=$APP.yf(new $APP.H(null,4,5,$APP.I,[M2,ua,xa,Na],null),B);e=bW;f=cW}}else throw $APP.Yl.h(["Bad entity type at ",$APP.yj.l($APP.z([A])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.Kn,
p2,g2,A],null));}}};var U2,Fdb=$APP.Aj.g($APP.Xf),V2=$APP.yg(1E6);$APP.g=R2.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "storage":return this.storage;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W0,this.storage],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[W0],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new R2(this.storage,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1627330428^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.storage,b.storage)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[W0,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new R2(this.storage,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "storage":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(W0,b):$APP.Af.call(null,W0,b))?new R2(c,this.A,this.o,null):new R2(this.storage,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(W0,this.storage,null)],null),this.o))};$APP.g.W=function(a,b){return new R2(this.storage,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.pk=function(a,b,c){a=$APP.k($APP.k(c)?b instanceof C0&&$APP.Se($APP.Di(b.vd),c):c)?V2.rc(null,V2.Ja(null)+1):$APP.k(c)?c:V2.rc(null,V2.Ja(null)+1);c=$APP.on.h(ydb,b.keys);c=new $APP.h(null,1,[$APP.UB,c],null);b=b instanceof C0?$APP.ui.j(c,yhb,b.vd):c;$APP.kd(U2,$APP.Rg.h($APP.n(U2),new $APP.H(null,2,5,$APP.I,[a,b],null)));return a};
$APP.g.nk=function(a,b){if($APP.k(b)){a=Q2(this.storage,b);a=$APP.Yf(a);var c=$APP.C.h(a,$APP.UB);a=$APP.C.h(a,yhb);if($APP.k(c)){c=g0($APP.ej.h(function(e){var f=$APP.y.j(e,0,null),l=$APP.y.j(e,1,null),p=$APP.y.j(e,2,null);e=$APP.y.j(e,3,null);return f1.F(f,l,p,e)},c));if($APP.k(a)){var d=Array($APP.be(a));return D0(c,d,a,b,!1)}return V0.j(c,b,!1)}}return null};$APP.g.nm=function(){return null};
$APP.g.mk=function(a,b){return $APP.Bj.F(Fdb,$APP.an,this.storage,function(c){return $APP.Eh.h(c,$APP.gs.h($APP.yb,b))})};var Adb=$APP.Aj.g($APP.Sg),d3=function d3(a){switch(arguments.length){case 1:return d3.g(arguments[0]);case 2:return d3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};d3.g=function(a){var b=S2(a);if(null==b)throw $APP.Yl.h("Database has no associated storage",$APP.Xf);return W2(a,b,!1)};
d3.h=function(a,b){var c=S2(a);if(null==c)return $APP.A1.g(a),c=new R2(b,null,null,null),W2(a,c,!1);var d=W0.g(c);if(d===b)return W2(a,c,!1);throw $APP.Yl.h("Database is already stored with another IStorage",new $APP.h(null,1,[W0,d],null));};d3.B=2;var w6=function w6(a){switch(arguments.length){case 1:return w6.g(arguments[0]);case 2:return w6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};w6.g=function(a){return w6.h(a,$APP.Xf)};
w6.h=function(a,b){b=Idb(a,b);a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return Jdb(a,b)};w6.B=2;$APP.g=Z2.prototype;$APP.g.equiv=function(a){return this.T(null,a)};$APP.g.Dg=function(a,b){for(var c=$APP.r(this.lb),d=null,e=0,f=0;;)if(f<e){var l=d.ea(null,f),p=$APP.y.j(l,0,null);l=$APP.y.j(l,1,null);l.F?l.F(p,this,a,b):l.call(null,p,this,a,b);f+=1}else if(c=$APP.r(c))$APP.Ee(c)?(d=$APP.cd(c),c=$APP.dd(c),p=d,e=$APP.be(d),d=p):(d=$APP.v(c),p=$APP.y.j(d,0,null),l=$APP.y.j(d,1,null),l.F?l.F(p,this,a,b):l.call(null,p,this,a,b),c=$APP.w(c),d=null,e=0),f=0;else break};
$APP.g.bg=function(a,b,c){this.lb=$APP.ui.j(this.lb,b,c);return this};$APP.g.cg=function(a,b){return this.lb=$APP.Ol.h(this.lb,b)};$APP.g.T=function(a,b){return this===b};$APP.g.Y=function(){return $APP.la(this)};$APP.g.fd=function(a,b){return $APP.y.h(a3(this,$APP.sg(b),$APP.Hd),1)};$APP.g.Zg=function(a,b){return $APP.y.h(a3(this,b,$APP.Hd),1)};$APP.g.$g=function(a,b,c){return $APP.y.h(a3(this,b,new $APP.D(null,c,null,1,null)),1)};
$APP.g.ah=function(a,b,c,d){return $APP.y.h(a3(this,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null)),1)};$APP.g.bh=function(a,b,c,d,e){return $APP.y.h(a3(this,b,$APP.yf(c,$APP.yf(d,e))),1)};$APP.g.U=function(){return this.O};$APP.g.Ja=function(){return $2.g($APP.n(this.Rg))};$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "atom":return this.Rg;default:return c}};
b3=function(a){switch(arguments.length){case 1:return b3.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return b3.l(arguments[0],1<b.length?new $APP.Ed(b.slice(1),0,null):null)}};b3.g=function(a){return new Z2(a,null,$APP.Xf,$APP.Xf)};b3.l=function(a,b){b=$APP.qg.h($APP.ap,b);a=new Z2(a,null,$APP.Xf,$APP.Xf);var c=$APP.ly.g(b);null!=c&&(Kdb(c,$APP.n(a)),a.tg=c);b=$APP.nb.g(b);null!=b&&(a.O=b);return a};
b3.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};b3.B=1;c3.h=function(a,b){return c3.j(a,b,null)};c3.j=function(a,b,c){if(a instanceof I1)throw $APP.Yl.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.Kn,njb],null));a=new d2(a,a,$APP.Sg,$APP.Xf,c,null,null,null);if(null!=b&&!$APP.Ae(b))throw $APP.Yl.h(["Bad transaction data ",$APP.yj.l($APP.z([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.Kn,p2,g2,b],null));b=v6(e2.g(a),b);return L2(a,b)};
c3.B=3;var x6=function x6(a){switch(arguments.length){case 1:return x6.g(arguments[0]);case 2:return x6.h(arguments[0],arguments[1]);case 3:return x6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};x6.g=function(a){return g3(a2(a,null,$APP.Xf))};x6.h=function(a,b){return g3(a2(a,b,$APP.Xf))};x6.j=function(a,b,c){return g3(a2(a,b,Y2(c)))};x6.B=3;
var y6=function y6(a){switch(arguments.length){case 0:return y6.D();case 1:return y6.g(arguments[0]);case 2:return y6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};y6.D=function(){return g3(Z1(null,$APP.Xf))};y6.g=function(a){return g3(Z1(a,$APP.Xf))};y6.h=function(a,b){return g3(Z1(a,Y2(b)))};y6.B=2;
var z6=function z6(a){switch(arguments.length){case 1:return z6.g(arguments[0]);case 2:return z6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};z6.g=function(a){return z6.h(a,$APP.Xf)};z6.h=function(a,b){b=Idb(a,b);if(null==b)return null;a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return Ldb(new $APP.h(null,3,[$2,Jdb(a,b),e3,b,f3,a],null))};z6.B=2;
var A6=function A6(a){switch(arguments.length){case 2:return A6.h(arguments[0],arguments[1]);case 3:return A6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};A6.h=function(a,b){return A6.j(a,b,null)};
A6.j=function(a,b,c){b=Odb(a,b,c);a=$APP.r(Rhb.g($APP.n($APP.XH.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.ea(null,e);$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.r(a))$APP.Ee(a)?(d=$APP.cd(a),a=$APP.dd(a),c=d,d=$APP.be(d)):(c=$APP.v(a),$APP.y.j(c,0,null),c=$APP.y.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.w(a),c=null,d=0),e=0;else break;return b};A6.B=3;
var B6=function B6(a){switch(arguments.length){case 2:return B6.h(arguments[0],arguments[1]);case 3:return B6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};B6.h=function(a,b){return B6.j(a,b,null)};
B6.j=function(a,b,c){var d=$APP.n(a);c=Scb(new $APP.h(null,4,[e2,d,f2,b,g2,$APP.K.h($APP.k(d)?$APP.ej.h(function(p){return $APP.ui.j(p,$APP.iD,!1)},o1(d,$APP.A1,null,null,null,null)):null,o1(b,$APP.A1,null,null,null,null)),i2,c],null));null==T2(d)?$APP.vg(a,b):(d3.g(b),$APP.Bj.l($APP.XH.g(a),$APP.ui,$2,b,$APP.z([e3,$APP.Sg,f3,b])));a=$APP.r(Rhb.g($APP.n($APP.XH.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var l=d.ea(null,f);$APP.y.j(l,0,null);l=$APP.y.j(l,1,null);l.g?l.g(c):l.call(null,c);f+=1}else if(a=
$APP.r(a))$APP.Ee(a)?(e=$APP.cd(a),a=$APP.dd(a),d=e,e=$APP.be(e)):(d=$APP.v(a),$APP.y.j(d,0,null),d=$APP.y.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.w(a),d=null,e=0),f=0;else break;return b};B6.B=3;var C6=function C6(a){switch(arguments.length){case 2:return C6.h(arguments[0],arguments[1]);case 3:return C6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};C6.h=function(a,b){return C6.j(a,$APP.Xy.D(),b)};
C6.j=function(a,b,c){$APP.Bj.l($APP.XH.g(a),$APP.an,Rhb,$APP.ui,$APP.z([b,c]));return b};C6.B=3;$APP.g=l3.prototype;$APP.g.entry_set=function(){return $APP.bf($APP.ej.h($APP.bf,k3(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.r(k3(this)),l=null,p=0,u=0;;)if(u<p){var t=l.ea(null,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);d.call(e,t,A,this);u+=1}else if(f=$APP.r(f))$APP.Ee(f)?(l=$APP.cd(f),f=$APP.dd(f),A=l,p=$APP.be(l),l=A):(l=$APP.v(f),A=$APP.y.j(l,0,null),t=$APP.y.j(l,1,null),d.call(e,t,A,this),f=$APP.w(f),l=null,p=0),u=0;else return null}function b(d){for(var e=$APP.r(k3(this)),f=null,l=0,p=0;;)if(p<l){var u=f.ea(null,p),t=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);
d.j?d.j(u,t,this):d.call(null,u,t,this);p+=1}else if(e=$APP.r(e))$APP.Ee(e)?(f=$APP.cd(e),e=$APP.dd(e),t=f,l=$APP.be(f),f=t):(f=$APP.v(e),t=$APP.y.j(f,0,null),u=$APP.y.j(f,1,null),d.j?d.j(u,t,this):d.call(null,u,t,this),e=$APP.w(e),f=null,l=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.x.h(a,":db/id"))return this.eid;if(o2(a))return i3(Sdb(this.db,this.eid,q2(a),null));var b=D6.h?D6.h(this,a):D6.call(null,this,a);return k2(this.db,a)?i3(b):b};$APP.g.key_set=function(){return $APP.bf($APP.qi(this))};$APP.g.entries=function(){return $APP.xh(k3(this))};$APP.g.value_set=function(){return $APP.bf($APP.ej.h($APP.ge,k3(this)))};$APP.g.toString=function(){return $APP.od(this)};$APP.g.keys=function(){return $APP.Jd($APP.qi(this))};
$APP.g.values=function(){return $APP.Jd($APP.ej.h($APP.ge,k3(this)))};$APP.g.equiv=function(a){return m3.h?m3.h(this,a):m3.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.da=function(a,b){return D6.j?D6.j(this,b,null):D6.call(null,this,b,null)};$APP.g.K=function(a,b,c){return D6.j?D6.j(this,b,c):D6.call(null,this,b,c)};$APP.g.V=function(a,b,c){return $APP.Nc($APP.ui.j($APP.n(this.cache),G2,this.eid),b,c)};$APP.g.aa=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.be($APP.n(this.cache))};
$APP.g.Y=function(){return Udb.g?Udb.g(this):Udb.call(null,this)};$APP.g.T=function(a,b){return m3.h?m3.h(this,b):m3.call(null,this,b)};$APP.g.ha=function(a,b){return $APP.ti.h(uib,D6.j?D6.j(this,b,uib):D6.call(null,this,b,uib))};$APP.g.Z=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.r($APP.n(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return D6.h?D6.h(this,a):D6.call(null,this,a)};$APP.g.h=function(a,b){return D6.j?D6.j(this,a,b):D6.call(null,this,a,b)};
var D6=function D6(a){switch(arguments.length){case 2:return D6.h(arguments[0],arguments[1]);case 3:return D6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};D6.h=function(a,b){return D6.j(a,b,null)};
D6.j=function(a,b,c){if($APP.x.h(b,G2))return a.eid;if(o2(b))return Sdb(a.db,a.eid,q2(b),c);var d=$APP.n(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.n(a.Cj)))return c;d=$APP.Zf(m1(a.db,new $APP.H(null,2,5,$APP.I,[a.eid,b],null)));if(null==d)return c;c=Rdb(a.db,b,d);$APP.zg(a.cache,$APP.ui.j($APP.n(a.cache),b,c));return c}return d};D6.B=3;Lbb("datascript.impl.entity.Entity",l3);var E6=function E6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};E6.l=function(a){var b=$APP.be(a);return $APP.ti.h($APP.Dg.h(b/2,a),$APP.Eg.h(b/2,a))};E6.B=0;E6.G=function(a){return this.l($APP.r(a))};var F6=function F6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)};
F6.l=function(a,b,c){return $APP.af.j(function(d,e){d=$APP.v(m1(a,new $APP.H(null,2,5,$APP.I,[t2(a,b),e],null)));return null==d?null:$APP.Sd(new $APP.H(null,2,5,$APP.I,[B2.g(d),$1.g(d)],null))},null,c)};F6.B=2;F6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};var G6=function G6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};
G6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?c:$APP.Sd(c)},!0,a)};G6.B=0;G6.G=function(a){return this.l($APP.r(a))};var H6=function H6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};H6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?$APP.Sd(c):c},null,a)};H6.B=0;H6.G=function(a){return this.l($APP.r(a))};
var I6=function I6(a){switch(arguments.length){case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};I6.g=function(){return!0};I6.h=function(a,b){return 0>h1(a,b)};I6.l=function(a,b,c){for(;;)if(I6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return I6.h(b,$APP.v(c));else return!1};
I6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};I6.B=2;var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};J6.g=function(){return!0};J6.h=function(a,b){return 0<h1(a,b)};
J6.l=function(a,b,c){for(;;)if(J6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return J6.h(b,$APP.v(c));else return!1};J6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};J6.B=2;
var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};K6.g=function(){return!0};K6.h=function(a,b){return!(0<h1(a,b))};K6.l=function(a,b,c){for(;;)if(K6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return K6.h(b,$APP.v(c));else return!1};
K6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};K6.B=2;var L6=function L6(a){switch(arguments.length){case 1:return L6.g(arguments[0]);case 2:return L6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return L6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};L6.g=function(){return!0};L6.h=function(a,b){return!(0>h1(a,b))};
L6.l=function(a,b,c){for(;;)if(L6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return L6.h(b,$APP.v(c));else return!1};L6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};L6.B=2;
var geb=$APP.gi([$APP.aK,$APP.ht,$APP.Wz,Cjb,$APP.GJ,$APP.kI,$APP.DJ,$APP.aI,Pib,$APP.tz,Fhb,$APP.sD,$APP.Am,$APP.WL,$APP.VF,$APP.HC,$APP.iH,u5,$APP.cG,$APP.WI,$APP.zJ,khb,$APP.EJ,$APP.xK,$APP.ZI,$APP.BC,shb,jib,$APP.$A,$APP.rK,$APP.FJ,$APP.tH,$APP.lL,$APP.oL,$APP.kL,$APP.pA,$APP.XI,$APP.MD,rhb,$APP.uA,$APP.xI,yib,$APP.LI,$APP.fL,$APP.aC,$APP.HA,$APP.UC,$APP.xA,$APP.jI,$APP.CJ,$APP.WG,$APP.tK,$APP.$I,$APP.VG,$APP.Hz,$APP.HI,$APP.JC,$APP.RD,$APP.mA,thb,$APP.LJ,$APP.UK,rjb,$APP.lE,$APP.gD,$APP.KH,$APP.kF,
$APP.LH,Qhb,$APP.vE,$APP.mt,$APP.vK,$APP.yI,$APP.jB],[$APP.He,G6,$APP.Qba,function(a,b,c,d){if(null==d)throw $APP.Yl.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.Kn,s5],null));a=$APP.v(m1(a,new $APP.H(null,2,5,$APP.I,[t2(a,b),c],null)));return null==a?d:$1.g(a)},L6,$APP.Qy,J6,$APP.be,F6,$APP.yb,$APP.ef,$APP.Pd,$APP.Ox,$APP.kf,$APP.Ge,$APP.Cb,$APP.ef,E6,$APP.Fw,$APP.Xi,K6,$APP.il,$APP.x,$APP.Tx,$APP.Mx,$APP.Fi,function(a,b,c){return null==$APP.C.h(h3(a,b),c)},$APP.ef,$APP.Cj,
$APP.rg,$APP.dl,$APP.bp,$APP.We,$APP.Un,$APP.kn,$APP.ve,$APP.Nx,$APP.yj,H5,$APP.se,$APP.pf,$APP.ti,$APP.Oy,$APP.ff,$APP.Zi,$APP.Fw,$APP.ti,$APP.C,$APP.m,I6,$APP.Bf,$APP.fj,$APP.Qo,$APP.Db,$APP.of,$APP.Xy,$APP.Ui,$APP.J,$APP.Se,$APP.ada,$APP.Yi,$APP.hf,$APP.jl,$APP.ap,$APP.mf,$APP.pg,$APP.Jb,$APP.qf,$APP.hl,$APP.Zf,H6,$APP.xb,$APP.Di,$APP.Vi]),M6=function M6(a){switch(arguments.length){case 1:return M6.g(arguments[0]);case 2:return M6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.m.g(arguments.length)].join(""));}};M6.g=function(a){return $APP.af.j(function(b,c){return 0>$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};M6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.We,$APP.vf.h(c,d)):0>$APP.We(d,$APP.me(c))?$APP.Ik.h($APP.We,$APP.vf.h($APP.Ei(c),d)):c},$APP.Sg,b))};M6.B=2;
var N6=function N6(a){switch(arguments.length){case 1:return N6.g(arguments[0]);case 2:return N6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};N6.g=function(a){return $APP.af.j(function(b,c){return 0<$APP.We(c,b)?c:b},$APP.v(a),$APP.w(a))};N6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.We,$APP.vf.h(c,d)):0<$APP.We(d,$APP.v(c))?$APP.Ik.h($APP.We,$APP.vf.h($APP.w(c),d)):c},$APP.Sg,b))};
N6.B=2;var O6=function O6(a){switch(arguments.length){case 1:return O6.g(arguments[0]);case 2:return O6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};O6.g=function(a){return $APP.Dj(a)};O6.h=function(a,b){return $APP.cf($APP.Is.h(a,function(){return $APP.Dj(b)}))};O6.B=2;
var Hjb=$APP.gi([Qgb,$APP.aI,qjb,tib,$APP.xK,$APP.kL,Zib,$APP.WJ,Qib,oib,$APP.HI,Hhb],[Zdb,$APP.be,function(a){var b=$APP.Ik.g(a);a=$APP.be(a);var c=a>>1,d=$APP.y.h(b,c);return $APP.pg(a)?(d+$APP.y.h(b,c-1))/2:d},Xdb,M6,N6,function(a){return $APP.be($APP.Fy.g(a))},$APP.Di,Ydb,function(a){return Math.sqrt(Zdb(a))},O6,function(a,b){return $APP.cf($APP.Dg.h(a,$APP.Vaa(b)))}]);$APP.g=n3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "as":return this.as;case "default":return this.Vc;case "limit":return this.Gb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.wc;case "recursive?":return this.Ca;case "reverse?":return this.Fc;case "xform":return this.Hb;case "multival?":return this.vc;case "ref?":return this.xc;case "component?":return this.sc;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ko,this.as],null),new $APP.H(null,2,5,$APP.I,[$APP.Mm,this.Vc],null),new $APP.H(null,2,5,$APP.I,[o3,this.Gb],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[p3,this.wc],null),new $APP.H(null,2,5,
$APP.I,[q3,this.Ca],null),new $APP.H(null,2,5,$APP.I,[r3,this.Fc],null),new $APP.H(null,2,5,$APP.I,[s3,this.Hb],null),new $APP.H(null,2,5,$APP.I,[t3,this.vc],null),new $APP.H(null,2,5,$APP.I,[u3,this.xc],null),new $APP.H(null,2,5,$APP.I,[v3,this.sc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,12,new $APP.H(null,12,5,$APP.I,[$APP.ko,$APP.Mm,o3,$APP.N,$APP.nH,p3,q3,r3,s3,t3,u3,v3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,this.C)};$APP.g.aa=function(){return 12+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.as,b.as)&&$APP.x.h(this.default,b.default)&&$APP.x.h(this.Gb,b.Gb)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.wc,b.wc)&&$APP.x.h(this.Ca,b.Ca)&&$APP.x.h(this.Fc,b.Fc)&&$APP.x.h(this.Hb,b.Hb)&&$APP.x.h(this.vc,b.vc)&&$APP.x.h(this.xc,b.xc)&&$APP.x.h(this.sc,b.sc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,12,[s3,null,o3,null,r3,null,p3,null,$APP.Mm,null,$APP.N,null,$APP.ko,null,q3,null,v3,null,u3,null,t3,null,$APP.nH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.ko,b):$APP.Af.call(null,$APP.ko,b))?new n3(c,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Mm,b):$APP.Af.call(null,$APP.Mm,b))?new n3(this.as,c,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(o3,b):$APP.Af.call(null,o3,b))?new n3(this.as,this.Vc,c,this.name,
this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new n3(this.as,this.Vc,this.Gb,c,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,b):$APP.Af.call(null,$APP.nH,b))?new n3(this.as,this.Vc,this.Gb,this.name,c,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(p3,b):$APP.Af.call(null,
p3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,c,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(q3,b):$APP.Af.call(null,q3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,c,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(r3,b):$APP.Af.call(null,r3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,c,this.Hb,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?
$APP.Af.h(s3,b):$APP.Af.call(null,s3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,c,this.vc,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(t3,b):$APP.Af.call(null,t3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,c,this.xc,this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(u3,b):$APP.Af.call(null,u3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,c,
this.sc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(v3,b):$APP.Af.call(null,v3,b))?new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,c,this.A,this.o,null):new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,12,5,$APP.I,[new $APP.Te($APP.ko,this.as,null),new $APP.Te($APP.Mm,this.Vc,null),new $APP.Te(o3,this.Gb,null),new $APP.Te($APP.N,this.name,null),new $APP.Te($APP.nH,this.pattern,null),new $APP.Te(p3,this.wc,null),new $APP.Te(q3,this.Ca,null),new $APP.Te(r3,this.Fc,null),new $APP.Te(s3,this.Hb,null),new $APP.Te(t3,this.vc,null),new $APP.Te(u3,this.xc,null),new $APP.Te(v3,this.sc,null)],null),this.o))};
$APP.g.W=function(a,b){return new n3(this.as,this.Vc,this.Gb,this.name,this.pattern,this.wc,this.Ca,this.Fc,this.Hb,this.vc,this.xc,this.sc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=w3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "first-attr":return this.Dd;case "last-attr":return this.Qd;case "reverse-attrs":return this.rd;case "wildcard?":return this.Lc;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[x3,this.ta],null),new $APP.H(null,2,5,$APP.I,[y3,this.Dd],null),new $APP.H(null,2,5,$APP.I,[z3,this.Qd],null),new $APP.H(null,2,5,$APP.I,[A3,this.rd],null),new $APP.H(null,2,5,$APP.I,[B3,this.Lc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[x3,y3,z3,A3,B3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new w3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.Dd,b.Dd)&&$APP.x.h(this.Qd,b.Qd)&&$APP.x.h(this.rd,b.rd)&&$APP.x.h(this.Lc,b.Lc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[A3,null,y3,null,x3,null,B3,null,z3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new w3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new w3(c,this.Dd,this.Qd,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(y3,b):$APP.Af.call(null,y3,b))?new w3(this.ta,c,this.Qd,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(z3,b):$APP.Af.call(null,z3,b))?new w3(this.ta,this.Dd,c,this.rd,this.Lc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(A3,b):$APP.Af.call(null,A3,b))?new w3(this.ta,this.Dd,this.Qd,c,this.Lc,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(B3,b):$APP.Af.call(null,B3,b))?new w3(this.ta,this.Dd,this.Qd,this.rd,c,this.A,this.o,null):new w3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(x3,this.ta,null),new $APP.Te(y3,this.Dd,null),new $APP.Te(z3,this.Qd,null),new $APP.Te(A3,this.rd,null),new $APP.Te(B3,this.Lc,null)],null),this.o))};
$APP.g.W=function(a,b){return new w3(this.ta,this.Dd,this.Qd,this.rd,this.Lc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};var keb=$db(new $APP.h(null,3,[$APP.N,G2,$APP.ko,G2,s3,$APP.ef],null)),ceb=aeb(new $APP.h(null,1,[x3,new $APP.D(null,keb,null,1,null)],null)),deb=$APP.ui.j(ceb,B3,!0);$APP.g=I3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db":return this.db;case "visitor":return this.bf;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$2,this.db],null),new $APP.H(null,2,5,$APP.I,[R3,this.bf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$2,R3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new I3(this.db,this.bf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.db,b.db)&&$APP.x.h(this.bf,b.bf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$2,null,R3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new I3(this.db,this.bf,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db":case "visitor":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($2,b):$APP.Af.call(null,$2,b))?new I3(c,this.bf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(R3,b):$APP.Af.call(null,R3,b))?new I3(this.db,c,this.A,this.o,null):new I3(this.db,this.bf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($2,this.db,null),new $APP.Te(R3,this.bf,null)],null),this.o))};$APP.g.W=function(a,b){return new I3(this.db,this.bf,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=J3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.lK,this.value],null),new $APP.H(null,2,5,$APP.I,[$APP.b2,this.ya],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.lK,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new J3(this.value,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.lK,null,$APP.b2,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new J3(this.value,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.lK,b):$APP.Af.call(null,$APP.lK,b))?new J3(c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new J3(this.value,c,this.A,this.o,null):new J3(this.value,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.lK,this.value,null),new $APP.Te($APP.b2,this.ya,null)],null),this.o))};
$APP.g.W=function(a,b){return new J3(this.value,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=K3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "acc":return this.pa;case "attr":return this.na;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I5,this.pa],null),new $APP.H(null,2,5,$APP.I,[Y5,this.na],null),new $APP.H(null,2,5,$APP.I,[$APP.b2,this.ya],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[I5,Y5,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new K3(this.pa,this.na,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[I5,null,$APP.b2,null,Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new K3(this.pa,this.na,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new K3(c,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new K3(this.pa,c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new K3(this.pa,this.na,c,this.A,this.o,null):new K3(this.pa,this.na,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(I5,this.pa,null),new $APP.Te(Y5,this.na,null),new $APP.Te($APP.b2,this.ya,null)],null),this.o))};$APP.g.W=function(a,b){return new K3(this.pa,this.na,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.hh=function(){for(var a=this,b=a.pa,c=a.ya;;){var d=G3(c);if(null==d||$APP.ti.h(d.a,a.na.name))return new $APP.H(null,1,5,$APP.I,[new J3($APP.Zf($APP.Vc(b)),function(){var l=c;return $APP.k(l)?l:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var l=a.na.Gb;return $APP.k(l)?$APP.be(b)>=a.na.Gb&&!0:l}()))for(var e=c;;){d=G3(e);if(null==d||$APP.ti.h(d.a,a.na.name))return new $APP.H(null,1,5,$APP.I,[new J3($APP.Vc(b),function(){var l=e;return $APP.k(l)?l:$APP.Hd}(),null,null,null)],null);
e=H3(e)}else{d=$APP.Rg.h(b,d.v);var f=H3(c);b=d;c=f}}};$APP.g=L3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "datoms":return this.ya;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[K5,this.ua],null),new $APP.H(null,2,5,$APP.I,[W5,this.za],null),new $APP.H(null,2,5,$APP.I,[I5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[Y5,this.na],null),new $APP.H(null,2,5,$APP.I,[$APP.b2,this.ya],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,6,new $APP.H(null,6,5,$APP.I,[K5,W5,I5,$APP.nH,Y5,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,this.o,this.C)};$APP.g.aa=function(){return 6+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,6,[I5,null,K5,null,W5,null,$APP.b2,null,$APP.nH,null,Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new L3(c,this.za,this.pa,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(W5,b):$APP.Af.call(null,W5,b))?new L3(this.ua,c,this.pa,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new L3(this.ua,this.za,c,this.pattern,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,b):$APP.Af.call(null,$APP.nH,b))?new L3(this.ua,
this.za,this.pa,c,this.na,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new L3(this.ua,this.za,this.pa,this.pattern,c,this.ya,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new L3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.A,this.o,null):new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,6,5,$APP.I,[new $APP.Te(K5,this.ua,null),new $APP.Te(W5,this.za,null),new $APP.Te(I5,this.pa,null),new $APP.Te($APP.nH,this.pattern,null),new $APP.Te(Y5,this.na,null),new $APP.Te($APP.b2,this.ya,null)],null),this.o))};$APP.g.W=function(a,b){return new L3(this.ua,this.za,this.pa,this.pattern,this.na,this.ya,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.ai=function(a,b){a=this.ua;var c=this.za,d=this.pa;b=b.value;b=null==b?d:$APP.Rg.h(d,b);return new L3(a,c,b,this.pattern,this.na,H3(this.ya),null,null,null)};
$APP.g.hh=function(a,b){var c=this;a=G3(c.ya);if(null==a||$APP.ti.h(a.a,c.na.name))return new $APP.H(null,1,5,$APP.I,[new J3($APP.Zf($APP.Vc(c.pa)),function(){var e=c.ya;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var e=c.na.Gb;return $APP.k(e)?$APP.be(c.pa)>=c.na.Gb&&!0:e}()))for(var d=c.ya;;){b=G3(d);if(null==b||$APP.ti.h(b.a,c.na.name))return new $APP.H(null,1,5,$APP.I,[new J3($APP.Vc(c.pa),function(){var e=d;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);d=
H3(d)}else return a=$APP.k(c.na.Fc)?a.e:a.v,new $APP.H(null,2,5,$APP.I,[this,P3.ja?P3.ja(b,c.ua,c.za,c.pattern,c.na,a):P3.call(null,b,c.ua,c.za,c.pattern,c.na,a)],null)};$APP.g=M3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "attrs":return this.ta;case "datoms":return this.ya;case "id":return this.id;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[K5,this.ua],null),new $APP.H(null,2,5,$APP.I,[W5,this.za],null),new $APP.H(null,2,5,$APP.I,[I5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[Y5,this.na],null),new $APP.H(null,2,5,$APP.I,[x3,this.ta],null),new $APP.H(null,2,5,$APP.I,[$APP.b2,this.ya],
null),new $APP.H(null,2,5,$APP.I,[$APP.Eq,this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,8,new $APP.H(null,8,5,$APP.I,[K5,W5,I5,$APP.nH,Y5,x3,$APP.b2,$APP.Eq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 8+$APP.be(this.o)};
$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.ya,b.ya)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,8,[I5,null,K5,null,$APP.Eq,null,W5,null,x3,null,$APP.b2,null,$APP.nH,null,Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new M3(c,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(W5,b):$APP.Af.call(null,W5,b))?new M3(this.ua,c,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new M3(this.ua,this.za,c,this.pattern,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,
b):$APP.Af.call(null,$APP.nH,b))?new M3(this.ua,this.za,this.pa,c,this.na,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new M3(this.ua,this.za,this.pa,this.pattern,c,this.ta,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new M3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.ya,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new M3(this.ua,this.za,
this.pa,this.pattern,this.na,this.ta,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Eq,b):$APP.Af.call(null,$APP.Eq,b))?new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,c,this.A,this.o,null):new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,8,5,$APP.I,[new $APP.Te(K5,this.ua,null),new $APP.Te(W5,this.za,null),new $APP.Te(I5,this.pa,null),new $APP.Te($APP.nH,this.pattern,null),new $APP.Te(Y5,this.na,null),new $APP.Te(x3,this.ta,null),new $APP.Te($APP.b2,this.ya,null),new $APP.Te($APP.Eq,this.id,null)],null),this.o))};$APP.g.W=function(a,b){return new M3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.ya,this.id,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.ai=function(a,b){var c=this;return new M3(c.ua,c.za,oeb(c.pa,c.na.as,function(){var d=b.value,e=c.na.Hb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,G3(c.ta),H3(c.ta),$APP.Zf(function(){var d=b.ya;return $APP.k(d)?d:H3(c.ya)}()),c.id,null,null,null)};
$APP.g.hh=function(a,b){var c=this,d=c.pa,e=c.na;a=c.ta;for(var f=c.ya;;){if(null==f&&null==e)return new $APP.H(null,1,5,$APP.I,[function(){var E=c.ua,G=c.za,O=d,T=c.pattern,Z=G3(c.pattern.rd),ba=H3(c.pattern.rd),da=c.id;return seb.Fa?seb.Fa(E,G,O,T,Z,ba,da):seb.call(null,E,G,O,T,Z,ba,da)}()],null);if(null!=e&&$APP.x.h(G2,e.name)){var l=$APP.Ih.j(d,e.as,function(){var E=e.Hb;return E.g?E.g(c.id):E.call(null,c.id)}()),p=G3(a);a=H3(a);d=l;e=p}else{var u=G3(f),t=$APP.k(function(){var E=u;return $APP.k(E)?
e:E}())?$APP.We(e.name,u.a):null,A=function(){var E=null==e;if(E)return E;E=t;return $APP.k(E)?0<t:E}(),B=function(){var E=null==u;if(E)return E;E=t;return $APP.k(E)?0>t:E}();if($APP.k(function(){var E=c.pattern.Lc;return $APP.k(E)?(E=null!=u)?(E=A,$APP.k(E)?!0:E):E:E}()))p=b0(Hcb(b.db).Oc,u.a,function(E,G,O,T,Z){return function(){return eeb(b.db,Z.a)}}(d,e,a,f,u,t,A,B,this)),l=d,a=$APP.k(e)?neb(a,e):null,d=l,e=p;else if($APP.k(A))l=d,p=e,f=H3(f),d=l,e=p;else if(peb(b,Eib,c.id,e.name,null),$APP.k(function(){var E=
B;return $APP.k(E)?null==e&&!0:E}()))l=d,p=G3(a),a=H3(a),d=l,e=p;else if($APP.k(function(){var E=B;return $APP.k(E)?null!=$APP.Mm.g(e)&&!0:E}()))l=$APP.Ih.j(d,e.as,$APP.Mm.g(e)),p=G3(a),a=H3(a),d=l,e=p;else if($APP.k(B))l=function(){var E=e.Hb;return E.g?E.g(null):E.call(null,null)}(),null==l?(l=d,p=G3(a),a=H3(a),d=l,e=p):(l=$APP.Ih.j(d,e.as,l),p=G3(a),a=H3(a),d=l,e=p);else{if($APP.k(function(){var E=e.vc;return $APP.k(E)?(E=e.xc,$APP.k(E)?!0:E):E}()))return new $APP.H(null,2,5,$APP.I,[new M3(c.ua,
c.za,d,c.pattern,e,a,f,c.id,null,null,null),new L3(c.ua,c.za,$APP.Tc($APP.Sg),c.pattern,e,f,null,null,null)],null);if($APP.k(e.vc))return new $APP.H(null,2,5,$APP.I,[new M3(c.ua,c.za,d,c.pattern,e,a,f,c.id,null,null,null),new K3($APP.Tc($APP.Sg),e,f,null,null,null)],null);if($APP.k(e.xc))return new $APP.H(null,2,5,$APP.I,[new M3(c.ua,c.za,d,c.pattern,e,a,f,c.id,null,null,null),function(){var E=c.ua,G=c.za,O=c.pattern,T=e,Z=u.v;return P3.ja?P3.ja(b,E,G,O,T,Z):P3.call(null,b,E,G,O,T,Z)}()],null);l=
$APP.Ih.j(d,e.as,function(){var E=u.v,G=e.Hb;return G.g?G.g(E):G.call(null,E)}());p=G3(a);a=H3(a);f=H3(f);d=l;e=p}}}};$APP.g=N3.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.ua;case "recursion-limits":return this.za;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.na;case "attrs":return this.ta;case "id":return this.id;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[K5,this.ua],null),new $APP.H(null,2,5,$APP.I,[W5,this.za],null),new $APP.H(null,2,5,$APP.I,[I5,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null),new $APP.H(null,2,5,$APP.I,[Y5,this.na],null),new $APP.H(null,2,5,$APP.I,[x3,this.ta],null),new $APP.H(null,2,5,$APP.I,[$APP.Eq,
this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,7,new $APP.H(null,7,5,$APP.I,[K5,W5,I5,$APP.nH,Y5,x3,$APP.Eq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new N3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 7+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ua,b.ua)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,7,[I5,null,K5,null,$APP.Eq,null,W5,null,x3,null,$APP.nH,null,Y5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new N3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new N3(c,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(W5,b):$APP.Af.call(null,W5,b))?new N3(this.ua,c,this.pa,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new N3(this.ua,this.za,c,this.pattern,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,b):$APP.Af.call(null,
$APP.nH,b))?new N3(this.ua,this.za,this.pa,c,this.na,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new N3(this.ua,this.za,this.pa,this.pattern,c,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new N3(this.ua,this.za,this.pa,this.pattern,this.na,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Eq,b):$APP.Af.call(null,$APP.Eq,b))?new N3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,c,this.A,
this.o,null):new N3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,7,5,$APP.I,[new $APP.Te(K5,this.ua,null),new $APP.Te(W5,this.za,null),new $APP.Te(I5,this.pa,null),new $APP.Te($APP.nH,this.pattern,null),new $APP.Te(Y5,this.na,null),new $APP.Te(x3,this.ta,null),new $APP.Te($APP.Eq,this.id,null)],null),this.o))};
$APP.g.W=function(a,b){return new N3(this.ua,this.za,this.pa,this.pattern,this.na,this.ta,this.id,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.ai=function(a,b){a=this.ua;var c=this.za,d=this.pa,e=this.na.as;b=b.value;var f=this.na.Hb;b=f.g?f.g(b):f.call(null,b);return new N3(a,c,oeb(d,e,b),this.pattern,G3(this.ta),H3(this.ta),this.id,null,null,null)};
$APP.g.hh=function(a,b){var c=this.pa;a=this.na;for(var d=this.ta;;){if(null==a)return new $APP.H(null,1,5,$APP.I,[new J3($APP.Zf($APP.Vc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.y1?U0(f.qc,f1.F(0,e,this.id,536870912),f1.F(2147483647,e,this.id,2147483647)):m1(f,new $APP.H(null,3,5,$APP.I,[null,e,this.id],null));peb(b,phb,null,e,this.id);if($APP.ve(f)&&null!=$APP.Mm.g(a))c=$APP.Ih.j(c,a.as,$APP.Mm.g(a)),a=G3(d),d=e=H3(d);else if($APP.ve(f))a=G3(d),d=e=H3(d);else{if($APP.k(a.sc)){e=
$APP.I;c=new N3(this.ua,this.za,c,this.pattern,a,d,this.id,null,null,null);d=this.ua;var l=this.za,p=this.pattern;f=G3(f).e;b=P3.ja?P3.ja(b,d,l,p,a,f):P3.call(null,b,d,l,p,a,f);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.I,[new N3(this.ua,this.za,c,this.pattern,a,d,this.id,null,null,null),new L3(this.ua,this.za,$APP.Tc($APP.Sg),this.pattern,a,f,null,null,null)],null);return b}}};
var P6=function P6(a){switch(arguments.length){case 3:return P6.j(arguments[0],arguments[1],arguments[2]);case 4:return P6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};P6.j=function(a,b,c){return P6.F(a,b,c,$APP.Xf)};P6.F=function(a,b,c,d){a=S3(a,b,d);return Q3(a,c)};P6.B=4;
var Q6=function Q6(a){switch(arguments.length){case 3:return Q6.j(arguments[0],arguments[1],arguments[2]);case 4:return Q6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};Q6.j=function(a,b,c){return Q6.F(a,b,c,$APP.Xf)};Q6.F=function(a,b,c,d){var e=S3(a,b,d);return $APP.on.h(function(f){return Q3(e,f)},c)};Q6.B=4;var R6=function R6(a){switch(arguments.length){case 1:return R6.g(arguments[0]);case 2:return R6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};R6.g=function(a){return Aeb(a,$APP.Xf)};R6.h=function(a,b){return Aeb(a,b)};R6.B=2;var S6=function S6(a){switch(arguments.length){case 1:return S6.g(arguments[0]);case 2:return S6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
S6.g=function(a){return S6.h(a,$APP.Xf)};
S6.h=function(a,b){b=$APP.Yf(b);var c=$APP.C.j(b,Dhb,$APP.kM),d=$APP.C.j(b,Khb,xeb),e=U3(a,"tx0"),f=function(){var A=U3(a,"schema");return c.g?c.g(A):c.call(null,A)}();(function(){var A=new $APP.Cd(function(){return Y1},wib,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[!0,$APP.DL,Shb,"datascript/db.cljc",23,1,931,931,$APP.J(new $APP.H(null,1,5,$APP.I,[M5],null)),null,$APP.k(Y1)?Y1.H:null]));return A.g?A.g(f):A.call(null,f)})();var l=$APP.on.h(d,U3(a,
"attrs")),p=$APP.on.h(d,U3(a,"keywords")),u=V3(function(A){var B=T3(A,0),E=$APP.y.h(l,T3(A,1)),G=T3(A,2);if("number"===typeof G)var O=G;else if("string"===typeof G)O=G;else if($APP.Ie(G))O=G;else if($APP.zb(G)||$APP.De(G))O=function(){var T=T3(G,0);if($APP.k($APP.dl.h?$APP.dl.h(0,T):$APP.dl.call(null,0,T)))return $APP.y.h(p,T3(G,1));if($APP.k($APP.dl.h?$APP.dl.h(1,T):$APP.dl.call(null,1,T)))return T=T3(G,1),c.g?c.g(T):c.call(null,T);if($APP.k($APP.dl.h?$APP.dl.h(2,T):$APP.dl.call(null,2,T)))return Infinity;
if($APP.k($APP.dl.h?$APP.dl.h(3,T):$APP.dl.call(null,3,T)))return-Infinity;if($APP.k($APP.dl.h?$APP.dl.h(4,T):$APP.dl.call(null,4,T)))return NaN;throw $APP.Yl.h(["Unexpected value marker ",$APP.yj.l($APP.z([T]))," in ",$APP.yj.l($APP.z([$APP.yj.l($APP.z([G]))]))].join(""),new $APP.h(null,2,[$APP.Kn,Ihb,$APP.lK,G],null));}();else throw $APP.Yl.h(["Unexpected value type ",$APP.yj.l($APP.z([$APP.Jb(G)]))," (",$APP.yj.l($APP.z([$APP.yj.l($APP.z([G]))])),")"].join(""),new $APP.h(null,2,[$APP.Kn,Ihb,$APP.lK,
G],null));A=e+T3(A,3);return f1.F(B,E,O,A)},U3(a,"eavt"));d=function(){var A=U3(a,"aevt");return null==A?null:V3(function(B){return u[B]},A)}();var t=function(){var A=U3(a,"avet");return null==A?null:V3(function(B){return u[B]},A)}();b=$APP.Nl.l($APP.z([new $APP.h(null,2,[a1,U3(a,"branching-factor"),pcb,function(){var A=U3(a,"ref-type");return null==A?null:$APP.fj.g(A)}()],null),$APP.wi(b,new $APP.H(null,2,5,$APP.I,[a1,pcb],null))]));return X2(new $APP.h(null,6,[$APP.z1,f,$APP.A1,X0(i1,u,b),B1,X0(j1,
d,b),s1,X0(k1,t,b),C1,U3(a,"max-eid"),D1,U3(a,"max-tx")],null))};S6.B=2;$APP.g=d4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.K.h($APP.Sg,this.o))};
$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new d4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new d4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new d4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new d4(b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=e4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new e4(this.Oa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new e4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new e4(c,this.A,this.o,null):new e4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new e4(this.Oa,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.Oa):Q4.call(null,b,this.Oa)};$APP.g=f4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new f4(this.Oa,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new f4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new f4(c,this.A,this.o,null):new f4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new f4(this.Oa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Z3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.Oa):Q4.call(null,b,this.Oa)};$APP.g=g4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new g4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new g4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new g4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new g4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=h4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new h4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new h4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new h4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new h4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=i4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.lK,this.value],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.lK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new i4(this.value,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.lK,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new i4(this.value,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.lK,b):$APP.Af.call(null,$APP.lK,b))?new i4(c,this.A,this.o,null):new i4(this.value,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.lK,this.value,null)],null),this.o))};$APP.g.W=function(a,b){return new i4(this.value,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Z3(b,this.value,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.value):Q4.call(null,b,this.value)};$APP.g=j4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Oa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.zm,this.Oa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new j4(this.Oa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oa,b.Oa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new j4(this.Oa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new j4(c,this.A,this.o,null):new j4(this.Oa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.zm,this.Oa,null)],null),this.o))};$APP.g.W=function(a,b){return new j4(this.Oa,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Oa,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.Oa):Q4.call(null,b,this.Oa)};$APP.g=n4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "required":return this.required;case "free":return this.ue;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.CI,this.required],null),new $APP.H(null,2,5,$APP.I,[o4,this.ue],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.CI,o4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new n4(this.required,this.ue,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.required,b.required)&&$APP.x.h(this.ue,b.ue)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[o4,null,$APP.CI,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new n4(this.required,this.ue,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "required":case "free":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.CI,b):$APP.Af.call(null,$APP.CI,b))?new n4(c,this.ue,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(o4,b):$APP.Af.call(null,o4,b))?new n4(this.required,c,this.A,this.o,null):new n4(this.required,this.ue,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.CI,this.required,null),new $APP.Te(o4,this.ue,null)],null),this.o))};$APP.g.W=function(a,b){return new n4(this.required,this.ue,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.ue,Z3(b,this.required,c))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.required):Q4.call(null,b,this.required);b=this.ue;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=q4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.C.j(this.o,b,c)};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.wh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new q4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se($APP.Ai,b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new q4(this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){return $APP.Se(this.o,b)};$APP.g.R=function(a,b,c){return new q4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.W=function(a,b){return new q4(b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return c};$APP.g.Fb=function(a,b){return b};$APP.g=r4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "variable":return this.bc;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[h5,this.bc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[h5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new r4(this.bc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.bc,b.bc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[h5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new r4(this.bc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "variable":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(h5,b):$APP.Af.call(null,h5,b))?new r4(c,this.A,this.o,null):new r4(this.bc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(h5,this.bc,null)],null),this.o))};$APP.g.W=function(a,b){return new r4(this.bc,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.bc,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.bc):Q4.call(null,b,this.bc)};$APP.g=s4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "bindings":return this.Mc;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Bq,this.Mc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.Bq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new s4(this.Mc,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Mc,b.Mc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.Bq,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new s4(this.Mc,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "bindings":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Bq,b):$APP.Af.call(null,$APP.Bq,b))?new s4(c,this.A,this.o,null):new s4(this.Mc,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.Bq,this.Mc,null)],null),this.o))};$APP.g.W=function(a,b){return new s4(this.Mc,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Mc,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.Mc):Q4.call(null,b,this.Mc)};$APP.g=t4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "binding":return this.$b;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Q5,this.$b],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Q5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new t4(this.$b,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.$b,b.$b)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Q5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new t4(this.$b,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "binding":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Q5,b):$APP.Af.call(null,Q5,b))?new t4(c,this.A,this.o,null):new t4(this.$b,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Q5,this.$b,null)],null),this.o))};$APP.g.W=function(a,b){return new t4(this.$b,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.$b,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.$b):Q4.call(null,b,this.$b)};
e4.prototype.$h=function(){return new $APP.H(null,1,5,$APP.I,[this.Oa],null)};$APP.g=w4.prototype;$APP.g.$h=function(){return v4($APP.me(this.Aa))};$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new w4(this.ma,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new w4(this.ma,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new w4(c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new w4(this.ma,c,this.A,this.o,null):new w4(this.ma,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};
$APP.g.W=function(a,b){return new w4(this.ma,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Aa,Z3(b,this.ma,c))};$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.ma):Q4.call(null,b,this.ma);b=this.Aa;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=x4.prototype;$APP.g.$h=function(){return v4(this.bc)};$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "variable":return this.bc;case "pattern":return this.pattern;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[h5,this.bc],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,h5,$APP.nH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new x4(this.source,this.bc,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.bc,b.bc)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[h5,null,$APP.Ml,null,$APP.nH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new x4(this.source,this.bc,this.pattern,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new x4(c,this.bc,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(h5,b):$APP.Af.call(null,h5,b))?new x4(this.source,c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,b):$APP.Af.call(null,$APP.nH,b))?new x4(this.source,this.bc,c,this.A,this.o,null):new x4(this.source,this.bc,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te(h5,this.bc,null),new $APP.Te($APP.nH,this.pattern,null)],null),this.o))};$APP.g.W=function(a,b){return new x4(this.source,this.bc,this.pattern,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.bc,Z3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.bc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=z4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z5,this.elements],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new z4(this.elements,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new z4(this.elements,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.gh=function(){return this.elements};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new z4(c,this.A,this.o,null):new z4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Z5,this.elements,null)],null),this.o))};$APP.g.W=function(a,b){return new z4(this.elements,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=A4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new A4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new A4(this.element,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.gh=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($5,b):$APP.Af.call(null,$5,b))?new A4(c,this.A,this.o,null):new A4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($5,this.element,null)],null),this.o))};
$APP.g.W=function(a,b){return new A4(this.element,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=B4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new B4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new B4(this.element,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.gh=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($5,b):$APP.Af.call(null,$5,b))?new B4(c,this.A,this.o,null):new B4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($5,this.element,null)],null),this.o))};
$APP.g.W=function(a,b){return new B4(this.element,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=C4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Z5,this.elements],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new C4(this.elements,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new C4(this.elements,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.gh=function(){return this.elements};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new C4(c,this.A,this.o,null):new C4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te(Z5,this.elements,null)],null),this.o))};$APP.g.W=function(a,b){return new C4(this.elements,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=E4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "type":return this.type;case "symbols":return this.Ce;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Tl,this.type],null),new $APP.H(null,2,5,$APP.I,[b5,this.Ce],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Tl,b5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new E4(this.type,this.Ce,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.type,b.type)&&$APP.x.h(this.Ce,b.Ce)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.Tl,null,b5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new E4(this.type,this.Ce,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "type":case "symbols":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Tl,b):$APP.Af.call(null,$APP.Tl,b))?new E4(c,this.Ce,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(b5,b):$APP.Af.call(null,b5,b))?new E4(this.type,c,this.A,this.o,null):new E4(this.type,this.Ce,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Tl,this.type,null),new $APP.Te(b5,this.Ce,null)],null),this.o))};$APP.g.W=function(a,b){return new E4(this.type,this.Ce,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Ce,Z3(b,this.type,c))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.type):Q4.call(null,b,this.type);b=this.Ce;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=F4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.nH,this.pattern],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Ml,$APP.nH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new F4(this.source,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.Ml,null,$APP.nH,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new F4(this.source,this.pattern,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "pattern":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new F4(c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.nH,b):$APP.Af.call(null,$APP.nH,b))?new F4(this.source,c,this.A,this.o,null):new F4(this.source,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.nH,this.pattern,null)],null),this.o))};$APP.g.W=function(a,b){return new F4(this.source,this.pattern,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.source,c))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=G4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new G4(this.ma,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new G4(this.ma,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Se(this.o,b)}};$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new G4(c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new G4(this.ma,c,this.A,this.o,null):new G4(this.ma,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};$APP.g.W=function(a,b){return new G4(this.ma,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Aa,Z3(b,this.ma,c))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.ma):Q4.call(null,b,this.ma);b=this.Aa;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=H4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.ma;case "args":return this.Aa;case "binding":return this.$b;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Hn,this.ma],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null),new $APP.H(null,2,5,$APP.I,[Q5,this.$b],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Hn,$APP.cn,Q5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new H4(this.ma,this.Aa,this.$b,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ma,b.ma)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.$b,b.$b)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.cn,null,$APP.Hn,null,Q5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new H4(this.ma,this.Aa,this.$b,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":case "binding":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new H4(c,this.Aa,this.$b,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new H4(this.ma,c,this.$b,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Q5,b):$APP.Af.call(null,Q5,b))?new H4(this.ma,this.Aa,c,this.A,this.o,null):new H4(this.ma,this.Aa,this.$b,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Hn,this.ma,null),new $APP.Te($APP.cn,this.Aa,null),new $APP.Te(Q5,this.$b,null)],null),this.o))};$APP.g.W=function(a,b){return new H4(this.ma,this.Aa,this.$b,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.$b,Z3(b,this.Aa,Z3(b,this.ma,c)))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.ma):Q4.call(null,b,this.ma);b=this.Aa;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.$b;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=I4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "name":return this.name;case "args":return this.Aa;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.cn,this.Aa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,$APP.N,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new I4(this.source,this.name,this.Aa,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.cn,null,$APP.N,null,$APP.Ml,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new I4(this.source,this.name,this.Aa,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "name":case "args":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new I4(c,this.name,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new I4(this.source,c,this.Aa,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new I4(this.source,this.name,c,this.A,this.o,null):new I4(this.source,this.name,this.Aa,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.N,this.name,null),new $APP.Te($APP.cn,this.Aa,null)],null),this.o))};$APP.g.W=function(a,b){return new I4(this.source,this.name,this.Aa,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Aa,Z3(b,this.name,Z3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.name;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Aa;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=J4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "vars":return this.cc;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.MJ,this.cc],null),new $APP.H(null,2,5,$APP.I,[$APP.ML,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,$APP.MJ,$APP.ML],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new J4(this.source,this.cc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.cc,b.cc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[$APP.Ml,null,$APP.ML,null,$APP.MJ,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new J4(this.source,this.cc,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new J4(c,this.cc,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.MJ,b):$APP.Af.call(null,$APP.MJ,b))?new J4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.ML,b):$APP.Af.call(null,$APP.ML,b))?new J4(this.source,this.cc,c,this.A,this.o,null):new J4(this.source,this.cc,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te($APP.MJ,this.cc,null),new $APP.Te($APP.ML,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new J4(this.source,this.cc,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.cc,Z3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.cc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ha;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=K4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "rule-vars":return this.Sd;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ml,this.source],null),new $APP.H(null,2,5,$APP.I,[O4,this.Sd],null),new $APP.H(null,2,5,$APP.I,[$APP.ML,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Ml,O4,$APP.ML],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new K4(this.source,this.Sd,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.Sd,b.Sd)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[O4,null,$APP.Ml,null,$APP.ML,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new K4(this.source,this.Sd,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ml,b):$APP.Af.call(null,$APP.Ml,b))?new K4(c,this.Sd,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(O4,b):$APP.Af.call(null,O4,b))?new K4(this.source,c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.ML,b):$APP.Af.call(null,$APP.ML,b))?new K4(this.source,this.Sd,c,this.A,this.o,null):new K4(this.source,this.Sd,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te($APP.Ml,this.source,null),new $APP.Te(O4,this.Sd,null),new $APP.Te($APP.ML,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new K4(this.source,this.Sd,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.Sd,Z3(b,this.source,c)))};
$APP.g.Fb=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.Sd;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ha;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=L4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};
$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ML,this.Ha],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,1,new $APP.H(null,1,5,$APP.I,[$APP.ML],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new L4(this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,1,[$APP.ML,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new L4(this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.ML,b):$APP.Af.call(null,$APP.ML,b))?new L4(c,this.A,this.o,null):new L4(this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,1,5,$APP.I,[new $APP.Te($APP.ML,this.Ha,null)],null),this.o))};$APP.g.W=function(a,b){return new L4(this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;
$APP.g.Eb=function(a,b,c){return Z3(b,this.Ha,c)};$APP.g.Fb=function(a,b){return Q4.h?Q4.h(b,this.Ha):Q4.call(null,b,this.Ha)};var Q4=function Q4(a,b){return b instanceof e4?$APP.vf.h(a,b):b instanceof J4?$APP.Eh.h(a,b.cc):b instanceof K4?(b=b.Sd,Q4.h?Q4.h(a,b):Q4.call(null,a,b)):(null!=b?$APP.xd===b.Db||(b.yd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?Ceb(b,a):$APP.Ae(b)?$APP.af.j(Q4,a,b):a};$APP.g=S4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "vars":return this.cc;case "clauses":return this.Ha;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.MJ,this.cc],null),new $APP.H(null,2,5,$APP.I,[$APP.ML,this.Ha],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.MJ,$APP.ML],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new S4(this.cc,this.Ha,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.cc,b.cc)&&$APP.x.h(this.Ha,b.Ha)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.ML,null,$APP.MJ,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new S4(this.cc,this.Ha,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "vars":case "clauses":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.MJ,b):$APP.Af.call(null,$APP.MJ,b))?new S4(c,this.Ha,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.ML,b):$APP.Af.call(null,$APP.ML,b))?new S4(this.cc,c,this.A,this.o,null):new S4(this.cc,this.Ha,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.MJ,this.cc,null),new $APP.Te($APP.ML,this.Ha,null)],null),this.o))};
$APP.g.W=function(a,b){return new S4(this.cc,this.Ha,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Ha,Z3(b,this.cc,c))};$APP.g.Fb=function(a,b){return Q4(Q4(b,this.cc),this.Ha)};$APP.g=T4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "name":return this.name;case "branches":return this.le;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.N,this.name],null),new $APP.H(null,2,5,$APP.I,[U5,this.le],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[$APP.N,U5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new T4(this.name,this.le,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.le,b.le)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[$APP.N,null,U5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new T4(this.name,this.le,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "name":case "branches":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new T4(c,this.le,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(U5,b):$APP.Af.call(null,U5,b))?new T4(this.name,c,this.A,this.o,null):new T4(this.name,this.le,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te($APP.N,this.name,null),new $APP.Te(U5,this.le,null)],null),this.o))};
$APP.g.W=function(a,b){return new T4(this.name,this.le,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.le,Z3(b,this.name,c))};$APP.g.Fb=function(a,b){return Q4(Q4(b,this.name),this.le)};$APP.g=V4.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "qfind":return this.Fd;case "qwith":return this.Jd;case "qreturn-map":return this.Hd;case "qin":return this.Gd;case "qwhere":return this.Id;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W4,this.Fd],null),new $APP.H(null,2,5,$APP.I,[X4,this.Jd],null),new $APP.H(null,2,5,$APP.I,[Y4,this.Hd],null),new $APP.H(null,2,5,$APP.I,[Z4,this.Gd],null),new $APP.H(null,2,5,$APP.I,[$4,this.Id],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.wh(this,5,new $APP.H(null,5,5,$APP.I,[W4,X4,Y4,Z4,$4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ba=function(){return new V4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Nd(this)};
$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Fd,b.Fd)&&$APP.x.h(this.Jd,b.Jd)&&$APP.x.h(this.Hd,b.Hd)&&$APP.x.h(this.Gd,b.Gd)&&$APP.x.h(this.Id,b.Id)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,5,[W4,null,$4,null,Z4,null,X4,null,Y4,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new V4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};
$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(W4,b):$APP.Af.call(null,W4,b))?new V4(c,this.Jd,this.Hd,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X4,b):$APP.Af.call(null,X4,b))?new V4(this.Fd,c,this.Hd,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y4,b):$APP.Af.call(null,Y4,b))?new V4(this.Fd,this.Jd,c,this.Gd,this.Id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Z4,b):$APP.Af.call(null,Z4,b))?new V4(this.Fd,this.Jd,this.Hd,c,this.Id,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h($4,b):$APP.Af.call(null,$4,b))?new V4(this.Fd,this.Jd,this.Hd,this.Gd,c,this.A,this.o,null):new V4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,5,5,$APP.I,[new $APP.Te(W4,this.Fd,null),new $APP.Te(X4,this.Jd,null),new $APP.Te(Y4,this.Hd,null),new $APP.Te(Z4,this.Gd,null),new $APP.Te($4,this.Id,null)],null),this.o))};
$APP.g.W=function(a,b){return new V4(this.Fd,this.Jd,this.Hd,this.Gd,this.Id,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Db=$APP.xd;$APP.g.Eb=function(a,b,c){return Z3(b,this.Id,Z3(b,this.Gd,Z3(b,this.Hd,Z3(b,this.Jd,Z3(b,this.Fd,c)))))};$APP.g.Fb=function(a,b){return Q4(Q4(Q4(Q4(Q4(b,this.Fd),this.Jd),this.Hd),this.Gd),this.Id)};var Ijb=d0();$APP.g=c5.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "rels":return this.Xe;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[j5,this.Xe],null),new $APP.H(null,2,5,$APP.I,[i5,this.sources],null),new $APP.H(null,2,5,$APP.I,[$APP.TH,this.rules],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,3,new $APP.H(null,3,5,$APP.I,[j5,i5,$APP.TH],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new c5(this.Xe,this.sources,this.rules,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Xe,b.Xe)&&$APP.x.h(this.sources,b.sources)&&$APP.x.h(this.rules,b.rules)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,3,[i5,null,$APP.TH,null,j5,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new c5(this.Xe,this.sources,this.rules,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(j5,b):$APP.Af.call(null,j5,b))?new c5(c,this.sources,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(i5,b):$APP.Af.call(null,i5,b))?new c5(this.Xe,c,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.TH,b):$APP.Af.call(null,$APP.TH,b))?new c5(this.Xe,this.sources,c,this.A,this.o,null):new c5(this.Xe,this.sources,this.rules,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,3,5,$APP.I,[new $APP.Te(j5,this.Xe,null),new $APP.Te(i5,this.sources,null),new $APP.Te($APP.TH,this.rules,null)],null),this.o))};$APP.g.W=function(a,b){return new c5(this.Xe,this.sources,this.rules,b,this.o,this.C)};$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=d5.prototype;$APP.g.da=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "tuples":return this.tf;default:return $APP.C.j(this.o,b,c)}};$APP.g.ka=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[x3,this.ta],null),new $APP.H(null,2,5,$APP.I,[n5,this.tf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.wh(this,2,new $APP.H(null,2,5,$APP.I,[x3,n5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ba=function(){return new d5(this.ta,this.tf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Nd(this)};$APP.g.T=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.tf,b.tf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Se(new $APP.zi(null,new $APP.h(null,2,[n5,null,x3,null],null),null),b)?$APP.Ol.h($APP.vc($APP.Eh.h($APP.Xf,this),this.A),b):new d5(this.ta,this.tf,this.A,$APP.Zf($APP.Ol.h(this.o,b)),null)};$APP.g.ha=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "tuples":return!0;default:return $APP.Se(this.o,b)}};
$APP.g.R=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new d5(c,this.tf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(n5,b):$APP.Af.call(null,n5,b))?new d5(this.ta,c,this.A,this.o,null):new d5(this.ta,this.tf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.H(null,2,5,$APP.I,[new $APP.Te(x3,this.ta,null),new $APP.Te(n5,this.tf,null)],null),this.o))};$APP.g.W=function(a,b){return new d5(this.ta,this.tf,b,this.o,this.C)};
$APP.g.ca=function(a,b){return $APP.De(b)?this.R(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
var T6=function T6(a,b){return $APP.x.h($APP.bJ,a)?!0:$APP.x.h(new $APP.H(null,1,5,$APP.I,[$APP.XI],null),a)?$APP.Ae(b):a instanceof $APP.q?$APP.x.h(b,a):$APP.Ae(a)?$APP.x.h($APP.me(a),$APP.XI)?$APP.Ae(b)&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return T6.h?T6.h(e,d):T6.call(null,e,d)},$APP.ej.j($APP.Fw,$APP.Ei(a),b)):$APP.Ae(b)&&$APP.x.h($APP.be(b),$APP.be(a))&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return T6.h?T6.h(e,d):T6.call(null,e,d)},$APP.ej.j($APP.Fw,
a,b)):a.g?a.g(b):a.call(null,b)},t5=function t5(a,b){var d=$APP.Yf(a),e=$APP.C.h(d,x3);d=$APP.C.h(d,n5);var f=$APP.Yf(b),l=$APP.C.h(f,x3);f=$APP.C.h(f,n5);if($APP.x.h(e,l))return new d5(e,$APP.Eh.h($APP.cf(d),f),null,null,null);if($APP.ve(d))return b;if($APP.ve(f))return a;if(xfb(e,l)){if($APP.mg($APP.Bb,$APP.si(e)))return Bfb(e,d,l,f);a=$APP.Gi($APP.qi(e),$APP.Un.D());e=Bfb(a,$APP.Sg,e,d);return t5.h?t5.h(e,b):t5.call(null,e,b)}throw $APP.Yl.h(["Can’t sum relations with different attrs: ",$APP.yj.l($APP.z([e])),
" and ",$APP.yj.l($APP.z([l]))].join(""),new $APP.h(null,1,[$APP.Kn,s5],null));},r5=function r5(a){switch(arguments.length){case 0:return r5.D();case 2:return r5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};r5.D=function(){return new d5($APP.Xf,new $APP.H(null,1,5,$APP.I,[[]],null),null,null,null)};
r5.h=function(a,b){var c=$APP.qi(x3.g(a)),d=$APP.qi(x3.g(b)),e=$APP.bf($APP.ej.h(x3.g(a),c)),f=$APP.bf($APP.ej.h(x3.g(b),d));return new d5($APP.Gi($APP.K.h(c,d),$APP.Un.D()),$APP.Vc($APP.af.j(function(l,p){return $APP.af.j(function(u,t){return $APP.Rg.h(u,Afb(p,e,t,f))},l,n5.g(b))},$APP.Tc($APP.Sg),n5.g(a))),null,null,null)};r5.B=2;q4.prototype.ih=function(){return r5.D()};
r4.prototype.ih=function(a,b){return new d5($APP.Wf([$APP.rp.h(this,new $APP.H(null,2,5,$APP.I,[h5,$APP.zm],null)),0]),new $APP.H(null,1,5,$APP.I,[$APP.ws.g(new $APP.H(null,1,5,$APP.I,[b],null))],null),null,null,null)};
t4.prototype.ih=function(a,b){var c=this;if(scb(b))return $APP.ve(b)?Cfb(c):$APP.af.h(t5,$APP.ej.h(function(d){return g5(c.$b,d)},b));throw $APP.Yl.h(["Cannot bind value ",$APP.yj.l($APP.z([b]))," to collection ",$APP.yj.l($APP.z([c4(c)]))].join(""),new $APP.h(null,3,[$APP.Kn,Lhb,$APP.lK,b,Q5,c4(c)],null));};
s4.prototype.ih=function(a,b){if(scb(b)){if($APP.be(b)<$APP.be(this.Mc))throw $APP.Yl.h(["Not enough elements in a collection ",$APP.yj.l($APP.z([b]))," to bind tuple ",$APP.yj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,Lhb,$APP.lK,b,Q5,c4(this)],null));return $APP.af.h(r5,$APP.ej.j(function(c,d){return g5(c,d)},this.Mc,b))}throw $APP.Yl.h(["Cannot bind value ",$APP.yj.l($APP.z([b]))," to tuple ",$APP.yj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,Lhb,$APP.lK,b,Q5,c4(this)],
null));};var k5=null,l5=null,Xfb=$APP.Aj.g(0),w5=function w5(a){switch(arguments.length){case 2:return w5.h(arguments[0],arguments[1]);case 3:return w5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};w5.h=function(a,b){return w5.j(a,b,b)};
w5.j=function(a,b,c){for(;;){var d=T6,e=b;if($APP.k(function(){var da=new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.XI],null)],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ie(b)),b),Ufb(a,b);if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Ad,$APP.XI],null),$APP.bJ],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ie(b)),b),Vfb(a,b);if($APP.k(function(){var da=
new $APP.H(null,2,5,$APP.I,[yfb,$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){var f=$APP.r(b);c=$APP.v(f);f=$APP.w(f);var l=l5;l5=$APP.C.h(i5.g(a),c);try{return w5.j(a,f,b)}finally{l5=l}}else{if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.mt,$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){var p=b,u=$APP.r(p),t=$APP.v(u),A=$APP.w(u);f=t;l=A;var B=egb(D5(a),l,b),E=$APP.ej.h(function(da){return function(ia){return F5.h?F5.h(da,ia):F5.call(null,da,ia)}}(a,
b,c,p,u,t,A,f,l,B,d,e),l);b=$APP.ej.h(function(){return function(da){return $APP.af.h(o5,j5.g(da))}}(a,b,c,p,u,t,A,f,l,B,E,d,e),E);return $APP.ui.j($APP.v(E),j5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(t5,b)],null))}if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[R4,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.XI],null),$APP.XI],null),$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){l=$APP.r(b);f=$APP.v(l);l=$APP.w(l);p=$APP.v(l);f=$APP.w(l);p=$APP.r(p);l=$APP.v(p);
p=$APP.w(p);B=l;l=f;f=D5(a);E5(f,B,c);fgb(f,p,l);c=$APP.Es.j(R4,$APP.K.h(B,p),l);f=b;b=c;c=f;continue}else{if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[R4,new $APP.H(null,1,5,$APP.I,[$APP.XI],null),$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){t=b;A=$APP.r(t);var G=$APP.v(A),O=$APP.w(A);f=G;var T=$APP.v(O),Z=$APP.w(O);p=T;l=Z;var ba=$APP.Di(p);B=fgb(D5(a),ba,l);u=C5(a,ba);E=$APP.ej.h(function(da,ia,ma,ya,sa,X,S,W,U,Y,na,za,ea,pa,ua){return function(xa){return C5(F5.h?
F5.h(ua,xa):F5.call(null,ua,xa),ea)}}(a,b,c,t,A,G,O,f,T,Z,p,l,ba,B,u,d,e),l);b=$APP.ej.h(function(){return function(da){return $APP.af.h(o5,j5.g(da))}}(a,b,c,t,A,G,O,f,T,Z,p,l,ba,B,u,E,d,e),E);b=$APP.af.h(t5,b);return $APP.an.F(a,j5,q5,b)}if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.ht,$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return c=$APP.r(b),b=$APP.v(c),c=$APP.w(c),f=b,b=c,$APP.af.j(F5,a,b);if($APP.k(function(){var da=new $APP.H(null,2,5,$APP.I,[$APP.HC,
$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){f=$APP.r(b);b=$APP.v(f);l=$APP.w(f);f=b;b=l;f=D5(a);l=$APP.Di(v5(b));if($APP.ve($APP.cx.h(f,l)))throw $APP.Yl.h(["Insufficient bindings: none of ",$APP.yj.l($APP.z([l]))," is bound in ",$APP.yj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,s5,$APP.wB,c],null));B=null;a=$APP.ui.j(a,j5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(o5,j5.g(a))],null));b=$APP.af.j(F5,a,b);b=Jfb($APP.v(j5.g(a)),$APP.af.h(o5,j5.g(b)));return $APP.ui.j(a,j5,
new $APP.H(null,1,5,$APP.I,[b],null))}if($APP.k(function(){var da=new $APP.H(null,3,5,$APP.I,[ffb,new $APP.H(null,1,5,$APP.I,[$APP.XI],null),$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}()))return b=$APP.r(b),f=$APP.v(b),b=$APP.w(b),f=$APP.v(b),b=$APP.w(b),p=f,f=D5(a),B=E5(f,p,c),a=$APP.ui.j(a,j5,new $APP.H(null,1,5,$APP.I,[$APP.af.h(o5,j5.g(a))],null)),u=C5(a,p),b=C5($APP.af.j(F5,u,b),p),b=Jfb($APP.v(j5.g(a)),$APP.af.h(o5,j5.g(b))),$APP.ui.j(a,j5,new $APP.H(null,1,5,$APP.I,[b],null));
if($APP.k(function(){var da=new $APP.H(null,1,5,$APP.I,[$APP.XI],null),ia=e;return d.h?d.h(da,ia):d.call(null,da,ia)}())){c=l5;b=Mfb(c,b);f=Pfb(a,c,b);l=k5;k5=(null!=c?$APP.xd===c.Wi||(c.yd?0:$APP.Ib(v1,c)):$APP.Ib(v1,c))?dgb(c,b):k5;try{return $APP.an.F(a,j5,q5,f)}finally{k5=l}}else throw Error(["No matching clause: ",$APP.m.g(e)].join(""));}}break}};w5.B=3;
var F5=function F5(a,b){if($APP.k($APP.og($APP.qq.h($APP.ve,n5),j5.g(a))))return a;if(Wfb(a,b))if(yfb($APP.v(b))){var d=l5;l5=$APP.C.h(i5.g(a),$APP.v(b));try{var e=$APP.w(b);return F5.h?F5.h(a,e):F5.call(null,a,e)}finally{l5=d}}else return $APP.an.F(a,j5,q5,cgb(a,b));else return w5.h(a,b)};e4.prototype.jh=function(a,b){return Qfb(b,this.Oa)};f4.prototype.jh=function(a,b){return $APP.rp.h(b,new $APP.H(null,2,5,$APP.I,[i5,this.Oa],null))};
j4.prototype.jh=function(){var a=$APP.C.h(Hjb,this.Oa);return $APP.k(a)?a:null};i4.prototype.jh=function(){return this.value};z4.prototype.kh=function(a,b,c){return null==b?c:ogb(b,c)};A4.prototype.kh=function(a,b,c){return $APP.Eh.j($APP.Sg,$APP.ej.g($APP.v),c)};B4.prototype.kh=function(a,b,c){return $APP.he(c)};C4.prototype.kh=function(a,b,c){return null!=b?$APP.v(ogb(b,new $APP.H(null,1,5,$APP.I,[$APP.v(c)],null))):$APP.v(c)};
var U6=function U6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return U6.l(arguments[0],1<c.length?new $APP.Ed(c.slice(1),0,null):null)};
U6.l=function(a,b){var c=b0(Ijb,a,function(){return vfb(a)}),d=W4.g(c),e=y4(d),f=$APP.Og.l(v4,$APP.z([y4(d)])),l=$APP.be(e),p=X4.g(c);p=$APP.K.h(f,$APP.ej.h($APP.zm,p));f=$APP.Ae(a)?nfb(a):a;var u=$APP.iG.g(f);b=Gfb(new c5($APP.Sg,$APP.Xf,$APP.Xf,null,null,null),Z4.g(c),b);p=jgb(ggb(b,u),p);f=$APP.k(tfb.g(f))?$APP.on.h(function(t){return $APP.cf($APP.el.j(t,0,l))},p):p;f=$APP.k($APP.og(Peb,e))?mgb(e,b,f):f;e=$APP.k($APP.og(Qeb,e))?qgb(e,b,f):f;return pgb(d,Y4.g(c),e)};U6.B=1;
U6.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};var V6=function V6(a){switch(arguments.length){case 0:return V6.D();case 1:return V6.g(arguments[0]);case 2:return V6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};V6.D=function(){return Z1(null,$APP.Xf)};V6.g=function(a){return Z1(a,$APP.Xf)};V6.h=function(a,b){return Z1(a,Y2(b))};V6.B=2;
var W6=function W6(a){switch(arguments.length){case 1:return W6.g(arguments[0]);case 2:return W6.h(arguments[0],arguments[1]);case 3:return W6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};W6.g=function(a){return a2(a,null,$APP.Xf)};W6.h=function(a,b){return a2(a,b,$APP.Xf)};W6.j=function(a,b,c){return a2(a,b,Y2(c))};W6.B=3;
var X6=function X6(a){switch(arguments.length){case 2:return X6.h(arguments[0],arguments[1]);case 3:return X6.j(arguments[0],arguments[1],arguments[2]);case 4:return X6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
X6.h=function(a,b){return o1(a,b,null,null,null,null)};X6.j=function(a,b,c){return o1(a,b,c,null,null,null)};X6.F=function(a,b,c,d){return o1(a,b,c,d,null,null)};X6.P=function(a,b,c,d,e){return o1(a,b,c,d,e,null)};X6.ja=function(a,b,c,d,e,f){return o1(a,b,c,d,e,f)};X6.B=6;
var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.h(arguments[0],arguments[1]);case 3:return Y6.j(arguments[0],arguments[1],arguments[2]);case 4:return Y6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Y6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Y6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
Y6.h=function(a,b){return p1(a,b,null,null,null,null)};Y6.j=function(a,b,c){return p1(a,b,c,null,null,null)};Y6.F=function(a,b,c,d){return p1(a,b,c,d,null,null)};Y6.P=function(a,b,c,d,e){return p1(a,b,c,d,e,null)};Y6.ja=function(a,b,c,d,e,f){return p1(a,b,c,d,e,f)};Y6.B=6;
var Z6=function Z6(a){switch(arguments.length){case 2:return Z6.h(arguments[0],arguments[1]);case 3:return Z6.j(arguments[0],arguments[1],arguments[2]);case 4:return Z6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Z6.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Z6.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};
Z6.h=function(a,b){return q1(a,b,null,null,null,null)};Z6.j=function(a,b,c){return q1(a,b,c,null,null,null)};Z6.F=function(a,b,c,d){return q1(a,b,c,d,null,null)};Z6.P=function(a,b,c,d,e){return q1(a,b,c,d,e,null)};Z6.ja=function(a,b,c,d,e,f){return q1(a,b,c,d,e,f)};Z6.B=6;
for(var Jjb=$APP.r(new $APP.h(null,2,[kib,$APP.g1,ujb,$APP.c2],null)),Kjb=null,Ljb=0,$6=0;;)if($6<Ljb){var Mjb=Kjb.ea(null,$6),Njb=$APP.y.j(Mjb,0,null),Ojb=$APP.y.j(Mjb,1,null),Pjb=Njb,Qjb=Ojb;$APP.C.h($APP.n($APP.dM),Pjb);$APP.Bj.F($APP.dM,$APP.ui,Pjb,Qjb);$6+=1}else{var Rjb=$APP.r(Jjb);if(Rjb){var a7=Rjb;if($APP.Ee(a7)){var Sjb=$APP.cd(a7),Tjb=$APP.dd(a7),Ujb=Sjb,Vjb=$APP.be(Sjb);Jjb=Tjb;Kjb=Ujb;Ljb=Vjb}else{var Wjb=$APP.v(a7),Xjb=$APP.y.j(Wjb,0,null),Yjb=$APP.y.j(Wjb,1,null),Zjb=Xjb,$jb=Yjb;$APP.C.h($APP.n($APP.dM),
Zjb);$APP.Bj.F($APP.dM,$APP.ui,Zjb,$jb);Jjb=$APP.w(a7);Kjb=null;Ljb=0}$6=0}else break}$APP.Aj.g(-1E6);var b7=$APP.EO.h($APP.IK,null),c7=$APP.EO.h($APP.DL,null),d7=$APP.EO.h($APP.dL,null),akb=$APP.EO.h($APP.GK,null),bkb=$APP.gi([zhb,hib,Hgb,sjb,$APP.vJ,ajb,T5,djb,Ghb,iib,Kib,Bhb,Lib,mjb,S5,Xib,ojb,xjb,yjb,tjb,Hib,gjb,wjb,$APP.QF,pjb,V5,ijb,Cib,Reb,bhb,Sib],[function(){var a=new $APP.Cd(function(){return c3},Sgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,zhb,"datascript/core.cljc",60,1,267,267,$APP.Hd,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.k(c3)?c3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Q6},Ejb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,hib,"datascript/core.cljc",
12,1,119,129,$APP.Hd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.k(Q6)?Q6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return h3},Wib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,Hgb,"datascript/core.cljc",9,1,26,76,h6,$APP.Hd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(h3)?h3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return w6},Kgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,sjb,"datascript/core.cljc",
54,1,702,702,$APP.Hd,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.k(w6)?w6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return U6},Fgb,$APP.gi([$APP.Q,$APP.N,
$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,$APP.vJ,"datascript/core.cljc",4,1,133,145,$APP.Hd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.k(U6)?U6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return C6},Whb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,ajb,"datascript/core.cljc",65,1,565,565,$APP.Hd,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(C6)?C6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return f1},hjb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,T5,"datascript/core.cljc",
8,1,181,188,c6,$APP.Hd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.k(f1)?f1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?
$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Mdb},cib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,djb,"datascript/core.cljc",50,1,271,271,a6,$APP.Hd,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(Mdb)?Mdb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,
$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return sgb},Uhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Ghb,"datascript/core.cljc",18,1,412,412,$APP.J(new $APP.H(null,4,5,$APP.I,[S5,L5,$APP.pz,$APP.nK],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k(sgb)?sgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return g3},Fib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,iib,"datascript/core.cljc",
39,1,446,446,$APP.Hd,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(g3)?g3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return z6},jjb,$APP.gi([$APP.Q,$APP.N,
$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Kib,"datascript/core.cljc",59,1,466,466,$APP.Hd,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.k(z6)?z6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?
e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return B6},Rgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Bhb,"datascript/core.cljc",61,1,558,558,$APP.Hd,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.k(B6)?B6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,
4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return A6},vhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Lib,"datascript/core.cljc",69,1,471,471,$APP.Hd,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(A6)?A6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return i6},vgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,mjb,"datascript/core.cljc",
38,1,677,677,$APP.Hd,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.k(i6)?i6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):
$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return tgb},$gb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,S5,"datascript/core.cljc",13,1,617,617,a6,$APP.J(new $APP.H(null,1,5,$APP.I,[Jhb],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.k(tgb)?tgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return R6},fhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Xib,"datascript/core.cljc",
15,1,206,218,$APP.Hd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(R6)?R6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return x6},Ehb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,ojb,"datascript/core.cljc",
84,1,450,450,$APP.Hd,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(x6)?x6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Z6},chb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,
$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,xjb,"datascript/core.cljc",19,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,6,$APP.cL,6,$APP.LK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)],null),$APP.V,$APP.J(new $APP.H(null,
2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)),$APP.gG,$APP.J(null,null,null,null,null)],null),1,404,404,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,
5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.k(Z6)?Z6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,
b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return S6},rib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,yjb,"datascript/core.cljc",20,1,220,229,a6,$APP.Hd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(S6)?S6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return V6},nib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,tjb,"datascript/core.cljc",
19,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,2,$APP.cL,2,$APP.LK,new $APP.H(null,3,5,$APP.I,[$APP.Sg,new $APP.H(null,1,5,$APP.I,[M5],null),new $APP.H(null,2,5,$APP.I,[M5,$APP.DH],null)],null),$APP.V,$APP.J($APP.Sg,new $APP.H(null,1,5,$APP.I,[M5],null),new $APP.H(null,2,5,$APP.I,[M5,$APP.DH],null)),$APP.gG,$APP.J(null,null,null)],null),1,150,150,a6,$APP.J($APP.Sg,new $APP.H(null,1,5,$APP.I,[M5],null),new $APP.H(null,2,5,$APP.I,[M5,$APP.DH],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.k(V6)?V6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return W6},zib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,Hib,"datascript/core.cljc",
18,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,3,$APP.cL,3,$APP.LK,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[V5],null),new $APP.H(null,2,5,$APP.I,[V5,M5],null),new $APP.H(null,3,5,$APP.I,[V5,M5,$APP.DH],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[V5],null),new $APP.H(null,2,5,$APP.I,[V5,M5],null),new $APP.H(null,3,5,$APP.I,[V5,M5,$APP.DH],null)),$APP.gG,$APP.J(null,null,null)],null),1,194,194,a6,$APP.J(new $APP.H(null,1,5,$APP.I,[V5],null),new $APP.H(null,2,5,$APP.I,[V5,M5],null),
new $APP.H(null,3,5,$APP.I,[V5,M5,$APP.DH],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.k(W6)?W6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return j3},Ngb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.IK,gjb,"datascript/core.cljc",8,1,90,100,h6,$APP.Hd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(j3)?j3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return 536870912},Vib,$APP.gi([$APP.ou,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.tA,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[!0,$APP.IK,
wjb,"datascript/core.cljc",26,1,!0,21,21,$APP.Hd,null,$APP.k(536870912)?(536870912).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return rgb},Cgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,
$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,$APP.QF,"datascript/core.cljc",13,1,246,246,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.FL],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.k(rgb)?rgb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return d3},Ahb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,pjb,"datascript/core.cljc",
45,1,693,693,$APP.Hd,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.k(d3)?d3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,
$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return X6},Uib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,V5,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,6,$APP.cL,6,$APP.LK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,
3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,
R5,$APP.KE,$APP.LE,$APP.ME],null)),$APP.gG,$APP.J(null,null,null,null,null)],null),1,282,282,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(X6)?X6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Pdb},uhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,ijb,"datascript/core.cljc",
49,1,562,562,$APP.Hd,null,$APP.k(Pdb)?Pdb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Y6},Mhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],
[$APP.IK,Cib,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,6,$APP.cL,6,$APP.LK,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,
$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)),$APP.gG,$APP.J(null,null,null,null,null)],null),1,367,367,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.jG],null),new $APP.H(null,3,5,$APP.I,[S5,$APP.jG,R5],null),new $APP.H(null,4,5,$APP.I,[S5,$APP.jG,R5,$APP.KE],null),new $APP.H(null,5,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE],
null),new $APP.H(null,6,5,$APP.I,[S5,$APP.jG,R5,$APP.KE,$APP.LE,$APP.ME],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.k(Y6)?Y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return P6},hhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Reb,"datascript/core.cljc",
7,1,105,117,$APP.Hd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(P6)?P6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return ugb},Nhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,bhb,"datascript/core.cljc",
15,1,735,735,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null)),null,$APP.k(ugb)?ugb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return y6},lib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,
$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.IK,Sib,"datascript/core.cljc",59,1,454,454,$APP.Hd,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.k(y6)?y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,b7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}()]),ckb=new $APP.h(null,7,[qhb,function(){var a=new $APP.Cd(function(){return $APP.c2},Yib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.DL,
qhb,"datascript/db.cljc",21,1,1124,1124,$APP.J(new $APP.H(null,1,5,$APP.I,[new $APP.h(null,1,[$APP.UB,new $APP.H(null,2,5,$APP.I,[M5,V5],null)],null)],null)),null,$APP.k($APP.c2)?$APP.c2.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),Jib,
function(){var a=new $APP.Cd(function(){return $APP.g1},Mib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.DL,Jib,"datascript/db.cljc",31,1,333,333,c6,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.PK],null)),null,$APP.k($APP.g1)?$APP.g1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),Agb,function(){var a=new $APP.Cd(function(){return $APP.d1},Wgb,$APP.gi([$APP.Br,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[wgb,$APP.DL,Agb,"datascript/db.cljc",15,1,179,181,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.XE],null)),null,$APP.k($APP.d1)?$APP.d1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),
$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),zgb,function(){var a=new $APP.Cd(function(){return $APP.c1},xhb,$APP.gi([$APP.Br,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[wgb,$APP.DL,zgb,"datascript/db.cljc",12,1,179,180,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.XE],null)),null,$APP.k($APP.c1)?$APP.c1.H:null])),b=$APP.n(a),c=$APP.se(a);
a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),T5,function(){var a=new $APP.Cd(function(){return f1},Bib,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.Em,$APP.V,$APP.M,$APP.oG],[$APP.DL,T5,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.BA,!1,
$APP.Os,5,$APP.cL,5,$APP.LK,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ],null),new $APP.H(null,4,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5],null),new $APP.H(null,5,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5,Ggb],null)],null),$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ],null),new $APP.H(null,4,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5],null),new $APP.H(null,5,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5,Ggb],null)),$APP.gG,$APP.J(null,null,null)],null),1,257,257,c6,
$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ],null),new $APP.H(null,4,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5],null),new $APP.H(null,5,5,$APP.I,[$APP.jJ,$APP.eJ,$APP.yJ,N5,Ggb],null)),null,$APP.k(f1)?f1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,
d):$APP.gu.j(a,b,d)}(),a6,function(){var a=new $APP.Cd(function(){return $APP.y1},Yhb,new $APP.h(null,8,[$APP.Q,$APP.DL,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,672,$APP.Om,22,$APP.N,a6,$APP.oG,$APP.k($APP.y1)?$APP.y1.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?
e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),c6,function(){var a=new $APP.Cd(function(){return $APP.e1},aib,new $APP.h(null,8,[$APP.Q,$APP.DL,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,185,$APP.Om,10,$APP.N,c6,$APP.oG,$APP.k($APP.e1)?$APP.e1.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,c7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}()],null),dkb=new $APP.h(null,3,[bib,function(){var a=new $APP.Cd(function(){return D6},Egb,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.SJ,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[!0,$APP.GK,bib,"datascript/impl/entity.cljc",21,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,3,$APP.cL,3,$APP.LK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.XE,L5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.XE,
new $APP.h(null,1,[$APP.Em,h6],null)),L5,$APP.YA],null)],null),$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.XE,L5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.XE,new $APP.h(null,1,[$APP.Em,h6],null)),L5,$APP.YA],null)),$APP.gG,$APP.J(null,null)],null),1,165,165,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.XE,L5],null),new $APP.H(null,3,5,$APP.I,[$APP.re($APP.XE,new $APP.h(null,1,[$APP.Em,h6],null)),L5,$APP.YA],null)),null,$APP.k(D6)?D6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);
var d=new $APP.h(null,4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),h6,function(){var a=new $APP.Cd(function(){return l3},eib,new $APP.h(null,8,[$APP.Q,$APP.GK,$APP.M,null,$APP.Vl,"datascript/impl/entity.cljc",$APP.Wl,48,$APP.Om,10,$APP.N,h6,$APP.oG,$APP.k(l3)?l3.H:null,$APP.V,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),Bgb,function(){var a=new $APP.Cd(function(){return Tdb},ihb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.GK,Bgb,"datascript/impl/entity.cljc",14,1,147,147,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.AJ],
null)),null,$APP.k(Tdb)?Tdb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,akb,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}()],null),e7,ekb=$APP.Aj.g($APP.Xf),fkb=$APP.Aj.g($APP.Xf),gkb=$APP.Aj.g($APP.Xf),hkb=$APP.Aj.g($APP.Xf),ikb=$APP.C.j($APP.Xf,$APP.jr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));
e7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-store"),$APP.Yq,$APP.Mm,ikb,ekb,fkb,gkb,hkb);var f7,jkb=$APP.Aj.g($APP.Xf),kkb=$APP.Aj.g($APP.Xf),lkb=$APP.Aj.g($APP.Xf),mkb=$APP.Aj.g($APP.Xf),nkb=$APP.C.j($APP.Xf,$APP.jr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));f7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-restore"),$APP.Yq,$APP.Mm,nkb,jkb,kkb,lkb,mkb);e7.oa(null,$APP.$z,function(a,b){var c=$APP.Cp(a);c=$APP.C.h(c,P5);return c.h?c.h(a,b):c.call(null,a,b)});var okb=P2;
e7.oa(null,$APP.Mm,function(a,b){return okb.h?okb.h(a,b):okb.call(null,a,b)});P2=function(a,b){return e7.h(a,b)};f7.oa(null,$APP.$z,function(a,b){var c=$APP.Cp(a);c=$APP.C.h(c,g6);return c.h?c.h(a,b):c.call(null,a,b)});var pkb=Q2;f7.oa(null,$APP.Mm,function(a,b){return pkb.h?pkb.h(a,b):pkb.call(null,a,b)});Q2=function(a,b){return f7.h(a,b)};
var qkb=$APP.gu.h(Ajb,new $APP.h(null,3,[$APP.Br,xdb,$APP.Ar,$APP.Bi([f7,e7]),$APP.Q,d7],null)),rkb=$APP.ui.l($APP.iu($APP.gi([$APP.re(whb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.re($APP.fJ,new $APP.h(null,1,[$APP.Em,c6],null))],null)))],null)),$APP.re(Djb,new $APP.h(null,4,[Iib,!0,$APP.QK,$APP.hsa,$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null))),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.re(mhb,
new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J($APP.re(new $APP.H(null,1,5,$APP.I,[S5],null),new $APP.h(null,1,[$APP.Em,Rib],null))))],null)),$APP.re(pib,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.UF],null)))],null)),$APP.re(Bjb,new $APP.h(null,4,[$APP.uI,!0,$APP.lA,new $APP.h(null,1,[$APP.Ar,new $APP.h(null,2,[$APP.re(P5,new $APP.h(null,1,[$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.bJ,f6,X5],null)],null),$APP.re(g6,new $APP.h(null,1,[$APP.M,"Read back and deserialize data stored under single `addr`"],null)),new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.bJ,J5],null)],null)],null)],null),$APP.iJ,new $APP.h(null,2,[xgb,new $APP.h(null,3,[$APP.N,P5,$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.bJ,f6,X5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),Tgb,new $APP.h(null,3,[$APP.N,g6,$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.bJ,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.eI,$APP.J("@interface")],null)),$APP.re(sjb,new $APP.h(null,2,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null))),$APP.SJ,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,2,$APP.cL,2,$APP.LK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,
2,5,$APP.I,[e6,$APP.DH],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null)),$APP.gG,$APP.J(null,null)],null)],null)),$APP.re(e6,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null)))],null)),$APP.re(P5,new $APP.h(null,3,[$APP.Br,bjb,$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.bJ,f6,X5],null)))],null)),$APP.re(ghb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,3,5,$APP.I,[S5,Aib,ejb],null)))],null)),$APP.re(g6,new $APP.h(null,3,[$APP.Br,bjb,$APP.M,"Read back and deserialize data stored under single `addr`",$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.bJ,J5],null)))],null)),$APP.re(jhb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null)))],
null)),$APP.re(Xhb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.DH],null)))],null)),$APP.re(ehb,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,Lgb],null)))],null)),$APP.re(pjb,new $APP.h(null,2,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null),new $APP.H(null,2,5,$APP.I,[S5,e6],null))),$APP.SJ,new $APP.h(null,6,[$APP.BA,!1,$APP.Os,2,$APP.cL,2,$APP.LK,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[S5],null),
new $APP.H(null,2,5,$APP.I,[S5,e6],null)],null),$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null),new $APP.H(null,2,5,$APP.I,[S5,e6],null)),$APP.gG,$APP.J(null,null)],null)],null)),$APP.re(Nib,new $APP.h(null,4,[Iib,!0,$APP.QK,$APP.vm,$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,1,5,$APP.I,[Vgb],null))),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.re(dib,new $APP.h(null,1,[$APP.V,$APP.J($APP.Ak,$APP.J(new $APP.H(null,2,5,
$APP.I,[S5,$APP.UF],null)))],null))],[new $APP.h(null,3,[$APP.N,Ygb,$APP.hu,ydb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.re($APP.fJ,new $APP.h(null,1,[$APP.Em,c6],null))],null))],null)],null),new $APP.h(null,3,[$APP.N,$hb,$APP.hu,function(a){return new R2(a,null,null,null)},$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null)),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.h(null,3,[$APP.N,
ohb,$APP.hu,S2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J($APP.re(new $APP.H(null,1,5,$APP.I,[S5],null),new $APP.h(null,1,[$APP.Em,Rib],null)))],null)],null),new $APP.h(null,3,[$APP.N,Zhb,$APP.hu,Gdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.UF],null))],null)],null),new $APP.h(null,3,[$APP.N,bjb,$APP.hu,xdb,$APP.nb,$APP.Xf],null),new $APP.h(null,3,[$APP.N,Gib,$APP.hu,w6,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[e6],null),new $APP.H(null,
2,5,$APP.I,[e6,$APP.DH],null))],null)],null),new $APP.h(null,3,[$APP.N,$ib,$APP.hu,T2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null))],null)],null),new $APP.h(null,3,[$APP.N,vib,$APP.hu,P2,$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[$APP.bJ,f6,X5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.h(null,3,[$APP.N,xib,$APP.hu,W2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,3,5,$APP.I,[S5,Aib,ejb],null))],null)],null),new $APP.h(null,3,[$APP.N,Pgb,$APP.hu,Q2,$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[$APP.bJ,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.h(null,3,[$APP.N,Igb,$APP.hu,Idb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,$APP.DH],null))],null)],
null),new $APP.h(null,3,[$APP.N,Ohb,$APP.hu,Y2,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[$APP.DH],null))],null)],null),new $APP.h(null,3,[$APP.N,cjb,$APP.hu,zdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[e6,Lgb],null))],null)],null),new $APP.h(null,3,[$APP.N,Thb,$APP.hu,d3,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[S5],null),new $APP.H(null,2,5,$APP.I,[S5,e6],null))],null)],null),new $APP.h(null,3,[$APP.N,Oib,$APP.hu,function(a){var b=
$APP.Ol.h(a,W0);b=$APP.Ce(a)?$APP.Eh.h($APP.Xf,b):b;return new R2(W0.g(a),null,$APP.Zf(b),null)},$APP.nb,new $APP.h(null,2,[$APP.V,$APP.J(new $APP.H(null,1,5,$APP.I,[Vgb],null)),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.h(null,3,[$APP.N,kjb,$APP.hu,Jdb,$APP.nb,new $APP.h(null,1,[$APP.V,$APP.J(new $APP.H(null,2,5,$APP.I,[S5,$APP.UF],null))],null)],null)]),d7),P5,function(){var a=new $APP.Cd(function(){return e7},
Zgb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.re(Ogb,new $APP.h(null,1,[$APP.ou,!0],null)),P5,"nbb/impl/datascript.cljs",17,1,65,65,$APP.Hd,null,$APP.k(e7)?e7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,
b,d)}(),$APP.z([g6,function(){var a=new $APP.Cd(function(){return f7},dhb,$APP.gi([$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[$APP.re(Ogb,new $APP.h(null,1,[$APP.ou,!0],null)),g6,"nbb/impl/datascript.cljs",19,1,66,66,$APP.Hd,null,$APP.k(f7)?f7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?$APP.yO.j(a,b,d):$APP.k(function(){var e=
$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}(),Bjb,qkb,Jgb,function(){var a=new $APP.Cd(function(){return 1},Tib,$APP.gi([$APP.Ot,$APP.Q,$APP.N,$APP.Vl,$APP.Vz,$APP.Om,$APP.Wl,$APP.YL,$APP.V,$APP.M,$APP.oG],[!0,$APP.dL,Jgb,"datascript/storage.cljs",25,1,31,31,$APP.Hd,null,$APP.k(1)?(1).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.Q,d7,$APP.N,a,$APP.V,$APP.V.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Sq.g(c))?
$APP.yO.j(a,b,d):$APP.k(function(){var e=$APP.mq.g(c);return $APP.k(e)?e:$APP.zq.g(c)}())?$APP.zO.j(a,b,d):$APP.gu.j(a,b,d)}()]));$APP.Wu(new $APP.h(null,1,[$APP.Iq,new $APP.h(null,4,[$APP.IK,bkb,$APP.DL,ckb,$APP.dL,rkb,$APP.GK,dkb],null)],null));