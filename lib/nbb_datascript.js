import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var pgb,rgb,b0,tgb,sgb,c0,d0,e0,f0,ugb,vgb,wgb,xgb,h0,i0,j0,ygb,k0,l0,m0,n0,o0,Cgb,Dgb,Egb,Fgb,p0,q0,Ggb,r0,Hgb,s0,t0,u0,v0,w0,x0,y0,Igb,A0,B0,C0,E0,D0,Jgb,F0,H0,I0,J0,K0,M0,Kgb,P0,Lgb,Q0,O0,R0,Mgb,Ngb,Ogb,Qgb,T0,U0,V0,Rgb,Y0,Sgb,Tgb,Wgb,Xgb,c1,Ygb,Zgb,$gb,ahb,bhb,j1,k1,l1,m1,chb,dhb,ehb,fhb,ghb,n1,o1,p1,q1,r1,s1,v1,w1,x1,y1,jhb,J1,khb,mhb,nhb,T1,W1,Z1,$1,shb,a2,uhb,d2,vhb,j2,k2,l2,m2,n2,whb,o2,q2,xhb,t2,yhb,u2,g0,v2,w2,x2,Bhb,z2,Dhb,Ehb,Fhb,Jhb,Khb,D2,Lhb,Ohb,Phb,Qhb,J2,Shb,Uhb,Vhb,Whb,Xhb,$hb,aib,
P2,Q2,bib,R2,cib,S2,T2,W2,jib,lib,mib,Y2,Z2,nib,a3,b3,oib,c3,pib,g3,rib,sib,h3,uib,vib,i3,k3,l3,tib,wib,m3,xib,yib,zib,j3,Aib,Bib,Cib,n3,Dib,w3,Eib,D3,Iib,Jib,Lib,E3,Mib,Nib,F3,G3,H3,Rib,Sib,I3,Tib,Uib,Vib,J3,K3,L3,M3,N3,Wib,P3,O3,Q3,S3,T3,U3,V3,Yib,Zib,$ib,ajb,djb,W3,ejb,fjb,X3,Y3,$3,Z3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,hjb,l4,ijb,m4,jjb,kjb,n4,mjb,p4,njb,q4,r4,s4,t4,ojb,pjb,rjb,u4,v4,w4,x4,y4,z4,A4,B4,C4,sjb,tjb,D4,yjb,E4,zjb,Ajb,Cjb,F4,G4,H4,I4,J4,K4,L4,Djb,M4,Ejb,Fjb,Gjb,Hjb,Ijb,Kjb,P4,Ljb,S4,
T4,Mjb,Ojb,Pjb,V4,Qjb,Rjb,Sjb,Wjb,Zjb,c5,d5,$jb,akb,bkb,e5,f5,ckb,dkb,ekb,fkb,g5,gkb,jkb,kkb,m5,lkb,o5,mkb,p5,nkb,okb,pkb,qkb,rkb,skb,q5,tkb,ukb,vkb,wkb,xkb,ykb,zkb,Bkb,Ckb,Dkb,v5,Ekb,Gkb,Hkb,C5,D5,E5,Ikb,Jkb,Kkb,Lkb,Fkb,B5,Mkb,Nkb,G5,Okb,Pkb,Qkb,Rkb,Skb,Tkb,Ukb,Vkb,Wkb,Xkb,Ykb,H5,Zkb,L1,M2,$kb,alb,blb,clb,Vjb,rhb,F2,Y4,Yhb,dlb,elb,flb,I5,glb,U4,hlb,ilb,f3,jlb,wjb,klb,B3,I2,llb,mlb,nlb,a5,olb,z3,Nhb,plb,qlb,rlb,p3,slb,O1,tlb,ulb,vlb,wlb,G2,xlb,ylb,zlb,Alb,Blb,Clb,J5,Dlb,Elb,g2,z5,Flb,Glb,Hlb,$4,S1,
h2,W4,Ilb,y5,Jlb,N1,C2,Klb,Llb,f2,N4,Mlb,K5,Nlb,lhb,Olb,Thb,L5,Plb,Qlb,Rlb,R4,Slb,Tlb,Ulb,Yjb,Vlb,Wlb,Xlb,Ylb,t1,M5,Zhb,Zlb,$lb,Bjb,thb,amb,Z0,I1,bmb,t3,Fib,N5,cmb,e3,dmb,O4,X1,Chb,C1,emb,O5,fmb,P5,Mhb,ujb,$0,gmb,hmb,Q5,imb,u5,P1,R5,jmb,S5,kmb,Q1,q3,lmb,mmb,A5,nmb,gib,Tjb,omb,n5,pmb,T5,qmb,U5,rmb,smb,tmb,umb,D1,vmb,wmb,xmb,ymb,V1,zmb,Amb,Bmb,Cmb,Dmb,V5,Qib,cjb,R1,Emb,M1,eib,bjb,Fmb,qib,Gmb,Hmb,Ugb,K1,Imb,hib,i5,Jmb,W5,fib,i2,Kmb,Lmb,Mmb,Nmb,gjb,K2,Omb,Pmb,Qmb,Rmb,A2,Smb,Tmb,Umb,E1,Vmb,y3,u3,Wmb,X5,
R3,Y5,Xmb,s5,Ymb,E2,Zmb,$mb,anb,j5,bnb,e2,cnb,O2,Hhb,Vgb,Ghb,dnb,enb,fnb,gnb,$2,hnb,Xib,G1,inb,jnb,knb,lnb,h5,mnb,nnb,phb,v3,vjb,xjb,H2,H1,kib,qjb,onb,pnb,Z5,qnb,$5,rnb,y2,snb,a6,x3,ihb,X0,tnb,b1,unb,vnb,s3,Jjb,X4,Xjb,wnb,ljb,xnb,ynb,A3,U1,ikb,b6,r3,hkb,Y1,znb,Anb,Bnb,Cnb,Dnb,Enb,Fnb,Gnb,c6,Hnb,x5,Inb,Jnb,Knb,Ahb,Lnb,Mnb,Nnb,Onb,hhb,Z4,d6,b5,Pnb,C3,Qnb,N2,F1,Rnb,e6,Snb,Tnb,Unb,Vnb,Wnb,p2,f6,Ujb,B2,Xnb,Pib,o4,Ynb,Znb,a1,$nb,Njb,aob,bob,cob,dob,eob,fob,o3,gob,hob,g6;
pgb=function(a,b){a=a.split(".");var c=$APP.Ku;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};rgb=function(a){return $APP.ng(function(b){return $APP.Re(a,b)},qgb)};b0=function(a,b,c,d,e){this.wg=a;this.Ek=b;this.Fk=c;this.Xf=d;this.Jb=e;this.J=2147484416;this.M=0};
tgb=function(a,b,c){var d=a.wg,e=a.Ek,f=a.Fk,m=a.Xf;a=a.Jb;var p=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(p))return new b0(d,$APP.ui.j($APP.Ll.h(e,p),m,b),$APP.ui.j(f,b,m),m+1,a);b=new b0($APP.ui.j(d,b,c),$APP.ui.j(e,m,b),$APP.ui.j(f,b,m),m+1,a);return sgb.g?sgb.g(b):sgb.call(null,b)};sgb=function(a){if($APP.be(a.wg)>a.Jb){var b=a.wg,c=a.Ek,d=a.Fk,e=a.Xf;a=a.Jb;var f=$APP.v(c),m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return new b0($APP.Ll.h(b,f),$APP.Ll.h(c,m),$APP.Ll.h(d,f),e,a)}return a};
c0=function(a,b,c){if(null!=a&&null!=a.Ak)a=a.Ak(a,b,c);else{var d=c0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=c0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("ICache.-get",a);}return a};d0=function(a,b,c){this.Jb=a;this.Hg=b;this.en=c;this.J=393216;this.M=0};e0=function(){var a=new b0($APP.Uf,$APP.Fy(),$APP.Uf,0,100);return new d0(100,$APP.yg(a),$APP.Uf)};
f0=function(a,b){a=a.toString(16);var c=$APP.be(a);return c>b?$APP.Vi.j(a,0,b):c<b?[$APP.l.g($APP.pg.h($APP.l,$APP.jn.h(b-c,"0"))),$APP.l.g(a)].join(""):a};ugb=function(a,b){return $APP.Vc($APP.ge($APP.af.j(function(c,d){var e=$APP.y.j(c,0,null),f=$APP.y.j(c,1,null),m=a.g?a.g(d):a.call(null,d);return $APP.Re(e,m)?c:new $APP.G(null,2,5,$APP.H,[$APP.Rg.h(e,m),$APP.Rg.h(f,d)],null)},new $APP.G(null,2,5,$APP.H,[$APP.Tc($APP.yi),$APP.Tc($APP.Sg)],null),b)))};
vgb=function(a,b){return $APP.af.j(function(c,d){return $APP.k(a.g?a.g(d):a.call(null,d))?$APP.Sd(d):null},null,b)};wgb=function(a){var b=g0;return $APP.Vc($APP.df(function(c,d,e){return $APP.k(b.g?b.g(d):b.call(null,d))?c:$APP.Gh.j(c,d,e)},$APP.Tc($APP.ne(a)),a))};
xgb=function(a,b,c){return $APP.v($APP.af.j(function(d,e){var f=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Td(e)?$APP.Sd(new $APP.G(null,2,5,$APP.H,[e,d],null)):new $APP.G(null,2,5,$APP.H,[e,d+1],null)},new $APP.G(null,2,5,$APP.H,[b,0],null),c))};h0=function(a){return $APP.af.j(function(b,c){b.push(c);return b},[],a)};i0=function(a){return a instanceof Array};
j0=function(a,b){if(null!=a&&null!=a.Jk)a=a.Jk(a,b);else{var c=j0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=j0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.restore",a);}return a};ygb=function(a,b){if(null==a||null==a.Im){var c=ygb[$APP.ea(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=ygb._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.accessed",a);}};
k0=function(a,b,c){if(null!=a&&null!=a.Kk)a=a.Kk(a,b,c);else{var d=k0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=k0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IStorage.store",a);}return a};l0=function(a,b){if(null!=a&&null!=a.Ik)a.Ik(a,b);else{var c=l0[$APP.ea(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=l0._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.delete",a);}};
m0=function(a,b){return 6>b?a>>>5*b&zgb:Math.floor(a/Agb[b])&zgb};n0=function(a,b,c){var d=a<Bgb&&6>b,e=m0(a,b);return a-(d?e<<5*b:e*Agb[b])+(d?c<<5*b:c*Agb[b])};o0=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0>(a.h?a.h(m,d):a.call(null,m,d))?e=c+1:f=c-1}else return e};Cgb=function(a,b,c,d){for(var e=0,f=$APP.jf(c);;)if(e<=f){c=e+f>>>1;var m=b[c];0<(a.h?a.h(m,d):a.call(null,m,d))?f=c-1:e=c+1}else return e};
Dgb=function(a,b,c){var d=b.length,e=o0(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};Egb=function(a,b,c){var d=b.length;a=o0(a,b,d-1,c);return a===d?-1:a};Fgb=function(a,b,c,d,e,f){var m=f.length,p=d-b,u=p+m,t=Array(p+m+(c-e));d-=b;for(var A=0;;)if(A<d)t[A+0]=a[A+b],A+=1;else break;b=m-0;for(m=0;;)if(m<b)t[m+p]=f[m+0],m+=1;else break;c-=e;for(f=0;;)if(f<c)t[f+u]=a[f+e],f+=1;else break;return t};p0=function(a,b,c,d){return Fgb(a,0,a.length,b,c,d)};
q0=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,m=Array(f);e=Array(e-f);if(c<=f){for(var p=c-0,u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;a=f-c;for(p=0;;)if(p<a)m[p+c]=b[p+0],p+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{p=f-0;for(u=0;;)if(u<p)m[u+0]=a[u+0],u+=1;else break;p=c-f;for(u=0;;)if(u<p)e[u+0]=a[u+f],u+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[m,e]};
Ggb=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var m=b[f+c],p=e[f+0];if(0!==(a.h?a.h(m,p):a.call(null,m,p)))return!1;f+=1}else return f};r0=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};Hgb=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
s0=function(a){if(null!=a&&null!=a.Cj)a=a.Cj(a);else{var b=s0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=s0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("INode.node-lim-key",a);}return a};t0=function(a){if(null!=a&&null!=a.Hk)a=a.keys.length;else{var b=t0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=t0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("INode.node-len",a);}return a};
u0=function(a,b,c){if(null!=a&&null!=a.Ej)a=a.Ej(a,b,c);else{var d=u0[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=u0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("INode.node-merge",a);}return a};v0=function(a,b){if(null!=a&&null!=a.Fj)a=a.Fj(a,b);else{var c=v0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=v0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("INode.node-merge-n-split",a);}return a};
w0=function(a,b,c,d){if(null!=a&&null!=a.Dj)a=a.Dj(a,b,c,d);else{var e=w0[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=w0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("INode.node-lookup",a);}return a};
x0=function(a,b,c,d){if(null!=a&&null!=a.Aj)a=a.Aj(a,b,c,d);else{var e=x0[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=x0._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("INode.node-conj",a);}return a};
y0=function(a,b,c,d,e,f,m){if(null!=a&&null!=a.Bj)a=a.Bj(a,b,c,d,e,f,m);else{var p=y0[$APP.ea(null==a?null:a)];if(null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else if(p=y0._,null!=p)a=p.Fa?p.Fa(a,b,c,d,e,f,m):p.call(null,a,b,c,d,e,f,m);else throw $APP.Kb("INode.node-disj",a);}return a};
Igb=function(a,b,c,d,e){if($APP.k(b))return[a];if(t0(a)>z0)return Hgb(c,a,d);if($APP.k($APP.k(c)?t0(c)<=z0:c))return r0(u0(c,a,e),d);if($APP.k($APP.k(d)?t0(d)<=z0:d))return r0(c,u0(a,d,e));if($APP.k($APP.k(c)?null==d||t0(c)<t0(d):c))return a=v0(c,a),Hgb(a[0],a[1],d);a=v0(a,d);return Hgb(c,a[0],a[1])};
A0=function(a,b){if(null!=a&&null!=a.zg)a=a.zg(a,b);else{var c=A0[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=A0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStore.store-aux",a);}return a};B0=function(a){a=$APP.ej.h(function(b){return b.Ab},a);return h0(a)};C0=function(a,b){$APP.ve(a.zd)&&(b=$APP.r(a.children)?B0(a.children):Array(b),a.zd=b)};E0=function(a,b,c,d,e){c=null==c?$APP.r(b)?B0(b):Array(a.length):c;return new D0(a,b,c,d,e)};
D0=function(a,b,c,d,e){this.keys=a;this.children=b;this.zd=c;this.Ab=d;this.$g=e};Jgb=function(a,b,c){this.keys=a;this.Ab=b;this.$g=c};F0=function(a){if(null!=a&&null!=a.tf)a=a.tf(a);else{var b=F0[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=F0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IRoot.-ensure-root-node",a);}return a};
$APP.G0=function(a,b,c,d,e,f,m,p){this.storage=a;this.root=b;this.shift=c;this.T=d;this.td=e;this.P=f;this.Ad=m;this.Ab=p;this.J=2297303311;this.M=8332};H0=function(a,b,c){return a instanceof D0?a.Zf(b,c):null};I0=function(a,b){for(var c=a.shift,d=F0(a);;)if(0<c){var e=c-1;d=H0(d,m0(b,c),a.storage);c=e}else return d.keys};J0=function(a,b,c,d){return new $APP.G0(a.storage,b,c,d,a.td,a.P,null,null)};
K0=function(a,b,c,d){for(;;)if(0<c){var e=a.children.length-1;var f=a.children;f=f[f.length-1];a=$APP.k(f)?f:H0(a,e,d);b=n0(b,c,e);--c}else return $APP.k(a)?n0(b,0,a.keys.length-1):null};M0=function(a,b){if(0>b)return 0;b=L0(a,F0(a),b,a.shift);return $APP.k(b)?b:K0(F0(a),0,a.shift,a.storage)+1};Kgb=function(a,b){if(0<m0(b,a.shift+1))return K0(F0(a),b,a.shift,a.storage);a=N0(a,F0(a),b,a.shift);return $APP.k(a)?a:-1};
P0=function(a){if(0<t0(F0(a))){var b=K0(F0(a),0,a.shift,a.storage);b=M0(a,b);return O0.j?O0.j(a,0,b):O0.call(null,a,0,b)}return null};Lgb=function(a,b,c){this.I=a;this.Eb=b;this.end=c;this.J=524306;this.M=0};Q0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.M=1536};O0=function(a,b,c){return new Q0(a,b,c,I0(a,b),m0(b,0))};R0=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.M=0};
Mgb=function(a,b,c){return new R0(a,b,c,I0(a,c),m0(c,0))};
Ngb=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.tf(null),f=0,m=a.shift;;)if($APP.k(e)){var p=t0(e);if(0===m){var u=e.keys;u=o0(d,u,p-1,b);b=p===u?null:n0(f,0,u);break a}u=e.keys;u=o0(d,u,p-2,b);e=H0(e,u,a.storage);f=n0(f,m,u);--m}else{b=null;break a}if(null==b)return null;a:if(null==c)c=K0(a.tf(null),0,a.shift,a.storage)+1;else for(e=a.tf(null),m=0,f=a.shift;;)if($APP.k(e)){p=t0(e);if(0===f){u=e.keys;p=Cgb(d,u,p-1,c);c=m=n0(m,0,p);break a}u=e.keys;p=Cgb(d,u,p-2,c);m=n0(m,f,p);e=H0(e,p,a.storage);
--f}else{c=null;break a}return b<c?new Q0(a,b,c,I0(a,b),m0(b,0)):null};Ogb=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};Qgb=function(a){var b=a.length,c=$APP.Tc($APP.Sg);if(0<b)for(var d=0;;){var e=b-d;if(e<=S0){$APP.Rg.h(c,a.slice(d));break}else e>=Pgb+z0?($APP.Rg.h(c,a.slice(d,d+Pgb)),d+=Pgb):(e>>>=1,$APP.Rg.h(c,a.slice(d,d+e)),d+=e)}return $APP.bf($APP.Vc(c))};
T0=function(a,b,c){b=x0(a.tf(null),c,b,a.storage);if(null!=b)if(1===b.length)a=J0(a,b[0],a.shift,a.T+1);else{c=b.map(s0);var d=B0(b);b=E0(c,b,d,null,!0);a=J0(a,b,a.shift+1,a.T+1)}return a};U0=function(a,b,c){b=y0(a.tf(null),c,b,!0,null,null,a.storage);if(null==b)return a;b=b[0];return b instanceof D0&&1===b.children.length?J0(a,b.children[0],a.shift-1,a.T-1):J0(a,b,a.shift,a.T-1)};V0=function(a,b,c){return Ngb(a,b,c,a.td)};Rgb=function(a,b,c){a=Ngb(a,c,b,a.td);return null==a?null:$APP.Ec(a)};
Y0=function(a,b,c){var d=Ogb(W0,Qgb(b));c=X0.g(c);for(var e=d,f=0;;){var m=$APP.be(e);switch(m){case 0:return new $APP.G0(c,W0.g([]),0,0,a,null,null,null);case 1:return new $APP.G0(c,$APP.v(e),f,b.length,a,null,null,null);default:e=Ogb(function(){return function(p){var u=p.map(s0);return E0(u,p,null,null,!0)}}(e,f,m,d,c),Qgb(e)),f+=1}}};Sgb=function(a){var b=X0.g(a),c=W0.g([]),d=Z0.g(a);return new $APP.G0(b,c,0,0,$APP.k(d)?d:$APP.Ve,$APP.mb.g(a),null,null)};
Tgb=function(a,b,c,d){d=$APP.Vf(d);d=$APP.B.h(d,$0);return new $APP.G0(c,null,a1.g(d),$APP.wI.g(d),a,null,null,b)};Wgb=function(){return new $APP.h(null,2,[b1,S0,Ugb,Vgb],null)};Xgb=function(a){return"string"!==typeof a&&($APP.Ke(a)||i0(a))};c1=function(a,b){return $APP.zd(a,b)};
$APP.d1=function(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=$APP.d1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.d1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDatom.datom-tx",a);}return a};$APP.e1=function(a){if(null!=a&&null!=a.Qd)a=a.Qd(a);else{var b=$APP.e1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.e1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDatom.datom-added",a);}return a};
$APP.f1=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Ad=f;this.J=2162164496;this.M=0};Ygb=function(a){return a instanceof $APP.f1};$APP.h1=function(a){return $APP.pg.h(g1,a)};Zgb=function(a,b){return null==a?0:null==b?0:$APP.jf($APP.Ve(a,b))};$gb=function(a,b){return $APP.Ra($APP.Lb($APP.Jb(a)),$APP.Lb($APP.Jb(b)))};
ahb=function(a,b){var c=$APP.be(a),d=$APP.be(b);if(c<d)return-1;if(c>d)return 1;for(;;){if($APP.ve(a))return 0;c=$APP.v(a);d=$APP.v(b);if(null==c&&null==d)a=$APP.w(a),b=$APP.w(b);else{if(null==c)return-1;if(null==d)return 1;c=i1(c,d);if($APP.x.h(c,0))a=$APP.w(a),b=$APP.w(b);else return c}}};bhb=function(a,b){return null==a?0:null==b?0:i1(a,b)};j1=function(a,b){var c=a.e-b.e;return 0===c?(c=Zgb(a.a,b.a),0===c?(c=bhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};
k1=function(a,b){var c=Zgb(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=bhb(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};l1=function(a,b){var c=Zgb(a.a,b.a);return 0===c?(c=bhb(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};m1=function(a,b){return a instanceof $APP.F?$APP.ad(a,b):$APP.Ra(a,b)};chb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(a=i1(a.v,b.v),0===a?0:a):c):c};
dhb=function(a,b){var c=a.e-b.e;return 0===c?(c=m1(a.a,b.a),0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};ehb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=i1(a.v,b.v),0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};fhb=function(a,b){var c=m1(a.a,b.a);return 0===c?(c=i1(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.qb(null)-b.qb(null),0===a?0:a):c):c):c};ghb=function(){};
n1=function(a,b){if(null!=a&&null!=a.tj)a=a.tj(a,b);else{var c=n1[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=n1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("ISearch.-search",a);}return a};o1=function(a,b){return $APP.v(n1(a,b))};
p1=function(a,b,c,d,e,f){if(null!=a&&null!=a.pj)a=a.pj(a,b,c,d,e,f);else{var m=p1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=p1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-datoms",a);}return a};
q1=function(a,b,c,d,e,f){if(null!=a&&null!=a.sj)a=a.sj(a,b,c,d,e,f);else{var m=q1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=q1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-seek-datoms",a);}return a};
r1=function(a,b,c,d,e,f){if(null!=a&&null!=a.rj)a=a.rj(a,b,c,d,e,f);else{var m=r1[$APP.ea(null==a?null:a)];if(null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else if(m=r1._,null!=m)a=m.ma?m.ma(a,b,c,d,e,f):m.call(null,a,b,c,d,e,f);else throw $APP.Kb("IIndexAccess.-rseek-datoms",a);}return a};
s1=function(a,b,c,d){if(null!=a&&null!=a.qj)a=a.qj(a,b,c,d);else{var e=s1[$APP.ea(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=s1._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Kb("IIndexAccess.-index-range",a);}return a};
v1=function(a,b,c,d,e,f){if($APP.x.h(b,t1)&&null!=c&&!u1(a,c))throw $APP.Yl.h(["Attribute ",$APP.wj.l($APP.z([c]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.Kn,hhb,$APP.Oua,t1,ihb,new $APP.G(null,4,5,$APP.H,[c,d,e,f],null)],null));};w1=function(){};x1=function(a){if(null!=a&&null!=a.oj)a=a.oj(a);else{var b=x1[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=x1._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IDB.-schema",a);}return a};
y1=function(a,b){if(null!=a&&null!=a.nj)a=a.nj(a,b);else{var c=y1[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=y1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IDB.-attrs-by",a);}return a};$APP.z1=function(a,b,c,d,e,f,m,p,u,t,A,C,E){this.Jc=a;this.jc=b;this.Lc=c;this.tc=d;this.dd=e;this.ed=f;this.Nc=m;this.Sc=p;this.Rc=u;this.hash=t;this.A=A;this.o=C;this.C=E;this.J=2230716170;this.M=139264};
jhb=function(a){var b=$APP.Ll.l(a,$APP.A1,$APP.z([$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1]));b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new $APP.z1($APP.A1.g(a),$APP.B1.g(a),C1.g(a),t1.g(a),D1.g(a),E1.g(a),F1.g(a),G1.g(a),H1.g(a),I1.g(a),null,$APP.Wf(b),null)};J1=function(a,b,c,d,e,f){this.Oc=a;this.ib=b;this.hash=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};khb=function(a){return a instanceof J1?a.Oc:a};
mhb=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db.unique/identity":return new $APP.G(null,3,5,$APP.H,[K1,L1,M1],null);case "db.unique/value":return new $APP.G(null,3,5,$APP.H,[K1,lhb,M1],null);case "db.cardinality/many":return new $APP.G(null,1,5,$APP.H,[N1],null);case "db.type/ref":return new $APP.G(null,2,5,$APP.H,[O1,M1],null);default:return $APP.x.h(P1,a)&&!0===b?new $APP.G(null,1,5,$APP.H,[P1],null):$APP.x.h(M1,a)&&!0===b?new $APP.G(null,1,5,$APP.H,[M1],null):$APP.x.h(Q1,a)?new $APP.G(null,
2,5,$APP.H,[R1,M1],null):$APP.Sg}};nhb=function(a,b){return $APP.af.j(function(c,d){return xgb(function(e,f,m){return $APP.an.R(e,f,$APP.ui,d,m)},c,Q1.g($APP.B.h(a,d)))},$APP.Uf,R1.g(b))};T1=function(a){var b=$APP.df(function(c,d,e){return e instanceof $APP.F?c:$APP.df(function(f,m,p){return $APP.af.j(function(u,t){return $APP.an.F(u,t,ohb,d)},f,mhb(m,p))},$APP.an.j(c,S1,function(f){return $APP.k(f)?$APP.vf.h(f,d):$APP.zi([d])}),e)},$APP.Uf,a);return $APP.ui.j(b,phb,nhb(a,b))};
W1=function(a,b,c,d){if(null!=c&&!$APP.Re(d,c))throw $APP.Yl.h(["Bad attribute specification for ",$APP.wj.l($APP.z([$APP.Tf([a,$APP.Tf([b,c])])])),", expected one of ",$APP.l.g(d)].join(""),new $APP.h(null,4,[$APP.Kn,U1,V1,a,$APP.LE,b,$APP.JI,c],null));};
Z1=function(a){for(var b=$APP.r(a),c=null,d=0,e=0;;)if(e<d){var f=c.ha(null,e),m=$APP.y.j(f,0,null),p=$APP.y.j(f,1,null),u=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.xi(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=u;return $APP.k(Z)?$APP.ti.h(X1.g(p),O1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.wj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,P1],null));
W1(m,K1,K1.g(p),new $APP.xi(null,new $APP.h(null,2,[L1,null,lhb,null],null),null));W1(m,X1,X1.g(p),qhb);W1(m,Y1,Y1.g(p),new $APP.xi(null,new $APP.h(null,2,[N1,null,rhb,null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Re(p,Q1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.wj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,X1],null));if($APP.Re(p,Q1)){f=new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,Q1],null);
if($APP.x.h(N1,Y1.g(p)))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var t=Q1.g(p);if(!$APP.ze(t))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.wj.l($APP.z([t]))].join(""),f);if($APP.ve(t))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),f);t=$APP.r(t);for(var A=null,C=0,E=0;;)if(E<C){var I=A.ha(null,E),Q=$APP.ui.j(f,$APP.JI,I);if($APP.Re($APP.B.h(a,
I),Q1))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.wj.l($APP.z([I]))].join(""),Q);if($APP.x.h(N1,Y1.g($APP.B.h(a,I))))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.wj.l($APP.z([I]))].join(""),Q);E+=1}else if(t=$APP.r(t)){if($APP.Ee(t))C=$APP.cd(t),t=$APP.dd(t),A=C,C=$APP.be(C);else{A=$APP.v(t);C=$APP.ui.j(f,$APP.JI,A);if($APP.Re($APP.B.h(a,A),Q1))throw $APP.Yl.h([$APP.wj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.wj.l($APP.z([A]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.B.h(a,A))))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.wj.l($APP.z([A]))].join(""),C);t=$APP.w(t);A=null;C=0}E=0}else break}e+=1}else if(m=$APP.r(b)){b=m;if($APP.Ee(b))c=$APP.cd(b),b=$APP.dd(b),m=c,d=$APP.be(c),c=m;else{c=$APP.v(b);m=$APP.y.j(c,0,null);p=$APP.y.j(c,1,null);var T=P1.h(p,!1);W1(m,P1,P1.g(p),new $APP.xi(null,
new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=T;return $APP.k(Z)?$APP.ti.h(X1.g(p),O1):Z}()))throw $APP.Yl.h(["Bad attribute specification for ",$APP.wj.l($APP.z([m])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,P1],null));W1(m,K1,K1.g(p),new $APP.xi(null,new $APP.h(null,2,[L1,null,lhb,null],null),null));W1(m,X1,X1.g(p),qhb);W1(m,Y1,Y1.g(p),new $APP.xi(null,new $APP.h(null,2,[N1,null,rhb,
null],null),null));if($APP.x.h(R1,X1.g(p))&&!$APP.Re(p,Q1))throw $APP.Yl.h(["Bad attribute specification for ",$APP.wj.l($APP.z([m])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,X1],null));if($APP.Re(p,Q1)){c=new $APP.h(null,3,[$APP.Kn,U1,V1,m,$APP.LE,Q1],null);if($APP.x.h(N1,Y1.g(p)))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Q1.g(p);if(!$APP.ze(d))throw $APP.Yl.h([$APP.wj.l($APP.z([m])),
" :db/tupleAttrs must be a sequential collection, got: ",$APP.wj.l($APP.z([d]))].join(""),c);if($APP.ve(d))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.r(d);e=null;for(t=f=0;;)if(t<f){A=e.ha(null,t);C=$APP.ui.j(c,$APP.JI,A);if($APP.Re($APP.B.h(a,A),Q1))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.wj.l($APP.z([A]))].join(""),C);if($APP.x.h(N1,Y1.g($APP.B.h(a,A))))throw $APP.Yl.h([$APP.wj.l($APP.z([m])),
" :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.wj.l($APP.z([A]))].join(""),C);t+=1}else if(d=$APP.r(d)){if($APP.Ee(d))f=$APP.cd(d),d=$APP.dd(d),e=f,f=$APP.be(f);else{e=$APP.v(d);f=$APP.ui.j(c,$APP.JI,e);if($APP.Re($APP.B.h(a,e),Q1))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.wj.l($APP.z([e]))].join(""),f);if($APP.x.h(N1,Y1.g($APP.B.h(a,e))))throw $APP.Yl.h([$APP.wj.l($APP.z([m]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
$APP.wj.l($APP.z([e]))].join(""),f);d=$APP.w(d);e=null;f=0}t=0}else break}b=$APP.w(b);c=null;d=0}e=0}else return null};$1=function(a,b){Z1(a);return jhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,536870912,$APP.yj.g(0),Sgb($APP.ui.j(b,Z0,k1)),Sgb($APP.ui.j(b,Z0,l1)),0,Sgb($APP.ui.j(b,Z0,j1)),e0(),e0(),T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])))]))};
shb=function(a,b,c){var d=function(){var e=Rgb(b,g1.F(536870911,null,null,2147483647),g1.F(0,null,null,536870912));e=null==e?null:$APP.v(e);return null==e?null:$APP.eK.g(e)}();d=$APP.k($APP.k(d)?0<d:d)?d:0;a=O1.g(a);return $APP.af.j(function(e,f){f=Rgb(c,g1.F(536870911,f,536870911,2147483647),g1.F(0,f,0,536870912));f=null==f?null:$APP.v(f);f=null==f?null:$APP.aK.g(f);return $APP.k($APP.k(f)?f>e:f)?f:e},d,a)};
a2=function(a,b,c){var d=$APP.v($APP.Ni.h(Ygb,a));if(null!=d)throw $APP.Yl.h(["init-db expects list of Datoms, got ",$APP.wj.l($APP.z([$APP.Jb(d)]))].join(""),new $APP.h(null,1,[$APP.Kn,thb],null));Z1(b);d=T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b])));var e=M1.g(d),f=i0(a)?a:h0(a);f.sort(dhb);var m=Y0(j1,f,c);f.sort(ehb);f=Y0(k1,f,c);a=$APP.Pg.h(function(u){return $APP.Re(e,u.a)},a);a=$APP.bf(a);a.sort(fhb);c=Y0(l1,a,c);a=shb(d,m,c);var p=$APP.Ox.F($APP.ej.g(function(u){return u.qb(null)}),
$APP.kn,536870912,m);return jhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[b,p,$APP.yj.g(0),f,c,a,m,e0(),e0(),d]))};uhb=function(a,b){return $APP.ui.l(a,$APP.A1,b,$APP.z([F1,T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),b]))),G1,e0(),H1,e0(),I1,$APP.yj.g(0)]))};
$APP.c2=function(a){var b=$APP.Vf(a);a=$APP.B.h(b,$APP.A1);b=$APP.B.h(b,$APP.b2);return a2($APP.ej.h(function(c){var d=$APP.y.j(c,0,null),e=$APP.y.j(c,1,null),f=$APP.y.j(c,2,null);c=$APP.y.j(c,3,null);return g1.F(d,e,f,c)},b),a,$APP.Uf)};d2=function(a,b,c,d,e,f,m,p){this.ge=a;this.fe=b;this.ke=c;this.ie=d;this.le=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
vhb=function(a){var b=$APP.Ll.l(a,e2,$APP.z([f2,g2,h2,i2]));b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new d2(e2.g(a),f2.g(a),g2.g(a),h2.g(a),i2.g(a),null,$APP.Wf(b),null)};j2=function(){return null};k2=function(){return null};l2=function(){return null};m2=function(){return null};n2=function(){return null};whb=function(){return null};o2=function(){return null};
q2=function(a){if(a instanceof $APP.F)return o2(a)?$APP.fj.h($APP.Bf(a),$APP.Vi.h($APP.Ei(a),1)):$APP.fj.h($APP.Bf(a),["_",$APP.Ei(a)].join(""));if("string"===typeof a){var b=$APP.Ri(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.y.j(b,0,null);a=$APP.y.j(b,1,null);b=$APP.y.j(b,2,null);return $APP.x.h("_",$APP.y.h(b,0))?$APP.k(a)?[$APP.l.g(a),"/",$APP.Vi.h(b,1)].join(""):$APP.Vi.h(b,1):$APP.k(a)?[$APP.l.g(a),"/_",$APP.l.g(b)].join(""):["_",$APP.l.g(b)].join("")}throw $APP.Yl.h(["Bad attribute type: ",$APP.wj.l($APP.z([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,p2,V1,a],null));};xhb=function(a,b,c){return $APP.pn.j(function(d,e){return r2(a,d)&&$APP.ze(e)?s2(a,e):e},Q1.g($APP.B.h(x1(a),b)),c)};t2=function(){return null};yhb=function(){return null};u2=function(){this.id=$APP.Bj.h(zhb,$APP.Pd);this.J=2147483648;this.M=0};g0=function(){return null};v2=function(a){return $APP.jf(E1.g(e2.g(a)))+1};
w2=function(a){return $APP.x.h(a,Ahb)||$APP.x.h(a,":db/current-tx")||$APP.x.h(a,"datomic.tx")||$APP.x.h(a,"datascript.tx")};x2=function(a){return"number"===typeof a&&0>a||"string"===typeof a||g0(a)};Bhb=function(a,b){return b>D1.g(a)&&536870912>b?$APP.ui.j(a,D1,b):a};
z2=function(a,b,c){var d=w2(b)?$APP.an.ma($APP.an.R(a,h2,$APP.ui,b,c),y2,$APP.an,c,ohb,b):a;d=x2(b)?$APP.an.ma($APP.an.R(d,h2,$APP.ui,b,c),y2,$APP.an,c,ohb,b):d;if(b=!x2(b))a=f2.g(a),b=c>D1.g(a)&&536870912>c;a=b?$APP.an.R(d,h2,$APP.ui,c,c):d;return $APP.an.F(a,f2,Bhb,c)};
Dhb=function(a,b){var c=$APP.A1.g(a),d=b.e,e=b.a,f=b.v;if($APP.x.h(e,S1)){if($APP.Bb(c.g?c.g(f):c.call(null,f)))throw a=["Schema with attribute ",$APP.l.g(f)," does not exist"].join(""),d=new $APP.h(null,2,[$APP.Kn,Chb,V1,f],null),$APP.Yl.h(a,d);return $APP.Il.j($APP.Lq(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,d],null),$APP.Ll.h(c.g?c.g(f):c.call(null,f),e)),new $APP.G(null,1,5,$APP.H,[$APP.A1],null),function(m){return $APP.Ll.h(m,f)})}b=c.g?c.g(d):c.call(null,d);if($APP.k(b))return $APP.k(c.g?c.g(b):
c.call(null,b))?$APP.Il.j(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,b],null),function(m){return $APP.Ll.h(m,e)}):$APP.Il.j(a,new $APP.G(null,2,5,$APP.H,[$APP.A1,d],null),function(m){return $APP.Ll.l(m,e,$APP.z([f]))});a=["Schema with entity id ",$APP.l.g(d)," does not exist"].join("");d=new $APP.h(null,4,[$APP.Kn,Chb,A2,d,V1,e,$APP.JI,d],null);throw $APP.Yl.h(a,d);};Ehb=function(a){a=$APP.A1.g(a);return $APP.k(a)?a:$APP.Uf};
Fhb=function(a){return $APP.ui.j(a,F1,T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),Ehb(a)]))))};
Jhb=function(a,b){var c=b.Qd(null);c=$APP.k(c)?j2(a,b.a,K1):c;if($APP.k(c)&&(c=$APP.Wf(p1(a,t1,b.a,b.v,null,null)),null!=c))throw $APP.Yl.h(["Cannot add ",$APP.wj.l($APP.z([b]))," because of unique constraint: ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,Ghb,V1,b.a,Hhb,b],null));var d=u1(a,b.a);c=b.a;c=Ihb.g?Ihb.g(c):Ihb.call(null,c);if($APP.k(b.Qd(null))){a=$APP.an.R(a,$APP.B1,T0,b,dhb);a=$APP.an.R(a,C1,T0,b,ehb);d=d?$APP.an.R(a,t1,T0,b,fhb):a;d=Bhb(d,b.e);d=$APP.ui.j(d,I1,$APP.yj.g(0));
if($APP.k(c)){var e=Ehb(d);c=b.e;a=b.a;b=b.v;if($APP.x.h(a,S1)){var f=new $APP.G(null,2,5,$APP.H,[$APP.A1,b],null),m=$APP.Kl.l,p=e.g?e.g(c):e.call(null,c);e=e.g?e.g(b):e.call(null,b);e=$APP.Ae(p)?$APP.Kl.l($APP.z([p,e])):e;b=$APP.Lq($APP.Lq(d,f,m.call($APP.Kl,$APP.z([$APP.k(e)?e:$APP.Uf,$APP.gi([a],[b])]))),new $APP.G(null,2,5,$APP.H,[$APP.A1,c],null),b)}else f=e.g?e.g(c):e.call(null,c),b=$APP.k(f)?$APP.k(e.g?e.g(f):e.call(null,f))?$APP.Lq(d,new $APP.G(null,3,5,$APP.H,[$APP.A1,f,a],null),b):$APP.Lq(d,
new $APP.G(null,3,5,$APP.H,[$APP.A1,c,a],null),b):$APP.Lq(d,new $APP.G(null,2,5,$APP.H,[$APP.A1,c],null),$APP.gi([a],[b]));b=Fhb(b)}else b=d;return b}e=o1(a,new $APP.G(null,3,5,$APP.H,[b.e,b.a,b.v],null));if(null==e)return a;a=$APP.an.R(a,$APP.B1,U0,e,dhb);a=$APP.an.R(a,C1,U0,e,ehb);d=d?$APP.an.R(a,t1,U0,e,fhb):a;d=$APP.ui.j(d,I1,$APP.yj.g(0));return $APP.k(c)?Fhb(Dhb(d,b)):d};
Khb=function(a,b,c,d,e){return $APP.df(function(f,m,p){var u=$APP.B.h(f,m);$APP.k(u)||(u=$APP.aK.g($APP.v(p1(c,$APP.B1,d,m,null,null))),u=$APP.k(u)?u:$APP.cf($APP.jn.h($APP.be(Q1.g($APP.B.h(x1(c),m))),null)));p=$APP.ui.j(u,p,e);return $APP.ui.j(f,m,p)},a,b)};
D2=function(a,b){var c=f2.g(a),d=B2.g(b);a=$APP.an.F($APP.ui.j(a,f2,Jhb(c,b)),g2,$APP.vf,b);if(whb(c,d)){var e=$APP.eK.g(b);b=$APP.k($APP.e1(b))?$APP.aK.g(b):null;var f=$APP.B.h(C2.g(a),e);f=$APP.k(f)?f:$APP.Uf;d=$APP.B.h(y1(c,phb),d);c=Khb(f,d,c,e,b);return $APP.an.R(a,C2,$APP.ui,e,c)}return a};
Lhb=function(a,b){function c(f,m){return $APP.af.j(function(p,u){var t=d(f,u);return null==t?$APP.an.F(p,0,$APP.vf,u):$APP.an.R(p,1,$APP.ui,u,t)},new $APP.G(null,2,5,$APP.H,[$APP.Sg,$APP.Uf],null),m)}function d(f,m){return r2(a,f)?x2(m)?null:$APP.eK.g($APP.v(p1(a,t1,f,t2(a,m),null,null))):$APP.eK.g($APP.v(p1(a,t1,f,m,null,null)))}var e=$APP.Wf(y1(a,L1));return null==e?new $APP.G(null,2,5,$APP.H,[b,null],null):$APP.df(function(f,m,p){var u=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);if(!(m instanceof $APP.F||
"string"===typeof m))throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([m]))," at ",$APP.wj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,m,E2,b,$APP.Kn,p2],null));if(null==p)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.JI,null,E2,b,$APP.Kn,p2],null));if($APP.Re(e,m)){if(l2(a,m,p)){var t=c(m,p);p=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);return new $APP.G(null,2,5,$APP.H,[$APP.ve(p)?u:$APP.ui.j(u,
m,p),$APP.ve(t)?f:$APP.ui.j(f,m,t)],null)}t=d(m,p);return null==t?new $APP.G(null,2,5,$APP.H,[$APP.ui.j(u,m,p),f],null):new $APP.G(null,2,5,$APP.H,[u,$APP.ui.j(f,m,$APP.Tf([p,t]))],null)}return new $APP.G(null,2,5,$APP.H,[$APP.ui.j(u,m,p),f],null)},new $APP.G(null,2,5,$APP.H,[$APP.Uf,$APP.Uf],null),b)};
Ohb=function(a,b){var c=$APP.df(function(m,p,u){return $APP.df(function(t,A,C){return $APP.ui.j(t,C,new $APP.G(null,2,5,$APP.H,[p,A],null))},m,u)},$APP.Uf,b);if(2<=$APP.be(c)){b=$APP.v(c);a=$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null);b=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);var e=$APP.ge(c);c=$APP.y.j(e,0,null);var f=$APP.y.j(e,1,null);e=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);throw $APP.Yl.h(["Conflicting upserts: ",$APP.wj.l($APP.z([new $APP.G(null,2,5,$APP.H,[b,d],null)]))," resolves to ",$APP.wj.l($APP.z([a])),
", but ",$APP.wj.l($APP.z([new $APP.G(null,2,5,$APP.H,[e,f],null)]))," resolves to ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,F2,Mhb,new $APP.G(null,3,5,$APP.H,[a,b,d],null),Nhb,new $APP.G(null,3,5,$APP.H,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.y.j(d,0,null);c=$APP.y.j(d,1,null);d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);a=G2.g(a);if(null!=b&&null!=a&&!x2(a)&&$APP.ti.h(b,a))throw $APP.Yl.h(["Conflicting upsert: ",$APP.wj.l($APP.z([new $APP.G(null,2,5,$APP.H,[d,c],null)]))," resolves to ",
$APP.wj.l($APP.z([b])),", but entity already has :db/id ",$APP.wj.l($APP.z([a]))].join(""),new $APP.h(null,3,[$APP.Kn,F2,Mhb,new $APP.G(null,3,5,$APP.H,[b,d,c],null),Nhb,new $APP.h(null,1,[G2,a],null)],null));return b};Phb=function(a,b,c){return o2(b)||k2(a,b)?i0(c)||$APP.we(c)&&!$APP.Ae(c)?$APP.x.h($APP.be(c),2)&&j2(a,$APP.v(c),L1)?new $APP.G(null,1,5,$APP.H,[c],null):c:new $APP.G(null,1,5,$APP.H,[c],null):new $APP.G(null,1,5,$APP.H,[c],null)};
Qhb=function(a,b){var c=G2.g(b),d=$APP.pg.h($APP.K,$APP.af.j(function(e,f){var m=$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);return $APP.an.F(e,n2(a,m)?1:0,$APP.vf,new $APP.G(null,2,5,$APP.H,[m,f],null))},new $APP.G(null,2,5,$APP.H,[$APP.Sg,$APP.Sg],null),b));return function m(f){return new $APP.Ff(null,function(){for(var p=f;;){var u=$APP.r(p);if(u){var t=u,A=$APP.v(t),C=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null);if($APP.ti.h(C,G2)){var I=function(){var Z=C;if(Z instanceof $APP.F||"string"===typeof Z)return null;
var ba=$APP.Tf([G2,c,C,E]);throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([Z]))," at ",$APP.wj.l($APP.z([ba])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Z,E2,ba,$APP.Kn,p2],null));}(),Q=o2(C),T=Q?q2(C):C;if(Q&&!r2(a,T))throw $APP.Yl.h(["Bad attribute ",$APP.wj.l($APP.z([C])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.Kn,p2,V1,C,E2,$APP.Tf([G2,c,C,E])],null));if(u=$APP.r(function(Z,ba,da,ja,la,xa,sa,X,
S,W,V,Y){return function ha(za){return new $APP.Ff(null,function(qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb){return function(){for(;;){var Gb=$APP.r(za);if(Gb){if($APP.Ee(Gb)){var Nb=$APP.cd(Gb),$b=$APP.be(Nb),ec=$APP.Hf($b);a:for(var Mc=0;;)if(Mc<$b){var pc=$APP.oe(Nb,Mc);$APP.Mf(ec,r2(a,Oa)&&$APP.Ae(pc)?$APP.ui.j(pc,q2(gb),nb):ya?new $APP.G(null,4,5,$APP.H,[H2,pc,Oa,nb],null):new $APP.G(null,4,5,$APP.H,[H2,nb,Oa,pc],null));Mc+=1}else{Nb=!0;break a}return Nb?$APP.Lf($APP.Nf(ec),ha($APP.dd(Gb))):$APP.Lf($APP.Nf(ec),
null)}ec=$APP.v(Gb);return $APP.yf(r2(a,Oa)&&$APP.Ae(ec)?$APP.ui.j(ec,q2(gb),nb):ya?new $APP.G(null,4,5,$APP.H,[H2,ec,Oa,nb],null):new $APP.G(null,4,5,$APP.H,[H2,nb,Oa,ec],null),ha($APP.Id(Gb)))}return null}}}(Z,ba,da,ja,la,xa,sa,X,S,W,V,Y),null,null)}}(p,I,Q,T,null,A,C,E,t,u,c,d)(Phb(a,C,E))))return $APP.K.h(u,m($APP.Id(p)))}p=$APP.Id(p)}else return null}},null,null)}(d)};
J2=function(a,b){$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null),f=$APP.y.j(b,4,null);if(!(d instanceof $APP.F||"string"===typeof d))throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([d]))," at ",$APP.wj.l($APP.z([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,d,E2,b,$APP.Kn,p2],null));if(null==e)throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.JI,null,E2,b,$APP.Kn,p2],null));
b=$APP.k(f)?f:v2(a);f=f2.g(a);c=s2(f,c);e=r2(f,d)?s2(f,e):e;var m=g1.F(c,d,e,b);f=k2(f,d)?o1(f,new $APP.G(null,3,5,$APP.H,[c,d,e],null)):o1(f,new $APP.G(null,2,5,$APP.H,[c,d],null));return null==f?D2(a,m):$APP.x.h(f.v,e)?$APP.an.F(a,I2,Rhb,m):D2(D2(a,g1.R(c,d,f.v,b,!1)),m)};Shb=function(a,b){var c=v2(a);return D2(a,g1.R(b.e,b.a,b.v,c,!1))};
Uhb=function(a,b){return $APP.Eh.j($APP.yi,$APP.oq.h($APP.Pg.g(function(c){return m2(a,c.a)}),$APP.ej.g(function(c){return new $APP.G(null,2,5,$APP.H,[Thb,c.v],null)})),b)};
Vhb=function(a,b,c,d,e){var f=$APP.B.h(K2.g(a),d);if(null==f)return b=$APP.ui.j(h2.g(b),d,e),a=$APP.an.R($APP.ui.j(a,h2,b),K2,$APP.ui,d,e),L2(a,c);throw $APP.Yl.h(["Conflicting upsert: ",$APP.wj.l($APP.z([d]))," resolves both to ",$APP.wj.l($APP.z([e]))," and ",$APP.wj.l($APP.z([f]))].join(""),new $APP.h(null,1,[$APP.Kn,F2],null));};
Whb=function(a){var b=f2.g(a);return $APP.df(function(c,d,e){return $APP.df(function(f,m,p){p=$APP.mg($APP.yb,p)?null:p;var u=$APP.aK.g($APP.v(p1(b,$APP.B1,d,m,null,null)));return $APP.x.h(p,u)?f:null==p?$APP.vf.h(f,$APP.re(new $APP.G(null,4,5,$APP.H,[M2,d,m,u],null),new $APP.h(null,1,[N2,!0],null))):$APP.vf.h(f,$APP.re(new $APP.G(null,4,5,$APP.H,[H2,d,m,p],null),new $APP.h(null,1,[N2,!0],null)))},c,e)},$APP.Sg,C2.g(a))};
Xhb=function(a){var b=O2.g(a);if($APP.k(b)){var c=$APP.Tc(b);b=function(d,e){return $APP.k($APP.e1(e))?$APP.ly.h(d,$APP.eK.g(e)):d};c=$APP.af.j(b,c,g2.g(a));b=$APP.af.j(b,c,I2.g(a));if(0===$APP.be(b))return $APP.Ll.l(a,O2,$APP.z([I2]));throw $APP.Yl.h(["Tempids used only as value in transaction: ",$APP.wj.l($APP.z([$APP.Ik.g($APP.si($APP.Vc(b)))]))].join(""),new $APP.h(null,2,[$APP.Kn,p2,h2,b],null));}return $APP.Ll.l(a,O2,$APP.z([I2]))};
$hb=function(a){if($APP.k(rgb(a))){var b;if(b=$APP.Re(a,S1)){b=S1.g(a);var c=b instanceof $APP.F||"string"===typeof b;c?(b=$APP.Bf($APP.fj.g(b)),b=$APP.k(b)?$APP.x.h("db",$APP.v($APP.fl.h(b,/\./))):!1):b=c}if(b)throw $APP.Yl.h("Using namespace 'db' for attribute identifiers is not allowed",new $APP.h(null,2,[$APP.Kn,Yhb,Zhb,a],null));b=Y1.g(a);b=$APP.k(b)?b:X1.g(a);if(b=$APP.k(b))b=S1.g(a),b=$APP.k(b)?Y1.g(a):b,b=!$APP.k(b);if(b)throw $APP.Yl.h("Incomplete schema transaction attributes, expected :db/ident, :db/cardinality",
new $APP.h(null,2,[$APP.Kn,Yhb,Zhb,a],null));}};aib=function(){};P2=function(a,b,c){if(null!=a&&null!=a.qm)a=a.qm(a,b,c);else{var d=P2[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IStorage.-store",a);}return a};
Q2=function(a,b){if(null!=a&&null!=a.pm)a=a.pm(a,b);else{var c=Q2[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Q2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IStorage.-restore",a);}return a};bib=function(a){return new $APP.G(null,4,5,$APP.H,[a.e,a.a,a.v,a.tx],null)};R2=function(a,b,c,d){this.storage=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};cib=function(a){return new R2(a,null,null,null)};
S2=function(a){return $APP.k(a)?$APP.B1.g(a).storage:null};T2=function(a){a=S2(a);return null==a?null:X0.g(a)};
W2=function(a,b,c){$APP.Bj.j(dib,$APP.vf,a);var d=U2;U2=$APP.yg($APP.Tc($APP.Sg));try{var e=$APP.B1.g(a),f=C1.g(a),m=t1.g(a),p=e.zg(null,b),u=f.zg(null,b),t=m.zg(null,b),A=$APP.Kl.l($APP.z([$APP.gi([$APP.A1,E1,C1,eib,t1,D1,$APP.B1,fib,gib,hib],[$APP.A1.g(a),E1.g(a),u,$APP.n(V2),t,D1.g(a),p,new $APP.h(null,2,[$APP.wI,f.T,a1,f.shift],null),new $APP.h(null,2,[$APP.wI,m.T,a1,m.shift],null),new $APP.h(null,2,[$APP.wI,e.T,a1,e.shift],null)]),Wgb($APP.B1.g(a))]));if($APP.k($APP.k(c)?c:0<$APP.be($APP.n(U2)))){$APP.kd(U2,
$APP.Rg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[0,A],null)));$APP.kd(U2,$APP.Rg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[1,$APP.Sg],null)));var C=X0.g(b),E=$APP.Iy.g($APP.B.h($APP.n(iib),C));$APP.Bj.F(iib,$APP.ui,C,null);P2(C,$APP.Vc($APP.n(U2)),E)}return a}finally{U2=d}};jib=function(a,b){return P2(T2(a),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[1,$APP.pn.h(function(c){return $APP.pn.h(bib,c)},b)],null)],null),null)};
lib=function(a,b){var c=Q2(a,0);if(null==c)return null;var d=Q2(a,1),e=$APP.Vf(c),f=$APP.B.h(e,gib),m=$APP.B.h(e,hib),p=$APP.B.h(e,$APP.A1),u=$APP.B.h(e,E1),t=$APP.B.h(e,C1),A=$APP.B.h(e,eib),C=$APP.B.h(e,t1),E=$APP.B.h(e,D1),I=$APP.B.h(e,$APP.B1);e=$APP.B.h(e,fib);V2.uc(null,function(){var T=V2.Ka(null);return T>A?T:A}());b=$APP.Kl.l($APP.z([c,b]));a=cib(a,b);var Q=X2(new $APP.h(null,6,[$APP.A1,p,$APP.B1,Tgb(j1,I,a,$APP.ui.j(b,$0,m)),C1,Tgb(k1,t,a,$APP.ui.j(b,$0,e)),t1,Tgb(l1,C,a,$APP.ui.j(b,$0,
f)),D1,E,E1,u],null));$APP.Bj.j(dib,$APP.vf,Q);return new $APP.G(null,2,5,$APP.H,[Q,$APP.pn.h(function(T){return $APP.tn.h(function(Z){var ba=$APP.y.j(Z,0,null),da=$APP.y.j(Z,1,null),ja=$APP.y.j(Z,2,null),la=$APP.y.j(Z,3,null);Z=p1(Q,$APP.B1,ba,da,ja,null);Z=$APP.ng(function(xa){return $APP.x.h(la,kib.g(xa))},Z);return $APP.k($APP.k(Z)?0<la:Z)?null:g1.F(ba,da,ja,la)},T)},d)],null)};
mib=function(a,b){return $APP.af.j(function(c,d){if($APP.ve(d))return c;try{var e=$APP.af.j(Jhb,c,d);return $APP.ui.j(e,E1,kib.g($APP.v(d)))}catch(f){return console.error(f),c}},a,b)};Y2=function(a){return null==X0.g(a)?a:$APP.an.F(a,X0,cib,a)};Z2=function(a,b,c,d){this.dh=a;this.Eg=b;this.nb=c;this.P=d;this.M=98306;this.J=6455552};nib=function(a,b){if(null!=a&&!$APP.k(a.g?a.g(b):a.call(null,b)))throw $APP.Yl.h("Invalid reference state",new $APP.h(null,1,[$APP.JI,b],null));};
a3=function(a,b,c){var d=$APP.n(a);b=$APP.pg.j(b,d,c);nib(a.Eg,b);$APP.Rba(a.dh,$APP.ui.j($APP.n(a.dh),$2,d),$APP.ui.j($APP.n(a.dh),$2,b));a:{c=$APP.r(a.nb);for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m),u=$APP.y.j(p,0,null);p=$APP.y.j(p,1,null);p.F?p.F(u,a,d,b):p.call(null,u,a,d,b);m+=1}else if(c=$APP.r(c))$APP.Ee(c)?(e=$APP.cd(c),c=$APP.dd(c),u=e,f=$APP.be(e),e=u):(e=$APP.v(c),u=$APP.y.j(e,0,null),p=$APP.y.j(e,1,null),p.F?p.F(u,a,d,b):p.call(null,u,a,d,b),c=$APP.w(c),e=null,f=0),m=0;else break a}return new $APP.G(null,
2,5,$APP.H,[d,b],null)};b3=function(a,b,c,d){return new Z2(a,b,c,d)};oib=function(a){a=$APP.yj.g(a);return b3.g?b3.g(a):b3.call(null,a)};c3=function(a){switch(arguments.length){case 2:return c3.h(arguments[0],arguments[1]);case 3:return c3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};pib=function(a,b){return f2.g(c3.h(a,b))};
g3=function(a){if(null==T2(a))return oib(new $APP.h(null,1,[$2,a],null));d3.g(a);return oib(new $APP.h(null,3,[$2,a,e3,$APP.Sg,f3,a],null))};
rib=function(a,b,c){var d=$APP.yg(null),e=qib.g(c),f=$APP.Ll.h(c,qib);$APP.Bj.h(a,function(u){u=c3.j(u,b,f);$APP.kd(d,u);return f2.g(u)});if(null!=T2($APP.n(a))){c=$APP.n(d);var m=$APP.Vf(c);c=$APP.B.h(m,f2);var p=$APP.B.h(m,g2);m=Wgb($APP.B1.g(c));a=$APP.uG.g(a);p=e3.g($APP.Bj.l(a,$APP.an,e3,$APP.vf,$APP.z([p])));$APP.k(e)||($APP.Ox.F($APP.ej.g($APP.be),$APP.Px,0,p)>b1.g(m)?(W2(c,S2(c),!1),$APP.Bj.l(a,$APP.ui,e3,$APP.Sg,$APP.z([f3,c]))):jib(c,p))}return $APP.n(d)};
sib=function(a,b){b=$APP.Bj.j(a,uhb,b);null!=T2($APP.n(a))&&(W2(b,S2(b),!0),$APP.Bj.l($APP.uG.g(a),$APP.ui,e3,$APP.Sg,$APP.z([f3,b])));return b};h3=function(a,b){b="number"===typeof b||$APP.ze(b)||b instanceof $APP.F?t2(a,b):null;if($APP.k(b)&&yhb(a,b)){var c=$APP.yg(!1),d=$APP.yg($APP.Uf);return tib.F?tib.F(a,b,c,d):tib.call(null,a,b,c,d)}return null};
uib=function(a,b,c){return k2(a,b)?r2(a,b)?$APP.af.j(function(d,e){return $APP.vf.h(d,h3(a,$APP.aK.g(e)))},$APP.yi,c):$APP.af.j(function(d,e){return $APP.vf.h(d,$APP.aK.g(e))},$APP.yi,c):r2(a,b)?h3(a,$APP.aK.g($APP.v(c))):$APP.aK.g($APP.v(c))};vib=function(a,b,c,d){b=$APP.Wf(n1(a,new $APP.G(null,3,5,$APP.H,[null,c,b],null)));return $APP.k(b)?m2(a,c)?h3(a,$APP.eK.g($APP.v(b))):$APP.af.j(function(e,f){return $APP.vf.h(e,h3(a,$APP.eK.g(f)))},$APP.yi,b):d};i3=function(a){return $APP.k(a)?$APP.bf(a):null};
k3=function(a){j3.g?j3.g(a):j3.call(null,a);return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){if($APP.Ee(e)){var f=$APP.cd(e),m=$APP.be(f),p=$APP.Hf(m);a:for(var u=0;;)if(u<m){var t=$APP.oe(f,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);$APP.Mf(p,k2(a.db,A)?new $APP.G(null,2,5,$APP.H,[A,i3(t)],null):new $APP.G(null,2,5,$APP.H,[A,t],null));u+=1}else{f=!0;break a}return f?$APP.Lf($APP.Nf(p),d($APP.dd(e))):$APP.Lf($APP.Nf(p),null)}f=$APP.v(e);p=$APP.y.j(f,0,null);
f=$APP.y.j(f,1,null);return $APP.yf(k2(a.db,p)?new $APP.G(null,2,5,$APP.H,[p,i3(f)],null):new $APP.G(null,2,5,$APP.H,[p,f],null),d($APP.Id(e)))}return null}},null,null)}($APP.n(a.cache))};l3=function(a,b,c,d){this.db=a;this.eid=b;this.Uj=c;this.cache=d;this.J=2162164483;this.M=0};tib=function(a,b,c,d){return new l3(a,b,c,d)};wib=function(a){return a instanceof l3};m3=function(a,b){return b instanceof l3&&a.db===b.db&&$APP.x.h(a.eid,b.eid)};xib=function(a){return c1($APP.yd(a.eid),$APP.ma(a.db))};
yib=function(a,b){return $APP.df(function(c,d,e){return $APP.ui.j(c,d,m2(a,d)?k2(a,d)?$APP.Bi($APP.ej.h(j3,e)):j3.g?j3.g(e):j3.call(null,e):e)},$APP.Uf,b)};zib=function(a,b){return $APP.af.j(function(c,d){var e=B2.g($APP.v(d));return $APP.ui.j(c,e,uib(a,e,d))},$APP.Uf,$APP.Ny.h(B2,b))};j3=function(a){if(null!=a){if(!$APP.k($APP.n(a.Uj))){var b=$APP.Wf(n1(a.db,new $APP.G(null,1,5,$APP.H,[a.eid],null)));$APP.k(b)&&($APP.zg(a.cache,yib(a.db,zib(a.db,b))),$APP.kd(a.Uj,!0))}return a}return null};
Aib=function(a){return $APP.af.j($APP.Px,0,a)};Bib=function(a){return Aib(a)/$APP.be(a)};
Cib=function(a){var b=Bib(a);return Aib(function(){return function e(d){return new $APP.Ff(null,function(){for(;;){var f=$APP.r(d);if(f){if($APP.Ee(f)){var m=$APP.cd(f),p=$APP.be(m),u=$APP.Hf(p);a:for(var t=0;;)if(t<p){var A=$APP.oe(m,t)-b;u.add(A*A);t+=1}else{m=!0;break a}return m?$APP.Lf($APP.Nf(u),e($APP.dd(f))):$APP.Lf($APP.Nf(u),null)}u=$APP.v(f)-b;return $APP.yf(u*u,e($APP.Id(f)))}return null}},null,null)}(a)}())/$APP.be(a)};
n3=function(a,b,c,d,e,f,m,p,u,t,A,C,E,I,Q){this.as=a;this.Cb=b;this.Jb=c;this.name=d;this.pattern=e;this.zc=f;this.Da=m;this.Ic=p;this.Kb=u;this.yc=t;this.Ac=A;this.vc=C;this.A=E;this.o=I;this.C=Q;this.J=2230716170;this.M=139264};
Dib=function(a){var b=$APP.Ll.l(a,$APP.lo,$APP.z([$APP.Km,o3,$APP.N,$APP.LF,p3,q3,r3,s3,t3,u3,v3]));b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new n3($APP.lo.g(a),$APP.Km.g(a),o3.g(a),$APP.N.g(a),$APP.LF.g(a),p3.g(a),q3.g(a),r3.g(a),s3.g(a),t3.g(a),u3.g(a),v3.g(a),null,$APP.Wf(b),null)};w3=function(a,b,c,d,e,f,m,p){this.ta=a;this.Gd=b;this.Ud=c;this.vd=d;this.Pc=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Eib=function(a){var b=$APP.Ll.l(a,x3,$APP.z([y3,z3,A3,B3]));b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new w3(x3.g(a),y3.g(a),z3.g(a),A3.g(a),B3.g(a),null,$APP.Wf(b),null)};D3=function(a,b,c){if($APP.k(a))return null;throw $APP.Yl.h(["Expected ",$APP.l.g(b),", got: ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,Fib,C3,c],null));};
Iib=function(a,b){var c=o2(b),d=c?q2(b):b,e=r2(a,d),f=m2(a,d);a=k2(a,d);if(c){D3(e,"reverse attribute having :db.type/ref",b);var m=!0}else m=null;return Dib($APP.gi([s3,o3,r3,$APP.N,$APP.lo,v3,u3,t3,$APP.LF],[$APP.ef,a?1E3:null,m,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?Gib:f?Hib:Gib:null]))};Jib=function(a,b,c){D3("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);D3(k2(a,$APP.N.g(b)),"limit attribute having :db.cardinality/many",$APP.N.g(b))};
Lib=function(a,b){var c=function(){var d=$APP.v(b);return E3.h?E3.h(a,d):E3.call(null,a,d)}();if(null==c)return null;D3($APP.og($APP.be($APP.w(b))),"even number of opts",b);return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);switch(f instanceof $APP.F?f.N:null){case "as":return $APP.ui.j(d,$APP.lo,e);case "limit":return Jib(a,d,e),$APP.ui.j(d,o3,e);case "default":return $APP.ui.j(d,$APP.Km,e);case "xform":f=$APP.ui.j;var m=$APP.pe(e)?e:null;if($APP.k(m))e=m;else if(m=$APP.B.h(Kib,
e),$APP.k(m))e=m;else throw $APP.Yl.h(["Can't resolve symbol ",$APP.wj.l($APP.z([e]))].join(""),new $APP.h(null,2,[$APP.Kn,Fib,C3,e],null));return f.call($APP.ui,d,s3,e);default:return D3(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.pq.h(2,$APP.w(b)))};
E3=function(a,b){var c;!(c=b instanceof $APP.F)&&(c="string"===typeof b)&&(c=new $APP.xi(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.Bb(c));if(c)return Iib(a,b);if($APP.ze(b)){c=Lib(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.xi(null,new $APP.h(null,2,[$APP.Bna,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.be(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,
1,null),c=$APP.y.j(b,2,null),d=E3.h?E3.h(a,d):E3.call(null,a,d),Jib(a,d,c),c=$APP.ui.j(d,o3,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.xi(null,new $APP.h(null,2,[$APP.HJ,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(D3($APP.x.h($APP.be(b),3),"['default attr-name any-value]",b),$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),c=$APP.y.j(b,2,null),a=E3.h?E3.h(a,d):E3.call(null,a,d),a=$APP.ui.j(a,$APP.Km,c)):a=null;return $APP.k(a)?a:D3(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};Mib=function(a,b){return $APP.ng(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.ej.j($APP.Iw,b,$APP.Vn.D()))};Nib=function(a,b){var c=$APP.k(r3.g(b))?A3:x3,d=Mib(function(e){return $APP.x.h($APP.lo.g(e),$APP.lo.g(b))},$APP.B.h(a,c));return null==d?$APP.an.F(a,c,$APP.vf,b):$APP.an.R(a,c,$APP.ui,d,b)};
F3=function(a,b){D3($APP.ze(b),"pattern to be sequential?",b);for(var c=Eib(new $APP.h(null,3,[x3,$APP.Sg,A3,$APP.Sg,B3,null],null));;){if($APP.ve(b)){var d=c.ta,e=function(){return function(p){p=p.name;var u=new $APP.xi(null,new $APP.h(null,2,[G2,null,":db/id",null],null),null);return u.g?u.g(p):u.call(null,p)}}(b,c,d);b=function(){return function(p){p=$APP.N.g(p);return p instanceof $APP.F?p:$APP.x.h(":",$APP.Vi.j(p,0,1))?$APP.fj.g($APP.Vi.h(p,1)):$APP.fj.g(p)}}(b,c,d,e);d=$APP.k(function(){var p=
c.Pc;return $APP.k(p)?$APP.Bb($APP.ng(e,c.ta)):p}())?$APP.vf.h(d,Oib):d;d=$APP.Gs.g($APP.Mx.h(b,d));var f=$APP.is.h(e,d),m=$APP.v(f);f=$APP.le(f);return Eib(new $APP.h(null,5,[x3,d,y3,m,z3,f,A3,$APP.Gs.g($APP.Mx.h(b,c.vd)),B3,c.Pc],null))}m=$APP.v(b);if($APP.x.h($APP.sH,m)||$APP.x.h("*",m)||$APP.x.h(Pib,m))b=$APP.w(b),c=d=$APP.ui.j(c,B3,!0);else if($APP.Ae(m))d=$APP.df(function(){return function(p,u,t){var A=E3(a,u);D3(null!=A,"attr-name | attr-expr",u);D3(r2(a,$APP.N.g(A)),"attribute having :db.type/ref",
u);$APP.x.h(Qib,t)||$APP.x.h("...",t)?u=$APP.ui.l(A,$APP.LF,null,$APP.z([q3,!0,p3,null])):"number"===typeof t?(D3(0<t,"(positive-num | ...)",$APP.Tf([u,t])),u=$APP.ui.l(A,$APP.LF,null,$APP.z([q3,!0,p3,t]))):u=$APP.ui.j(A,$APP.LF,F3.h?F3.h(a,t):F3.call(null,a,t));return Nib(p,u)}}(b,c,m),c,m),b=$APP.w(b),c=d;else{d=E3(a,m);if(null==d)return D3(!1,"attr-name | attr-expr | map-spec | *",m);b=$APP.w(b);c=d=Nib(c,d)}}};G3=function(a){return null==a?null:$APP.Yb(a)};H3=function(a){return null==a?null:$APP.bc(a)};
Rib=function(a,b){return null==a?new $APP.D(null,b,null,1,null):$APP.Vb(a,b)};Sib=function(a,b,c){return null==c?a:$APP.Gh.j(a,b,c)};I3=function(a,b,c,d,e){this.db=a;this.hf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};Tib=function(a,b,c,d,e){a=a.hf;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))};
Uib=function(a,b){if(null!=a&&null!=a.pi)a=a.pi(a,b);else{var c=Uib[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Uib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IFrame.-merge",a);}return a};Vib=function(a,b){if(null!=a&&null!=a.wh)a=a.wh(a,b);else{var c=Vib[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Vib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IFrame.-run",a);}return a};
J3=function(a,b,c,d,e){this.value=a;this.za=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};K3=function(a,b,c,d,e,f){this.pa=a;this.oa=b;this.za=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};L3=function(a,b,c,d,e,f,m,p,u){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.za=f;this.A=m;this.o=p;this.C=u;this.J=2230716170;this.M=139264};
M3=function(a,b,c,d,e,f,m,p,u,t,A){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.za=m;this.id=p;this.A=u;this.o=t;this.C=A;this.J=2230716170;this.M=139264};N3=function(a,b,c,d,e,f,m,p,u,t){this.va=a;this.Aa=b;this.pa=c;this.pattern=d;this.oa=e;this.ta=f;this.id=m;this.A=p;this.o=u;this.C=t;this.J=2230716170;this.M=139264};Wib=function(a,b,c,d,e,f,m){return new N3(a,b,c,d,e,f,m,null,null,null)};
P3=function(a,b,c,d,e,f){var m=e.Da;$APP.k(m)||(m=e.vc,m=$APP.k(m)?e.pattern.Pc:m);if($APP.Bb(m))return d=e.pattern,O3.R?O3.R(a,b,c,d,f):O3.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new J3(new $APP.h(null,1,[G2,f],null),null,null,null,null);m=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(m)?0>=m&&!0:m))return new J3(null,null,null,null,null);b=$APP.vf.h(b,f);c=$APP.k(m)?$APP.an.j(c,e,$APP.ff):$APP.k(e.zc)?$APP.ui.j(c,e,e.zc-1):c;d=$APP.k(e.Da)?d:e.pattern;return O3.R?O3.R(a,b,
c,d,f):O3.call(null,a,b,c,d,f)};
O3=function(a,b,c,d,e){var f=a.db,m=function(){var p=d.Pc;if($APP.k($APP.k(p)?f instanceof $APP.z1&&!0:p))return V0(f.jc,g1.F(e,null,null,536870912),g1.F(e,null,null,2147483647));if($APP.k(d.Pc))return n1(f,new $APP.G(null,1,5,$APP.H,[e],null));if(null==d.Gd)return null;p=d.Gd.name;var u=d.Ud.name;return f instanceof $APP.z1?V0(f.jc,g1.F(e,p,null,536870912),g1.F(e,u,null,2147483647)):q1(f,$APP.B1,e,null,null,null)}();$APP.k(d.Pc)&&Tib(a,Xib,e,null,null);return new M3(b,c,$APP.Tc($APP.Uf),d,G3(d.ta),
H3(d.ta),m,e,null,null,null)};Q3=function(a,b){var c=$APP.Vf(a);a=$APP.B.h(c,E2);c=$APP.B.h(c,$APP.LF);b=t2(a.db,b);if(null==b)return null;for(c=new $APP.D(null,O3(a,$APP.yi,$APP.Uf,c,b),null,1,null);;){b=G3(c);var d=H3(c);if(b instanceof J3){if(null==d)return b.value;c=G3(d);d=H3(d);c=Rib(d,Uib(c,b))}else c=$APP.af.j(Rib,d,Vib(b,a))}};S3=function(a,b,c){c=$APP.Vf(c);c=$APP.B.h(c,R3);return new $APP.h(null,2,[$APP.LF,c0(khb(a).Sc,b,function(){return F3(a,b)}),E2,new I3(a,c,null,null,null)],null)};
T3=function(a,b){return $APP.zb(a)?a[b]:$APP.y.h(a,b)};U3=function(a,b){return $APP.Ae(a)?a.g?a.g(b):a.call(null,b):a[b]};V3=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};Yib=function(a,b){var c=Array($APP.be(b));$APP.af.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};Zib=function(a,b){return null==b.a?-1:0>=$APP.Ve(a.a,b.a)?-1:1};
$ib=function(a){if($APP.ve(C1.g(a)))return $APP.Sg;for(var b=$APP.Tc(new $APP.G(null,1,5,$APP.H,[B2.g($APP.v(C1.g(a)))],null));;){var c=$APP.y.h(b,$APP.be(b)-1),d=g1.j(0,c,null),e=g1.j(2147483647,null,null);c=B2;var f=c.g,m=C1.g(a);d=Ngb(m,d,e,Zib);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Rg.h(b,c);else return $APP.Vc(b)}};ajb=function(a){return $APP.Ea(a,":")?$APP.fj.g($APP.Vi.h(a,1)):a};
djb=function(a,b){b=$APP.Vf(b);var c=$APP.B.j(b,bjb,$APP.wj),d=$APP.B.j(b,cjb,$APP.l);if($APP.k(T2(a)))throw $APP.Yl.h("serializable doesn't work with databases that have :storage",$APP.Uf);var e=$ib(a),f=$APP.Eh.h($APP.Uf,$APP.ej.j($APP.Iw,e,$APP.Vn.D())),m=$APP.yg($APP.Tc($APP.Sg)),p=$APP.yg($APP.Tc($APP.Uf));b=Yib(function(C,E){E.idx=C|0;C=E.e;var I=E.a;I=f.g?f.g(I):f.call(null,I);var Q=E.v;if("string"!==typeof Q)if("number"===typeof Q)Q=Infinity===Q?[2]:-Infinity===Q?[3]:$APP.k(isNaN(Q))?[4]:
Q;else if(!$APP.Ie(Q))if(Q instanceof $APP.F){var T=$APP.B.h($APP.n(p),Q);$APP.k(T)?Q=T:(T=m.uc(null,$APP.Rg.h(m.Ka(null),Q)),T=$APP.be(T)-1,p.uc(null,$APP.Gh.j(p.Ka(null),Q,T)),Q=T);Q=[0,Q]}else Q=[1,c.g?c.g(Q):c.call(null,Q)];return[C,I,Q,E.tx-536870912]},$APP.B1.g(a));var u=Yib(function(C,E){return E.idx},C1.g(a)),t=Yib(function(C,E){return E.idx},t1.g(a)),A=function(){var C=$APP.A1.g(a);return c.g?c.g(C):c.call(null,C)}();e=V3(d,e);d=V3(d,$APP.Vc($APP.n(m)));return{count:$APP.be($APP.B1.g(a)),
tx0:536870912,"max-eid":D1.g(a),"max-tx":E1.g(a),schema:A,attrs:e,keywords:d,eavt:b,aevt:u,avet:t}};W3=function(){};ejb=function(a,b,c){if(null!=a&&null!=a.Hb)a=a.Hb(a,b,c);else{var d=ejb[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ejb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("ITraversable.-collect",a);}return a};
fjb=function(a,b){if(null!=a&&null!=a.Ib)a=a.Ib(a,b);else{var c=fjb[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=fjb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("ITraversable.-collect-vars",a);}return a};X3=function(a,b){return $APP.ze(a)&&$APP.x.h($APP.be(a),b)};Y3=function(a,b){return $APP.ze(b)?$APP.af.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.vf.h(c,d):$APP.Sd(null)},$APP.Sg,b):null};$3=function(a,b){return Z3(a,b,$APP.Sg)};
Z3=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.vf.h(c,b):(null!=b?$APP.vd===b.Gb||(b.kd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?ejb(b,a,c):Xgb(b)?$APP.af.j(function(d,e){return Z3(a,e,d)},c,b):c};a4=function(a){var b=$APP.ve(a);return b?b:$APP.pg.h($APP.Yo,a)};b4=function(a,b){return $APP.re(a,new $APP.h(null,1,[$APP.Jl,b],null))};c4=function(a){var b=$APP.Jl.g($APP.se(a));return $APP.k(b)?b:a};d4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};
e4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};f4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};g4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};h4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};i4=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};
j4=function(a,b,c,d){this.Pa=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};k4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Ei(a)),"?")?new e4(a,null,null,null):null};hjb=function(a){var b=k4(a);if($APP.k(b))return b;throw $APP.Yl.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.wj.l($APP.z([a]))].join(""),new $APP.h(null,2,[$APP.Kn,gjb,$APP.AB,a],null));};
l4=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Ei(a)),"$")?new f4(a,null,null,null):null};ijb=function(a){return a instanceof $APP.q&&$APP.x.h($APP.v($APP.Ei(a)),"?")?null:new i4(a,null,null,null)};m4=function(a){return a instanceof $APP.q&&$APP.Bb(k4(a))&&$APP.Bb(l4(a))&&$APP.Bb($APP.x.h($APP.Uv,a)?new h4(null,null,null):null)&&$APP.Bb($APP.x.h($APP.xH,a)?new d4(null,null,null):null)?new j4(a,null,null,null):null};jjb=function(a){return $APP.k(m4(a))?new e4(a,null,null,null):null};
kjb=function(a){var b=k4(a);if($APP.k(b))return b;b=l4(a);return $APP.k(b)?b:ijb(a)};n4=function(a,b,c,d,e){this.required=a;this.ye=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
mjb=function(a){if($APP.ze(a)){var b=$APP.ze($APP.v(a))?new $APP.G(null,2,5,$APP.H,[$APP.v(a),$APP.w(a)],null):new $APP.G(null,2,5,$APP.H,[null,a],null),c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=Y3(hjb,c);b=Y3(hjb,b);if($APP.ve(c)&&$APP.ve(b))throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,ljb,$APP.AB,a],null));if(!$APP.k(a4($APP.K.h(c,b))))throw $APP.Yl.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.Kn,ljb,$APP.AB,
a],null));return new n4(c,b,null,null,null)}throw $APP.Yl.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.Kn,ljb,$APP.AB,a],null));};p4=function(a){return $APP.K.h($APP.k($APP.aH.g(a))?new $APP.G(null,1,5,$APP.H,[$APP.pn.h($APP.zm,$APP.aH.g(a))],null):null,$APP.pn.h($APP.zm,o4.g(a)))};njb=function(a){return new $APP.G(null,2,5,$APP.H,[$APP.be($APP.aH.g(a)),$APP.be(o4.g(a))],null)};
q4=function(a,b,c){this.A=a;this.o=b;this.C=c;this.J=2230716170;this.M=139264};r4=function(a,b,c,d){this.fc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};s4=function(a,b,c,d){this.Ga=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};t4=function(a,b,c,d){this.dc=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};ojb=function(a){return $APP.x.h($APP.xH,a)?b4(new q4(null,null,null),a):null};
pjb=function(a){var b=ojb(a);return $APP.k(b)?b:u4.g?u4.g(a):u4.call(null,a)};rjb=function(a){var b=Y3(pjb,a);if($APP.k(b)){if($APP.ve(b))throw $APP.Yl.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.Kn,qjb,$APP.AB,a],null));return b4(new s4(b,null,null,null),a)}return null};
u4=function(a){a:{if(X3(a,2)&&$APP.x.h($APP.ge(a),Qib)){var b=$APP.v(a);b=u4.g?u4.g(b):u4.call(null,b);if($APP.k(b)){b=b4(new t4(b,null,null,null),a);break a}throw $APP.Yl.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.Kn,qjb,$APP.AB,a],null));}b=null}if($APP.k(b))return b;b=X3(a,1)&&$APP.ze($APP.v(a))?b4(new t4(rjb($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=rjb(a);if($APP.k(b))return b;b=ojb(a);if($APP.k(b))return b;b=k4(a);b=$APP.k(b)?b4(new r4(b,null,null,null),a):
null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,qjb,$APP.AB,a],null));};v4=function(a){if(null!=a&&null!=a.oi)a=a.oi(a);else{var b=v4[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=v4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IFindVars.-find-vars",a);}return a};
w4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};x4=function(a,b,c,d,e,f){this.source=a;this.fc=b;this.pattern=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};y4=function(a){if(null!=a&&null!=a.vh)a=a.vh(a);else{var b=y4[$APP.ea(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=y4._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.Kb("IFindElements.find-elements",a);}return a};
z4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};A4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};B4=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};C4=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};sjb=function(a){return a instanceof w4};tjb=function(a){return a instanceof x4};
D4=function(a){var b=k4(a);if($APP.k(b))return b;a:{if($APP.ze(a)&&$APP.x.h($APP.v(a),ujb)){if(3<=$APP.be(a)&&4>=$APP.be(a)){var c=(b=$APP.x.h($APP.be(a),4))?$APP.y.h(a,1):vjb;b=b?$APP.ke(a):$APP.w(a);var d=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=l4(c);d=k4(d);var e=k4(b);$APP.k(e)?b=e:(e=jjb(b),b=$APP.k(e)?e:ijb(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new x4(c,d,b,null,null,null);break a}}throw $APP.Yl.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.Kn,wjb,C3,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.ze(a)&&$APP.x.h($APP.v(a),xjb)){if(3<=$APP.be(a)&&(b=$APP.r(a),$APP.v(b),c=$APP.w(b),b=$APP.v(c),c=$APP.w(c),b=k4(b),c=Y3(kjb,c),$APP.k($APP.k(b)?c:b))){b=new w4(b,c,null,null,null);break a}throw $APP.Yl.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.Kn,wjb,C3,a],null));}b=null}$APP.k(b)?a=b:$APP.ze(a)&&2<=$APP.be(a)?(b=$APP.r(a),a=$APP.v(b),b=$APP.w(b),a=m4(a),
b=Y3(kjb,b),a=$APP.k($APP.k(a)?b:a)?new w4(a,b,null,null,null):null):a=null;return a};
yjb=function(a){var b=Y3(D4,a);b=null==b?null:new z4(b,null,null,null);if($APP.k(b))return b;a:{if($APP.ze(a)&&$APP.x.h($APP.be(a),1)&&(b=$APP.v(a),$APP.ze(b)&&$APP.x.h($APP.be(b),2)&&$APP.x.h($APP.ge(b),Qib))){b=D4($APP.v(b));b=null==b?null:new A4(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.ze(a)&&$APP.x.h($APP.be(a),2)&&$APP.x.h($APP.ge(a),$APP.yk)?(b=D4($APP.v(a)),b=null==b?null:new B4(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.ze(a)&&$APP.x.h($APP.be(a),1)?(b=$APP.v(a),
b=Y3(D4,b),b=null==b?null:new C4(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.Kn,wjb,C3,a],null));};E4=function(a,b,c,d,e){this.type=a;this.He=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
zjb=function(a,b){if(!$APP.ve(b)&&$APP.mg($APP.Ad,b))switch(a instanceof $APP.F?a.N:null){case "keys":return new E4(a,$APP.pn.h($APP.fj,b),null,null,null);case "syms":return new E4(a,$APP.cf(b),null,null,null);case "strs":return new E4(a,$APP.pn.h($APP.l,b),null,null,null);default:return null}else return null};Ajb=function(a){var b=l4(a);$APP.k(b)||(b=$APP.x.h($APP.Uv,a)?new h4(null,null,null):null,b=$APP.k(b)?b:jjb(a));return $APP.k(b)?b4(new r4(b,null,null,null),a):u4(a)};
Cjb=function(a){var b=Y3(Ajb,a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.Kn,Bjb,$APP.AB,a],null));};F4=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};G4=function(a,b,c,d,e){this.na=a;this.Ba=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
H4=function(a,b,c,d,e,f){this.na=a;this.Ba=b;this.dc=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};I4=function(a,b,c,d,e,f){this.source=a;this.name=b;this.Ba=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};J4=function(a,b,c,d,e,f){this.source=a;this.hc=b;this.Ia=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};K4=function(a,b,c,d,e,f){this.source=a;this.Wd=b;this.Ia=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};
L4=function(a,b,c,d){this.Ia=a;this.A=b;this.o=c;this.C=d;this.J=2230716170;this.M=139264};Djb=function(a){var b=$APP.x.h($APP.xH,a)?new d4(null,null,null):null;if($APP.k(b))return b;b=k4(a);return $APP.k(b)?b:ijb(a)};M4=function(a){if($APP.ze(a)){var b=l4($APP.v(a));return $APP.k(b)?new $APP.G(null,2,5,$APP.H,[b,$APP.w(a)],null):new $APP.G(null,2,5,$APP.H,[new g4(null,null,null),a],null)}return null};
Ejb=function(a){if($APP.ze(a)){var b=$APP.r(a);a=$APP.v(b);b=$APP.w(b);b=null==b?$APP.Sg:b;var c=m4(a);a=$APP.k(c)?c:k4(a);b=Y3(kjb,b);return $APP.k($APP.k(a)?b:a)?new $APP.G(null,2,5,$APP.H,[a,b],null):null}return null};Fjb=function(a,b,c){if($APP.ve(a)&&$APP.ve(b))throw $APP.Yl.h("Join variables should not be empty",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,c],null));};Gjb=function(a,b){Fjb(null,$APP.iI.g(a),b);return a};
Hjb=function(a,b){var c=$APP.Vf(a);c=$APP.B.h(c,O4);var d=$APP.Vf(c);c=$APP.B.h(d,$APP.aH);d=$APP.B.h(d,o4);Fjb(c,d,b);return a};Ijb=function(a){if($APP.ze(a)&&$APP.x.h($APP.jt,$APP.v(a))){var b=$APP.w(a);b=P4.g?P4.g(b):P4.call(null,b);if($APP.k($APP.Wf(b)))return new L4(b,null,null,null);throw $APP.Yl.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));}return null};
Kjb=function(a){a:{var b=M4(a);if($APP.k(b)){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);var d=$APP.r(b);b=$APP.v(d);d=$APP.w(d);if($APP.x.h($APP.LC,b)){b=P4.g?P4.g(d):P4.call(null,d);if($APP.k(b)){c=Gjb(b4(new J4(c,$APP.cf($APP.Iy.g(Q4($APP.Sg,b))),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)){c=$APP.y.j(b,0,null);b=$APP.y.j(b,
1,null);d=$APP.r(b);b=$APP.v(d);var e=$APP.w(d);d=$APP.v(e);e=$APP.w(e);if($APP.x.h(Jjb,b)){b=Y3(k4,d);d=P4.g?P4.g(e):P4.call(null,e);if($APP.k($APP.k(b)?d:b)){c=Gjb(b4(new J4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));}}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),d=$APP.w(d),$APP.x.h($APP.ot,
b))){b=Y3($APP.sy.h(Ijb,Kjb),d);if($APP.k(b)){c=Hjb(b4(new K4(c,new n4(null,$APP.cf($APP.Iy.g(Q4($APP.Sg,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),d=$APP.r(b),b=$APP.v(d),e=$APP.w(d),d=$APP.v(e),e=$APP.w(e),$APP.x.h(R4,b))){b=mjb(d);d=Y3($APP.sy.h(Ijb,Kjb),e);if($APP.k($APP.k(b)?
d:b)){c=Hjb(b4(new K4(c,b,d,null,null,null),a),a);break a}throw $APP.Yl.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));}c=null}if($APP.k(c))return c;a:{if(X3(a,1)&&(b=Ejb($APP.v(a)),$APP.k(b))){c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c=b4(new G4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(X3(a,2)&&(b=$APP.y.j(a,0,null),c=$APP.y.j(a,1,null),d=Ejb(b),$APP.k(d))){b=$APP.y.j(d,0,null);d=$APP.y.j(d,
1,null);c=u4(c);c=$APP.k(c)?b4(new H4(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=$APP.r(b),d=$APP.v(b),b=$APP.w(b),d=m4(d),e=Y3(Djb,b),$APP.k(d))){if($APP.ve(b))throw $APP.Yl.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));if(null==e)throw $APP.Yl.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,
a],null));c=new I4(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=M4(a);if($APP.k(b)&&(c=$APP.y.j(b,0,null),b=$APP.y.j(b,1,null),b=Y3(Djb,b),$APP.k(b))){if($APP.ve(b))throw $APP.Yl.h("Pattern could not be empty",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));c=b4(new F4(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.Yl.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));};P4=function(a){return Y3(Kjb,a)};Ljb=function(a){var b=P4(a);if($APP.k(b))return b;throw $APP.Yl.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.Kn,N4,$APP.AB,a],null));};S4=function(a,b,c,d,e){this.hc=a;this.Ia=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};T4=function(a,b,c,d,e){this.name=a;this.oe=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
Mjb=function(a){if($APP.ze(a)){var b=$APP.r(a),c=$APP.v(b),d=$APP.w(b);if($APP.ze(c)){b=$APP.r(c);var e=$APP.v(b);c=$APP.w(b);b=function(){var m=m4(e);if($APP.k(m))return m;throw $APP.Yl.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.Kn,U4,$APP.AB,a],null));}();c=mjb(c);var f=function(){var m=$APP.Wf(P4(d));if($APP.k(m))return m;throw $APP.Yl.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.Kn,U4,$APP.AB,a],null));}();return new $APP.h(null,3,[$APP.N,b,$APP.iI,
c,$APP.sK,f],null)}throw $APP.Yl.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,$APP.AB,a],null));}throw $APP.Yl.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.Kn,U4,$APP.AB,a],null));};
Ojb=function(a,b){var c=$APP.iI.g($APP.v(b)),d=njb(c);b=$APP.r($APP.w(b));for(var e=null,f=0,m=0;;)if(m<f){var p=e.ha(null,m);p=$APP.iI.g(p);if($APP.ti.h(d,njb(p)))throw $APP.Yl.h(["Arity mismatch for rule '",$APP.wj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.wj.l($APP.z([p4(c)]))," vs. ",$APP.wj.l($APP.z([p4(p)]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,Njb,a],null));m+=1}else if(b=$APP.r(b)){if($APP.Ee(b))f=$APP.cd(b),b=$APP.dd(b),e=f,f=$APP.be(f);else{p=$APP.v(b);e=$APP.iI.g(p);if($APP.ti.h(d,njb(e)))throw $APP.Yl.h(["Arity mismatch for rule '",
$APP.wj.l($APP.z([$APP.zm.g(a)])),"': ",$APP.wj.l($APP.z([p4(c)]))," vs. ",$APP.wj.l($APP.z([p4(e)]))].join(""),new $APP.h(null,2,[$APP.Kn,U4,Njb,a],null));b=$APP.w(b);e=null;f=0}m=0}else break};
Pjb=function(a){$APP.cf(function(){return function d(c){return new $APP.Ff(null,function(){for(;;){var e=$APP.r(c);if(e){var f=e;if($APP.Ee(f)){var m=$APP.cd(f),p=$APP.be(m),u=$APP.Hf(p);return function(){for(var E=0;;)if(E<p){var I=$APP.oe(m,E),Q=$APP.y.j(I,0,null),T=$APP.y.j(I,1,null);I=$APP.pn.h(function(){return function(Z){return new S4($APP.iI.g(Z),$APP.sK.g(Z),null,null,null)}}(E,I,Q,T,m,p,u,f,e),T);T=u;Ojb(Q,I);T.add(new T4(Q,I,null,null,null));E+=1}else return!0}()?$APP.Lf($APP.Nf(u),d($APP.dd(f))):
$APP.Lf($APP.Nf(u),null)}var t=$APP.v(f),A=$APP.y.j(t,0,null),C=$APP.y.j(t,1,null);t=$APP.pn.h(function(){return function(E){return new S4($APP.iI.g(E),$APP.sK.g(E),null,null,null)}}(t,A,C,f,e),C);Ojb(A,t);return $APP.yf(new T4(A,t,null,null,null),d($APP.Id(f)))}return null}},null,null)}($APP.Ej($APP.N,Y3(Mjb,a)))}())};V4=function(a,b,c,d,e,f,m,p){this.Jd=a;this.Nd=b;this.Ld=c;this.Kd=d;this.Md=e;this.A=f;this.o=m;this.C=p;this.J=2230716170;this.M=139264};
Qjb=function(a){var b=$APP.Ll.l(a,W4,$APP.z([X4,Y4,Z4,$4]));b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new V4(W4.g(a),X4.g(a),Y4.g(a),Z4.g(a),$4.g(a),null,$APP.Wf(b),null)};Rjb=function(a){for(var b=$APP.Uf,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.F?(c=d,a=$APP.w(a)):(b=$APP.Il.F(b,new $APP.G(null,1,5,$APP.H,[c],null),$APP.Zm.h($APP.vf,$APP.Sg),d),a=$APP.w(a));else return b}};Sjb=function(a){var b=$APP.Jl.g(a);return a instanceof F4?b:null!=b?b instanceof g4?null:b:null};
Wjb=function(a,b,c){var d=$APP.Bi(Q4($APP.Sg,W4.g(a))),e=$APP.Bi(X4.g(a)),f=$APP.Bi(Q4($APP.Sg,Z4.g(a))),m=$APP.Bi(Q4($APP.Sg,$4.g(a)));f=$APP.cx.h($APP.qL.h(d,e),$APP.qL.h(m,f));d=$APP.dx.h(d,e);if(!$APP.ve(f))throw $APP.Yl.h(["Query for unknown vars: ",$APP.wj.l($APP.z([$APP.pn.h($APP.zm,f)]))].join(""),new $APP.h(null,3,[$APP.Kn,a5,$APP.iI,f,$APP.AB,b],null));if(!$APP.ve(d))throw $APP.Yl.h([":find and :with should not use same variables: ",$APP.wj.l($APP.z([$APP.pn.h($APP.zm,d)]))].join(""),new $APP.h(null,
3,[$APP.Kn,a5,$APP.iI,d,$APP.AB,b],null));d=Y4.g(a);if(null!=d){if(W4.g(a)instanceof B4)throw $APP.Yl.h([$APP.wj.l($APP.z([$APP.Ql.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));if(W4.g(a)instanceof A4)throw $APP.Yl.h([$APP.wj.l($APP.z([$APP.Ql.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));}d=b5.g(Y4.g(a));if(null!=d&&(e=y4(W4.g(a)),!$APP.x.h($APP.be(d),$APP.be(e))))throw $APP.Yl.h(["Count of ",
$APP.wj.l($APP.z([$APP.Ql.g(Y4.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.Kn,a5,Tjb,$APP.yf($APP.Ql.g(Y4.g(a)),d),Ujb,e,$APP.AB,b],null));if(1<$APP.be($APP.Pg.h($APP.Cb,new $APP.G(null,3,5,$APP.H,[$APP.ZB.g(c),$APP.ts.g(c),Vjb.g(c)],null))))throw $APP.Yl.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));var p=Q4($APP.Sg,Z4.g(a)),u=$3(function(A){return A instanceof f4},Z4.g(a)),t=$3(function(A){return A instanceof h4},Z4.g(a));
if(!$APP.k(function(){var A=a4(p);return $APP.k(A)?(A=a4(u),$APP.k(A)?a4(t):A):A}()))throw $APP.Yl.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));c=Q4($APP.Sg,X4.g(a));if(!$APP.k(a4(c)))throw $APP.Yl.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));c=Z3(function(A){return A instanceof f4},Z4.g(a),$APP.yi);d=Z3(function(A){return A instanceof f4},$4.g(a),$APP.yi);c=$APP.cx.h(d,c);if(!$APP.ve(c))throw $APP.Yl.h(["Where uses unknown source vars: ",
$APP.wj.l($APP.z([$APP.pn.h($APP.zm,c)]))].join(""),new $APP.h(null,3,[$APP.Kn,a5,$APP.iI,c,$APP.AB,b],null));c=$3(function(A){return A instanceof I4},$4.g(a));a=$3(function(A){return A instanceof h4},Z4.g(a));if(!$APP.ve(c)&&$APP.ve(a))throw $APP.Yl.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,b],null));};
Zjb=function(a){if($APP.Ae(a))var b=a;else if($APP.ze(a))b=Rjb(a);else throw $APP.Yl.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.Kn,a5,$APP.AB,a],null));var c=b,d=Ljb($APP.Uqa.h(c,$APP.Sg));b=Qjb(new $APP.h(null,5,[W4,yjb(Ujb.g(c)),X4,function(){var e=Xjb.g(c);if($APP.k(e)){var f=Y3(k4,e);if($APP.k(f))e=f;else throw $APP.Yl.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.Kn,Yjb,$APP.AB,e],null));}else e=null;return e}(),Y4,function(){var e=zjb($APP.ZB,
$APP.ZB.g(c));if($APP.k(e))return e;e=zjb($APP.ts,$APP.ts.g(c));return $APP.k(e)?e:zjb(Vjb,Vjb.g(c))}(),Z4,Cjb(function(){var e=$APP.fw.g(c);return $APP.k(e)?e:$APP.ve($3(Sjb,d))?$APP.Sg:new $APP.G(null,1,5,$APP.H,[vjb],null)}()),$4,d],null));Wjb(b,a,c);return b};c5=function(a,b,c,d,e,f){this.cf=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.C=f;this.J=2230716170;this.M=139264};d5=function(a,b,c,d,e){this.ta=a;this.zf=b;this.A=c;this.o=d;this.C=e;this.J=2230716170;this.M=139264};
$jb=function(a,b){return $APP.dx.h($APP.Bi($APP.qi(a)),$APP.Bi($APP.qi(b)))};akb=function(a,b){return $APP.x.h($APP.be(a),$APP.be(b))&&$APP.mg(function(c){return $APP.Re(b,c)},$APP.qi(a))&&$APP.mg(function(c){return $APP.Re(a,c)},$APP.qi(b))};bkb=function(a){return a instanceof $APP.q&&$APP.x.h("$",$APP.v($APP.Ei(a)))};e5=function(a){return a instanceof $APP.q&&$APP.x.h("?",$APP.v($APP.Ei(a)))};f5=function(a){return a instanceof $APP.F||"string"===typeof a};
ckb=function(a){return($APP.ze(a)||i0(a))&&$APP.x.h(2,$APP.be(a))&&f5($APP.v(a))};dkb=function(a,b,c,d){for(var e=b.length,f=d.length,m=Array(e+f),p=0;;)if(p<e)m[p]=a[b[p]],p+=1;else break;for(a=0;;)if(a<f)m[e+a]=c[d[a]],a+=1;else break;return m};
ekb=function(a,b,c,d){var e=$APP.cf(function(){return function u(p){return new $APP.Ff(null,function(){for(;;){var t=$APP.r(p);if(t){if($APP.Ee(t)){var A=$APP.cd(t),C=$APP.be(A),E=$APP.Hf(C);a:for(var I=0;;)if(I<C){var Q=$APP.oe(A,I),T=$APP.y.j(Q,0,null);Q=$APP.y.j(Q,1,null);$APP.Mf(E,new $APP.G(null,2,5,$APP.H,[Q,a.g?a.g(T):a.call(null,T)],null));I+=1}else{A=!0;break a}return A?$APP.Lf($APP.Nf(E),u($APP.dd(t))):$APP.Lf($APP.Nf(E),null)}A=$APP.v(t);E=$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(new $APP.G(null,
2,5,$APP.H,[A,a.g?a.g(E):a.call(null,E)],null),u($APP.Id(t)))}return null}},null,null)}(c)}()),f=$APP.af.h($APP.kn,$APP.si(a))+1;b=$APP.Vc($APP.af.j(function(m,p){for(var u=Array(f),t=$APP.r(e),A=null,C=0,E=0;;)if(E<C){var I=A.ha(null,E),Q=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);u[I]=p[Q];E+=1}else if(t=$APP.r(t))$APP.Ee(t)?(C=$APP.cd(t),t=$APP.dd(t),A=C,C=$APP.be(C)):(C=$APP.v(t),A=$APP.y.j(C,0,null),C=$APP.y.j(C,1,null),u[C]=p[A],t=$APP.w(t),A=null,C=0),E=0;else break;return $APP.Rg.h(m,u)},$APP.Tc($APP.cf(b)),
d));return new d5(a,b,null,null,null)};fkb=function(a){a=$APP.ej.h($APP.zm,$APP.cf($APP.Iy.g(Q4($APP.Sg,a))));return new d5($APP.Fi(a,$APP.Vn.D()),$APP.Sg,null,null,null)};g5=function(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=g5[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=g5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IBinding.in-\x3erel",a);}return a};
gkb=function(a,b){var c=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);c instanceof r4&&h5.g(c)instanceof f4?a=$APP.an.R(a,i5,$APP.ui,$APP.sp.h(c,new $APP.G(null,2,5,$APP.H,[h5,$APP.zm],null)),b):c instanceof r4&&h5.g(c)instanceof h4?(c=$APP.ui.j,b="string"===typeof b?$APP.Ym.g(b):b,Pjb(b),b=$APP.Ej($APP.he,b),a=c.call($APP.ui,a,$APP.qG,b)):a=$APP.an.F(a,j5,$APP.vf,g5(c,b));return a};
jkb=function(a,b,c){var d=$APP.be(b),e=$APP.be(c);if(d<e)throw $APP.Yl.h(["Extra inputs passed, expected: ",$APP.wj.l($APP.z([$APP.pn.h(function(f){return $APP.Jl.g($APP.se(f))},b)])),", got: ",$APP.wj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,hkb,$APP.oH,b,ikb,c],null));if(d>e)throw $APP.Yl.h(["Too few inputs passed, expected: ",$APP.wj.l($APP.z([$APP.pn.h(function(f){return $APP.Jl.g($APP.se(f))},b)])),", got: ",$APP.wj.l($APP.z([e]))].join(""),new $APP.h(null,3,[$APP.Kn,hkb,$APP.oH,b,
ikb,c],null));return $APP.af.j(gkb,a,$APP.Fi(b,c))};kkb=function(a,b){var c=a.g?a.g(b):a.call(null,b);if($APP.Re(k5,b)){if($APP.Ne(c)){var d=c|0;return function(e){e=e[d];return"number"===typeof e?e:$APP.ze(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return function(e){e=e[c];return"number"===typeof e?e:$APP.ze(e)?t2(l5,e):i0(e)?t2(l5,e):e}}return $APP.Ne(c)?(d=c|0,function(e){return e[d]}):function(e){return e[c]}};
m5=function(a,b){var c=$APP.be(b);if(1===c)return kkb(a,$APP.v(b));b=$APP.ys.g(b);for(var d=0;;)if(d<c)b[d]=kkb(a,b[d]),d+=1;else return function(e,f,m){return function(p){return $APP.Gs.g(f.map(function(){return function(u){return u.g?u.g(p):u.call(null,p)}}(e,f,m)))}}(d,b,c)};lkb=function(a,b){var c=$APP.Hd;return $APP.Vc($APP.af.j(function(d,e){var f=a.g?a.g(e):a.call(null,e);return $APP.Gh.j(d,f,$APP.vf.h($APP.B.j(d,f,c),e))},$APP.Tc($APP.Uf),b))};
o5=function(a,b){var c=n5.g(a),d=n5.g(b),e=x3.g(a),f=x3.g(b),m=$APP.cf($jb(x3.g(a),x3.g(b)));a=$APP.qi(e);b=$APP.Vc($APP.df(function(E,I){return $APP.k(e.g?e.g(I):e.call(null,I))?E:$APP.Rg.h(E,I)},$APP.Tc($APP.Sg),f));var p=$APP.bf($APP.si(e)),u=$APP.bf($APP.rj($APP.ej.g(f),b)),t=m5(e,m),A=m5(f,m),C=lkb(t,c);c=$APP.Vc($APP.af.j(function(E,I){var Q=A(I);Q=$APP.B.h(C,Q);return null==Q?E:$APP.af.j(function(T,Z){return $APP.Rg.h(T,dkb(Z,p,I,u))},E,Q)},$APP.Tc($APP.Sg),d));return new d5($APP.Fi($APP.K.h(a,
b),$APP.Vn.D()),c,null,null,null)};mkb=function(a,b){var c=$APP.Vf(a),d=$APP.B.h(c,x3);c=$APP.B.h(c,n5);var e=$APP.Vf(b);b=$APP.B.h(e,x3);e=$APP.B.h(e,n5);var f=$APP.cf($jb(d,b));b=m5(b,f);var m=lkb(b,e),p=m5(d,f);return $APP.ui.j(a,n5,$APP.Tg(function(u){u=p(u);return null==(m.g?m.g(u):m.call(null,u))},c))};p5=function(a,b){return $APP.ng(function(c){return $APP.Re(x3.g(c),b)?c:null},j5.g(a))};
nkb=function(a,b){if(e5(b)){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));if(null==a)return null;if(null==$APP.je(n5.g(c)))return b=$APP.B.h(x3.g(c),b),a[b]}return null};okb=function(a,b){return $APP.pn.h(function(c){var d=nkb(a,c);return $APP.k(d)?d:c},b)};
pkb=function(a,b){if(null!=a?$APP.vd===a.mj||(a.kd?0:$APP.Ib(w1,a)):$APP.Ib(w1,a)){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null),f=$APP.y.j(b,3,null);c=ckb(c)||f5(c)?s2(a,c):c;e=$APP.k($APP.k(e)?f5(d)&&r2(a,d)&&(ckb(e)||f5(e)):e)?s2(a,e):e;a=ckb(f)?s2(a,f):f;return $APP.el.j(new $APP.G(null,4,5,$APP.H,[c,d,e,a],null),0,$APP.be(b))}return b};
qkb=function(a,b,c){a=$APP.pn.h(function(d){return $APP.x.h(d,$APP.xH)||e5(d)?null:d},pkb(b,okb(a,c)));b=n1(b,a);c=$APP.Eh.h($APP.Uf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.ej.j($APP.Iw,c,new $APP.G(null,4,5,$APP.H,["e","a","v","tx"],null))));return new d5(c,b,null,null,null)};
rkb=function(a,b){a=$APP.Pg.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var m=$APP.v(e);if($APP.x.h(m,$APP.xH)||e5(m)||$APP.x.h(f,m))d=$APP.w(d),e=$APP.w(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Eh.h($APP.Uf,$APP.Pg.h(function(d){var e=$APP.y.j(d,0,null);$APP.y.j(d,1,null);return e5(e)},$APP.ej.j($APP.Iw,b,$APP.Vn.D())));return new d5(c,$APP.pn.h($APP.bf,a),null,null,null)};
skb=function(a,b,c){return(null!=b?$APP.vd===b.zk||(b.kd?0:$APP.Ib(ghb,b)):$APP.Ib(ghb,b))?qkb(a,b,c):rkb(b,c)};q5=function(a,b){for(var c=$APP.Sg;;){var d=$APP.v(a);if(null==d)return $APP.vf.h(c,b);$APP.k($APP.Wf($jb(x3.g(b),x3.g(d))))?(a=$APP.w(a),b=o5(d,b)):(a=$APP.w(a),c=$APP.vf.h(c,d))}};tkb=function(a,b){var c=p5(a,b);if(null==c)return null;a=$APP.v(n5.g(c));null==a?b=null:(c=x3.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};
ukb=function(a,b){return $APP.ng(function(c){return $APP.Re(x3.g(a),c)},b)};vkb=function(a,b){var c=$APP.Pg.h(function(e){return ukb(e,b)},j5.g(a)),d=$APP.af.h(r5,c);return new $APP.G(null,2,5,$APP.H,[$APP.an.j(a,j5,function(e){return $APP.is.h($APP.Bi(c),e)}),d],null)};
wkb=function(a,b,c,d){a=i5.g(a);b=x3.g(b);for(var e=$APP.be(d),f=Array(e),m=Array(e),p=0;;)if(p<e){var u=$APP.y.h(d,p);if(u instanceof $APP.q){var t=$APP.B.h(a,u);null==t?m[p]=$APP.B.h(b,u):f[p]=t}else f[p]=u;p+=1}else break;return c===$APP.Iw?function(A){for(var C=f.slice(0),E=0;;)if(E<e){var I=m[E];null!=I&&(C[E]=A[I]);E+=1}else break;return $APP.pg.h(c,C)}:function(A){for(var C=0;;)if(C<e){var E=m[C];null!=E&&(f[C]=A[E]);C+=1}else break;return $APP.pg.h(c,f)}};
xkb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c),f=function(){var u=$APP.B.h(Kib,d);if($APP.k(u))return u;u=tkb(a,d);if($APP.k(u))return u;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Yl.h(["Unknown predicate '",$APP.wj.l($APP.z([d]))," in ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,b,$APP.Vo,d],null));return null}();c=vkb(a,$APP.Pg.h($APP.Ad,e));var m=$APP.y.j(c,0,null),p=$APP.y.j(c,1,null);c=$APP.k(f)?function(){var u=wkb(m,
p,f,e);return $APP.an.j(p,n5,function(t){return $APP.Pg.h(u,t)})}():$APP.ui.j(p,n5,$APP.Sg);return $APP.an.F(m,j5,$APP.vf,c)};
ykb=function(a,b){var c=$APP.y.j(b,0,null);c=$APP.r(c);var d=$APP.v(c),e=$APP.w(c);c=$APP.y.j(b,1,null);var f=u4(c),m=function(){var t=$APP.B.h(Kib,d);if($APP.k(t))return t;t=tkb(a,d);if($APP.k(t))return t;if($APP.k(null))return null;if(null==p5(a,d))throw $APP.Yl.h(["Unknown function '",$APP.wj.l($APP.z([d]))," in ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,b,$APP.Vo,d],null));return null}();c=vkb(a,$APP.Pg.h($APP.Ad,e));var p=$APP.y.j(c,0,null),u=$APP.y.j(c,1,null);
c=$APP.k(m)?function(){var t=wkb(p,u,m,e),A=function(){return function I(E){return new $APP.Ff(null,function(){for(var Q=E;;)if(Q=$APP.r(Q)){if($APP.Ee(Q)){var T=$APP.cd(Q),Z=$APP.be(T),ba=$APP.Hf(Z);a:for(var da=0;;)if(da<Z){var ja=$APP.oe(T,da),la=t(ja);null!=la&&$APP.Mf(ba,r5.h(new d5(x3.g(u),new $APP.G(null,1,5,$APP.H,[ja],null),null,null,null),g5(f,la)));da+=1}else{T=!0;break a}return T?$APP.Lf($APP.Nf(ba),I($APP.dd(Q))):$APP.Lf($APP.Nf(ba),null)}ba=$APP.v(Q);T=t(ba);if(null!=T)return $APP.yf(r5.h(new d5(x3.g(u),
new $APP.G(null,1,5,$APP.H,[ba],null),null,null,null),g5(f,T)),I($APP.Id(Q)));Q=$APP.Id(Q)}else return null},null,null)}(n5.g(u))}();return $APP.ve(A)?r5.h(u,fkb(f)):$APP.af.h(t5,A)}():r5.h($APP.ui.j(u,n5,$APP.Sg),fkb(f));return $APP.an.F(p,j5,q5,c)};
zkb=function(a,b){if($APP.ze(b)){var c=bkb($APP.v(b))?$APP.ge(b):$APP.v(b);if(c instanceof $APP.q){if(e5(c)||$APP.Re(new $APP.xi(null,new $APP.h(null,6,[$APP.jt,null,$APP.LC,null,Jjb,null,R4,null,$APP.ot,null,$APP.xH,null],null),null),c))return!1;if($APP.Re($APP.qG.g(a),c))return!0;throw $APP.Yl.h(["Unknown rule '",$APP.wj.l($APP.z([c]))," in ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,s5,$APP.AB,b],null));}}return!1};
Bkb=function(a,b){var c=$APP.r(a),d=$APP.v(c),e=$APP.w(c),f=$APP.Bj.h(Akb,$APP.Pd),m=$APP.B.h($APP.qG.g(b),d);return function t(u){return new $APP.Ff(null,function(){for(;;){var A=$APP.r(u);if(A){var C=A;if($APP.Ee(C)){var E=$APP.cd(C),I=$APP.be(E),Q=$APP.Hf(I);return function(){for(var oa=0;;)if(oa<I){var za=$APP.oe(E,oa),ha=za,qa=$APP.r(ha),ua=$APP.v(qa),ya=$APP.w(qa),Oa=ua,Za=$APP.r(Oa),db=$APP.v(Za),gb=$APP.w(Za),eb=db,lb=gb,ib=ya,nb=$APP.Fi(lb,e);$APP.Mf(Q,$APP.Ct(function(Gb,Nb,$b,ec,Mc,pc,
Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Xf,Rd,sk,Yj,Aj,Gc,wd,Te,Kg,Jf,Yi,bh){return function(me){if(e5(me)){var Fg=xg.g?xg.g(me):xg.call(null,me);return null==Fg?$APP.kj.g([$APP.Ei(me),"__auto__",$APP.l.g(bh)].join("")):Fg}return me}}(oa,ha,qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb,za,E,I,Q,C,A,a,c,d,e,d,e,f,m),ib));oa+=1}else return!0}()?$APP.Lf($APP.Nf(Q),t($APP.dd(C))):$APP.Lf($APP.Nf(Q),null)}var T=$APP.v(C),Z=T,ba=$APP.r(Z),da=$APP.v(ba),ja=$APP.w(ba),la=da,xa=$APP.r(la),sa=$APP.v(xa),X=$APP.w(xa),S=sa,W=X,V=ja,Y=$APP.Fi(W,
e);return $APP.yf($APP.Ct(function(oa,za,ha,qa,ua,ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce){return function(rg){if(e5(rg)){var Jg=lb.g?lb.g(rg):lb.call(null,rg);return null==Jg?$APP.kj.g([$APP.Ei(rg),"__auto__",$APP.l.g(Ce)].join("")):Jg}return rg}}(Z,ba,da,ja,la,xa,sa,X,S,W,V,Y,T,C,A,a,c,d,e,d,e,f,m),V),t($APP.Id(C)))}return null}},null,null)}(m)};
Ckb=function(a,b){a=$APP.is.h(function(c){var d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);return $APP.x.h(d,c)},$APP.ej.j($APP.Iw,a,b));return new $APP.G(null,2,5,$APP.H,[$APP.ej.h($APP.v,a),$APP.ej.h($APP.ge,a)],null)};
Dkb=function(a,b){a=$APP.r(a);var c=$APP.v(a),d=$APP.w(a);return function m(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.Hf(t);a:for(var C=0;;)if(C<t){var E=$APP.oe(u,C),I=Ckb(d,E);E=$APP.y.j(I,0,null);I=$APP.y.j(I,1,null);$APP.Mf(A,new $APP.G(null,1,5,$APP.H,[$APP.K.l(new $APP.G(null,1,5,$APP.H,[u5],null),E,$APP.z([I]))],null));C+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),m($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);
u=Ckb(d,A);A=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);return $APP.yf(new $APP.G(null,1,5,$APP.H,[$APP.K.l(new $APP.G(null,1,5,$APP.H,[u5],null),A,$APP.z([u]))],null),m($APP.Id(p)))}return null}},null,null)}($APP.B.h(b,c))};v5=function(a){var b=$APP.yj.g($APP.Sg);$APP.Ct(function(c){$APP.k(e5.g?e5.g(c):e5.call(null,c))&&$APP.Bj.j(b,$APP.vf,c);return c},a);return $APP.n(b)};
Ekb=function(a,b){function c(e){e=$APP.y.j(e,0,null);e=$APP.r(e);$APP.v(e);e=$APP.w(e);return $APP.mg(d,e)}var d=$APP.Bi(v5(a));return new $APP.G(null,2,5,$APP.H,[$APP.Pg.h(c,b),$APP.is.h(c,b)],null)};
Gkb=function(a,b){function c(ya){return $APP.ng(function(Oa){return $APP.ve(n5.g(Oa))},j5.g(ya))}function d(ya,Oa){return $APP.af.j(w5,ya,Oa)}for(var e=$APP.Pg.h(e5,b),f=$APP.Fi(e,$APP.Vn.D()),m=new $APP.D(null,new $APP.h(null,5,[x5,$APP.Sg,y5,a,$APP.sK,new $APP.G(null,1,5,$APP.H,[b],null),z5,$APP.Uf,A5,$APP.Uf],null),null,1,null),p=new d5(f,$APP.Sg,null,null,null);;){var u=$APP.v(m);if(null==u)return p;var t=u,A=$APP.Pi(function(){return function(ya){return!zkb(a,ya)}}(m,p,t,u,e,f,d,c),$APP.sK.g(t)),
C=$APP.y.j(A,0,null),E=$APP.y.j(A,1,null),I=$APP.r(E),Q=$APP.v(I),T=$APP.w(I),Z=Q,ba=T;if(null==Z){b=d(y5.g(t),C);b=ugb($APP.cf,B5?B5(b,e):Fkb.call(null,b,e));var da=new d5(f,b,null,null,null);b=$APP.w(m);da=t5(p,da);m=b;p=da}else{var ja=Z,la=$APP.r(ja),xa=$APP.v(la),sa=$APP.w(la),X=xa,S=sa,W=Dkb(Z,z5.g(t)),V=Ekb($APP.K.h(x5.g(t),C),$APP.K.h(W,A5.g(t))),Y=$APP.y.j(V,0,null),oa=$APP.y.j(V,1,null);if($APP.k($APP.ng(function(){return function(ya){return $APP.x.h(ya,new $APP.G(null,1,5,$APP.H,[$APP.J(u5)],
null))}}(m,p,ja,la,xa,sa,X,S,W,V,Y,oa,A,C,E,I,Q,T,Z,ba,t,u,e,f,d,c),Y)))b=$APP.w(m),da=p,m=b,p=da;else{var za=$APP.K.h(C,Y),ha=d(y5.g(t),za);if($APP.k(c(ha)))b=$APP.w(m),da=p,m=b,p=da;else{var qa=$APP.ui.j(z5.g(t),X,$APP.vf.h($APP.B.j(z5.g(t),X,$APP.Sg),S)),ua=Bkb(Z,a);b=$APP.K.h(function(){return function(ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Xf,Rd,sk,Yj,Aj,Gc,wd){return function Jf(Kg){return new $APP.Ff(null,function(Yi,bh,me,Fg,Rl,zh,Di,Qn,tk,Aq,uk,np,Zj,Bq,Xe,Sl,
op,Lm,Zi,Lg,Mg,xd,of,Rc){return function(){for(;;){var Yf=$APP.r(Kg);if(Yf){if($APP.Ee(Yf)){var Cq=$APP.cd(Yf),Iu=$APP.be(Cq),Zf=$APP.Hf(Iu);a:for(var pp=0;;)if(pp<Iu){var vx=$APP.oe(Cq,pp);$APP.Mf(Zf,new $APP.h(null,5,[x5,Rl,y5,zh,$APP.sK,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([vx,Rc])),z5,me,A5,Sl],null));pp+=1}else{Cq=!0;break a}return Cq?$APP.Lf($APP.Nf(Zf),Jf($APP.dd(Yf))):$APP.Lf($APP.Nf(Zf),null)}Zf=$APP.v(Yf);return $APP.yf(new $APP.h(null,5,[x5,Rl,y5,zh,$APP.sK,$APP.Eh.j($APP.Sg,$APP.pj,$APP.z([Zf,
Rc])),z5,me,A5,Sl],null),Jf($APP.Id(Yf)))}return null}}}(ya,Oa,Za,db,gb,eb,lb,ib,nb,Gb,Nb,$b,ec,Mc,pc,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Xf,Rd,sk,Yj,Aj,Gc,wd),null,null)}}(m,p,qa,ua,za,ha,ja,la,xa,sa,X,S,W,V,Y,oa,A,C,E,I,Q,T,Z,ba,t,u,e,f,d,c)(ua)}(),$APP.w(m));da=p;m=b;p=da}}}}};Hkb=function(a,b){var c=$APP.y.j(b,0,null),d=$APP.y.j(b,1,null),e=$APP.y.j(b,2,null);b=$APP.y.j(b,3,null);c=e5(c)?$APP.vf.h($APP.yi,c):$APP.yi;c=e5(b)?$APP.vf.h(c,b):c;return e5(e)&&!e5(d)&&r2(a,d)?$APP.vf.h(c,e):c};
C5=function(a,b){return $APP.ui.j(a,j5,$APP.tn.h(function(c){var d=$APP.Wf($APP.vi(x3.g(c),b));return null==d?null:$APP.ui.j(c,x3,d)},j5.g(a)))};D5=function(a){return $APP.Eh.h($APP.yi,$APP.Og.l(function(b){return $APP.qi(x3.g(b))},$APP.z([j5.g(a)])))};
E5=function(a,b,c){if($APP.Zha(b,a))return null;a=$APP.cx.h($APP.Bi(b),a);throw $APP.Yl.h(["Insufficient bindings: ",$APP.wj.l($APP.z([a]))," not bound in ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,c,$APP.iI,a],null));};
Ikb=function(a,b,c){b=$APP.pn.h(function(d){return $APP.cx.h($APP.Bi(v5(d)),a)},b);if($APP.k($APP.pg.h($APP.x,b)))return null;throw $APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.wj.l($APP.z([b]))," in ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,c,$APP.iI,b],null));};
Jkb=function(a,b,c){for(var d=$APP.Bi($APP.is.h(a,b)),e=$APP.r(c),f=null,m=0,p=0;;)if(p<m){c=f.ha(null,p);var u=$APP.Wf($APP.cx.h(d,$APP.Bi(v5(c))));if(null!=u)throw e=u,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.wj.l($APP.z([e]))," not bound in ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,c,$APP.iI,e],null));p+=1}else if(c=$APP.r(e)){e=c;if($APP.Ee(e))f=$APP.cd(e),e=$APP.dd(e),c=f,m=$APP.be(f),f=c;else{c=$APP.v(e);
f=$APP.Wf($APP.cx.h(d,$APP.Bi(v5(c))));if(null!=f)throw e=f,$APP.yu.l($APP.z([c,a,b,d])),$APP.Yl.h(["All clauses in 'or' must use same set of free vars, had ",$APP.wj.l($APP.z([e]))," not bound in ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,3,[$APP.Kn,s5,$APP.AB,c,$APP.iI,e],null));e=$APP.w(e);f=null;m=0}p=0}else return null};Kkb=function(a,b){var c=l5;l5=$APP.B.h(i5.g(a),vjb);try{return $APP.af.j(F5,a,b)}finally{l5=c}};
Lkb=function(a,b,c,d){return $APP.rj($APP.oq.h($APP.ej.g(function(e){return $APP.rj($APP.ej.g(function(f){for(var m=$APP.Ob(e),p=0;;)if(p<c){var u=d[p];null!=u&&(m[p]=f[u]);p+=1}else break;return m}),n5.g(b))}),$APP.pj),a)};Fkb=function(a){switch(arguments.length){case 2:return B5(arguments[0],arguments[1]);case 3:return Mkb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
B5=function(a,b){a=j5.g(a);return Mkb(new $APP.G(null,1,5,$APP.H,[Array($APP.be(b))],null),a,b)};Mkb=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.ve(n5.g(d)))return $APP.Sg;var e=$APP.vi(x3.g(d),c);if($APP.ve(e))b=$APP.w(b);else{e=$APP.bf($APP.ej.h(function(m,p,u,t){return function(A){return $APP.B.h(t,A)}}(a,b,c,e,d),c));var f=$APP.be(c);a=Lkb(a,d,f,e);b=$APP.w(b)}}};Nkb=function(a,b){return $APP.Eh.j($APP.yi,$APP.ej.g($APP.cf),B5(a,b))};
G5=function(a,b){if(null!=a&&null!=a.yh)a=a.yh(a,b);else{var c=G5[$APP.ea(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=G5._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.Kb("IContextResolve.-context-resolve",a);}return a};
Okb=function(a,b,c){return $APP.pn.F(function(d,e,f){if(sjb(d)){e=G5($APP.Hn.g(d),b);d=$APP.ej.h(function(p){return G5(p,b)},$APP.Ci($APP.cn.g(d)));var m=$APP.ej.h(function(p){return $APP.y.h(p,f)},c);return $APP.pg.h(e,$APP.K.h(d,new $APP.G(null,1,5,$APP.H,[m],null)))}return e},a,$APP.v(c),$APP.Vn.D())};Pkb=function(a){var b=$APP.qg(sjb);return $APP.is.h($APP.yb,$APP.ej.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Vn.D()))};
Qkb=function(a,b,c){var d=Pkb(a);return function m(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.Hf(t);a:for(var C=0;;)if(C<t){var E=$APP.oe(u,C);$APP.y.j(E,0,null);E=$APP.y.j(E,1,null);$APP.Mf(A,Okb(a,b,E));C+=1}else{u=!0;break a}return u?$APP.Lf($APP.Nf(A),m($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}A=$APP.v(p);$APP.y.j(A,0,null);A=$APP.y.j(A,1,null);return $APP.yf(Okb(a,b,A),m($APP.Id(p)))}return null}},null,null)}($APP.Ej(function(f){return $APP.ej.h(function(m){return $APP.y.h(f,
m)},d)},c))};Rkb=function(a,b){return $APP.af.j(function(c,d){return $APP.vf.h(c,a.g?a.g(d):a.call(null,d))},$APP.ne(b),b)};Skb=function(a,b){var c=b5.g(a),d=$APP.Vn.h(0,$APP.be(c));return Rkb(function(e){return $APP.af.j(function(f,m){return $APP.ui.j(f,$APP.y.h(c,m),$APP.y.h(e,m))},$APP.Uf,d)},b)};
Tkb=function(a,b,c){if(null!=a&&null!=a.zh)a=a.zh(a,b,c);else{var d=Tkb[$APP.ea(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Tkb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Kb("IPostProcess.-post-process",a);}return a};
Ukb=function(a,b,c){var d=function(){return function m(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.Hf(t);return function(){for(var E=0;;)if(E<t){var I=$APP.oe(u,E),Q=A;if(tjb(I)){var T=G5($APP.Jl.g(I),b);I=G5($APP.LF.g(I),b);T=S3(T,I,null)}else T=null;Q.add(T);E+=1}else return!0}()?$APP.Lf($APP.Nf(A),m($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var C=$APP.v(p);return $APP.yf(tjb(C)?function(){var E=G5($APP.Jl.g(C),b),I=G5($APP.LF.g(C),
b);return S3(E,I,null)}():null,m($APP.Id(p)))}return null}},null,null)}(a)}();return function m(f){return new $APP.Ff(null,function(){for(;;){var p=$APP.r(f);if(p){var u=p;if($APP.Ee(u)){var t=$APP.cd(u),A=$APP.be(t),C=$APP.Hf(A);return function(){for(var I=0;;)if(I<A){var Q=$APP.oe(t,I);$APP.Mf(C,$APP.pn.j(function(){return function(T,Z){return $APP.k(T)?Q3(T,Z):Z}}(I,Q,t,A,C,u,p,d),d,Q));I+=1}else return!0}()?$APP.Lf($APP.Nf(C),m($APP.dd(u))):$APP.Lf($APP.Nf(C),null)}var E=$APP.v(u);return $APP.yf($APP.pn.j(function(){return function(I,
Q){return $APP.k(I)?Q3(I,Q):Q}}(E,u,p,d),d,E),m($APP.Id(u)))}return null}},null,null)}(c)};Vkb=function(a,b){if(a instanceof J1){var c=a.ib,d=a.Oc;return new J1(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.yj.g(0),null,null,null)}return new J1(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.yj.g(0),null,null,null)};Wkb=function(a,b,c,d){return s1(a,b,c,d)};Xkb=function(a){return $APP.n(a)};Ykb=function(a){return Wgb($APP.B1.g(a))};
H5=function H5(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H5.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};H5.l=function(a){return $APP.wca(a,$APP.ui.j($APP.sb(),$APP.jb,!1))};H5.B=0;H5.G=function(a){return this.l($APP.r(a))};Zkb=new $APP.q("datascript.core","squuid","datascript.core/squuid",-408746813,null);L1=new $APP.F("db.unique","identity","db.unique/identity",1675950722);M2=new $APP.F("db","retract","db/retract",-1549825231);
$kb=new $APP.q("datascript.db","IDatom","datascript.db/IDatom",293960966,null);alb=new $APP.F(null,"-store","-store",86010660);blb=new $APP.F(null,"incomparable","incomparable",1634329662);clb=new $APP.q(null,"datom-tx","datom-tx",1349109608,null);Vjb=new $APP.F(null,"strs","strs",1175537277);rhb=new $APP.F("db.cardinality","one","db.cardinality/one",1428352190);F2=new $APP.F("transact","upsert","transact/upsert",412688078);Y4=new $APP.F(null,"qreturn-map","qreturn-map",1841215994);
Yhb=new $APP.F("transact","schema","transact/schema",1426844139);dlb=new $APP.q(null,"datom-added","datom-added",-363961980,null);elb=new $APP.q(null,"entity?","entity?",555338193,null);flb=new $APP.q("datascript.core","filter","datascript.core/filter",-1276765471,null);I5=new $APP.F(null,"acc","acc",838566312);glb=new $APP.F("lookup-ref","unique","lookup-ref/unique",-960647710);U4=new $APP.F("parser","rule","parser/rule",-464044566);
hlb=new $APP.q("datascript.impl.entity","lookup-entity","datascript.impl.entity/lookup-entity",243995956,null);ilb=new $APP.q("datascript.core","q","datascript.core/q",2106686416,null);f3=new $APP.F(null,"db-last-stored","db-last-stored",-2068760702);jlb=new $APP.q(null,"added","added",-596784081,null);wjb=new $APP.F("parser","find","parser/find",-801023103);klb=new $APP.q(null,"entity","entity",1189561251,null);B3=new $APP.F(null,"wildcard?","wildcard?",-686044101);
I2=new $APP.F("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);llb=new $APP.q("datascript.storage","restore-impl","datascript.storage/restore-impl",1300814044,null);mlb=new $APP.q(null,"tail-addr","tail-addr",1565233666,null);nlb=new $APP.q("datascript.core","restore","datascript.core/restore",-655548009,null);a5=new $APP.F("parser","query","parser/query",1877320671);olb=new $APP.q(null,"_opts","_opts",1634624069,null);z3=new $APP.F(null,"last-attr","last-attr",-526000708);
Nhb=new $APP.F(null,"conflict","conflict",1978796605);plb=new $APP.F("db","fn","db/fn",-1175261470);qlb=new $APP.q("datascript.core","touch","datascript.core/touch",632058772,null);rlb=new $APP.q(null,"nbb.impl.datascript","nbb.impl.datascript",-1651830048,null);p3=new $APP.F(null,"recursion-limit","recursion-limit",52345639);slb=new $APP.q("datascript.storage","-restore","datascript.storage/-restore",708714346,null);O1=new $APP.F("db.type","ref","db.type/ref",-1728373079);
tlb=new $APP.q(null,"variance","variance",-1522424942,null);ulb=new $APP.q("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);vlb=new $APP.q("datascript.core","with","datascript.core/with",-1124098173,null);wlb=new $APP.F(null,"-restore","-restore",-515892319);G2=new $APP.F("db","id","db/id",-1388397098);xlb=new $APP.F("db.fn","retractAttribute","db.fn/retractAttribute",937402164);ylb=new $APP.q("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);
zlb=new $APP.F("lookup-ref","syntax","lookup-ref/syntax",-317304012);Alb=new $APP.q("datascript.storage","serializable-datom","datascript.storage/serializable-datom",33076367,null);Blb=new $APP.q("nbb.impl.datascript","-store","nbb.impl.datascript/-store",2093703726,null);Clb=new $APP.q("datascript.core","db","datascript.core/db",667170070,null);J5=new $APP.q(null,"addr","addr",42880790,null);Dlb=new $APP.q(null,"-index-range","-index-range",898114142,null);
Elb=new $APP.q(null,"settings","settings",-1098290894,null);g2=new $APP.F(null,"tx-data","tx-data",934159761);z5=new $APP.F(null,"used-args","used-args",23596256);Flb=new $APP.q("datascript.core","rseek-datoms","datascript.core/rseek-datoms",-1377097474,null);Glb=new $APP.q("nbb.impl.datascript","-restore","nbb.impl.datascript/-restore",1970738477,null);Hlb=new $APP.q(null,"make-storage-adapter","make-storage-adapter",937815346,null);$4=new $APP.F(null,"qwhere","qwhere",-1645067378);
S1=new $APP.F("db","ident","db/ident",-737096);h2=new $APP.F(null,"tempids","tempids",1767509089);W4=new $APP.F(null,"qfind","qfind",1529332972);Ilb=new $APP.q("datascript.core","serializable","datascript.core/serializable",-630048076,null);y5=new $APP.F(null,"prefix-context","prefix-context",-1269613591);Jlb=new $APP.q(null,"store-impl!","store-impl!",901017629,null);N1=new $APP.F("db.cardinality","many","db.cardinality/many",772806234);
C2=new $APP.F("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);Klb=new $APP.q("datascript.core","pull","datascript.core/pull",-1213970902,null);Llb=new $APP.q("datascript.impl.entity","entity?","datascript.impl.entity/entity?",1686472137,null);f2=new $APP.F(null,"db-after","db-after",-571884666);N4=new $APP.F("parser","where","parser/where",-966053850);Mlb=new $APP.q(null,"restore-impl","restore-impl",1420181842,null);K5=new $APP.F(null,"seen","seen",-518999789);
Nlb=new $APP.q("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);lhb=new $APP.F("db.unique","value","db.unique/value",276903088);Olb=new $APP.F("db","tupleTypes","db/tupleTypes",1512507626);Thb=new $APP.F("db.fn","retractEntity","db.fn/retractEntity",-1423535441);L5=new $APP.q(null,"attr","attr",1036399174,null);Plb=new $APP.q(null,"storage-adapter","storage-adapter",-1255219640,null);Qlb=new $APP.F("entity-id","missing","entity-id/missing",1234588374);
Rlb=new $APP.q("datascript.storage","storage-adapter","datascript.storage/storage-adapter",-1942259762,null);R4=new $APP.q(null,"or-join","or-join",591375469,null);Slb=new $APP.F("db.pull","reverse","db.pull/reverse",1999788297);Tlb=new $APP.q(null,"db-from-reader","db-from-reader",1527469533,null);Ulb=new $APP.q(null,"println-str","println-str",-2049216703,null);Yjb=new $APP.F("parser","with","parser/with",-386255821);Vlb=new $APP.q(null,"missing?","missing?",-1710383910,null);
Wlb=new $APP.q("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);Xlb=new $APP.q("datascript.core","reset-schema!","datascript.core/reset-schema!",-331506672,null);Ylb=new $APP.q("datascript.core","transact!","datascript.core/transact!",1506351773,null);t1=new $APP.F(null,"avet","avet",1383857032);M5=new $APP.q(null,"schema","schema",58529736,null);Zhb=new $APP.F(null,"entity","entity",-450970276);Zlb=new $APP.q(null,"serializable-datom","serializable-datom",451141133,null);
$lb=new $APP.q("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);Bjb=new $APP.F("parser","in","parser/in",1617442048);thb=new $APP.F(null,"init-db","init-db",1595181278);amb=new $APP.F(null,"addresses","addresses",-559529694);Z0=new $APP.F(null,"cmp","cmp",575646375);I1=new $APP.F(null,"hash","hash",-13781596);bmb=new $APP.q(null,"with","with",104234651,null);t3=new $APP.F(null,"multival?","multival?",1072388383);Fib=new $APP.F("parser","pull","parser/pull",-2147427204);
N5=new $APP.q(null,"tx","tx",2107161945,null);cmb=new $APP.q("datascript.core","store","datascript.core/store",1386427333,null);e3=new $APP.F(null,"tx-tail","tx-tail",1116487556);dmb=new $APP.q(null,"reset-conn!","reset-conn!",1315177148,null);O4=new $APP.F(null,"rule-vars","rule-vars",1665972520);X1=new $APP.F("db","valueType","db/valueType",1827971944);Chb=new $APP.F("retract","schema","retract/schema",1546437764);C1=new $APP.F(null,"aevt","aevt",-585148059);
emb=new $APP.F("datascript","db","datascript/db",-1190971692);O5=new $APP.q(null,"-store","-store",1726542187,null);fmb=new $APP.F(null,"thaw-fn","thaw-fn",-240544261);P5=new $APP.F(null,"binding","binding",539932593);Mhb=new $APP.F(null,"assertion","assertion",-1645134882);$APP.b2=new $APP.F(null,"datoms","datoms",-290874434);ujb=new $APP.q(null,"pull","pull",779986722,null);$0=new $APP.F(null,"set-metadata","set-metadata",1293757705);
gmb=new $APP.q("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);hmb=new $APP.q(null,"untuple","untuple",-606149900,null);Q5=new $APP.q(null,"c0","c0",2105080311,null);imb=new $APP.q(null,"index-range","index-range",1044940937,null);u5=new $APP.q(null,"-differ?","-differ?",1465687357,null);P1=new $APP.F("db","isComponent","db/isComponent",423352398);R5=new $APP.q(null,"db","db",-1661185010,null);jmb=new $APP.q(null,"sample","sample",1719555128,null);
S5=new $APP.q(null,"datom","datom",1268975437,null);kmb=new $APP.F(null,"serialize","serialize",-69216574);Q1=new $APP.F("db","tupleAttrs","db/tupleAttrs",250080092);q3=new $APP.F(null,"recursive?","recursive?",1340075244);lmb=new $APP.q(null,"conn","conn",1918841190,null);mmb=new $APP.F(null,"thaw-kw","thaw-kw",1076733097);A5=new $APP.F(null,"pending-guards","pending-guards",-1255527308);nmb=new $APP.F("query","binding","query/binding",698240489);
gib=new $APP.F(null,"avet-metadata","avet-metadata",1556019837);Tjb=new $APP.F(null,"return-map","return-map",1620104901);omb=new $APP.q("datascript.core","seek-datoms","datascript.core/seek-datoms",1389812273,null);n5=new $APP.F(null,"tuples","tuples",-676032639);pmb=new $APP.q("datascript.core","settings","datascript.core/settings",273729994,null);T5=new $APP.F(null,"branches","branches",-1240337268);
qmb=new $APP.q("datascript.storage","maybe-adapt-storage","datascript.storage/maybe-adapt-storage",-1480358933,null);U5=new $APP.q(null,"datoms","datoms",1349657093,null);rmb=new $APP.F("transact","cas","transact/cas",816687170);smb=new $APP.q("clojure.string","blank?","clojure.string/blank?",1772874244,null);tmb=new $APP.F(null,"listeners","listeners",394544445);umb=new $APP.q(null,"validate-schema","validate-schema",758884380,null);$APP.B1=new $APP.F(null,"eavt","eavt",-666437073);
D1=new $APP.F(null,"max-eid","max-eid",2134868075);vmb=new $APP.q("datascript.storage","store","datascript.storage/store",-769865397,null);wmb=new $APP.q("datascript.core","index-range","datascript.core/index-range",-1484576383,null);xmb=new $APP.F("db","retractEntity","db/retractEntity",-1452737935);ymb=new $APP.q("datascript.core","listen!","datascript.core/listen!",1659161258,null);V1=new $APP.F(null,"attribute","attribute",-2074029119);$APP.A1=new $APP.F(null,"schema","schema",-1582001791);
zmb=new $APP.q(null,"maybe-adapt-storage","maybe-adapt-storage",-554097303,null);Amb=new $APP.q("datascript.db","DB","datascript.db/DB",348347258,null);Bmb=new $APP.q("datascript.storage","store-tail","datascript.storage/store-tail",-1145162646,null);Cmb=new $APP.q("datascript.storage","-\x3eStorageAdapter","datascript.storage/-\x3eStorageAdapter",152620751,null);Dmb=new $APP.q("datascript.db","Datom","datascript.db/Datom",1951800754,null);
V5=new $APP.F(null,"recursion-limits","recursion-limits",1762857814);Qib=new $APP.q(null,"...","...",-1926939749,null);cjb=new $APP.F(null,"freeze-kw","freeze-kw",391758233);R1=new $APP.F("db.type","tuple","db.type/tuple",938234914);Emb=new $APP.q(null,"lookup-entity","lookup-entity",-936060612,null);M1=new $APP.F("db","index","db/index",-1531680669);eib=new $APP.F(null,"max-addr","max-addr",1373100454);bjb=new $APP.F(null,"freeze-fn","freeze-fn",-575885995);
Fmb=new $APP.q("datascript.core","db-with","datascript.core/db-with",-1263574350,null);qib=new $APP.F(null,"skip-store?","skip-store?",-484019625);Gmb=new $APP.q(null,"db-with-tail","db-with-tail",-1072910014,null);Hmb=new $APP.q("datascript.impl.entity","Entity","datascript.impl.entity/Entity",920807502,null);Ugb=new $APP.F(null,"ref-type","ref-type",-1367328851);K1=new $APP.F("db","unique","db/unique",329396388);Imb=new $APP.F("entity-id","syntax","entity-id/syntax",1921317045);
hib=new $APP.F(null,"eavt-metadata","eavt-metadata",-1384819842);i5=new $APP.F(null,"sources","sources",-321166424);Jmb=new $APP.F("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);W5=new $APP.q(null,"delete-addrs","delete-addrs",742195107,null);fib=new $APP.F(null,"aevt-metadata","aevt-metadata",-1844063817);i2=new $APP.F(null,"tx-meta","tx-meta",1159283194);Kmb=new $APP.q(null,"pull-many","pull-many",1857679657,null);
Lmb=new $APP.q(null,"conn-from-db","conn-from-db",-184109372,null);Mmb=new $APP.q(null,"ground","ground",-1460862835,null);Nmb=new $APP.q("datascript","Datom","datascript/Datom",-901340080,null);gjb=new $APP.F("parser","rule-var","parser/rule-var",-1584354459);K2=new $APP.F("datascript.db","upserted-tempids","datascript.db/upserted-tempids",-1939648402);Omb=new $APP.q("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);Pmb=new $APP.F(null,"new","new",-2085437848);
Qmb=new $APP.q("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);Rmb=new $APP.q(null,"stddev","stddev",775056588,null);A2=new $APP.F(null,"entity-id","entity-id",1485898093);Smb=new $APP.q(null,"store-tail","store-tail",-757879320,null);Tmb=new $APP.F("db","cas","db/cas",-451542322);Umb=new $APP.q("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);E1=new $APP.F(null,"max-tx","max-tx",1119558339);
Vmb=new $APP.F("db","tupleType","db/tupleType",448013354);y3=new $APP.F(null,"first-attr","first-attr",-1993039831);u3=new $APP.F(null,"ref?","ref?",1932693720);Wmb=new $APP.q(null,"sum","sum",1777518341,null);X5=new $APP.F(null,"attr","attr",-604132353);R3=new $APP.F(null,"visitor","visitor",-1026865865);Y5=new $APP.F(null,"elements","elements",657646735);Xmb=new $APP.F("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);s5=new $APP.F("query","where","query/where",-1935159429);
Ymb=new $APP.q("datascript.storage","-store","datascript.storage/-store",-1879938067,null);E2=new $APP.F(null,"context","context",-830191113);Zmb=new $APP.q("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);$mb=new $APP.q("datascript.storage","store-impl!","datascript.storage/store-impl!",1553932187,null);anb=new $APP.q(null,"!\x3d","!\x3d",-201205829,null);j5=new $APP.F(null,"rels","rels",1770187185);
bnb=new $APP.q("datascript.core","init-db","datascript.core/init-db",1493526573,null);e2=new $APP.F(null,"db-before","db-before",-553691536);cnb=new $APP.q(null,"adapter","adapter",444204808,null);O2=new $APP.F("datascript.db","value-tempids","datascript.db/value-tempids",244806162);Hhb=new $APP.F(null,"datom","datom",-371556090);Vgb=new $APP.F(null,"strong","strong",269529E3);Ghb=new $APP.F("transact","unique","transact/unique",-940992320);
dnb=new $APP.q("datascript.db","datom","datascript.db/datom",399198004,null);enb=new $APP.q(null,"seek-datoms","seek-datoms",-1423344839,null);fnb=new $APP.F(null,"old","old",-1825222690);gnb=new $APP.F("db.pull","attr","db.pull/attr",-533298746);$2=new $APP.F(null,"db","db",993250759);hnb=new $APP.q("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);Xib=new $APP.F("db.pull","wildcard","db.pull/wildcard",116316031);G1=new $APP.F(null,"pull-patterns","pull-patterns",-343695048);
inb=new $APP.q("datascript.storage","restore","datascript.storage/restore",1486895617,null);jnb=new $APP.q(null,"init-db","init-db",-1059254491,null);knb=new $APP.F(null,"internal-ctor","internal-ctor",937392560);lnb=new $APP.q(null,"datom-from-reader","datom-from-reader",1334075127,null);h5=new $APP.F(null,"variable","variable",-281346492);mnb=new $APP.q(null,"restore-conn","restore-conn",-1560700042,null);nnb=new $APP.q(null,"transact!","transact!",817805717,null);
phb=new $APP.F("db","attrTuples","db/attrTuples",860541631);v3=new $APP.F(null,"component?","component?",407783990);vjb=new $APP.q(null,"$","$",-1580747756,null);xjb=new $APP.q(null,"aggregate","aggregate",-1142967327,null);H2=new $APP.F("db","add","db/add",235286841);H1=new $APP.F(null,"pull-attrs","pull-attrs",-974863177);kib=new $APP.F(null,"tx","tx",466630418);qjb=new $APP.F("parser","binding","parser/binding",-346395752);
onb=new $APP.q("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);pnb=new $APP.q(null,"map-\x3eStorageAdapter","map-\x3eStorageAdapter",1827547664,null);Z5=new $APP.F(null,"element","element",1974019749);qnb=new $APP.q("datascript.storage","map-\x3eStorageAdapter","datascript.storage/map-\x3eStorageAdapter",1938064274,null);$5=new $APP.q(null,"DB","DB",1622874957,null);rnb=new $APP.q(null,"get-some","get-some",409442058,null);
y2=new $APP.F("datascript.db","reverse-tempids","datascript.db/reverse-tempids",1165824950);snb=new $APP.q(null,"avg","avg",1837937727,null);a6=new $APP.F(null,"unfiltered-db","unfiltered-db",-1363720391);x3=new $APP.F(null,"attrs","attrs",-2090668713);ihb=new $APP.F(null,"components","components",-1073188942);X0=new $APP.F(null,"storage","storage",1867247511);tnb=new $APP.q(null,"StorageAdapter","StorageAdapter",106942083,null);b1=new $APP.F(null,"branching-factor","branching-factor",1903198601);
unb=new $APP.q(null,"create-conn","create-conn",2071410861,null);vnb=new $APP.q("datascript.storage","tail-addr","datascript.storage/tail-addr",1147435392,null);s3=new $APP.F(null,"xform","xform",-1725711008);Jjb=new $APP.q(null,"not-join","not-join",-645515756,null);X4=new $APP.F(null,"qwith","qwith",-45809392);Xjb=new $APP.F(null,"with","with",-1536296876);wnb=new $APP.q("datascript.core","datoms","datascript.core/datoms",961250077,null);ljb=new $APP.F("parser","rule-vars","parser/rule-vars",-1493174969);
xnb=new $APP.q("datascript.core","tx0","datascript.core/tx0",1432817831,null);ynb=new $APP.q("datascript.core","entity","datascript.core/entity",-1406213973,null);A3=new $APP.F(null,"reverse-attrs","reverse-attrs",630097702);U1=new $APP.F("schema","validation","schema/validation",1178447161);ikb=new $APP.F(null,"got","got",-1674745710);b6=new $APP.q(null,"Datom","Datom",1208901035,null);r3=new $APP.F(null,"reverse?","reverse?",-1672868474);hkb=new $APP.F("query","inputs","query/inputs",1042810394);
Y1=new $APP.F("db","cardinality","db/cardinality",-104975659);znb=new $APP.q(null,"serializable","serializable",1941609404,null);Anb=new $APP.q("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);Bnb=new $APP.q(null,"count-distinct","count-distinct",-1566572514,null);Cnb=new $APP.q("datascript.storage","storage","datascript.storage/storage",-366769060,null);Dnb=new $APP.q(null,"listen!","listen!",-115577950,null);
Enb=new $APP.q("datascript.storage","IStorage","datascript.storage/IStorage",247541567,null);Fnb=new $APP.q("datascript.storage","make-storage-adapter","datascript.storage/make-storage-adapter",521032624,null);Gnb=new $APP.q(null,"db-with","db-with",233242042,null);c6=new $APP.F("db.fn","call","db.fn/call",-151594418);Hnb=new $APP.q(null,"force?","force?",-815397094,null);x5=new $APP.F(null,"prefix-clauses","prefix-clauses",1294180028);Inb=new $APP.F("db","doc","db/doc",1913350069);
Jnb=new $APP.q(null,"touch","touch",-1158163300,null);Knb=new $APP.q("datascript.core","datom","datascript.core/datom",-1596234155,null);Ahb=new $APP.F("db","current-tx","db/current-tx",1600722132);Lnb=new $APP.q(null,"reset-schema!","reset-schema!",1937111832,null);Mnb=new $APP.q("datascript.core","restore-conn","datascript.core/restore-conn",-877528562,null);Nnb=new $APP.q("datascript.storage","db-with-tail","datascript.storage/db-with-tail",-1156179008,null);
Onb=new $APP.F(null,"operation","operation",-1267664310);hhb=new $APP.F(null,"index-access","index-access",-1548960265);Z4=new $APP.F(null,"qin","qin",1372651151);d6=new $APP.q(null,"storage","storage",-787188258,null);b5=new $APP.F(null,"symbols","symbols",1211743);Pnb=new $APP.q(null,"squuid","squuid",-1898207797,null);C3=new $APP.F(null,"fragment","fragment",826775688);Qnb=new $APP.F("transaction","filtered","transaction/filtered",1699706605);
N2=new $APP.F("datascript.db","internal","datascript.db/internal",-249301114);F1=new $APP.F(null,"rschema","rschema",-1196134054);Rnb=new $APP.q(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);e6=new $APP.q(null,"addr+data-seq","addr+data-seq",1516602343,null);Snb=new $APP.q(null,"store","store",-1142205747,null);Tnb=new $APP.q(null,"median","median",-2084869638,null);Unb=new $APP.q("clojure.string","includes?","clojure.string/includes?",-1842146260,null);
Vnb=new $APP.q(null,"restore","restore",1907703951,null);Wnb=new $APP.q(null,"empty-db","empty-db",1486862004,null);p2=new $APP.F("transact","syntax","transact/syntax",-299207078);f6=new $APP.q(null,"-restore","-restore",1124639208,null);Ujb=new $APP.F(null,"find","find",496279456);B2=new $APP.F(null,"a","a",-2123407586);Xnb=new $APP.q("datascript","DB","datascript/DB",-487332776,null);Pib=new $APP.F(null,"*","*",-1294732318);o4=new $APP.F(null,"free","free",801364328);
Ynb=new $APP.q(null,"G__46177","G__46177",-51945716,null);Znb=new $APP.F("db.fn","cas","db.fn/cas",-379352172);a1=new $APP.F(null,"shift","shift",997140064);$nb=new $APP.q(null,"tx0","tx0",-4656209,null);Njb=new $APP.F(null,"rule","rule",729973257);aob=new $APP.q(null,"rseek-datoms","rseek-datoms",857788390,null);bob=new $APP.q(null,"from-serializable","from-serializable",945516427,null);cob=new $APP.q(null,"resolve-datom","resolve-datom",-294110827,null);
dob=new $APP.q(null,"datascript.storage.IStorage","datascript.storage.IStorage",348000814,null);eob=new $APP.q(null,"IStorage","IStorage",668238001,null);fob=new $APP.q(null,"get-else","get-else",1312024065,null);o3=new $APP.F(null,"limit","limit",-1355822363);gob=new $APP.q(null,"-\x3eStorageAdapter","-\x3eStorageAdapter",269379393,null);hob=new $APP.q("datascript.core","pull-many","datascript.core/pull-many",394351057,null);g6=new $APP.q(null,"Entity","Entity",1953938502,null);var qgb=new $APP.xi(null,new $APP.h(null,12,[M1,null,K1,null,X1,null,Vmb,null,Olb,null,new $APP.F("db","noHistory","db/noHistory",-1975127444),null,P1,null,new $APP.F("db.install","_attribute","db.install/_attribute",1853441294),null,Y1,null,Inb,null,S1,null,Q1,null],null),null),Ihb=new $APP.xi(null,new $APP.h(null,11,[M1,null,K1,null,X1,null,Vmb,null,Olb,null,P1,null,Y1,null,Inb,null,G2,null,S1,null,Q1,null],null),null),qhb=new $APP.xi(null,new $APP.h(null,7,[new $APP.F("db.type","number","db.type/number",
-508502688),null,new $APP.F("db.type","instant","db.type/instant",-1024769248),null,R1,null,new $APP.F("db.type","uuid","db.type/uuid",1543195203),null,new $APP.F("db.type","string","db.type/string",1432572808),null,new $APP.F("db.type","keyword","db.type/keyword",205926793),null,O1,null],null),null);$APP.g=b0.prototype;$APP.g.O=function(a,b,c){return tgb.j?tgb.j(this,b,c):tgb.call(null,this,b,c)};$APP.g.ga=function(a,b){return $APP.dc(this.wg,b)};$APP.g.ba=function(a,b){return $APP.Gx(this.wg,b,null)};$APP.g.K=function(a,b,c){return $APP.Gx(this.wg,b,c)};$APP.g.W=function(a,b,c){return $APP.Nc(this.wg,b,c)};d0.prototype.V=function(a,b){return new d0(this.Jb,this.Hg,b)};d0.prototype.U=function(){return this.en};
d0.prototype.Ak=function(a,b,c){a=$APP.B.j($APP.n(this.Hg),b,null);if(null==a)return c=c.D?c.D():c.call(null),$APP.kd(this.Hg,$APP.ui.j($APP.n(this.Hg),b,c)),c;$APP.kd(this.Hg,$APP.ui.j($APP.n(this.Hg),b,a));return a};var h6=function h6(a){switch(arguments.length){case 0:return h6.D();case 1:return h6.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};h6.D=function(){return h6.g((new Date).getTime())};
h6.g=function(a){return $APP.ck([$APP.l.g(f0(a/1E3|0,8)),"-",$APP.l.g(f0($APP.Cj(65536),4)),"-",$APP.l.g(f0($APP.Cj(65536)&4095|16384,4)),"-",$APP.l.g(f0($APP.Cj(65536)&16383|32768,4)),"-",$APP.l.g(f0($APP.Cj(65536),4)),$APP.l.g(f0($APP.Cj(65536),4)),$APP.l.g(f0($APP.Cj(65536),4))].join(""))};h6.B=1;var Rhb=$APP.Zm.h($APP.vf,$APP.Sg),ohb=$APP.Zm.h($APP.vf,$APP.yi);var Bgb=Math.pow(2,31),S0=Math.pow(2,5),z0=S0/2,Pgb=S0+z0>>>1,zgb=S0-1,Agb=h0($APP.ej.h(function(a){return Math.pow(2,a)},$APP.Vn.j(0,52,5)));$APP.g=D0.prototype;$APP.g.zg=function(a,b){var c=this;C0(this,$APP.be(c.children));$APP.Qy.g($APP.xu.h(function(d,e){var f=c.children[d];e=$APP.k(f)?(e=null==e)?e:f.$g:f;return $APP.k(e)?(f=A0(f,b),c.zd[d]=f):null},c.zd));a=k0(b,this,c.Ab);c.$g=!1;return c.Ab=a};$APP.g.Cj=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};
$APP.g.Ej=function(a,b,c){C0(this,$APP.be(this.children));C0(b,$APP.be(b.children));a=b.Ab;$APP.k(a)&&l0(c,new $APP.G(null,1,5,$APP.H,[a],null));return E0(this.keys.concat(b.keys),this.children.concat(b.children),this.zd.concat(b.zd),this.Ab,!0)};$APP.g.Fj=function(a,b){C0(this,$APP.be(this.children));C0(b,$APP.be(b.children));a=q0(this.keys,b.keys);var c=q0(this.children,b.children),d=q0(this.zd,b.zd);return r0(E0(a[0],c[0],d[0],this.Ab,!0),E0(a[1],c[1],d[1],b.Ab,!0))};
$APP.g.Zf=function(a,b){if($APP.x.h(-1,a))return null;var c=$APP.k(this.zd)?this.zd[a]:null;$APP.Bb(this.children[a])?(b=j0(b,c),this.children[a]=b):$APP.k($APP.k(b)?c:b)&&ygb(b,c);return this.children[a]};$APP.g.Dj=function(a,b,c,d){a=Egb(b,this.keys,c);a=this.Zf(a,d);return $APP.k(a)?w0(a,b,c,d):null};
$APP.g.Aj=function(a,b,c,d){C0(this,$APP.be(this.children));a=o0(b,this.keys,this.keys.length-2,c);var e=this.Zf(a,d);c=$APP.k(e)?x0(e,b,c,d):null;if($APP.k(c)){d=this.keys;e=a+1;var f=c.map(s0);b=Ggb(b,d,a,e,f,f.length)?d:p0(d,a,e,f);d=p0(this.children,a,a+1,c);a=p0(this.zd,a,a+1,B0(c));if(d.length<=S0)return[E0(b,d,a,this.Ab,!0)];c=d.length>>>1;return[E0(b.slice(0,c),d.slice(0,c),a.slice(0,c),this.Ab,!0),E0(b.slice(c),d.slice(c),a.slice(c),null,!0)]}return null};
$APP.g.Bj=function(a,b,c,d,e,f,m){C0(this,$APP.be(this.children));var p=Egb(b,this.keys,c);if(-1===p)return null;var u=this.Zf(p,m);a=0<=p-1?this.Zf(p-1,m):null;var t=p+1<this.children.length?this.Zf(p+1,m):null;c=y0(u,b,c,!1,a,t,m);return $APP.k(c)?(a=$APP.k(a)?p-1:p,p=$APP.k(t)?2+p:1+p,t=this.keys,u=c.map(s0),b=Ggb(b,t,a,p,u,u.length)?t:p0(t,a,p,u),t=p0(this.children,a,p,c),c=p0(this.zd,a,p,B0(c)),p>a&&(a=$APP.cx.h($APP.Bi($APP.is.h($APP.yb,this.zd.slice(a,p))),$APP.Bi($APP.is.h($APP.yb,c))),$APP.k($APP.k(m)?
$APP.r(a):m)&&l0(m,a)),Igb(E0(b,t,c,this.Ab,!0),d,e,f,m)):null};var W0=function W0(a){switch(arguments.length){case 1:return W0.g(arguments[0]);case 2:return W0.h(arguments[0],arguments[1]);case 3:return W0.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};W0.g=function(a){return W0.h(a,null)};W0.h=function(a,b){return W0.j(a,b,!0)};W0.j=function(a,b,c){return new Jgb(a,b,c)};W0.B=3;$APP.g=Jgb.prototype;
$APP.g.zg=function(a,b){a=this.$g;return $APP.k($APP.k(a)?a:null==this.Ab)?(b=k0(b,this,this.Ab),this.$g=!1,this.Ab=b):this.Ab};$APP.g.Cj=function(){var a=this.keys;return a[a.length-1]};$APP.g.Hk=function(){return this.keys.length};$APP.g.Ej=function(a,b,c){a=b.Ab;$APP.k(a)&&l0(c,new $APP.G(null,1,5,$APP.H,[a],null));return W0.h(this.keys.concat(b.keys),this.Ab)};$APP.g.Fj=function(a,b){a=q0(this.keys,b.keys);return r0(W0.h(a[0],this.Ab),W0.h(a[1],b.Ab))};$APP.g.Zf=function(a){return this.keys[a]};
$APP.g.Dj=function(a,b,c,d){a=Dgb(b,this.keys,c);return-1===a?null:this.Zf(a,d)};$APP.g.Aj=function(a,b,c){a=o0(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:d===S0?(b=d+1>>>1,a>b?[W0.h(this.keys.slice(0,b),this.Ab),W0.g(Fgb(this.keys,b,d,a,a,[c]))]:[W0.h(Fgb(this.keys,0,b,a,a,[c]),this.Ab),W0.g(this.keys.slice(b,d))]):[W0.h(p0(this.keys,a,a,[c]),this.Ab)]};
$APP.g.Bj=function(a,b,c,d,e,f,m){a=Dgb(b,this.keys,c);if(-1===a)return null;a=p0(this.keys,a,a+1,[]);return Igb(W0.h(a,this.Ab),d,e,f,m)};$APP.g=$APP.G0.prototype;$APP.g.tf=function(){var a=this.root;return $APP.k(a)?a:$APP.k(this.Ab)?this.root=a=j0(this.storage,this.Ab):null};$APP.g.toString=function(){return $APP.od(this)};$APP.g.ba=function(a,b){this.tf(null);return w0(this.root,this.td,b,this.storage)};
$APP.g.K=function(a,b,c){this.tf(null);a=w0(this.root,this.td,b,this.storage);return $APP.k(a)?a:c};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.dj,"#{"," ","}",c,$APP.r(this))};$APP.g.U=function(){return this.P};$APP.g.ca=function(){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,this.P,this.Ad,this.Ab)};$APP.g.aa=function(){return this.T};$APP.g.Bd=function(){return $APP.Ec(P0.g?P0.g(this):P0.call(null,this))};$APP.g.Y=function(){var a=this.Ad;return null!=a?a:this.Ad=a=$APP.Md(this)};
$APP.g.S=function(a,b){var c=this;return $APP.xe(b)&&this.T===$APP.be(b)&&$APP.mg(function(d){return $APP.Re(c,d)},b)};$APP.g.mf=function(){return this};$APP.g.Oa=function(){return new $APP.G0(this.storage,W0.g([]),0,0,this.td,this.P,null,null)};$APP.g.bi=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.lb=function(a,b){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Hx(a,b):b.D?b.D():b.call(null)};
$APP.g.gb=function(a,b,c){a=P0.g?P0.g(this):P0.call(null,this);return $APP.k(a)?$APP.Hx(a,b,c):c};$APP.g.Oe=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.Df=function(){return this};$APP.g.zg=function(a,b){null==this.storage&&(this.storage=b);this.tf(null);null==this.Ab&&(this.Ab=A0(this.root,this.storage));return this.Ab};$APP.g.Z=function(){return P0.g?P0.g(this):P0.call(null,this)};
$APP.g.ej=function(a,b){return U0.j?U0.j(this,b,this.td):U0.call(null,this,b,this.td)};$APP.g.V=function(a,b){return new $APP.G0(this.storage,this.root,this.shift,this.T,this.td,b,this.Ad,this.Ab)};$APP.g.da=function(a,b){return T0.j?T0.j(this,b,this.td):T0.call(null,this,b,this.td)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};
$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return this.ba(null,a)};$APP.g.h=function(a,b){return this.K(null,a,b)};
var L0=function L0(a,b,c,d){var f=m0(c,d);if(0<d){var m=H0(b,f,a.storage),p=d-1;a=L0.F?L0.F(a,m,c,p):L0.call(null,a,m,c,p);return null==a?f+1<b.children.length?n0(0,d,f+1):null:n0(a,d,f)}return f+1<b.keys.length?n0(0,0,f+1):null},N0=function N0(a,b,c,d){var f=m0(c,d);if(0===d&&0===f)return null;if(0===d)return n0(0,0,f-1);if(f>=t0(b))return K0(b,c,d,a.storage);var m=H0(b,f,a.storage);var p=d-1;m=N0.F?N0.F(a,m,c,p):N0.call(null,a,m,c,p);if(null!=m)return n0(m,d,f);if(0===f)return null;a=K0(H0(b,f-
1,a.storage),c,d-1,a.storage);return n0(a,d,f-1)};$APP.g=Lgb.prototype;$APP.g.aa=function(){return this.end-this.Eb};$APP.g.ha=function(a,b){return this.I[this.Eb+b]};$APP.g.kb=function(a,b,c){return 0<=b&&b<this.end-this.Eb?this.I[this.Eb+b]:c};$APP.g.hh=function(){if(this.Eb===this.end)throw Error("-drop-first of empty chunk");return new $APP.If(this.I,this.Eb+1,this.end)};$APP.g.lb=function(a,b){return this.Eb===this.end?b.D?b.D():b.call(null):$APP.Hx(this.hh(null),b,this.I[this.Eb])};
$APP.g.gb=function(a,b,c){for(a=this.Eb;;)if(a<this.end){var d=this.I[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Td(c))return $APP.n(c);a+=1}else return c};$APP.g=Q0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length){var a=this.left+1;return a<this.right?new Q0(this.set,a,this.right,this.keys,this.idx+1):null}a=M0(this.set,this.left);return a<this.right?this.xi(a,this.right):null}return null};$APP.g.Bd=function(){if($APP.k(this.keys)){var a=this.set,b=Kgb(this.set,this.left),c=Kgb(this.set,this.right);return Mgb.j?Mgb.j(a,b,c):Mgb.call(null,a,b,c)}return null};$APP.g.S=function(a,b){return $APP.sf(this,b)};
$APP.g.lb=function(a,b){if(null==this.keys)return b.D?b.D():b.call(null);a=this.hb(null);var c=this.bb(null);return null==c?a:$APP.Hx(c,b,a)};$APP.g.gb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Td(c))return $APP.n(c);if(e+1<d.length)if(a+=1,a<this.right)e+=1;else return c;else if(a=M0(this.set,a),a<this.right)f=a,d=I0(this.set,a),e=m0(a,0),a=f;else return c}};
$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.Kg=function(){var a=this.left,b=this.right;return new Lgb(this.keys,this.idx,(a<Bgb&&b<Bgb?a>>>5===b>>>5:Math.floor(a/S0)===Math.floor(b/S0))?m0(this.right,0):this.keys.length)};$APP.g.Cf=function(){var a=this.hg();return $APP.k(a)?a:$APP.Hd};
$APP.g.xi=function(a,b){return new Q0(this.set,a,b,I0(this.set,a),m0(a,0))};$APP.g.hg=function(){var a=M0(this.set,n0(this.left,0,this.keys.length-1));return a<this.right?this.xi(a,this.right):null};$APP.g=R0.prototype;$APP.g.toString=function(){return $APP.od(this)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.dj,"("," ",")",c,$APP.r(this))};
$APP.g.bb=function(){if($APP.k(this.keys)){if(0<this.idx){var a=this.right-1;return this.left<a?new R0(this.set,this.left,a,this.keys,this.idx-1):null}a=Kgb(this.set,this.right);return this.left<a?this.xi(this.left,a):null}return null};$APP.g.Bd=function(){return $APP.k(this.keys)?O0(this.set,M0(this.set,this.left),M0(this.set,this.right)):null};$APP.g.S=function(a,b){return $APP.sf(this,b)};$APP.g.hb=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};
$APP.g.xb=function(){var a=this.bb(null);return $APP.k(a)?a:$APP.Hd};$APP.g.Z=function(){return $APP.k(this.keys)?this:null};$APP.g.xi=function(a,b){return new R0(this.set,a,b,I0(this.set,b),m0(b,0))};var iob=Error,i6=function i6(a){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(i6),$APP.nn.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Uf);},j6=function j6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(j6),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);},k6=function k6(a){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(k6),$APP.nn.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Uf);},l6=function l6(a){switch(arguments.length){case 2:return l6.h(arguments[0],
arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(l6),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);};l6.j=function(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(l6),$APP.nn.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Uf);};l6.B=3;
var m6=function m6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(m6),$APP.nn.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Uf);},n6=function n6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(n6),$APP.nn.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Uf);};$APP.g=$APP.f1.prototype;$APP.g.qb=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.Qd=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.Ad?this.Ad=i6(this):this.Ad};
$APP.g.S=function(a,b){return b instanceof $APP.f1&&j6(this,b)};$APP.g.Z=function(){return k6(this)};$APP.g.ba=function(a,b){return n6(this,b,null)};$APP.g.K=function(a,b,c){return n6(this,b,c)};$APP.g.ha=function(a,b){return l6.h(this,b)};$APP.g.kb=function(a,b,c){return l6.j(this,b,c)};$APP.g.O=function(a,b,c){return m6(this,b,c)};$APP.g.W=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/Datom ["," ","]",c,new $APP.G(null,5,5,$APP.H,[this.e,this.a,this.v,this.qb(null),this.Qd(null)],null))};
pgb("datascript.db.Datom",$APP.f1);var g1=function g1(a){switch(arguments.length){case 3:return g1.j(arguments[0],arguments[1],arguments[2]);case 4:return g1.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return g1.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};g1.j=function(a,b,c){return new $APP.f1(a,b,c,536870912,0,0)};g1.F=function(a,b,c,d){return new $APP.f1(a,b,c,d,0,0)};
g1.R=function(a,b,c,d,e){return new $APP.f1(a,b,c,$APP.k(e)?d:-d,0,0)};g1.B=5;i6=function(){return null};i6=function(a){return c1(c1($APP.yd(a.e),$APP.yd(a.a)),$APP.yd(a.v))};j6=function(){return null};j6=function(a,b){return a.e===b.e&&$APP.x.h(a.a,b.a)&&$APP.x.h(a.v,b.v)};k6=function(){return null};k6=function(a){return new $APP.D(null,a.e,new $APP.D(null,a.a,new $APP.D(null,a.v,new $APP.D(null,a.qb(null),new $APP.D(null,a.Qd(null),null,1,null),2,null),3,null),4,null),5,null)};n6=function(){return null};
n6=function(a,b,c){if(b instanceof $APP.F)switch(b instanceof $APP.F?b.N:null){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else if("string"===typeof b)switch(b){case "e":return a.e;case "a":return a.a;case "v":return a.v;case "tx":return a.qb(null);case "added":return a.Qd(null);default:return c}else return c};
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(){return null};l6.j=function(){return null};l6.B=3;
l6=function(a){switch(arguments.length){case 2:return l6.h(arguments[0],arguments[1]);case 3:return l6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};l6.h=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.l.g(b)].join(""));}};
l6.j=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.qb(null);case 4:return a.Qd(null);default:return c}};l6.B=3;m6=function(){return null};
m6=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "e":return g1.R(c,a.a,a.v,a.qb(null),a.Qd(null));case "a":return g1.R(a.e,c,a.v,a.qb(null),a.Qd(null));case "v":return g1.R(a.e,a.a,c,a.qb(null),a.Qd(null));case "tx":return g1.R(a.e,a.a,a.v,c,a.Qd(null));case "added":return g1.R(a.e,a.a,a.v,a.qb(null),c);default:throw new iob(["invalid key for #datascript/Datom: ",$APP.l.g(b)].join(""));}};
var i1=function i1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(i1),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);};i1=function(){return null};
i1=function(a,b){try{return $APP.x.h(a,b)?0:$APP.ze(a)&&$APP.ze(b)?ahb(a,b):(null!=a?a.M&2048||$APP.vd===a.Le||(a.M?0:$APP.Ib($APP.$c,a)):$APP.Ib($APP.$c,a))?$APP.ad(a,b):$APP.Jb(a)===$APP.Jb(b)?"number"===typeof a||"string"===typeof a||$APP.zb(a)||!0===a||!1===a?$APP.Ra(a,b):$APP.yd(a)-$APP.yd(b):$gb(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Jb(a)===$APP.Jb(b))throw c;return $gb(a,b)}throw d;}};
var o6=function o6(a){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(o6),$APP.nn.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Uf);},p6=function p6(a){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(p6),$APP.nn.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Uf);},q6=function q6(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(q6),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);},X2=function X2(a){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(X2),
$APP.nn.h(" ",new $APP.G(null,1,5,$APP.H,[a],null))].join(""),$APP.Uf);},u1=function u1(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(u1),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);},r6=function r6(a,b,c){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(r6),$APP.nn.h(" ",new $APP.G(null,3,5,$APP.H,[a,b,c],null))].join(""),$APP.Uf);},s6=function s6(a,b,c,d,e,f,m){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(s6),$APP.nn.h(" ",new $APP.G(null,7,5,$APP.H,[a,b,c,d,e,
f,m],null))].join(""),$APP.Uf);},t6=function t6(a,b,c,d,e,f,m,p){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(t6),$APP.nn.h(" ",new $APP.G(null,8,5,$APP.H,[a,b,c,d,e,f,m,p],null))].join(""),$APP.Uf);};$APP.g=$APP.z1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "schema":return this.Jc;case "eavt":return this.jc;case "aevt":return this.Lc;case "avet":return this.tc;case "max-eid":return this.dd;case "max-tx":return this.ed;case "rschema":return this.Nc;case "pull-patterns":return this.Sc;case "pull-attrs":return this.Rc;case "hash":return this.hash;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.K.h(new $APP.G(null,10,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.A1,this.Jc],null),new $APP.G(null,2,5,$APP.H,[$APP.B1,this.jc],null),new $APP.G(null,2,5,$APP.H,[C1,this.Lc],null),new $APP.G(null,2,5,$APP.H,[t1,this.tc],null),new $APP.G(null,2,5,$APP.H,[D1,this.dd],null),new $APP.G(null,2,5,$APP.H,[E1,this.ed],null),new $APP.G(null,2,5,$APP.H,[F1,this.Nc],null),new $APP.G(null,
2,5,$APP.H,[G1,this.Sc],null),new $APP.G(null,2,5,$APP.H,[H1,this.Rc],null),new $APP.G(null,2,5,$APP.H,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,10,new $APP.G(null,10,5,$APP.H,[$APP.A1,$APP.B1,C1,t1,D1,E1,F1,G1,H1,I1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,this.C)};
$APP.g.aa=function(){return 10+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jc,b.Jc)&&$APP.x.h(this.jc,b.jc)&&$APP.x.h(this.Lc,b.Lc)&&$APP.x.h(this.tc,b.tc)&&$APP.x.h(this.dd,b.dd)&&$APP.x.h(this.ed,b.ed)&&$APP.x.h(this.Nc,b.Nc)&&$APP.x.h(this.Sc,b.Sc)&&$APP.x.h(this.Rc,b.Rc)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,10,[$APP.A1,null,E1,null,I1,null,C1,null,t1,null,D1,null,$APP.B1,null,H1,null,G1,null,F1,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.A1,b):$APP.Af.call(null,$APP.A1,b))?new $APP.z1(c,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.B1,b):$APP.Af.call(null,$APP.B1,b))?new $APP.z1(this.Jc,c,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(C1,b):$APP.Af.call(null,C1,b))?new $APP.z1(this.Jc,this.jc,c,this.tc,this.dd,this.ed,this.Nc,
this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(t1,b):$APP.Af.call(null,t1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,c,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(D1,b):$APP.Af.call(null,D1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,c,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(E1,b):$APP.Af.call(null,E1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,c,this.Nc,this.Sc,
this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(F1,b):$APP.Af.call(null,F1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,c,this.Sc,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(G1,b):$APP.Af.call(null,G1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,c,this.Rc,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(H1,b):$APP.Af.call(null,H1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,
c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I1,b):$APP.Af.call(null,I1,b))?new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,c,this.A,this.o,null):new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,10,5,$APP.H,[new $APP.Se($APP.A1,this.Jc,null),new $APP.Se($APP.B1,this.jc,null),new $APP.Se(C1,this.Lc,null),new $APP.Se(t1,this.tc,null),new $APP.Se(D1,this.dd,null),new $APP.Se(E1,this.ed,null),new $APP.Se(F1,this.Nc,null),new $APP.Se(G1,this.Sc,null),new $APP.Se(H1,this.Rc,null),new $APP.Se(I1,this.hash,null)],null),this.o))};
$APP.g.V=function(a,b){return new $APP.z1(this.Jc,this.jc,this.Lc,this.tc,this.dd,this.ed,this.Nc,this.Sc,this.Rc,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.xk=function(a,b){a:for(var c=this.jc,d=$APP.B1.g(b),e=a=b=$APP.Sg;;){if($APP.ve(c)){var f=new $APP.G(null,3,5,$APP.H,[$APP.Wf(b),$APP.Wf($APP.Eh.h(a,d)),$APP.Wf(e)],null);break a}if($APP.ve(d)){f=new $APP.G(null,3,5,$APP.H,[$APP.Wf($APP.Eh.h(b,c)),$APP.Wf(a),$APP.Wf(e)],null);break a}var m=$APP.v(c),p=$APP.v(d);try{f=chb.h?chb.h(m,p):chb.call(null,m,p)}catch(u){if(u instanceof Error)f=blb;else throw u;}if($APP.x.h(f,blb))b=$APP.vf.h(b,m),a=$APP.vf.h(a,p),c=$APP.w(c),d=$APP.w(d);else if(0===
f)e=$APP.vf.h(e,m),c=$APP.w(c),d=$APP.w(d);else if(0>f)b=$APP.vf.h(b,m),c=$APP.w(c);else if(0<f)a=$APP.vf.h(a,p),d=$APP.w(d);else{f=null;break a}}return f};$APP.g.La=$APP.vd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.ai=$APP.vd;$APP.g.aa=function(){return $APP.be(this.jc)};$APP.g.em=$APP.vd;$APP.g.Bd=function(){return $APP.Ec(this.jc)};$APP.g.ih=$APP.vd;$APP.g.Y=function(){return o6(this)};$APP.g.S=function(a,b){return q6(this,b)};$APP.g.Wi=$APP.vd;
$APP.g.mf=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.B1,$APP.Pf),C1,$APP.Pf),t1,$APP.Pf)};$APP.g.Xi=$APP.vd;$APP.g.Oa=function(){return $APP.re(X2(new $APP.h(null,5,[$APP.A1,this.Jc,F1,this.Nc,$APP.B1,$APP.ne(this.jc),C1,$APP.ne(this.Lc),t1,$APP.ne(this.tc)],null)),$APP.se(this))};$APP.g.Oe=function(){throw $APP.Yl.h("datascript.DB/conj! is not supported",$APP.Uf);};$APP.g.Df=function(){return $APP.an.j($APP.an.j($APP.an.j(this,$APP.B1,$APP.Qf),C1,$APP.Qf),t1,$APP.Qf)};$APP.g.yk=function(){return emb};
$APP.g.pj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.B.h(this,b),t6(this,b,c,d,e,f,0,536870912),t6(this,b,c,d,e,f,2147483647,2147483647))};$APP.g.sj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return V0($APP.B.h(this,b),t6(this,b,c,d,e,f,0,536870912),g1.F(2147483647,null,null,2147483647))};$APP.g.rj=function(a,b,c,d,e,f){v1(this,b,c,d,e,f);return Rgb($APP.B.h(this,b),t6(this,b,c,d,e,f,2147483647,2147483647),g1.F(0,null,null,536870912))};
$APP.g.qj=function(a,b,c,d){v1(this,t1,b,null,null,null);if(!(b instanceof $APP.F||"string"===typeof b))throw a=new $APP.D(null,Dlb,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null),3,null),4,null),5,null),$APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([b]))," at ",$APP.wj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,b,E2,a,$APP.Kn,p2],null));return V0(this.tc,s6(this,null,b,c,null,0,536870912),s6(this,null,b,d,null,
2147483647,2147483647))};$APP.g.mj=$APP.vd;$APP.g.oj=function(){return this.Jc};$APP.g.nj=function(a,b){a=this.Nc;return a.g?a.g(b):a.call(null,b)};$APP.g.zk=$APP.vd;
$APP.g.tj=function(a,b){a=$APP.y.j(b,0,null);var c=$APP.y.j(b,1,null),d=$APP.y.j(b,2,null),e=$APP.y.j(b,3,null);b=this.jc;var f=this.Lc,m=this.tc;$APP.Re(y1(this,N1),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?V0(b,g1.F(a,c,d,e),g1.F(a,c,d,e)):V0(b,g1.F(a,c,d,536870912),g1.F(a,c,d,2147483647)):$APP.k(e)?$APP.rj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647))):V0(b,g1.F(a,c,null,536870912),g1.F(a,c,null,2147483647)):null!=d?$APP.k(e)?
$APP.rj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.rj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):$APP.k(e)?$APP.rj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647))):V0(b,g1.F(a,null,null,536870912),g1.F(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?u1(this,c)?$APP.rj($APP.Pg.g(function(p){return $APP.x.h(e,
p.qb(null))}),V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647))):$APP.rj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):u1(this,c)?V0(m,g1.F(0,c,d,536870912),g1.F(2147483647,c,d,2147483647)):$APP.rj($APP.Pg.g(function(p){return $APP.x.h(d,p.v)}),V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647))):$APP.k(e)?$APP.rj($APP.Pg.g(function(p){return $APP.x.h(e,p.qb(null))}),V0(f,g1.F(0,c,null,
536870912),g1.F(2147483647,c,null,2147483647))):V0(f,g1.F(0,c,null,536870912),g1.F(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(d,p.v)&&$APP.x.h(e,p.qb(null))},b):$APP.Pg.h(function(p){return $APP.x.h(d,p.v)},b):$APP.k(e)?$APP.Pg.h(function(p){return $APP.x.h(e,p.qb(null))},b):b};$APP.g=J1.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":return this.Oc;case "pred":return this.ib;case "hash":return this.hash;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[a6,this.Oc],null),new $APP.G(null,2,5,$APP.H,[$APP.dw,this.ib],null),new $APP.G(null,2,5,$APP.H,[I1,this.hash],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[a6,$APP.dw,I1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J1(this.Oc,this.ib,this.hash,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Oc,b.Oc)&&$APP.x.h(this.ib,b.ib)&&$APP.x.h(this.hash,b.hash)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[I1,null,$APP.dw,null,a6,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new J1(this.Oc,this.ib,this.hash,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(a6,b):$APP.Af.call(null,a6,b))?new J1(c,this.ib,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.dw,b):$APP.Af.call(null,$APP.dw,b))?new J1(this.Oc,c,this.hash,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I1,b):$APP.Af.call(null,I1,b))?new J1(this.Oc,this.ib,c,this.A,this.o,null):new J1(this.Oc,this.ib,this.hash,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se(a6,this.Oc,null),new $APP.Se($APP.dw,this.ib,null),new $APP.Se(I1,this.hash,null)],null),this.o))};$APP.g.V=function(a,b){return new J1(this.Oc,this.ib,this.hash,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.hk=$APP.vd;$APP.g.ba=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.K=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.La=$APP.vd;$APP.g.W=function(a,b,c){return r6(this,b,c)};$APP.g.ai=$APP.vd;$APP.g.aa=function(){return $APP.be(p1(this,$APP.B1,null,null,null,null))};$APP.g.ih=$APP.vd;$APP.g.Y=function(){return p6(this)};$APP.g.S=function(a,b){return q6(this,b)};$APP.g.Xi=$APP.vd;$APP.g.Oa=function(){throw Error("-empty is not supported on FilteredDB");};$APP.g.Vi=$APP.vd;
$APP.g.ga=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.O=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.pj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,p1(this.Oc,b,c,d,e,f))};$APP.g.sj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,q1(this.Oc,b,c,d,e,f))};$APP.g.rj=function(a,b,c,d,e,f){return $APP.Pg.h(this.ib,r1(this.Oc,b,c,d,e,f))};$APP.g.qj=function(a,b,c,d){return $APP.Pg.h(this.ib,s1(this.Oc,b,c,d))};$APP.g.mj=$APP.vd;
$APP.g.oj=function(){return x1(this.Oc)};$APP.g.nj=function(a,b){return y1(this.Oc,b)};$APP.g.zk=$APP.vd;$APP.g.tj=function(a,b){return $APP.Pg.h(this.ib,n1(this.Oc,b))};X2=function(a){a=$APP.Vf(a);$APP.B.h(a,$APP.A1);$APP.B.h(a,$APP.B1);$APP.B.h(a,C1);$APP.B.h(a,t1);$APP.B.h(a,D1);$APP.B.h(a,E1);return null};
X2=function(a){var b=$APP.Vf(a);a=$APP.B.h(b,$APP.A1);var c=$APP.B.h(b,$APP.B1),d=$APP.B.h(b,C1),e=$APP.B.h(b,t1),f=$APP.B.h(b,D1),m=$APP.B.h(b,E1);m=$APP.k(m)?m:536870912;var p=$APP.yj.g(0);f=$APP.k(f)?f:0;var u=e0(),t=e0();b=F1.g(b);b=$APP.k(b)?b:T1($APP.Kl.l($APP.z([new $APP.h(null,1,[S1,new $APP.h(null,1,[K1,L1],null)],null),a])));return jhb($APP.gi([$APP.A1,E1,I1,C1,t1,D1,$APP.B1,H1,G1,F1],[a,m,p,d,e,f,c,u,t,b]))};o6=function(){return null};
o6=function(a){var b=$APP.n(a.hash);return 0===b?$APP.ug(a.hash,c1($APP.yd(a.Jc),$APP.yd(a.jc))):b};p6=function(){return null};p6=function(a){var b=$APP.n(a.hash);(function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.yi})();return 0===b?(b=function(){var c=p1(a,$APP.B1,null,null,null,null);return $APP.k(c)?c:$APP.yi}(),$APP.ug(a.hash,c1($APP.yd(x1(a)),$APP.Md(b)))):b};q6=function(){return null};
q6=function(a,b){var c;if(c=b instanceof $APP.z1||b instanceof J1)if(c=$APP.x.h(x1(a),x1(b)))a:for(a=p1(a,$APP.B1,null,null,null,null),c=p1(b,$APP.B1,null,null,null,null),b=$APP.r(a),a=$APP.r(c);;){if(null==b){c=null==a;break a}if($APP.x.h($APP.v(b),$APP.v(a)))b=$APP.w(b),a=$APP.w(a);else{c=!1;break a}}return c};r6=function(){return null};
r6=function(a,b,c){$APP.Kc(b,"#datascript/DB {");$APP.Kc(b,":schema ");$APP.dj(x1(a),b,c);$APP.Kc(b,", :datoms ");$APP.aj(b,function(d,e,f){return $APP.aj(e,$APP.dj,"["," ","]",f,new $APP.G(null,4,5,$APP.H,[d.e,d.a,d.v,$APP.d1(d)],null))},"["," ","]",c,p1(a,$APP.B1,null,null,null,null));return $APP.Kc(b,"}")};
var s2=function s2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(s2),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);},r2=function r2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(r2),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);};s6=function(){return null};
s6=function(a,b,c,d,e,f,m){if(null!=c&&!(c instanceof $APP.F||"string"===typeof c))throw a=new $APP.D(null,cob,new $APP.D(null,R5,new $APP.D(null,b,new $APP.D(null,c,new $APP.D(null,d,new $APP.D(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null),$APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([c]))," at ",$APP.wj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,c,E2,a,$APP.Kn,p2],null));return g1.F(null!=b?s2(a,b):f,c,null!=d&&r2(a,c)?s2(a,d):d,null!=e?s2(a,
e):m)};t6=function(){return null};t6=function(a,b,c,d,e,f,m,p){b=b instanceof $APP.F?b.N:null;switch(b){case "eavt":return s6(a,c,d,e,f,m,p);case "aevt":return s6(a,d,c,e,f,m,p);case "avet":return s6(a,e,c,d,f,m,p);default:throw Error(["No matching clause: ",$APP.l.g(b)].join(""));}};$APP.g=d2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db-before":return this.ge;case "db-after":return this.fe;case "tx-data":return this.ke;case "tempids":return this.ie;case "tx-meta":return this.le;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[e2,this.ge],null),new $APP.G(null,2,5,$APP.H,[f2,this.fe],null),new $APP.G(null,2,5,$APP.H,[g2,this.ke],null),new $APP.G(null,2,5,$APP.H,[h2,this.ie],null),new $APP.G(null,2,5,$APP.H,[i2,this.le],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.G(null,5,5,$APP.H,[e2,f2,g2,h2,i2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ge,b.ge)&&$APP.x.h(this.fe,b.fe)&&$APP.x.h(this.ke,b.ke)&&$APP.x.h(this.ie,b.ie)&&$APP.x.h(this.le,b.le)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,5,[h2,null,f2,null,e2,null,g2,null,i2,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(e2,b):$APP.Af.call(null,e2,b))?new d2(c,this.fe,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(f2,b):$APP.Af.call(null,f2,b))?new d2(this.ge,c,this.ke,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(g2,b):$APP.Af.call(null,g2,b))?new d2(this.ge,this.fe,c,this.ie,this.le,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(h2,b):$APP.Af.call(null,h2,b))?new d2(this.ge,this.fe,this.ke,c,this.le,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(i2,b):$APP.Af.call(null,i2,b))?new d2(this.ge,this.fe,this.ke,this.ie,c,this.A,this.o,null):new d2(this.ge,this.fe,this.ke,this.ie,this.le,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Se(e2,this.ge,null),new $APP.Se(f2,this.fe,null),new $APP.Se(g2,this.ke,null),new $APP.Se(h2,this.ie,null),new $APP.Se(i2,this.le,null)],null),this.o))};
$APP.g.V=function(a,b){return new d2(this.ge,this.fe,this.ke,this.ie,this.le,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};j2=function(a,b,c){return $APP.Re(y1(a,c),b)};k2=function(a,b){return j2(a,b,N1)};l2=function(a,b,c){return j2(a,b,N1)&&(i0(c)||$APP.we(c)&&!$APP.Ae(c))};r2=function(){return null};r2=function(a,b){return j2(a,b,O1)};m2=function(a,b){return j2(a,b,P1)};u1=function(){return null};
u1=function(a,b){return j2(a,b,M1)};n2=function(a,b){return j2(a,b,R1)};whb=function(a,b){return j2(a,b,phb)};o2=function(a){if(a instanceof $APP.F)return $APP.x.h("_",$APP.y.h($APP.Ei(a),0));if("string"===typeof a)return $APP.hb($APP.Ri(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Yl.h(["Bad attribute type: ",$APP.wj.l($APP.z([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.Kn,p2,V1,a],null));};
t2=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Yl.h(["Highest supported entity id is ",$APP.wj.l($APP.z([2147483647])),", got ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,A2,$APP.JI,b],null));return b}if($APP.ze(b)){var c=b,d=$APP.y.j(c,0,null);c=$APP.y.j(c,1,null);if($APP.ti.h($APP.be(b),2))throw $APP.Yl.h(["Lookup ref should contain 2 elements: ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,zlb,A2,b],null));if(j2(a,d,K1))return n2(a,
d)?(b=xhb(a,d,c),$APP.eK.g($APP.v(p1(a,t1,d,b,null,null)))):null==c?null:$APP.eK.g($APP.v(p1(a,t1,d,c,null,null)));throw $APP.Yl.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,glb,A2,b],null));}if($APP.zb(b))b=$APP.z(b);else{if(b instanceof $APP.F)return $APP.eK.g($APP.v(p1(a,t1,S1,b,null,null)));throw $APP.Yl.h(["Expected number or lookup ref for entity id, got ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Imb,
A2,b],null));}}};yhb=function(a,b){return $APP.x.h(b,$APP.eK.g($APP.v(q1(a,$APP.B1,b,null,null,null))))};s2=function(){return null};s2=function(a,b){a=t2(a,b);if($APP.k(a))return a;throw $APP.Yl.h(["Nothing found for entity id ",$APP.wj.l($APP.z([b]))].join(""),new $APP.h(null,2,[$APP.Kn,Qlb,A2,b],null));};var zhb=$APP.yj.g(0);u2.prototype.W=function(a,b,c){return $APP.aj(b,$APP.dj,"#datascript/AutoTempid ["," ","]",c,new $APP.G(null,1,5,$APP.H,[this.id],null))};
g0=function(a){return a instanceof u2};
var u6=function u6(a,b){return function f(e){return new $APP.Ff(null,function(){for(;;){var m=$APP.r(e);if(m){var p=m;if($APP.Ee(p)){var u=$APP.cd(p),t=$APP.be(u),A=$APP.Hf(t);return function(){for(var E=0;;)if(E<t){var I=$APP.oe(u,E);$APP.Mf(A,$APP.Ae(I)?$APP.df(function(){return function(Q,T,Z){return T instanceof $APP.F||"string"===typeof T?r2(a,T)&&l2(a,T,Z)?$APP.ui.j(Q,T,u6.h?u6.h(a,Z):u6.call(null,a,Z)):r2(a,T)?$APP.ui.j(Q,T,$APP.v(function(){var ba=new $APP.G(null,1,5,$APP.H,[Z],null);return u6.h?
u6.h(a,ba):u6.call(null,a,ba)}())):o2(T)&&$APP.ze(Z)?$APP.ui.j(Q,T,u6.h?u6.h(a,Z):u6.call(null,a,Z)):o2(T)?$APP.ui.j(Q,T,$APP.v(function(){var ba=new $APP.G(null,1,5,$APP.H,[Z],null);return u6.h?u6.h(a,ba):u6.call(null,a,ba)}())):$APP.ui.j(Q,T,Z):$APP.ui.j(Q,T,Z)}}(E,I,u,t,A,p,m),$APP.Uf,$APP.Re(I,G2)?I:$APP.ui.j(I,G2,new u2)):function(){var Q=$APP.yg(null);if(function(){var la=$APP.ze(I);if(la){la=$APP.kd(Q,I);var xa=$APP.y.j(la,0,null);$APP.y.j(la,1,null);var sa=$APP.y.j(la,2,null);$APP.y.j(la,
3,null);return $APP.x.h(H2,xa)&&r2(a,sa)&&!0}return la}()){var T=$APP.n(Q),Z=$APP.y.j(T,0,null),ba=$APP.y.j(T,1,null),da=$APP.y.j(T,2,null),ja=$APP.y.j(T,3,null);return l2(a,da,ja)?new $APP.G(null,4,5,$APP.H,[Z,ba,da,u6.h?u6.h(a,ja):u6.call(null,a,ja)],null):new $APP.G(null,4,5,$APP.H,[Z,ba,da,$APP.v(function(){var la=new $APP.G(null,1,5,$APP.H,[ja],null);return u6.h?u6.h(a,la):u6.call(null,a,la)}())],null)}return I}());E+=1}else return!0}()?$APP.Lf($APP.Nf(A),f($APP.dd(p))):$APP.Lf($APP.Nf(A),null)}var C=
$APP.v(p);return $APP.yf($APP.Ae(C)?$APP.df(function(){return function(E,I,Q){return I instanceof $APP.F||"string"===typeof I?r2(a,I)&&l2(a,I,Q)?$APP.ui.j(E,I,u6.h?u6.h(a,Q):u6.call(null,a,Q)):r2(a,I)?$APP.ui.j(E,I,$APP.v(function(){var T=new $APP.G(null,1,5,$APP.H,[Q],null);return u6.h?u6.h(a,T):u6.call(null,a,T)}())):o2(I)&&$APP.ze(Q)?$APP.ui.j(E,I,u6.h?u6.h(a,Q):u6.call(null,a,Q)):o2(I)?$APP.ui.j(E,I,$APP.v(function(){var T=new $APP.G(null,1,5,$APP.H,[Q],null);return u6.h?u6.h(a,T):u6.call(null,
a,T)}())):$APP.ui.j(E,I,Q):$APP.ui.j(E,I,Q)}}(C,p,m),$APP.Uf,$APP.Re(C,G2)?C:$APP.ui.j(C,G2,new u2)):function(){var E=$APP.yg(null);if(function(){var da=$APP.ze(C);if(da){da=$APP.kd(E,C);var ja=$APP.y.j(da,0,null);$APP.y.j(da,1,null);var la=$APP.y.j(da,2,null);$APP.y.j(da,3,null);return $APP.x.h(H2,ja)&&r2(a,la)&&!0}return da}()){var I=$APP.n(E),Q=$APP.y.j(I,0,null),T=$APP.y.j(I,1,null),Z=$APP.y.j(I,2,null),ba=$APP.y.j(I,3,null);return l2(a,Z,ba)?new $APP.G(null,4,5,$APP.H,[Q,T,Z,u6.h?u6.h(a,ba):
u6.call(null,a,ba)],null):new $APP.G(null,4,5,$APP.H,[Q,T,Z,$APP.v(function(){var da=new $APP.G(null,1,5,$APP.H,[ba],null);return u6.h?u6.h(a,da):u6.call(null,a,da)}())],null)}return C}(),f($APP.Id(p)))}return null}},null,null)}(b)},L2=function L2(a,b){throw $APP.Yl.h(["Not implemented: (",$APP.l.g(L2),$APP.nn.h(" ",new $APP.G(null,2,5,$APP.H,[a,b],null))].join(""),$APP.Uf);},job=new $APP.xi(null,new $APP.h(null,8,[c6,null,Tmb,null,Thb,null,xmb,null,M2,null,xlb,null,Znb,null,H2,null],null),null);
L2=function(){return null};
L2=function(a,b){for(var c=!$APP.ve(y1(f2.g(a),R1)),d=c?$APP.bn.h(b,$APP.jn.g(Jmb)):b,e=a,f=d;;){if($APP.ve(f))return $APP.an.R($APP.an.R($APP.an.j($APP.Ll.h($APP.Ll.h(Xhb(e),K2),y2),h2,function(){return function(Ud){return wgb(Ud)}}(e,f,a,c,d)),h2,$APP.ui,Ahb,v2(e)),f2,$APP.an,E1,$APP.Pd);var m=f,p=$APP.r(m),u=$APP.v(p),t=$APP.w(p),A=u,C=t;if(null==A)f=C;else if($APP.x.h(Jmb,A))if($APP.Re(e,C2)){var E=$APP.Ll.h(e,C2),I=$APP.K.h(Whb(e),C);e=E;f=I}else f=C;else{var Q=f2.g(e),T=h2.g(e);if($APP.Ae(A)){var Z=
G2.g(A);$hb(A);if(w2(Z)){var ba=v2(e),da=z2(e,Z,ba),ja=$APP.yf($APP.ui.j(A,G2,ba),C);e=da;f=ja}else if($APP.ze(Z)){ba=s2(Q,Z);var la=e,xa=$APP.yf($APP.ui.j(A,G2,ba),C);e=la;f=xa}else{var sa=Lhb(Q,A),X=$APP.y.j(sa,0,null),S=$APP.y.j(sa,1,null),W=Ohb(X,S);if(null!=W){if(x2(Z)&&$APP.Re(T,Z)&&$APP.ti.h(W,$APP.B.h(T,Z)))return Vhb(a,e,b,Z,W);var V=$APP.an.F(z2(e,Z,W),I2,Rhb,g1.F(W,null,null,536870912)),Y=$APP.K.h(Qhb(Q,$APP.ui.j(X,G2,W)),C);e=V;f=Y}else if("number"===typeof Z||null==Z||"string"===typeof Z||
g0(Z)){var oa=e,za=$APP.K.h(Qhb(Q,A),C);e=oa;f=za}else throw $APP.Yl.h(["Expected number, string or lookup ref for :db/id, got ",$APP.wj.l($APP.z([Z]))].join(""),new $APP.h(null,2,[$APP.Kn,Imb,Zhb,A],null));}}else if($APP.ze(A)){var ha=A,qa=$APP.y.j(ha,0,null),ua=$APP.y.j(ha,1,null),ya=$APP.y.j(ha,2,null),Oa=$APP.y.j(ha,3,null);if($APP.x.h(qa,c6)){var Za=$APP.r(A),db=$APP.v(Za),gb=$APP.w(Za),eb=db,lb=$APP.v(gb),ib=$APP.w(gb),nb=e,Gb=$APP.K.h(u6(Q,$APP.pg.j(lb,Q,ib)),C);e=nb;f=Gb}else if(qa instanceof
$APP.F&&$APP.Bb(job.g?job.g(qa):job.call(null,qa))){var Nb=t2(Q,qa);if(null==Nb)throw $APP.Yl.h(["Can’t find entity for transaction fn ",$APP.wj.l($APP.z([qa]))].join(""),new $APP.h(null,3,[$APP.Kn,p2,Onb,c6,g2,A],null));var $b=$APP.aK.g(o1(Q,new $APP.G(null,2,5,$APP.H,[Nb,plb],null)));ib=$APP.w(A);if($APP.pe($b)){var ec=e,Mc=$APP.K.h($APP.pg.j($b,Q,ib),C);e=ec;f=Mc}else throw $APP.Yl.h(["Entity ",$APP.wj.l($APP.z([qa]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.h(null,
3,[$APP.Kn,p2,Onb,c6,g2,A],null));}else{if(x2(ua)&&$APP.ti.h(qa,H2))throw $APP.Yl.h(["Can't use tempid in '",$APP.wj.l($APP.z([A])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.Kn,p2,$APP.hH,A],null));if($APP.x.h(qa,Znb)||$APP.x.h(qa,Tmb)){var pc=A;eb=$APP.y.j(pc,0,null);var Nd=$APP.y.j(pc,1,null),Ce=$APP.y.j(pc,2,null),rg=$APP.y.j(pc,3,null),Jg=$APP.y.j(pc,4,null),Nh=s2(Q,Nd),zj=function(){var Ud=Ce;if(Ud instanceof $APP.F||"string"===typeof Ud)return null;var Tl=A;
throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([Ud]))," at ",$APP.wj.l($APP.z([Tl])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Ud,E2,Tl,$APP.Kn,p2],null));}(),xg=r2(Q,Ce)?s2(Q,rg):rg,Oh=r2(Q,Ce)?s2(Q,Jg):Jg,Xf=null==Oh?function(){var Ud=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.wj.l($APP.z([Ud]))].join(""),new $APP.h(null,3,[$APP.JI,null,E2,Ud,$APP.Kn,p2],null));}():null,Rd=$APP.cf(n1(Q,new $APP.G(null,2,5,$APP.H,[Nh,Ce],null)));if(k2(Q,Ce))if($APP.k($APP.ng(function(Ud,
Tl,$i,NJ,wQ,xQ,yQ,OJ,zQ,AQ,jF){return function(Ju){return $APP.x.h(Ju.v,jF)}}(e,f,pc,eb,Nd,Ce,rg,Jg,Nh,zj,xg,Oh,Xf,Rd,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),Rd))){var sk=J2(e,new $APP.G(null,4,5,$APP.H,[H2,Nh,Ce,Oh],null)),Yj=C;e=sk;f=Yj}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.wj.l($APP.z([Nh]))," ",$APP.wj.l($APP.z([Ce]))," ",$APP.wj.l($APP.z([$APP.ej.h($APP.aK,Rd)])),"], expected ",$APP.wj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Kn,rmb,fnb,Rd,$APP.oH,xg,Pmb,Oh],null));
else{var Aj=$APP.aK.g($APP.v(Rd));if($APP.x.h(Aj,xg)){var Gc=J2(e,new $APP.G(null,4,5,$APP.H,[H2,Nh,Ce,Oh],null)),wd=C;e=Gc;f=wd}else throw $APP.Yl.h([":db.fn/cas failed on datom [",$APP.wj.l($APP.z([Nh]))," ",$APP.wj.l($APP.z([Ce]))," ",$APP.wj.l($APP.z([Aj])),"], expected ",$APP.wj.l($APP.z([xg]))].join(""),new $APP.h(null,4,[$APP.Kn,rmb,fnb,$APP.v(Rd),$APP.oH,xg,Pmb,Oh],null));}}else if(w2(ua)){var Te=z2(e,ua,v2(e)),Kg=$APP.yf(new $APP.G(null,4,5,$APP.H,[qa,v2(e),ya,Oa],null),C);e=Te;f=Kg}else if(r2(Q,
ya)&&w2(Oa)){var Jf=z2(e,Oa,v2(e)),Yi=$APP.yf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,v2(e)],null),C);e=Jf;f=Yi}else if(r2(Q,ya)&&x2(Oa))if(Nb=$APP.B.h(T,Oa),null==Nb){var bh=$APP.jf(D1.g(Q))+1,me=$APP.an.R(z2(e,Oa,bh),O2,$APP.ui,bh,Oa),Fg=f;e=me;f=Fg}else{bh=Nb;var Rl=me=$APP.an.R(e,O2,$APP.ui,bh,Oa),zh=$APP.yf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,bh],null),C);e=Rl;f=zh}else{var Di=$APP.yg(null);if(function(){var Ud=$APP.x.h(qa,H2)||$APP.x.h(qa,M2);return Ud?(Ud=$APP.Bb(N2.g($APP.se(A))))?(Ud=n2(Q,
ya))?(Ud=$APP.zg(Di,xhb(Q,ya,Oa)),$APP.ti.h(Oa,Ud)&&!0):Ud:Ud:Ud}()){var Qn=$APP.n(Di),tk=e,Aq=$APP.yf(new $APP.G(null,4,5,$APP.H,[qa,ua,ya,Qn],null),C);e=tk;f=Aq}else if(x2(ua)){W=j2(Q,ya,L1)?$APP.eK.g($APP.v(p1(Q,t1,ya,Oa,null,null))):null;var uk=$APP.B.h(T,ua);if($APP.k(function(){var Ud=W;return $APP.k(Ud)?(Ud=uk,$APP.k(Ud)?$APP.ti.h(W,uk):Ud):Ud}()))return Vhb(a,e,b,ua,W);var np=function(){var Ud=W;if($APP.k(Ud))return Ud;Ud=uk;return $APP.k(Ud)?Ud:$APP.jf(D1.g(Q))+1}(),Zj=z2(e,ua,np),Bq=$APP.yf(new $APP.G(null,
4,5,$APP.H,[qa,np,ya,Oa],null),C);e=Zj;f=Bq}else{var Xe=$APP.yg(null);if($APP.k(function(){var Ud=j2(Q,ya,L1);if(Ud){if(Ud=$APP.Re(y2.g(e),ua)){Ud=$APP.zg(Xe,$APP.eK.g($APP.v(p1(Q,t1,ya,Oa,null,null))));var Tl=ua;return $APP.k(Tl)?$APP.k(Ud)?$APP.ti.h(ua,Ud)&&!0:Ud:Tl}return Ud}return Ud}())){W=$APP.n(Xe);var Sl=$APP.B.h(y2.g(e),ua),op=vgb(function(Ud){return function(Tl){return!$APP.Re(K2.g(Ud),Tl)}}(e,f,Sl,W,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),Sl);if($APP.k(op))return Vhb(a,e,b,op,W);throw $APP.Yl.h(["Conflicting upsert: ",
$APP.wj.l($APP.z([ua]))," resolves to ",$APP.wj.l($APP.z([W]))," via ",$APP.wj.l($APP.z([A]))].join(""),new $APP.h(null,1,[$APP.Kn,F2],null));}if($APP.Bb(N2.g($APP.se(A)))&&n2(Q,ya)){var Lm=$APP.sp.h(Q,new $APP.G(null,3,5,$APP.H,[$APP.A1,ya,Q1],null));if($APP.x.h($APP.be(Lm),$APP.be(Oa))&&$APP.mg($APP.Cb,Oa)&&$APP.mg(function(Ud,Tl,$i,NJ,wQ,xQ,yQ,OJ,zQ,AQ,jF){return function(Ju){var OA=$APP.y.j(Ju,0,null);Ju=$APP.y.j(Ju,1,null);OA=$APP.aK.g($APP.v(p1(jF,$APP.B1,OJ,OA,null,null)));return $APP.x.h(Ju,
OA)}}(e,f,Lm,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),$APP.ej.j($APP.Iw,Lm,Oa)))f=C;else throw $APP.Yl.h(["Can’t modify tuple attrs directly: ",$APP.wj.l($APP.z([A]))].join(""),new $APP.h(null,2,[$APP.Kn,p2,g2,A],null));}else if($APP.x.h(qa,H2)){var Zi=J2(e,A),Lg=C;e=Zi;f=Lg}else if($APP.x.h(qa,M2)&&null!=Oa)if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;Aj=r2(Q,ya)?s2(Q,Oa):Oa;var Mg=ya;if(!(Mg instanceof $APP.F||"string"===typeof Mg)){var xd=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([Mg])),
" at ",$APP.wj.l($APP.z([xd])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Mg,E2,xd,$APP.Kn,p2],null));}if(null==Aj){var of=A;throw $APP.Yl.h(["Cannot store nil as a value at ",$APP.wj.l($APP.z([of]))].join(""),new $APP.h(null,3,[$APP.JI,null,E2,of,$APP.Kn,p2],null));}var Rc=o1(Q,new $APP.G(null,3,5,$APP.H,[Nd,ya,Aj],null));if(null==Rc)f=C;else{var Yf=Shb(e,Rc),Cq=C;e=Yf;f=Cq}}else if($APP.x.h(qa,xlb)||$APP.x.h(qa,M2))if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;eb=function(){var Ud=
ya;if(Ud instanceof $APP.F||"string"===typeof Ud)return null;var Tl=A;throw $APP.Yl.h(["Bad entity attribute ",$APP.wj.l($APP.z([Ud]))," at ",$APP.wj.l($APP.z([Tl])),", expected keyword or string"].join(""),new $APP.h(null,3,[V1,Ud,E2,Tl,$APP.Kn,p2],null));}();Rd=$APP.cf(n1(Q,new $APP.G(null,2,5,$APP.H,[Nd,ya],null)));var Iu=$APP.af.j(Shb,e,Rd),Zf=$APP.K.h(Uhb(Q,Rd),C);e=Iu;f=Zf}else if($APP.x.h(qa,Thb)||$APP.x.h(qa,xmb))if(Nb=t2(Q,ua),null==Nb)f=C;else{Nd=Nb;var pp=$APP.cf(n1(Q,new $APP.G(null,1,
5,$APP.H,[Nd],null))),vx=$APP.cf($APP.Og.l(function(Ud,Tl,$i,NJ,wQ,xQ,yQ,OJ,zQ,AQ,jF,Ju,OA){return function(pX){return n1(OA,new $APP.G(null,3,5,$APP.H,[null,pX,NJ],null))}}(e,f,pp,Nd,Nb,Xe,Di,ha,qa,ua,ya,Oa,Q,T,m,p,u,t,A,C,a,c,d),$APP.z([y1(Q,O1)]))),Ng=$APP.af.j(Shb,e,$APP.K.h(pp,vx)),iX=$APP.K.h(Uhb(Q,pp),C);e=Ng;f=iX}else throw $APP.Yl.h(["Unknown operation at ",$APP.wj.l($APP.z([A])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.h(null,3,[$APP.Kn,p2,Onb,qa,g2,A],null));}}}}else if(Ygb(A)){var NA=A;ua=$APP.y.j(NA,0,null);ya=$APP.y.j(NA,1,null);Oa=$APP.y.j(NA,2,null);var jX=$APP.y.j(NA,3,null),kX=$APP.y.j(NA,4,null);if($APP.k(kX)){var lX=J2(e,new $APP.G(null,5,5,$APP.H,[H2,ua,ya,Oa,jX],null)),mX=C;e=lX;f=mX}else{var nX=e,oX=$APP.yf(new $APP.G(null,4,5,$APP.H,[M2,ua,ya,Oa],null),C);e=nX;f=oX}}else throw $APP.Yl.h(["Bad entity type at ",$APP.wj.l($APP.z([A])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.Kn,
p2,g2,A],null));}}};var U2,iib=$APP.yj.g($APP.Uf),V2=$APP.yg(1E6);$APP.g=R2.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "storage":return this.storage;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.storage.StorageAdapter{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[X0,this.storage],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[X0],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new R2(this.storage,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1627330428^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.storage,b.storage)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[X0,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new R2(this.storage,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "storage":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(X0,b):$APP.Af.call(null,X0,b))?new R2(c,this.A,this.o,null):new R2(this.storage,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(X0,this.storage,null)],null),this.o))};$APP.g.V=function(a,b){return new R2(this.storage,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Kk=function(a,b,c){a=$APP.k($APP.k(c)?b instanceof D0&&$APP.Re($APP.Bi(b.zd),c):c)?V2.uc(null,V2.Ka(null)+1):$APP.k(c)?c:V2.uc(null,V2.Ka(null)+1);c=$APP.pn.h(bib,b.keys);c=new $APP.h(null,1,[$APP.ZB,c],null);b=b instanceof D0?$APP.ui.j(c,amb,b.zd):c;$APP.kd(U2,$APP.Rg.h($APP.n(U2),new $APP.G(null,2,5,$APP.H,[a,b],null)));return a};
$APP.g.Jk=function(a,b){if($APP.k(b)){a=Q2(this.storage,b);a=$APP.Vf(a);var c=$APP.B.h(a,$APP.ZB);a=$APP.B.h(a,amb);if($APP.k(c)){c=h0($APP.ej.h(function(e){var f=$APP.y.j(e,0,null),m=$APP.y.j(e,1,null),p=$APP.y.j(e,2,null);e=$APP.y.j(e,3,null);return g1.F(f,m,p,e)},c));if($APP.k(a)){var d=Array($APP.be(a));return E0(c,d,a,b,!1)}return W0.j(c,b,!1)}}return null};$APP.g.Im=function(){return null};
$APP.g.Ik=function(a,b){return $APP.Bj.F(iib,$APP.an,this.storage,function(c){return $APP.Eh.h(c,$APP.is.h($APP.yb,b))})};var dib=$APP.yj.g($APP.Sg),d3=function d3(a){switch(arguments.length){case 1:return d3.g(arguments[0]);case 2:return d3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};d3.g=function(a){var b=S2(a);if(null==b)throw $APP.Yl.h("Database has no associated storage",$APP.Uf);return W2(a,b,!1)};
d3.h=function(a,b){var c=S2(a);if(null==c)return $APP.B1.g(a),c=new R2(b,null,null,null),W2(a,c,!1);var d=X0.g(c);if(d===b)return W2(a,c,!1);throw $APP.Yl.h("Database is already stored with another IStorage",new $APP.h(null,1,[X0,d],null));};d3.B=2;var v6=function v6(a){switch(arguments.length){case 1:return v6.g(arguments[0]);case 2:return v6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};v6.g=function(a){return v6.h(a,$APP.Uf)};
v6.h=function(a,b){b=lib(a,b);a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return mib(a,b)};v6.B=2;$APP.g=Z2.prototype;$APP.g.equiv=function(a){return this.S(null,a)};$APP.g.Og=function(a,b){for(var c=$APP.r(this.nb),d=null,e=0,f=0;;)if(f<e){var m=d.ha(null,f),p=$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.F?m.F(p,this,a,b):m.call(null,p,this,a,b);f+=1}else if(c=$APP.r(c))$APP.Ee(c)?(d=$APP.cd(c),c=$APP.dd(c),p=d,e=$APP.be(d),d=p):(d=$APP.v(c),p=$APP.y.j(d,0,null),m=$APP.y.j(d,1,null),m.F?m.F(p,this,a,b):m.call(null,p,this,a,b),c=$APP.w(c),d=null,e=0),f=0;else break};
$APP.g.lg=function(a,b,c){this.nb=$APP.ui.j(this.nb,b,c);return this};$APP.g.mg=function(a,b){return this.nb=$APP.Ll.h(this.nb,b)};$APP.g.S=function(a,b){return this===b};$APP.g.Y=function(){return $APP.ma(this)};$APP.g.jd=function(a,b){return $APP.y.h(a3(this,$APP.sg(b),$APP.Hd),1)};$APP.g.lh=function(a,b){return $APP.y.h(a3(this,b,$APP.Hd),1)};$APP.g.mh=function(a,b,c){return $APP.y.h(a3(this,b,new $APP.D(null,c,null,1,null)),1)};
$APP.g.nh=function(a,b,c,d){return $APP.y.h(a3(this,b,new $APP.D(null,c,new $APP.D(null,d,null,1,null),2,null)),1)};$APP.g.oh=function(a,b,c,d,e){return $APP.y.h(a3(this,b,$APP.yf(c,$APP.yf(d,e))),1)};$APP.g.U=function(){return this.P};$APP.g.Ka=function(){return $2.g($APP.n(this.dh))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "atom":return this.dh;default:return c}};
b3=function(a){switch(arguments.length){case 1:return b3.g(arguments[0]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return b3.l(arguments[0],1<b.length?new $APP.Ed(b.slice(1),0,null):null)}};b3.g=function(a){return new Z2(a,null,$APP.Uf,$APP.Uf)};b3.l=function(a,b){b=$APP.pg.h($APP.Zo,b);a=new Z2(a,null,$APP.Uf,$APP.Uf);var c=$APP.oy.g(b);null!=c&&(nib(c,$APP.n(a)),a.Eg=c);b=$APP.mb.g(b);null!=b&&(a.P=b);return a};
b3.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};b3.B=1;c3.h=function(a,b){return c3.j(a,b,null)};c3.j=function(a,b,c){if(a instanceof J1)throw $APP.Yl.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.Kn,Qnb],null));a=new d2(a,a,$APP.Sg,$APP.Uf,c,null,null,null);if(null!=b&&!$APP.ze(b))throw $APP.Yl.h(["Bad transaction data ",$APP.wj.l($APP.z([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.Kn,p2,g2,b],null));b=u6(e2.g(a),b);return L2(a,b)};
c3.B=3;var w6=function w6(a){switch(arguments.length){case 1:return w6.g(arguments[0]);case 2:return w6.h(arguments[0],arguments[1]);case 3:return w6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w6.g=function(a){return g3(a2(a,null,$APP.Uf))};w6.h=function(a,b){return g3(a2(a,b,$APP.Uf))};w6.j=function(a,b,c){return g3(a2(a,b,Y2(c)))};w6.B=3;
var x6=function x6(a){switch(arguments.length){case 0:return x6.D();case 1:return x6.g(arguments[0]);case 2:return x6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};x6.D=function(){return g3($1(null,$APP.Uf))};x6.g=function(a){return g3($1(a,$APP.Uf))};x6.h=function(a,b){return g3($1(a,Y2(b)))};x6.B=2;
var y6=function y6(a){switch(arguments.length){case 1:return y6.g(arguments[0]);case 2:return y6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};y6.g=function(a){return y6.h(a,$APP.Uf)};y6.h=function(a,b){b=lib(a,b);if(null==b)return null;a=$APP.y.j(b,0,null);b=$APP.y.j(b,1,null);return oib(new $APP.h(null,3,[$2,mib(a,b),e3,b,f3,a],null))};y6.B=2;
var z6=function z6(a){switch(arguments.length){case 2:return z6.h(arguments[0],arguments[1]);case 3:return z6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};z6.h=function(a,b){return z6.j(a,b,null)};
z6.j=function(a,b,c){b=rib(a,b,c);a=$APP.r(tmb.g($APP.n($APP.uG.g(a))));c=null;for(var d=0,e=0;;)if(e<d){var f=c.ha(null,e);$APP.y.j(f,0,null);f=$APP.y.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.r(a))$APP.Ee(a)?(d=$APP.cd(a),a=$APP.dd(a),c=d,d=$APP.be(d)):(c=$APP.v(a),$APP.y.j(c,0,null),c=$APP.y.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.w(a),c=null,d=0),e=0;else break;return b};z6.B=3;
var A6=function A6(a){switch(arguments.length){case 2:return A6.h(arguments[0],arguments[1]);case 3:return A6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};A6.h=function(a,b){return A6.j(a,b,null)};
A6.j=function(a,b,c){var d=$APP.n(a);c=vhb(new $APP.h(null,4,[e2,d,f2,b,g2,$APP.K.h($APP.k(d)?$APP.ej.h(function(p){return $APP.ui.j(p,$APP.lD,!1)},p1(d,$APP.B1,null,null,null,null)):null,p1(b,$APP.B1,null,null,null,null)),i2,c],null));null==T2(d)?$APP.ug(a,b):(d3.g(b),$APP.Bj.l($APP.uG.g(a),$APP.ui,$2,b,$APP.z([e3,$APP.Sg,f3,b])));a=$APP.r(tmb.g($APP.n($APP.uG.g(a))));d=null;for(var e=0,f=0;;)if(f<e){var m=d.ha(null,f);$APP.y.j(m,0,null);m=$APP.y.j(m,1,null);m.g?m.g(c):m.call(null,c);f+=1}else if(a=
$APP.r(a))$APP.Ee(a)?(e=$APP.cd(a),a=$APP.dd(a),d=e,e=$APP.be(e)):(d=$APP.v(a),$APP.y.j(d,0,null),d=$APP.y.j(d,1,null),d.g?d.g(c):d.call(null,c),a=$APP.w(a),d=null,e=0),f=0;else break;return b};A6.B=3;var B6=function B6(a){switch(arguments.length){case 2:return B6.h(arguments[0],arguments[1]);case 3:return B6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};B6.h=function(a,b){return B6.j(a,$APP.$y.D(),b)};
B6.j=function(a,b,c){$APP.Bj.l($APP.uG.g(a),$APP.an,tmb,$APP.ui,$APP.z([b,c]));return b};B6.B=3;$APP.g=l3.prototype;$APP.g.entry_set=function(){return $APP.bf($APP.ej.h($APP.bf,k3(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.r(k3(this)),m=null,p=0,u=0;;)if(u<p){var t=m.ha(null,u),A=$APP.y.j(t,0,null);t=$APP.y.j(t,1,null);d.call(e,t,A,this);u+=1}else if(f=$APP.r(f))$APP.Ee(f)?(m=$APP.cd(f),f=$APP.dd(f),A=m,p=$APP.be(m),m=A):(m=$APP.v(f),A=$APP.y.j(m,0,null),t=$APP.y.j(m,1,null),d.call(e,t,A,this),f=$APP.w(f),m=null,p=0),u=0;else return null}function b(d){for(var e=$APP.r(k3(this)),f=null,m=0,p=0;;)if(p<m){var u=f.ha(null,p),t=$APP.y.j(u,0,null);u=$APP.y.j(u,1,null);
d.j?d.j(u,t,this):d.call(null,u,t,this);p+=1}else if(e=$APP.r(e))$APP.Ee(e)?(f=$APP.cd(e),e=$APP.dd(e),t=f,m=$APP.be(f),f=t):(f=$APP.v(e),t=$APP.y.j(f,0,null),u=$APP.y.j(f,1,null),d.j?d.j(u,t,this):d.call(null,u,t,this),e=$APP.w(e),f=null,m=0),p=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.x.h(a,":db/id"))return this.eid;if(o2(a))return i3(vib(this.db,this.eid,q2(a),null));var b=C6.h?C6.h(this,a):C6.call(null,this,a);return k2(this.db,a)?i3(b):b};$APP.g.key_set=function(){return $APP.bf($APP.qi(this))};$APP.g.entries=function(){return $APP.wh(k3(this))};$APP.g.value_set=function(){return $APP.bf($APP.ej.h($APP.ge,k3(this)))};$APP.g.toString=function(){return $APP.od(this)};$APP.g.keys=function(){return $APP.Jd($APP.qi(this))};
$APP.g.values=function(){return $APP.Jd($APP.ej.h($APP.ge,k3(this)))};$APP.g.equiv=function(a){return m3.h?m3.h(this,a):m3.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.ba=function(a,b){return C6.j?C6.j(this,b,null):C6.call(null,this,b,null)};$APP.g.K=function(a,b,c){return C6.j?C6.j(this,b,c):C6.call(null,this,b,c)};$APP.g.W=function(a,b,c){return $APP.Nc($APP.ui.j($APP.n(this.cache),G2,this.eid),b,c)};$APP.g.aa=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.be($APP.n(this.cache))};
$APP.g.Y=function(){return xib.g?xib.g(this):xib.call(null,this)};$APP.g.S=function(a,b){return m3.h?m3.h(this,b):m3.call(null,this,b)};$APP.g.ga=function(a,b){return $APP.ti.h(Xmb,C6.j?C6.j(this,b,Xmb):C6.call(null,this,b,Xmb))};$APP.g.Z=function(){j3.g?j3.g(this):j3.call(null,this);return $APP.r($APP.n(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Ob(b)))};$APP.g.g=function(a){return C6.h?C6.h(this,a):C6.call(null,this,a)};$APP.g.h=function(a,b){return C6.j?C6.j(this,a,b):C6.call(null,this,a,b)};
var C6=function C6(a){switch(arguments.length){case 2:return C6.h(arguments[0],arguments[1]);case 3:return C6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};C6.h=function(a,b){return C6.j(a,b,null)};
C6.j=function(a,b,c){if($APP.x.h(b,G2))return a.eid;if(o2(b))return vib(a.db,a.eid,q2(b),c);var d=$APP.n(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.n(a.Uj)))return c;d=$APP.Wf(n1(a.db,new $APP.G(null,2,5,$APP.H,[a.eid,b],null)));if(null==d)return c;c=uib(a.db,b,d);$APP.zg(a.cache,$APP.ui.j($APP.n(a.cache),b,c));return c}return d};C6.B=3;pgb("datascript.impl.entity.Entity",l3);var D6=function D6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};D6.l=function(a){var b=$APP.be(a);return $APP.ti.h($APP.Cg.h(b/2,a),$APP.Dg.h(b/2,a))};D6.B=0;D6.G=function(a){return this.l($APP.r(a))};var E6=function E6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)};
E6.l=function(a,b,c){return $APP.af.j(function(d,e){d=$APP.v(n1(a,new $APP.G(null,2,5,$APP.H,[t2(a,b),e],null)));return null==d?null:$APP.Sd(new $APP.G(null,2,5,$APP.H,[B2.g(d),$APP.aK.g(d)],null))},null,c)};E6.B=2;E6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};var F6=function F6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};
F6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?c:$APP.Sd(c)},!0,a)};F6.B=0;F6.G=function(a){return this.l($APP.r(a))};var G6=function G6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G6.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};G6.l=function(a){return $APP.af.j(function(b,c){return $APP.k(c)?$APP.Sd(c):c},null,a)};G6.B=0;G6.G=function(a){return this.l($APP.r(a))};
var H6=function H6(a){switch(arguments.length){case 1:return H6.g(arguments[0]);case 2:return H6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};H6.g=function(){return!0};H6.h=function(a,b){return 0>i1(a,b)};H6.l=function(a,b,c){for(;;)if(H6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return H6.h(b,$APP.v(c));else return!1};
H6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};H6.B=2;var I6=function I6(a){switch(arguments.length){case 1:return I6.g(arguments[0]);case 2:return I6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};I6.g=function(){return!0};I6.h=function(a,b){return 0<i1(a,b)};
I6.l=function(a,b,c){for(;;)if(I6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return I6.h(b,$APP.v(c));else return!1};I6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};I6.B=2;
var J6=function J6(a){switch(arguments.length){case 1:return J6.g(arguments[0]);case 2:return J6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};J6.g=function(){return!0};J6.h=function(a,b){return!(0<i1(a,b))};J6.l=function(a,b,c){for(;;)if(J6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return J6.h(b,$APP.v(c));else return!1};
J6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};J6.B=2;var K6=function K6(a){switch(arguments.length){case 1:return K6.g(arguments[0]);case 2:return K6.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K6.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)}};K6.g=function(){return!0};K6.h=function(a,b){return!(0>i1(a,b))};
K6.l=function(a,b,c){for(;;)if(K6.h(a,b))if($APP.w(c))a=b,b=$APP.v(c),c=$APP.w(c);else return K6.h(b,$APP.v(c));else return!1};K6.G=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.l(b,a,c)};K6.B=2;
var Kib=$APP.gi([$APP.xI,$APP.jt,$APP.$z,fob,$APP.cI,$APP.JG,$APP.ZH,$APP.yG,rnb,$APP.vz,hmb,$APP.vD,$APP.Am,$APP.CK,$APP.aF,$APP.LC,$APP.GF,u5,$APP.Hqa,$APP.qH,$APP.VH,Nlb,$APP.$H,$APP.VI,$APP.uH,$APP.EC,Vlb,Mmb,$APP.dB,$APP.PI,$APP.aI,$APP.RF,$APP.MJ,$APP.SJ,$APP.LJ,$APP.sA,$APP.sH,$APP.PD,Ulb,$APP.xA,$APP.WG,anb,$APP.iH,$APP.GJ,$APP.fC,$APP.JA,$APP.YC,$APP.AA,$APP.IG,$APP.YH,$APP.zF,$APP.RI,$APP.vH,$APP.yF,$APP.Mz,$APP.eH,$APP.NC,$APP.UD,$APP.oA,Wlb,$APP.hI,$APP.uJ,Unb,$APP.jE,$APP.jD,$APP.hG,
$APP.FE,$APP.iG,smb,$APP.nE,$APP.ot,$APP.TI,$APP.XG,$APP.nB],[$APP.He,F6,$APP.Qba,function(a,b,c,d){if(null==d)throw $APP.Yl.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.Kn,s5],null));a=$APP.v(n1(a,new $APP.G(null,2,5,$APP.H,[t2(a,b),c],null)));return null==a?d:$APP.aK.g(a)},K6,$APP.Ty,I6,$APP.be,E6,$APP.yb,$APP.ef,$APP.Pd,$APP.Rx,$APP.kf,$APP.Ge,$APP.Bb,$APP.ef,D6,$APP.Iw,$APP.Ui,J6,$APP.il,$APP.x,$APP.Wx,$APP.Px,$APP.Ei,function(a,b,c){return null==$APP.B.h(h3(a,b),c)},
$APP.ef,$APP.Cj,$APP.qg,$APP.dl,$APP.$o,$APP.Ve,$APP.Vn,$APP.kn,$APP.ve,$APP.Qx,$APP.wj,H5,$APP.se,$APP.pf,$APP.ti,$APP.Ry,$APP.ff,$APP.Wi,$APP.Iw,$APP.ti,$APP.B,$APP.l,H6,$APP.Bf,$APP.fj,$APP.Ro,$APP.Cb,$APP.nf,$APP.$y,$APP.Ri,$APP.J,$APP.Re,$APP.ada,$APP.Vi,$APP.hf,$APP.jl,$APP.Zo,$APP.lf,$APP.og,$APP.Jb,$APP.qf,$APP.hl,$APP.Wf,G6,$APP.xb,$APP.Bi,$APP.Si]),L6=function L6(a){switch(arguments.length){case 1:return L6.g(arguments[0]);case 2:return L6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.l.g(arguments.length)].join(""));}};L6.g=function(a){return $APP.af.j(function(b,c){return 0>$APP.Ve(c,b)?c:b},$APP.v(a),$APP.w(a))};L6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.Ve,$APP.vf.h(c,d)):0>$APP.Ve(d,$APP.le(c))?$APP.Ik.h($APP.Ve,$APP.vf.h($APP.Ci(c),d)):c},$APP.Sg,b))};L6.B=2;
var M6=function M6(a){switch(arguments.length){case 1:return M6.g(arguments[0]);case 2:return M6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};M6.g=function(a){return $APP.af.j(function(b,c){return 0<$APP.Ve(c,b)?c:b},$APP.v(a),$APP.w(a))};M6.h=function(a,b){return $APP.cf($APP.af.j(function(c,d){return $APP.be(c)<a?$APP.Ik.h($APP.Ve,$APP.vf.h(c,d)):0<$APP.Ve(d,$APP.v(c))?$APP.Ik.h($APP.Ve,$APP.vf.h($APP.w(c),d)):c},$APP.Sg,b))};
M6.B=2;var N6=function N6(a){switch(arguments.length){case 1:return N6.g(arguments[0]);case 2:return N6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};N6.g=function(a){return $APP.Dj(a)};N6.h=function(a,b){return $APP.cf($APP.Ks.h(a,function(){return $APP.Dj(b)}))};N6.B=2;
var kob=$APP.gi([tlb,$APP.yG,Tnb,Wmb,$APP.VI,$APP.LJ,Bnb,$APP.sI,snb,Rmb,$APP.eH,jmb],[Cib,$APP.be,function(a){var b=$APP.Ik.g(a);a=$APP.be(a);var c=a>>1,d=$APP.y.h(b,c);return $APP.og(a)?(d+$APP.y.h(b,c-1))/2:d},Aib,L6,M6,function(a){return $APP.be($APP.Iy.g(a))},$APP.Bi,Bib,function(a){return Math.sqrt(Cib(a))},N6,function(a,b){return $APP.cf($APP.Cg.h(a,$APP.Vaa(b)))}]);$APP.g=n3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "as":return this.as;case "default":return this.Cb;case "limit":return this.Jb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.zc;case "recursive?":return this.Da;case "reverse?":return this.Ic;case "xform":return this.Kb;case "multival?":return this.yc;case "ref?":return this.Ac;case "component?":return this.vc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.K.h(new $APP.G(null,12,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.lo,this.as],null),new $APP.G(null,2,5,$APP.H,[$APP.Km,this.Cb],null),new $APP.G(null,2,5,$APP.H,[o3,this.Jb],null),new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[p3,this.zc],null),new $APP.G(null,2,5,
$APP.H,[q3,this.Da],null),new $APP.G(null,2,5,$APP.H,[r3,this.Ic],null),new $APP.G(null,2,5,$APP.H,[s3,this.Kb],null),new $APP.G(null,2,5,$APP.H,[t3,this.yc],null),new $APP.G(null,2,5,$APP.H,[u3,this.Ac],null),new $APP.G(null,2,5,$APP.H,[v3,this.vc],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,12,new $APP.G(null,12,5,$APP.H,[$APP.lo,$APP.Km,o3,$APP.N,$APP.LF,p3,q3,r3,s3,t3,u3,v3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,this.C)};$APP.g.aa=function(){return 12+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.as,b.as)&&$APP.x.h(this.default,b.default)&&$APP.x.h(this.Jb,b.Jb)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.zc,b.zc)&&$APP.x.h(this.Da,b.Da)&&$APP.x.h(this.Ic,b.Ic)&&$APP.x.h(this.Kb,b.Kb)&&$APP.x.h(this.yc,b.yc)&&$APP.x.h(this.Ac,b.Ac)&&$APP.x.h(this.vc,b.vc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,12,[s3,null,o3,null,r3,null,p3,null,$APP.Km,null,$APP.N,null,$APP.lo,null,q3,null,v3,null,u3,null,t3,null,$APP.LF,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.lo,b):$APP.Af.call(null,$APP.lo,b))?new n3(c,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Km,b):$APP.Af.call(null,$APP.Km,b))?new n3(this.as,c,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(o3,b):$APP.Af.call(null,o3,b))?new n3(this.as,this.Cb,c,this.name,
this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new n3(this.as,this.Cb,this.Jb,c,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,b):$APP.Af.call(null,$APP.LF,b))?new n3(this.as,this.Cb,this.Jb,this.name,c,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(p3,b):$APP.Af.call(null,
p3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,c,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(q3,b):$APP.Af.call(null,q3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,c,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(r3,b):$APP.Af.call(null,r3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,c,this.Kb,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?
$APP.Af.h(s3,b):$APP.Af.call(null,s3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,c,this.yc,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(t3,b):$APP.Af.call(null,t3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,c,this.Ac,this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(u3,b):$APP.Af.call(null,u3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,c,
this.vc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(v3,b):$APP.Af.call(null,v3,b))?new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,c,this.A,this.o,null):new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,12,5,$APP.H,[new $APP.Se($APP.lo,this.as,null),new $APP.Se($APP.Km,this.Cb,null),new $APP.Se(o3,this.Jb,null),new $APP.Se($APP.N,this.name,null),new $APP.Se($APP.LF,this.pattern,null),new $APP.Se(p3,this.zc,null),new $APP.Se(q3,this.Da,null),new $APP.Se(r3,this.Ic,null),new $APP.Se(s3,this.Kb,null),new $APP.Se(t3,this.yc,null),new $APP.Se(u3,this.Ac,null),new $APP.Se(v3,this.vc,null)],null),this.o))};
$APP.g.V=function(a,b){return new n3(this.as,this.Cb,this.Jb,this.name,this.pattern,this.zc,this.Da,this.Ic,this.Kb,this.yc,this.Ac,this.vc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=w3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "first-attr":return this.Gd;case "last-attr":return this.Ud;case "reverse-attrs":return this.vd;case "wildcard?":return this.Pc;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[y3,this.Gd],null),new $APP.G(null,2,5,$APP.H,[z3,this.Ud],null),new $APP.G(null,2,5,$APP.H,[A3,this.vd],null),new $APP.G(null,2,5,$APP.H,[B3,this.Pc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.G(null,5,5,$APP.H,[x3,y3,z3,A3,B3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.Gd,b.Gd)&&$APP.x.h(this.Ud,b.Ud)&&$APP.x.h(this.vd,b.vd)&&$APP.x.h(this.Pc,b.Pc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,5,[A3,null,y3,null,x3,null,B3,null,z3,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new w3(c,this.Gd,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(y3,b):$APP.Af.call(null,y3,b))?new w3(this.ta,c,this.Ud,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(z3,b):$APP.Af.call(null,z3,b))?new w3(this.ta,this.Gd,c,this.vd,this.Pc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(A3,b):$APP.Af.call(null,A3,b))?new w3(this.ta,this.Gd,this.Ud,c,this.Pc,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h(B3,b):$APP.Af.call(null,B3,b))?new w3(this.ta,this.Gd,this.Ud,this.vd,c,this.A,this.o,null):new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Se(x3,this.ta,null),new $APP.Se(y3,this.Gd,null),new $APP.Se(z3,this.Ud,null),new $APP.Se(A3,this.vd,null),new $APP.Se(B3,this.Pc,null)],null),this.o))};
$APP.g.V=function(a,b){return new w3(this.ta,this.Gd,this.Ud,this.vd,this.Pc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};var Oib=Dib(new $APP.h(null,3,[$APP.N,G2,$APP.lo,G2,s3,$APP.ef],null)),Gib=Eib(new $APP.h(null,1,[x3,new $APP.D(null,Oib,null,1,null)],null)),Hib=$APP.ui.j(Gib,B3,!0);$APP.g=I3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "db":return this.db;case "visitor":return this.hf;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$2,this.db],null),new $APP.G(null,2,5,$APP.H,[R3,this.hf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$2,R3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new I3(this.db,this.hf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.db,b.db)&&$APP.x.h(this.hf,b.hf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$2,null,R3,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new I3(this.db,this.hf,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "db":case "visitor":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($2,b):$APP.Af.call(null,$2,b))?new I3(c,this.hf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(R3,b):$APP.Af.call(null,R3,b))?new I3(this.db,c,this.A,this.o,null):new I3(this.db,this.hf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($2,this.db,null),new $APP.Se(R3,this.hf,null)],null),this.o))};$APP.g.V=function(a,b){return new I3(this.db,this.hf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=J3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.JI,this.value],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.JI,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new J3(this.value,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.JI,null,$APP.b2,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new J3(this.value,this.za,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":case "datoms":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.JI,b):$APP.Af.call(null,$APP.JI,b))?new J3(c,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new J3(this.value,c,this.A,this.o,null):new J3(this.value,this.za,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.JI,this.value,null),new $APP.Se($APP.b2,this.za,null)],null),this.o))};
$APP.g.V=function(a,b){return new J3(this.value,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=K3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "acc":return this.pa;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[I5,X5,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K3(this.pa,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[I5,null,$APP.b2,null,X5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new K3(this.pa,this.oa,this.za,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new K3(c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new K3(this.pa,c,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new K3(this.pa,this.oa,c,this.A,this.o,null):new K3(this.pa,this.oa,this.za,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se(I5,this.pa,null),new $APP.Se(X5,this.oa,null),new $APP.Se($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new K3(this.pa,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.wh=function(){for(var a=this,b=a.pa,c=a.za;;){var d=G3(c);if(null==d||$APP.ti.h(d.a,a.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Wf($APP.Vc(b)),function(){var m=c;return $APP.k(m)?m:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var m=a.oa.Jb;return $APP.k(m)?$APP.be(b)>=a.oa.Jb&&!0:m}()))for(var e=c;;){d=G3(e);if(null==d||$APP.ti.h(d.a,a.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Vc(b),function(){var m=e;return $APP.k(m)?m:$APP.Hd}(),null,null,null)],null);
e=H3(e)}else{d=$APP.Rg.h(b,d.v);var f=H3(c);b=d;c=f}}};$APP.g=L3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "datoms":return this.za;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.K.h(new $APP.G(null,6,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,6,new $APP.G(null,6,5,$APP.H,[K5,V5,I5,$APP.LF,X5,$APP.b2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,this.C)};$APP.g.aa=function(){return 6+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,6,[I5,null,K5,null,V5,null,$APP.b2,null,$APP.LF,null,X5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new L3(c,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new L3(this.va,c,this.pa,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new L3(this.va,this.Aa,c,this.pattern,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,b):$APP.Af.call(null,$APP.LF,b))?new L3(this.va,
this.Aa,this.pa,c,this.oa,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new L3(this.va,this.Aa,this.pa,this.pattern,c,this.za,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.A,this.o,null):new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,6,5,$APP.H,[new $APP.Se(K5,this.va,null),new $APP.Se(V5,this.Aa,null),new $APP.Se(I5,this.pa,null),new $APP.Se($APP.LF,this.pattern,null),new $APP.Se(X5,this.oa,null),new $APP.Se($APP.b2,this.za,null)],null),this.o))};$APP.g.V=function(a,b){return new L3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.za,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.pi=function(a,b){a=this.va;var c=this.Aa,d=this.pa;b=b.value;b=null==b?d:$APP.Rg.h(d,b);return new L3(a,c,b,this.pattern,this.oa,H3(this.za),null,null,null)};
$APP.g.wh=function(a,b){var c=this;a=G3(c.za);if(null==a||$APP.ti.h(a.a,c.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Wf($APP.Vc(c.pa)),function(){var e=c.za;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);if($APP.k(function(){var e=c.oa.Jb;return $APP.k(e)?$APP.be(c.pa)>=c.oa.Jb&&!0:e}()))for(var d=c.za;;){b=G3(d);if(null==b||$APP.ti.h(b.a,c.oa.name))return new $APP.G(null,1,5,$APP.H,[new J3($APP.Vc(c.pa),function(){var e=d;return $APP.k(e)?e:$APP.Hd}(),null,null,null)],null);d=
H3(d)}else return a=$APP.k(c.oa.Ic)?a.e:a.v,new $APP.G(null,2,5,$APP.H,[this,P3.ma?P3.ma(b,c.va,c.Aa,c.pattern,c.oa,a):P3.call(null,b,c.va,c.Aa,c.pattern,c.oa,a)],null)};$APP.g=M3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "datoms":return this.za;case "id":return this.id;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.K.h(new $APP.G(null,8,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[$APP.b2,this.za],
null),new $APP.G(null,2,5,$APP.H,[$APP.Gq,this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,8,new $APP.G(null,8,5,$APP.H,[K5,V5,I5,$APP.LF,X5,x3,$APP.b2,$APP.Gq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 8+$APP.be(this.o)};
$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.za,b.za)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,8,[I5,null,K5,null,$APP.Gq,null,V5,null,x3,null,$APP.b2,null,$APP.LF,null,X5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new M3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new M3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new M3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,
b):$APP.Af.call(null,$APP.LF,b))?new M3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new M3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.za,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.b2,b):$APP.Af.call(null,$APP.b2,b))?new M3(this.va,this.Aa,
this.pa,this.pattern,this.oa,this.ta,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Gq,b):$APP.Af.call(null,$APP.Gq,b))?new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,c,this.A,this.o,null):new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,8,5,$APP.H,[new $APP.Se(K5,this.va,null),new $APP.Se(V5,this.Aa,null),new $APP.Se(I5,this.pa,null),new $APP.Se($APP.LF,this.pattern,null),new $APP.Se(X5,this.oa,null),new $APP.Se(x3,this.ta,null),new $APP.Se($APP.b2,this.za,null),new $APP.Se($APP.Gq,this.id,null)],null),this.o))};$APP.g.V=function(a,b){return new M3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.za,this.id,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.pi=function(a,b){var c=this;return new M3(c.va,c.Aa,Sib(c.pa,c.oa.as,function(){var d=b.value,e=c.oa.Kb;return e.g?e.g(d):e.call(null,d)}()),c.pattern,G3(c.ta),H3(c.ta),$APP.Wf(function(){var d=b.za;return $APP.k(d)?d:H3(c.za)}()),c.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this,d=c.pa,e=c.oa;a=c.ta;for(var f=c.za;;){if(null==f&&null==e)return new $APP.G(null,1,5,$APP.H,[function(){var E=c.va,I=c.Aa,Q=d,T=c.pattern,Z=G3(c.pattern.vd),ba=H3(c.pattern.vd),da=c.id;return Wib.Fa?Wib.Fa(E,I,Q,T,Z,ba,da):Wib.call(null,E,I,Q,T,Z,ba,da)}()],null);if(null!=e&&$APP.x.h(G2,e.name)){var m=$APP.Gh.j(d,e.as,function(){var E=e.Kb;return E.g?E.g(c.id):E.call(null,c.id)}()),p=G3(a);a=H3(a);d=m;e=p}else{var u=G3(f),t=$APP.k(function(){var E=u;return $APP.k(E)?
e:E}())?$APP.Ve(e.name,u.a):null,A=function(){var E=null==e;if(E)return E;E=t;return $APP.k(E)?0<t:E}(),C=function(){var E=null==u;if(E)return E;E=t;return $APP.k(E)?0>t:E}();if($APP.k(function(){var E=c.pattern.Pc;return $APP.k(E)?(E=null!=u)?(E=A,$APP.k(E)?!0:E):E:E}()))p=c0(khb(b.db).Rc,u.a,function(E,I,Q,T,Z){return function(){return Iib(b.db,Z.a)}}(d,e,a,f,u,t,A,C,this)),m=d,a=$APP.k(e)?Rib(a,e):null,d=m,e=p;else if($APP.k(A))m=d,p=e,f=H3(f),d=m,e=p;else if(Tib(b,gnb,c.id,e.name,null),$APP.k(function(){var E=
C;return $APP.k(E)?null==e&&!0:E}()))m=d,p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(function(){var E=C;return $APP.k(E)?null!=$APP.Km.g(e)&&!0:E}()))m=$APP.Gh.j(d,e.as,$APP.Km.g(e)),p=G3(a),a=H3(a),d=m,e=p;else if($APP.k(C))m=function(){var E=e.Kb;return E.g?E.g(null):E.call(null,null)}(),null==m?(m=d,p=G3(a),a=H3(a),d=m,e=p):(m=$APP.Gh.j(d,e.as,m),p=G3(a),a=H3(a),d=m,e=p);else{if($APP.k(function(){var E=e.yc;return $APP.k(E)?(E=e.Ac,$APP.k(E)?!0:E):E}()))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,
c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new L3(c.va,c.Aa,$APP.Tc($APP.Sg),c.pattern,e,f,null,null,null)],null);if($APP.k(e.yc))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),new K3($APP.Tc($APP.Sg),e,f,null,null,null)],null);if($APP.k(e.Ac))return new $APP.G(null,2,5,$APP.H,[new M3(c.va,c.Aa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var E=c.va,I=c.Aa,Q=c.pattern,T=e,Z=u.v;return P3.ma?P3.ma(b,E,I,Q,T,Z):P3.call(null,b,E,I,Q,T,Z)}()],null);m=
$APP.Gh.j(d,e.as,function(){var E=u.v,I=e.Kb;return I.g?I.g(E):I.call(null,E)}());p=G3(a);a=H3(a);f=H3(f);d=m;e=p}}}};$APP.g=N3.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "seen":return this.va;case "recursion-limits":return this.Aa;case "acc":return this.pa;case "pattern":return this.pattern;case "attr":return this.oa;case "attrs":return this.ta;case "id":return this.id;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.K.h(new $APP.G(null,7,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[K5,this.va],null),new $APP.G(null,2,5,$APP.H,[V5,this.Aa],null),new $APP.G(null,2,5,$APP.H,[I5,this.pa],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null),new $APP.G(null,2,5,$APP.H,[X5,this.oa],null),new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[$APP.Gq,
this.id],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,7,new $APP.G(null,7,5,$APP.H,[K5,V5,I5,$APP.LF,X5,x3,$APP.Gq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,this.C)};$APP.g.aa=function(){return 7+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.va,b.va)&&$APP.x.h(this.Aa,b.Aa)&&$APP.x.h(this.pa,b.pa)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.oa,b.oa)&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.id,b.id)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,7,[I5,null,K5,null,$APP.Gq,null,V5,null,x3,null,$APP.LF,null,X5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(K5,b):$APP.Af.call(null,K5,b))?new N3(c,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(V5,b):$APP.Af.call(null,V5,b))?new N3(this.va,c,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(I5,b):$APP.Af.call(null,I5,b))?new N3(this.va,this.Aa,c,this.pattern,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,b):$APP.Af.call(null,
$APP.LF,b))?new N3(this.va,this.Aa,this.pa,c,this.oa,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X5,b):$APP.Af.call(null,X5,b))?new N3(this.va,this.Aa,this.pa,this.pattern,c,this.ta,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,c,this.id,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.Gq,b):$APP.Af.call(null,$APP.Gq,b))?new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,c,this.A,
this.o,null):new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,7,5,$APP.H,[new $APP.Se(K5,this.va,null),new $APP.Se(V5,this.Aa,null),new $APP.Se(I5,this.pa,null),new $APP.Se($APP.LF,this.pattern,null),new $APP.Se(X5,this.oa,null),new $APP.Se(x3,this.ta,null),new $APP.Se($APP.Gq,this.id,null)],null),this.o))};
$APP.g.V=function(a,b){return new N3(this.va,this.Aa,this.pa,this.pattern,this.oa,this.ta,this.id,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.pi=function(a,b){a=this.va;var c=this.Aa,d=this.pa,e=this.oa.as;b=b.value;var f=this.oa.Kb;b=f.g?f.g(b):f.call(null,b);return new N3(a,c,Sib(d,e,b),this.pattern,G3(this.ta),H3(this.ta),this.id,null,null,null)};
$APP.g.wh=function(a,b){var c=this.pa;a=this.oa;for(var d=this.ta;;){if(null==a)return new $APP.G(null,1,5,$APP.H,[new J3($APP.Wf($APP.Vc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.z1?V0(f.tc,g1.F(0,e,this.id,536870912),g1.F(2147483647,e,this.id,2147483647)):n1(f,new $APP.G(null,3,5,$APP.H,[null,e,this.id],null));Tib(b,Slb,null,e,this.id);if($APP.ve(f)&&null!=$APP.Km.g(a))c=$APP.Gh.j(c,a.as,$APP.Km.g(a)),a=G3(d),d=e=H3(d);else if($APP.ve(f))a=G3(d),d=e=H3(d);else{if($APP.k(a.vc)){e=
$APP.H;c=new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null);d=this.va;var m=this.Aa,p=this.pattern;f=G3(f).e;b=P3.ma?P3.ma(b,d,m,p,a,f):P3.call(null,b,d,m,p,a,f);b=new $APP.G(null,2,5,e,[c,b],null)}else b=new $APP.G(null,2,5,$APP.H,[new N3(this.va,this.Aa,c,this.pattern,a,d,this.id,null,null,null),new L3(this.va,this.Aa,$APP.Tc($APP.Sg),this.pattern,a,f,null,null,null)],null);return b}}};
var O6=function O6(a){switch(arguments.length){case 3:return O6.j(arguments[0],arguments[1],arguments[2]);case 4:return O6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};O6.j=function(a,b,c){return O6.F(a,b,c,$APP.Uf)};O6.F=function(a,b,c,d){a=S3(a,b,d);return Q3(a,c)};O6.B=4;
var P6=function P6(a){switch(arguments.length){case 3:return P6.j(arguments[0],arguments[1],arguments[2]);case 4:return P6.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};P6.j=function(a,b,c){return P6.F(a,b,c,$APP.Uf)};P6.F=function(a,b,c,d){var e=S3(a,b,d);return $APP.pn.h(function(f){return Q3(e,f)},c)};P6.B=4;var Q6=function Q6(a){switch(arguments.length){case 1:return Q6.g(arguments[0]);case 2:return Q6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};Q6.g=function(a){return djb(a,$APP.Uf)};Q6.h=function(a,b){return djb(a,b)};Q6.B=2;var R6=function R6(a){switch(arguments.length){case 1:return R6.g(arguments[0]);case 2:return R6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
R6.g=function(a){return R6.h(a,$APP.Uf)};
R6.h=function(a,b){b=$APP.Vf(b);var c=$APP.B.j(b,fmb,$APP.RK),d=$APP.B.j(b,mmb,ajb),e=U3(a,"tx0"),f=function(){var A=U3(a,"schema");return c.g?c.g(A):c.call(null,A)}();(function(){var A=new $APP.Cd(function(){return Z1},Zmb,$APP.gi([$APP.Qt,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[!0,$APP.jK,umb,"datascript/db.cljc",23,1,931,931,$APP.J(new $APP.G(null,1,5,$APP.H,[M5],null)),null,$APP.k(Z1)?Z1.H:null]));return A.g?A.g(f):A.call(null,f)})();var m=$APP.pn.h(d,U3(a,
"attrs")),p=$APP.pn.h(d,U3(a,"keywords")),u=V3(function(A){var C=T3(A,0),E=$APP.y.h(m,T3(A,1)),I=T3(A,2);if("number"===typeof I)var Q=I;else if("string"===typeof I)Q=I;else if($APP.Ie(I))Q=I;else if($APP.zb(I)||$APP.De(I))Q=function(){var T=T3(I,0);if($APP.k($APP.dl.h?$APP.dl.h(0,T):$APP.dl.call(null,0,T)))return $APP.y.h(p,T3(I,1));if($APP.k($APP.dl.h?$APP.dl.h(1,T):$APP.dl.call(null,1,T)))return T=T3(I,1),c.g?c.g(T):c.call(null,T);if($APP.k($APP.dl.h?$APP.dl.h(2,T):$APP.dl.call(null,2,T)))return Infinity;
if($APP.k($APP.dl.h?$APP.dl.h(3,T):$APP.dl.call(null,3,T)))return-Infinity;if($APP.k($APP.dl.h?$APP.dl.h(4,T):$APP.dl.call(null,4,T)))return NaN;throw $APP.Yl.h(["Unexpected value marker ",$APP.wj.l($APP.z([T]))," in ",$APP.wj.l($APP.z([$APP.wj.l($APP.z([I]))]))].join(""),new $APP.h(null,2,[$APP.Kn,kmb,$APP.JI,I],null));}();else throw $APP.Yl.h(["Unexpected value type ",$APP.wj.l($APP.z([$APP.Jb(I)]))," (",$APP.wj.l($APP.z([$APP.wj.l($APP.z([I]))])),")"].join(""),new $APP.h(null,2,[$APP.Kn,kmb,$APP.JI,
I],null));A=e+T3(A,3);return g1.F(C,E,Q,A)},U3(a,"eavt"));d=function(){var A=U3(a,"aevt");return null==A?null:V3(function(C){return u[C]},A)}();var t=function(){var A=U3(a,"avet");return null==A?null:V3(function(C){return u[C]},A)}();b=$APP.Kl.l($APP.z([new $APP.h(null,2,[b1,U3(a,"branching-factor"),Ugb,function(){var A=U3(a,"ref-type");return null==A?null:$APP.fj.g(A)}()],null),$APP.vi(b,new $APP.G(null,2,5,$APP.H,[b1,Ugb],null))]));return X2(new $APP.h(null,6,[$APP.A1,f,$APP.B1,Y0(j1,u,b),C1,Y0(k1,
d,b),t1,Y0(l1,t,b),D1,U3(a,"max-eid"),E1,U3(a,"max-tx")],null))};R6.B=2;$APP.g=d4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.K.h($APP.Sg,this.o))};
$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new d4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re($APP.yi,b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new d4(this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Re(this.o,b)};$APP.g.O=function(a,b,c){return new d4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new d4(b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=e4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zm,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new e4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new e4(this.Pa,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new e4(c,this.A,this.o,null):new e4(this.Pa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.zm,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new e4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=f4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zm,this.Pa],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new f4(this.Pa,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new f4(this.Pa,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new f4(c,this.A,this.o,null):new f4(this.Pa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.zm,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new f4(this.Pa,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=g4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new g4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re($APP.yi,b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new g4(this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Re(this.o,b)};$APP.g.O=function(a,b,c){return new g4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new g4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=h4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new h4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re($APP.yi,b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new h4(this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Re(this.o,b)};$APP.g.O=function(a,b,c){return new h4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new h4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=i4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "value":return this.value;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.JI,this.value],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.JI],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new i4(this.value,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.value,b.value)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.JI,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new i4(this.value,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "value":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.JI,b):$APP.Af.call(null,$APP.JI,b))?new i4(c,this.A,this.o,null):new i4(this.value,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.JI,this.value,null)],null),this.o))};$APP.g.V=function(a,b){return new i4(this.value,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.value,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.value):Q4.call(null,b,this.value)};$APP.g=j4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "symbol":return this.Pa;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zm,this.Pa],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.zm],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new j4(this.Pa,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Pa,b.Pa)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.zm,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new j4(this.Pa,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "symbol":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zm,b):$APP.Af.call(null,$APP.zm,b))?new j4(c,this.A,this.o,null):new j4(this.Pa,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.zm,this.Pa,null)],null),this.o))};$APP.g.V=function(a,b){return new j4(this.Pa,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Pa,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Pa):Q4.call(null,b,this.Pa)};$APP.g=n4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "required":return this.required;case "free":return this.ye;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.aH,this.required],null),new $APP.G(null,2,5,$APP.H,[o4,this.ye],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.aH,o4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new n4(this.required,this.ye,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.required,b.required)&&$APP.x.h(this.ye,b.ye)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[o4,null,$APP.aH,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new n4(this.required,this.ye,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "required":case "free":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.aH,b):$APP.Af.call(null,$APP.aH,b))?new n4(c,this.ye,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(o4,b):$APP.Af.call(null,o4,b))?new n4(this.required,c,this.A,this.o,null):new n4(this.required,this.ye,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.aH,this.required,null),new $APP.Se(o4,this.ye,null)],null),this.o))};$APP.g.V=function(a,b){return new n4(this.required,this.ye,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.ye,Z3(b,this.required,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.required):Q4.call(null,b,this.required);b=this.ye;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=q4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){return $APP.B.j(this.o,b,c)};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.K.h($APP.Sg,this.o))};$APP.g.fa=function(){return new $APP.vh(this,0,$APP.Sg,$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new q4(this.A,this.o,this.C)};$APP.g.aa=function(){return 0+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re($APP.yi,b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new q4(this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){return $APP.Re(this.o,b)};$APP.g.O=function(a,b,c){return new q4(this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h($APP.Sg,this.o))};$APP.g.V=function(a,b){return new q4(b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return c};$APP.g.Ib=function(a,b){return b};$APP.g=r4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "variable":return this.fc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[h5,this.fc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[h5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new r4(this.fc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[h5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new r4(this.fc,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "variable":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(h5,b):$APP.Af.call(null,h5,b))?new r4(c,this.A,this.o,null):new r4(this.fc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(h5,this.fc,null)],null),this.o))};$APP.g.V=function(a,b){return new r4(this.fc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.fc,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.fc):Q4.call(null,b,this.fc)};$APP.g=s4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "bindings":return this.Ga;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zq,this.Ga],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.zq],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new s4(this.Ga,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ga,b.Ga)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.zq,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new s4(this.Ga,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "bindings":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.zq,b):$APP.Af.call(null,$APP.zq,b))?new s4(c,this.A,this.o,null):new s4(this.Ga,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.zq,this.Ga,null)],null),this.o))};$APP.g.V=function(a,b){return new s4(this.Ga,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ga,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Ga):Q4.call(null,b,this.Ga)};$APP.g=t4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "binding":return this.dc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[P5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new t4(this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[P5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new t4(this.dc,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "binding":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(P5,b):$APP.Af.call(null,P5,b))?new t4(c,this.A,this.o,null):new t4(this.dc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new t4(this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.dc,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.dc):Q4.call(null,b,this.dc)};
e4.prototype.oi=function(){return new $APP.G(null,1,5,$APP.H,[this.Pa],null)};$APP.g=w4.prototype;$APP.g.oi=function(){return v4($APP.le(this.Ba))};$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Hn,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.cn,this.Ba],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new w4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new w4(this.na,this.Ba,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new w4(c,this.Ba,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new w4(this.na,c,this.A,this.o,null):new w4(this.na,this.Ba,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.Hn,this.na,null),new $APP.Se($APP.cn,this.Ba,null)],null),this.o))};
$APP.g.V=function(a,b){return new w4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=x4.prototype;$APP.g.oi=function(){return v4(this.fc)};$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "variable":return this.fc;case "pattern":return this.pattern;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Jl,this.source],null),new $APP.G(null,2,5,$APP.H,[h5,this.fc],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Jl,h5,$APP.LF],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new x4(this.source,this.fc,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.fc,b.fc)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[h5,null,$APP.Jl,null,$APP.LF,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new x4(this.source,this.fc,this.pattern,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Jl,b):$APP.Af.call(null,$APP.Jl,b))?new x4(c,this.fc,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(h5,b):$APP.Af.call(null,h5,b))?new x4(this.source,c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,b):$APP.Af.call(null,$APP.LF,b))?new x4(this.source,this.fc,c,this.A,this.o,null):new x4(this.source,this.fc,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se($APP.Jl,this.source,null),new $APP.Se(h5,this.fc,null),new $APP.Se($APP.LF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new x4(this.source,this.fc,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.fc,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.fc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=z4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Y5,this.elements],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[Y5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new z4(this.elements,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new z4(this.elements,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new z4(c,this.A,this.o,null):new z4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new z4(this.elements,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=A4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new A4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new A4(this.element,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.G(null,1,5,$APP.H,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new A4(c,this.A,this.o,null):new A4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new A4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=B4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "element":return this.element;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Z5,this.element],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[Z5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new B4(this.element,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.element,b.element)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[Z5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new B4(this.element,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.vh=function(){return new $APP.G(null,1,5,$APP.H,[this.element],null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "element":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Z5,b):$APP.Af.call(null,Z5,b))?new B4(c,this.A,this.o,null):new B4(this.element,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(Z5,this.element,null)],null),this.o))};
$APP.g.V=function(a,b){return new B4(this.element,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.element,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.element):Q4.call(null,b,this.element)};$APP.g=C4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "elements":return this.elements;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[Y5,this.elements],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[Y5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new C4(this.elements,this.A,this.o,this.C)};
$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.elements,b.elements)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[Y5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new C4(this.elements,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.vh=function(){return this.elements};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "elements":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(Y5,b):$APP.Af.call(null,Y5,b))?new C4(c,this.A,this.o,null):new C4(this.elements,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se(Y5,this.elements,null)],null),this.o))};$APP.g.V=function(a,b){return new C4(this.elements,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.elements,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.elements):Q4.call(null,b,this.elements)};$APP.g=E4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "type":return this.type;case "symbols":return this.He;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Ql,this.type],null),new $APP.G(null,2,5,$APP.H,[b5,this.He],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Ql,b5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new E4(this.type,this.He,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.type,b.type)&&$APP.x.h(this.He,b.He)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.Ql,null,b5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new E4(this.type,this.He,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "type":case "symbols":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Ql,b):$APP.Af.call(null,$APP.Ql,b))?new E4(c,this.He,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(b5,b):$APP.Af.call(null,b5,b))?new E4(this.type,c,this.A,this.o,null):new E4(this.type,this.He,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.Ql,this.type,null),new $APP.Se(b5,this.He,null)],null),this.o))};$APP.g.V=function(a,b){return new E4(this.type,this.He,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.He,Z3(b,this.type,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.type):Q4.call(null,b,this.type);b=this.He;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=F4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Jl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.LF,this.pattern],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Jl,$APP.LF],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new F4(this.source,this.pattern,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.pattern,b.pattern)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.Jl,null,$APP.LF,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new F4(this.source,this.pattern,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "pattern":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Jl,b):$APP.Af.call(null,$APP.Jl,b))?new F4(c,this.pattern,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.LF,b):$APP.Af.call(null,$APP.LF,b))?new F4(this.source,c,this.A,this.o,null):new F4(this.source,this.pattern,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.Jl,this.source,null),new $APP.Se($APP.LF,this.pattern,null)],null),this.o))};$APP.g.V=function(a,b){return new F4(this.source,this.pattern,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.pattern,Z3(b,this.source,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.pattern;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=G4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Hn,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.cn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.Hn,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new G4(this.na,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.cn,null,$APP.Hn,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new G4(this.na,this.Ba,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":return!0;default:return $APP.Re(this.o,b)}};$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new G4(c,this.Ba,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new G4(this.na,c,this.A,this.o,null):new G4(this.na,this.Ba,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.Hn,this.na,null),new $APP.Se($APP.cn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new G4(this.na,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.na,c))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=H4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "fn":return this.na;case "args":return this.Ba;case "binding":return this.dc;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Hn,this.na],null),new $APP.G(null,2,5,$APP.H,[$APP.cn,this.Ba],null),new $APP.G(null,2,5,$APP.H,[P5,this.dc],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Hn,$APP.cn,P5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new H4(this.na,this.Ba,this.dc,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.na,b.na)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.dc,b.dc)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[$APP.cn,null,$APP.Hn,null,P5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new H4(this.na,this.Ba,this.dc,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "fn":case "args":case "binding":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Hn,b):$APP.Af.call(null,$APP.Hn,b))?new H4(c,this.Ba,this.dc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new H4(this.na,c,this.dc,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(P5,b):$APP.Af.call(null,P5,b))?new H4(this.na,this.Ba,c,this.A,this.o,null):new H4(this.na,this.Ba,this.dc,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se($APP.Hn,this.na,null),new $APP.Se($APP.cn,this.Ba,null),new $APP.Se(P5,this.dc,null)],null),this.o))};$APP.g.V=function(a,b){return new H4(this.na,this.Ba,this.dc,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.dc,Z3(b,this.Ba,Z3(b,this.na,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.na):Q4.call(null,b,this.na);b=this.Ba;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.dc;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=I4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "name":return this.name;case "args":return this.Ba;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Jl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[$APP.cn,this.Ba],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Jl,$APP.N,$APP.cn],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new I4(this.source,this.name,this.Ba,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.Ba,b.Ba)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[$APP.cn,null,$APP.N,null,$APP.Jl,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new I4(this.source,this.name,this.Ba,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "name":case "args":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Jl,b):$APP.Af.call(null,$APP.Jl,b))?new I4(c,this.name,this.Ba,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new I4(this.source,c,this.Ba,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.cn,b):$APP.Af.call(null,$APP.cn,b))?new I4(this.source,this.name,c,this.A,this.o,null):new I4(this.source,this.name,this.Ba,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se($APP.Jl,this.source,null),new $APP.Se($APP.N,this.name,null),new $APP.Se($APP.cn,this.Ba,null)],null),this.o))};$APP.g.V=function(a,b){return new I4(this.source,this.name,this.Ba,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ba,Z3(b,this.name,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.name;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ba;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=J4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "vars":return this.hc;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Jl,this.source],null),new $APP.G(null,2,5,$APP.H,[$APP.iI,this.hc],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Jl,$APP.iI,$APP.sK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new J4(this.source,this.hc,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[$APP.Jl,null,$APP.sK,null,$APP.iI,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new J4(this.source,this.hc,this.Ia,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Jl,b):$APP.Af.call(null,$APP.Jl,b))?new J4(c,this.hc,this.Ia,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.iI,b):$APP.Af.call(null,$APP.iI,b))?new J4(this.source,c,this.Ia,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.sK,b):$APP.Af.call(null,$APP.sK,b))?new J4(this.source,this.hc,c,this.A,this.o,null):new J4(this.source,this.hc,this.Ia,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se($APP.Jl,this.source,null),new $APP.Se($APP.iI,this.hc,null),new $APP.Se($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new J4(this.source,this.hc,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.hc,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.hc;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ia;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=K4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "source":return this.source;case "rule-vars":return this.Wd;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Jl,this.source],null),new $APP.G(null,2,5,$APP.H,[O4,this.Wd],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[$APP.Jl,O4,$APP.sK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new K4(this.source,this.Wd,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.source,b.source)&&$APP.x.h(this.Wd,b.Wd)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[O4,null,$APP.Jl,null,$APP.sK,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new K4(this.source,this.Wd,this.Ia,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.Jl,b):$APP.Af.call(null,$APP.Jl,b))?new K4(c,this.Wd,this.Ia,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(O4,b):$APP.Af.call(null,O4,b))?new K4(this.source,c,this.Ia,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.sK,b):$APP.Af.call(null,$APP.sK,b))?new K4(this.source,this.Wd,c,this.A,this.o,null):new K4(this.source,this.Wd,this.Ia,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se($APP.Jl,this.source,null),new $APP.Se(O4,this.Wd,null),new $APP.Se($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new K4(this.source,this.Wd,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.Wd,Z3(b,this.source,c)))};
$APP.g.Ib=function(a,b){a=Q4.h?Q4.h(b,this.source):Q4.call(null,b,this.source);b=this.Wd;a=Q4.h?Q4.h(a,b):Q4.call(null,a,b);b=this.Ia;return Q4.h?Q4.h(a,b):Q4.call(null,a,b)};$APP.g=L4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};
$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,1,new $APP.G(null,1,5,$APP.H,[$APP.sK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new L4(this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 1+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,1,[$APP.sK,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new L4(this.Ia,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "clauses":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.sK,b):$APP.Af.call(null,$APP.sK,b))?new L4(c,this.A,this.o,null):new L4(this.Ia,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,1,5,$APP.H,[new $APP.Se($APP.sK,this.Ia,null)],null),this.o))};$APP.g.V=function(a,b){return new L4(this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;
$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,c)};$APP.g.Ib=function(a,b){return Q4.h?Q4.h(b,this.Ia):Q4.call(null,b,this.Ia)};var Q4=function Q4(a,b){return b instanceof e4?$APP.vf.h(a,b):b instanceof J4?$APP.Eh.h(a,b.hc):b instanceof K4?(b=b.Wd,Q4.h?Q4.h(a,b):Q4.call(null,a,b)):(null!=b?$APP.vd===b.Gb||(b.kd?0:$APP.Ib(W3,b)):$APP.Ib(W3,b))?fjb(b,a):$APP.ze(b)?$APP.af.j(Q4,a,b):a};$APP.g=S4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "vars":return this.hc;case "clauses":return this.Ia;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.iI,this.hc],null),new $APP.G(null,2,5,$APP.H,[$APP.sK,this.Ia],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.iI,$APP.sK],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new S4(this.hc,this.Ia,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.hc,b.hc)&&$APP.x.h(this.Ia,b.Ia)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.sK,null,$APP.iI,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new S4(this.hc,this.Ia,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "vars":case "clauses":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.iI,b):$APP.Af.call(null,$APP.iI,b))?new S4(c,this.Ia,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.sK,b):$APP.Af.call(null,$APP.sK,b))?new S4(this.hc,c,this.A,this.o,null):new S4(this.hc,this.Ia,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.iI,this.hc,null),new $APP.Se($APP.sK,this.Ia,null)],null),this.o))};
$APP.g.V=function(a,b){return new S4(this.hc,this.Ia,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Ia,Z3(b,this.hc,c))};$APP.g.Ib=function(a,b){return Q4(Q4(b,this.hc),this.Ia)};$APP.g=T4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "name":return this.name;case "branches":return this.oe;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.N,this.name],null),new $APP.G(null,2,5,$APP.H,[T5,this.oe],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[$APP.N,T5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new T4(this.name,this.oe,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.name,b.name)&&$APP.x.h(this.oe,b.oe)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[$APP.N,null,T5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new T4(this.name,this.oe,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "name":case "branches":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h($APP.N,b):$APP.Af.call(null,$APP.N,b))?new T4(c,this.oe,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(T5,b):$APP.Af.call(null,T5,b))?new T4(this.name,c,this.A,this.o,null):new T4(this.name,this.oe,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se($APP.N,this.name,null),new $APP.Se(T5,this.oe,null)],null),this.o))};
$APP.g.V=function(a,b){return new T4(this.name,this.oe,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.oe,Z3(b,this.name,c))};$APP.g.Ib=function(a,b){return Q4(Q4(b,this.name),this.oe)};$APP.g=V4.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "qfind":return this.Jd;case "qwith":return this.Nd;case "qreturn-map":return this.Ld;case "qin":return this.Kd;case "qwhere":return this.Md;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[W4,this.Jd],null),new $APP.G(null,2,5,$APP.H,[X4,this.Nd],null),new $APP.G(null,2,5,$APP.H,[Y4,this.Ld],null),new $APP.G(null,2,5,$APP.H,[Z4,this.Kd],null),new $APP.G(null,2,5,$APP.H,[$4,this.Md],null)],null),this.o))};
$APP.g.fa=function(){return new $APP.vh(this,5,new $APP.G(null,5,5,$APP.H,[W4,X4,Y4,Z4,$4],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};$APP.g.ca=function(){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,this.C)};$APP.g.aa=function(){return 5+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Md(this)};
$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.Jd,b.Jd)&&$APP.x.h(this.Nd,b.Nd)&&$APP.x.h(this.Ld,b.Ld)&&$APP.x.h(this.Kd,b.Kd)&&$APP.x.h(this.Md,b.Md)&&$APP.x.h(this.o,b.o)};$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,5,[W4,null,$4,null,Z4,null,X4,null,Y4,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};
$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(W4,b):$APP.Af.call(null,W4,b))?new V4(c,this.Nd,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(X4,b):$APP.Af.call(null,X4,b))?new V4(this.Jd,c,this.Ld,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Y4,b):$APP.Af.call(null,Y4,b))?new V4(this.Jd,this.Nd,c,this.Kd,this.Md,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(Z4,b):$APP.Af.call(null,Z4,b))?new V4(this.Jd,this.Nd,this.Ld,c,this.Md,this.A,this.o,
null):$APP.k($APP.Af.h?$APP.Af.h($4,b):$APP.Af.call(null,$4,b))?new V4(this.Jd,this.Nd,this.Ld,this.Kd,c,this.A,this.o,null):new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,5,5,$APP.H,[new $APP.Se(W4,this.Jd,null),new $APP.Se(X4,this.Nd,null),new $APP.Se(Y4,this.Ld,null),new $APP.Se(Z4,this.Kd,null),new $APP.Se($4,this.Md,null)],null),this.o))};
$APP.g.V=function(a,b){return new V4(this.Jd,this.Nd,this.Ld,this.Kd,this.Md,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g.Gb=$APP.vd;$APP.g.Hb=function(a,b,c){return Z3(b,this.Md,Z3(b,this.Kd,Z3(b,this.Ld,Z3(b,this.Nd,Z3(b,this.Jd,c)))))};$APP.g.Ib=function(a,b){return Q4(Q4(Q4(Q4(Q4(b,this.Jd),this.Nd),this.Ld),this.Kd),this.Md)};var lob=e0();$APP.g=c5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "rels":return this.cf;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[j5,this.cf],null),new $APP.G(null,2,5,$APP.H,[i5,this.sources],null),new $APP.G(null,2,5,$APP.H,[$APP.qG,this.rules],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,3,new $APP.G(null,3,5,$APP.H,[j5,i5,$APP.qG],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new c5(this.cf,this.sources,this.rules,this.A,this.o,this.C)};$APP.g.aa=function(){return 3+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.cf,b.cf)&&$APP.x.h(this.sources,b.sources)&&$APP.x.h(this.rules,b.rules)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,3,[i5,null,$APP.qG,null,j5,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new c5(this.cf,this.sources,this.rules,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(j5,b):$APP.Af.call(null,j5,b))?new c5(c,this.sources,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(i5,b):$APP.Af.call(null,i5,b))?new c5(this.cf,c,this.rules,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h($APP.qG,b):$APP.Af.call(null,$APP.qG,b))?new c5(this.cf,this.sources,c,this.A,this.o,null):new c5(this.cf,this.sources,this.rules,this.A,$APP.ui.j(this.o,b,c),null)};
$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,3,5,$APP.H,[new $APP.Se(j5,this.cf,null),new $APP.Se(i5,this.sources,null),new $APP.Se($APP.qG,this.rules,null)],null),this.o))};$APP.g.V=function(a,b){return new c5(this.cf,this.sources,this.rules,b,this.o,this.C)};$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};$APP.g=d5.prototype;$APP.g.ba=function(a,b){return this.K(null,b,null)};
$APP.g.K=function(a,b,c){switch(b instanceof $APP.F?b.N:null){case "attrs":return this.ta;case "tuples":return this.zf;default:return $APP.B.j(this.o,b,c)}};$APP.g.ja=function(a,b,c){return $APP.af.j(function(d,e){var f=$APP.y.j(e,0,null);e=$APP.y.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.W=function(a,b,c){return $APP.aj(b,function(d){return $APP.aj(b,$APP.dj,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[x3,this.ta],null),new $APP.G(null,2,5,$APP.H,[n5,this.zf],null)],null),this.o))};$APP.g.fa=function(){return new $APP.vh(this,2,new $APP.G(null,2,5,$APP.H,[x3,n5],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ag())};$APP.g.U=function(){return this.A};
$APP.g.ca=function(){return new d5(this.ta,this.zf,this.A,this.o,this.C)};$APP.g.aa=function(){return 2+$APP.be(this.o)};$APP.g.Y=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Md(this)};$APP.g.S=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.x.h(this.ta,b.ta)&&$APP.x.h(this.zf,b.zf)&&$APP.x.h(this.o,b.o)};
$APP.g.la=function(a,b){return $APP.Re(new $APP.xi(null,new $APP.h(null,2,[n5,null,x3,null],null),null),b)?$APP.Ll.h($APP.vc($APP.Eh.h($APP.Uf,this),this.A),b):new d5(this.ta,this.zf,this.A,$APP.Wf($APP.Ll.h(this.o,b)),null)};$APP.g.ga=function(a,b){switch(b instanceof $APP.F?b.N:null){case "attrs":case "tuples":return!0;default:return $APP.Re(this.o,b)}};
$APP.g.O=function(a,b,c){return $APP.k($APP.Af.h?$APP.Af.h(x3,b):$APP.Af.call(null,x3,b))?new d5(c,this.zf,this.A,this.o,null):$APP.k($APP.Af.h?$APP.Af.h(n5,b):$APP.Af.call(null,n5,b))?new d5(this.ta,c,this.A,this.o,null):new d5(this.ta,this.zf,this.A,$APP.ui.j(this.o,b,c),null)};$APP.g.Z=function(){return $APP.r($APP.K.h(new $APP.G(null,2,5,$APP.H,[new $APP.Se(x3,this.ta,null),new $APP.Se(n5,this.zf,null)],null),this.o))};$APP.g.V=function(a,b){return new d5(this.ta,this.zf,b,this.o,this.C)};
$APP.g.da=function(a,b){return $APP.De(b)?this.O(null,$APP.oe(b,0),$APP.oe(b,1)):$APP.af.j($APP.Vb,this,b)};
var S6=function S6(a,b){return $APP.x.h($APP.xH,a)?!0:$APP.x.h(new $APP.G(null,1,5,$APP.H,[$APP.sH],null),a)?$APP.ze(b):a instanceof $APP.q?$APP.x.h(b,a):$APP.ze(a)?$APP.x.h($APP.le(a),$APP.sH)?$APP.ze(b)&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.ej.j($APP.Iw,$APP.Ci(a),b)):$APP.ze(b)&&$APP.x.h($APP.be(b),$APP.be(a))&&$APP.mg(function(d){var e=$APP.y.j(d,0,null);d=$APP.y.j(d,1,null);return S6.h?S6.h(e,d):S6.call(null,e,d)},$APP.ej.j($APP.Iw,
a,b)):a.g?a.g(b):a.call(null,b)},t5=function t5(a,b){var d=$APP.Vf(a),e=$APP.B.h(d,x3);d=$APP.B.h(d,n5);var f=$APP.Vf(b),m=$APP.B.h(f,x3);f=$APP.B.h(f,n5);if($APP.x.h(e,m))return new d5(e,$APP.Eh.h($APP.cf(d),f),null,null,null);if($APP.ve(d))return b;if($APP.ve(f))return a;if(akb(e,m)){if($APP.mg($APP.Ab,$APP.si(e)))return ekb(e,d,m,f);a=$APP.Fi($APP.qi(e),$APP.Vn.D());e=ekb(a,$APP.Sg,e,d);return t5.h?t5.h(e,b):t5.call(null,e,b)}throw $APP.Yl.h(["Can’t sum relations with different attrs: ",$APP.wj.l($APP.z([e])),
" and ",$APP.wj.l($APP.z([m]))].join(""),new $APP.h(null,1,[$APP.Kn,s5],null));},r5=function r5(a){switch(arguments.length){case 0:return r5.D();case 2:return r5.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};r5.D=function(){return new d5($APP.Uf,new $APP.G(null,1,5,$APP.H,[[]],null),null,null,null)};
r5.h=function(a,b){var c=$APP.qi(x3.g(a)),d=$APP.qi(x3.g(b)),e=$APP.bf($APP.ej.h(x3.g(a),c)),f=$APP.bf($APP.ej.h(x3.g(b),d));return new d5($APP.Fi($APP.K.h(c,d),$APP.Vn.D()),$APP.Vc($APP.af.j(function(m,p){return $APP.af.j(function(u,t){return $APP.Rg.h(u,dkb(p,e,t,f))},m,n5.g(b))},$APP.Tc($APP.Sg),n5.g(a))),null,null,null)};r5.B=2;q4.prototype.xh=function(){return r5.D()};
r4.prototype.xh=function(a,b){return new d5($APP.Tf([$APP.sp.h(this,new $APP.G(null,2,5,$APP.H,[h5,$APP.zm],null)),0]),new $APP.G(null,1,5,$APP.H,[$APP.ys.g(new $APP.G(null,1,5,$APP.H,[b],null))],null),null,null,null)};
t4.prototype.xh=function(a,b){var c=this;if(Xgb(b))return $APP.ve(b)?fkb(c):$APP.af.h(t5,$APP.ej.h(function(d){return g5(c.dc,d)},b));throw $APP.Yl.h(["Cannot bind value ",$APP.wj.l($APP.z([b]))," to collection ",$APP.wj.l($APP.z([c4(c)]))].join(""),new $APP.h(null,3,[$APP.Kn,nmb,$APP.JI,b,P5,c4(c)],null));};
s4.prototype.xh=function(a,b){if(Xgb(b)){if($APP.be(b)<$APP.be(this.Ga))throw $APP.Yl.h(["Not enough elements in a collection ",$APP.wj.l($APP.z([b]))," to bind tuple ",$APP.wj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,nmb,$APP.JI,b,P5,c4(this)],null));return $APP.af.h(r5,$APP.ej.j(function(c,d){return g5(c,d)},this.Ga,b))}throw $APP.Yl.h(["Cannot bind value ",$APP.wj.l($APP.z([b]))," to tuple ",$APP.wj.l($APP.z([c4(this)]))].join(""),new $APP.h(null,3,[$APP.Kn,nmb,$APP.JI,b,P5,c4(this)],
null));};var k5=null,l5=null,Akb=$APP.yj.g(0),w5=function w5(a){switch(arguments.length){case 2:return w5.h(arguments[0],arguments[1]);case 3:return w5.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};w5.h=function(a,b){return w5.j(a,b,b)};
w5.j=function(a,b,c){for(;;){var d=S6,e=b;if($APP.k(function(){var da=new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Ad,$APP.sH],null)],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ie(b)),b),xkb(a,b);if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.Ad,$APP.sH],null),$APP.xH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return E5(D5(a),$APP.Pg.h(e5,$APP.ie(b)),b),ykb(a,b);if($APP.k(function(){var da=
new $APP.G(null,2,5,$APP.H,[bkb,$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){var f=$APP.r(b);c=$APP.v(f);f=$APP.w(f);var m=l5;l5=$APP.B.h(i5.g(a),c);try{return w5.j(a,f,b)}finally{l5=m}}else{if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.ot,$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){var p=b,u=$APP.r(p),t=$APP.v(u),A=$APP.w(u);f=t;m=A;var C=Ikb(D5(a),m,b),E=$APP.ej.h(function(da){return function(ja){return F5.h?F5.h(da,ja):F5.call(null,da,ja)}}(a,
b,c,p,u,t,A,f,m,C,d,e),m);b=$APP.ej.h(function(){return function(da){return $APP.af.h(o5,j5.g(da))}}(a,b,c,p,u,t,A,f,m,C,E,d,e),E);return $APP.ui.j($APP.v(E),j5,new $APP.G(null,1,5,$APP.H,[$APP.af.h(t5,b)],null))}if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[R4,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[$APP.sH],null),$APP.sH],null),$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){m=$APP.r(b);f=$APP.v(m);m=$APP.w(m);p=$APP.v(m);f=$APP.w(m);p=$APP.r(p);m=$APP.v(p);
p=$APP.w(p);C=m;m=f;f=D5(a);E5(f,C,c);Jkb(f,p,m);c=$APP.Gs.j(R4,$APP.K.h(C,p),m);f=b;b=c;c=f;continue}else{if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[R4,new $APP.G(null,1,5,$APP.H,[$APP.sH],null),$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){t=b;A=$APP.r(t);var I=$APP.v(A),Q=$APP.w(A);f=I;var T=$APP.v(Q),Z=$APP.w(Q);p=T;m=Z;var ba=$APP.Bi(p);C=Jkb(D5(a),ba,m);u=C5(a,ba);E=$APP.ej.h(function(da,ja,la,xa,sa,X,S,W,V,Y,oa,za,ha,qa,ua){return function(ya){return C5(F5.h?
F5.h(ua,ya):F5.call(null,ua,ya),ha)}}(a,b,c,t,A,I,Q,f,T,Z,p,m,ba,C,u,d,e),m);b=$APP.ej.h(function(){return function(da){return $APP.af.h(o5,j5.g(da))}}(a,b,c,t,A,I,Q,f,T,Z,p,m,ba,C,u,E,d,e),E);b=$APP.af.h(t5,b);return $APP.an.F(a,j5,q5,b)}if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.jt,$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return c=$APP.r(b),b=$APP.v(c),c=$APP.w(c),f=b,b=c,$APP.af.j(F5,a,b);if($APP.k(function(){var da=new $APP.G(null,2,5,$APP.H,[$APP.LC,
$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){f=$APP.r(b);b=$APP.v(f);m=$APP.w(f);f=b;b=m;f=D5(a);m=$APP.Bi(v5(b));if($APP.ve($APP.dx.h(f,m)))throw $APP.Yl.h(["Insufficient bindings: none of ",$APP.wj.l($APP.z([m]))," is bound in ",$APP.wj.l($APP.z([c]))].join(""),new $APP.h(null,2,[$APP.Kn,s5,$APP.AB,c],null));C=null;a=$APP.ui.j(a,j5,new $APP.G(null,1,5,$APP.H,[$APP.af.h(o5,j5.g(a))],null));b=$APP.af.j(F5,a,b);b=mkb($APP.v(j5.g(a)),$APP.af.h(o5,j5.g(b)));return $APP.ui.j(a,j5,
new $APP.G(null,1,5,$APP.H,[b],null))}if($APP.k(function(){var da=new $APP.G(null,3,5,$APP.H,[Jjb,new $APP.G(null,1,5,$APP.H,[$APP.sH],null),$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}()))return b=$APP.r(b),f=$APP.v(b),b=$APP.w(b),f=$APP.v(b),b=$APP.w(b),p=f,f=D5(a),C=E5(f,p,c),a=$APP.ui.j(a,j5,new $APP.G(null,1,5,$APP.H,[$APP.af.h(o5,j5.g(a))],null)),u=C5(a,p),b=C5($APP.af.j(F5,u,b),p),b=mkb($APP.v(j5.g(a)),$APP.af.h(o5,j5.g(b))),$APP.ui.j(a,j5,new $APP.G(null,1,5,$APP.H,[b],null));
if($APP.k(function(){var da=new $APP.G(null,1,5,$APP.H,[$APP.sH],null),ja=e;return d.h?d.h(da,ja):d.call(null,da,ja)}())){c=l5;b=pkb(c,b);f=skb(a,c,b);m=k5;k5=(null!=c?$APP.vd===c.mj||(c.kd?0:$APP.Ib(w1,c)):$APP.Ib(w1,c))?Hkb(c,b):k5;try{return $APP.an.F(a,j5,q5,f)}finally{k5=m}}else throw Error(["No matching clause: ",$APP.l.g(e)].join(""));}}break}};w5.B=3;
var F5=function F5(a,b){if($APP.k($APP.ng($APP.oq.h($APP.ve,n5),j5.g(a))))return a;if(zkb(a,b))if(bkb($APP.v(b))){var d=l5;l5=$APP.B.h(i5.g(a),$APP.v(b));try{var e=$APP.w(b);return F5.h?F5.h(a,e):F5.call(null,a,e)}finally{l5=d}}else return $APP.an.F(a,j5,q5,Gkb(a,b));else return w5.h(a,b)};e4.prototype.yh=function(a,b){return tkb(b,this.Pa)};f4.prototype.yh=function(a,b){return $APP.sp.h(b,new $APP.G(null,2,5,$APP.H,[i5,this.Pa],null))};
j4.prototype.yh=function(){var a=$APP.B.h(kob,this.Pa);return $APP.k(a)?a:null};i4.prototype.yh=function(){return this.value};z4.prototype.zh=function(a,b,c){return null==b?c:Skb(b,c)};A4.prototype.zh=function(a,b,c){return $APP.Eh.j($APP.Sg,$APP.ej.g($APP.v),c)};B4.prototype.zh=function(a,b,c){return $APP.he(c)};C4.prototype.zh=function(a,b,c){return null!=b?$APP.v(Skb(b,new $APP.G(null,1,5,$APP.H,[$APP.v(c)],null))):$APP.v(c)};
var T6=function T6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return T6.l(arguments[0],1<c.length?new $APP.Ed(c.slice(1),0,null):null)};
T6.l=function(a,b){var c=c0(lob,a,function(){return Zjb(a)}),d=W4.g(c),e=y4(d),f=$APP.Og.l(v4,$APP.z([y4(d)])),m=$APP.be(e),p=X4.g(c);p=$APP.K.h(f,$APP.ej.h($APP.zm,p));f=$APP.ze(a)?Rjb(a):a;var u=$APP.Uqa.g(f);b=jkb(new c5($APP.Sg,$APP.Uf,$APP.Uf,null,null,null),Z4.g(c),b);p=Nkb(Kkb(b,u),p);f=$APP.k(Xjb.g(f))?$APP.pn.h(function(t){return $APP.cf($APP.el.j(t,0,m))},p):p;f=$APP.k($APP.ng(sjb,e))?Qkb(e,b,f):f;e=$APP.k($APP.ng(tjb,e))?Ukb(e,b,f):f;return Tkb(d,Y4.g(c),e)};T6.B=1;
T6.G=function(a){var b=$APP.v(a);a=$APP.w(a);return this.l(b,a)};var U6=function U6(a){switch(arguments.length){case 0:return U6.D();case 1:return U6.g(arguments[0]);case 2:return U6.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};U6.D=function(){return $1(null,$APP.Uf)};U6.g=function(a){return $1(a,$APP.Uf)};U6.h=function(a,b){return $1(a,Y2(b))};U6.B=2;
var V6=function V6(a){switch(arguments.length){case 1:return V6.g(arguments[0]);case 2:return V6.h(arguments[0],arguments[1]);case 3:return V6.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};V6.g=function(a){return a2(a,null,$APP.Uf)};V6.h=function(a,b){return a2(a,b,$APP.Uf)};V6.j=function(a,b,c){return a2(a,b,Y2(c))};V6.B=3;
var W6=function W6(a){switch(arguments.length){case 2:return W6.h(arguments[0],arguments[1]);case 3:return W6.j(arguments[0],arguments[1],arguments[2]);case 4:return W6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return W6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return W6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
W6.h=function(a,b){return p1(a,b,null,null,null,null)};W6.j=function(a,b,c){return p1(a,b,c,null,null,null)};W6.F=function(a,b,c,d){return p1(a,b,c,d,null,null)};W6.R=function(a,b,c,d,e){return p1(a,b,c,d,e,null)};W6.ma=function(a,b,c,d,e,f){return p1(a,b,c,d,e,f)};W6.B=6;
var X6=function X6(a){switch(arguments.length){case 2:return X6.h(arguments[0],arguments[1]);case 3:return X6.j(arguments[0],arguments[1],arguments[2]);case 4:return X6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return X6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return X6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
X6.h=function(a,b){return q1(a,b,null,null,null,null)};X6.j=function(a,b,c){return q1(a,b,c,null,null,null)};X6.F=function(a,b,c,d){return q1(a,b,c,d,null,null)};X6.R=function(a,b,c,d,e){return q1(a,b,c,d,e,null)};X6.ma=function(a,b,c,d,e,f){return q1(a,b,c,d,e,f)};X6.B=6;
var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.h(arguments[0],arguments[1]);case 3:return Y6.j(arguments[0],arguments[1],arguments[2]);case 4:return Y6.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Y6.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Y6.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};
Y6.h=function(a,b){return r1(a,b,null,null,null,null)};Y6.j=function(a,b,c){return r1(a,b,c,null,null,null)};Y6.F=function(a,b,c,d){return r1(a,b,c,d,null,null)};Y6.R=function(a,b,c,d,e){return r1(a,b,c,d,e,null)};Y6.ma=function(a,b,c,d,e,f){return r1(a,b,c,d,e,f)};Y6.B=6;
for(var mob=$APP.r(new $APP.h(null,2,[Nmb,$APP.h1,Xnb,$APP.c2],null)),nob=null,oob=0,Z6=0;;)if(Z6<oob){var pob=nob.ha(null,Z6),qob=$APP.y.j(pob,0,null),rob=$APP.y.j(pob,1,null),sob=qob,tob=rob;$APP.B.h($APP.n($APP.KK),sob);$APP.Bj.F($APP.KK,$APP.ui,sob,tob);Z6+=1}else{var uob=$APP.r(mob);if(uob){var $6=uob;if($APP.Ee($6)){var vob=$APP.cd($6),wob=$APP.dd($6),xob=vob,yob=$APP.be(vob);mob=wob;nob=xob;oob=yob}else{var zob=$APP.v($6),Aob=$APP.y.j(zob,0,null),Bob=$APP.y.j(zob,1,null),Cob=Aob,Dob=Bob;$APP.B.h($APP.n($APP.KK),
Cob);$APP.Bj.F($APP.KK,$APP.ui,Cob,Dob);mob=$APP.w($6);nob=null;oob=0}Z6=0}else break}$APP.yj.g(-1E6);var a7=$APP.kN.h($APP.iJ,null),b7=$APP.kN.h($APP.jK,null),c7=$APP.kN.h($APP.EJ,null),Eob=$APP.kN.h($APP.eJ,null),Fob=$APP.gi([bmb,Kmb,klb,Vnb,$APP.RH,Dnb,S5,Gnb,imb,Lmb,mnb,dmb,nnb,Pnb,R5,znb,Rnb,aob,bob,Wnb,jnb,Jnb,$nb,$APP.YE,Snb,U5,Lnb,enb,ujb,Elb,unb],[function(){var a=new $APP.Cd(function(){return c3},vlb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,bmb,"datascript/core.cljc",60,1,267,267,$APP.Hd,"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",
$APP.k(c3)?c3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return P6},hob,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Kmb,"datascript/core.cljc",
12,1,119,129,$APP.Hd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',$APP.k(P6)?P6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return h3},ynb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,klb,"datascript/core.cljc",9,1,26,76,g6,$APP.Hd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n\n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n\n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n\n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n\n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n\n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(h3)?h3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return v6},nlb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Vnb,"datascript/core.cljc",
54,1,702,702,$APP.Hd,"Lazy-loads database from storage. Ultra-fast, fetches the rest as it’s needed",$APP.k(v6)?v6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return T6},ilb,$APP.gi([$APP.P,$APP.N,
$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,$APP.RH,"datascript/core.cljc",4,1,133,145,$APP.Hd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n\n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.k(T6)?T6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return B6},ymb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Dnb,"datascript/core.cljc",65,1,565,565,$APP.Hd,"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n\n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n\n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(B6)?B6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return g1},Knb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,S5,"datascript/core.cljc",
8,1,181,188,b6,$APP.Hd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?
$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return pib},Fmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Gnb,"datascript/core.cljc",50,1,271,271,$5,$APP.Hd,"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(pib)?pib.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,
$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Wkb},wmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,imb,"datascript/core.cljc",18,1,412,412,$APP.J(new $APP.G(null,4,5,$APP.H,[R5,L5,$APP.rz,$APP.LI],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n\n   Same properties as [[datoms]].\n\n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n\n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n\n   Useful patterns:\n\n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k(Wkb)?Wkb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return g3},hnb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Lmb,"datascript/core.cljc",
39,1,446,446,$APP.Hd,"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(g3)?g3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return y6},Mnb,$APP.gi([$APP.P,$APP.N,
$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,mnb,"datascript/core.cljc",59,1,466,466,$APP.Hd,"Lazy-load database from storage and make conn out of it.\n   Returns nil if there’s no database yet in storage",$APP.k(y6)?y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?
e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return A6},ulb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,dmb,"datascript/core.cljc",61,1,558,558,$APP.Hd,"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.k(A6)?A6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,
4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return z6},Ylb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,nnb,"datascript/core.cljc",69,1,471,471,$APP.Hd,'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n\n   Returns transaction report, a map:\n\n       {:db-before ...      ; db value before transaction\n        :db-after  ...      ; db value after transaction\n        :tx-data   [...]    ; plain datoms that were added/retracted from db-before\n        :tempids   {...}    ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n        :tx-meta   tx-meta} ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n\n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n\n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n\n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n\n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n\n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n\n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n\n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n\n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n\n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n\n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n\n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n\n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n\n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(z6)?z6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return h6},Zkb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Pnb,"datascript/core.cljc",
38,1,677,677,$APP.Hd,"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n\n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",$APP.k(h6)?h6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):
$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Xkb},Clb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,R5,"datascript/core.cljc",13,1,617,617,$5,$APP.J(new $APP.G(null,1,5,$APP.H,[lmb],null)),"Returns the underlying immutable database value from a connection.\n\n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",
$APP.k(Xkb)?Xkb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Q6},Ilb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,znb,"datascript/core.cljc",
15,1,206,218,$APP.Hd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(Q6)?Q6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return w6},gmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Rnb,"datascript/core.cljc",
84,1,450,450,$APP.Hd,"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(w6)?w6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Y6},Flb,$APP.gi([$APP.P,$APP.N,$APP.Vl,
$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,aob,"datascript/core.cljc",19,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,
2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,404,404,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,
5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),"Same as [[seek-datoms]], but goes backwards until the beginning of the index.",$APP.k(Y6)?Y6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,
b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return R6},Umb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,bob,"datascript/core.cljc",20,1,220,229,$5,$APP.Hd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(R6)?R6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return U6},Qmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Wnb,"datascript/core.cljc",
19,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,3,5,$APP.H,[$APP.Sg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)],null),$APP.U,$APP.J($APP.Sg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)),$APP.fF,$APP.J(null,null,null)],null),1,150,150,$5,$APP.J($APP.Sg,new $APP.G(null,1,5,$APP.H,[M5],null),new $APP.G(null,2,5,$APP.H,[M5,$APP.bG],null)),"Creates an empty database with an optional schema.\n\n   Usage:\n\n   ```\n   (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n\n   (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n   ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n   ;                    :datoms []}\n   ```\n\n   Options are:\n\n   :branching-factor \x3cint\x3e, default 512. B-tree max node length\n   :ref-type         :strong | :soft | :weak, default :soft. How will nodes that are already\n                     stored on disk be referenced. Soft or weak means they might be unloaded\n                     from memory under memory pressure and later fetched from storage again.\n   :storage          \x3cIStorage\x3e. Will be used to store this db later with `(d/store db)`",
$APP.k(U6)?U6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return V6},bnb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,jnb,"datascript/core.cljc",
18,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,3,$APP.DJ,3,$APP.lJ,new $APP.G(null,3,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)),$APP.fF,$APP.J(null,null,null)],null),1,194,194,$5,$APP.J(new $APP.G(null,1,5,$APP.H,[U5],null),new $APP.G(null,2,5,$APP.H,[U5,M5],null),
new $APP.G(null,3,5,$APP.H,[U5,M5,$APP.bG],null)),"Low-level fn for creating database quickly from a trusted sequence of datoms.\n   Does no validation on inputs, so `datoms` must be well-formed and match schema.\n   Used internally in db (de)serialization. See also [[datom]].\n   For options, see [[empty-db]]",$APP.k(V6)?V6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return j3},qlb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Jnb,"datascript/core.cljc",8,1,90,100,g6,$APP.Hd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(j3)?j3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return 536870912},xnb,$APP.gi([$APP.ou,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.wA,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[!0,$APP.iJ,
$nb,"datascript/core.cljc",26,1,!0,21,21,$APP.Hd,null,$APP.k(536870912)?(536870912).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Vkb},flb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,
$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,$APP.YE,"datascript/core.cljc",13,1,246,246,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.lK],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n\n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.k(Vkb)?Vkb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return d3},cmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Snb,"datascript/core.cljc",
45,1,693,693,$APP.Hd,"Stores databases to provided storage. If database was created\n      with :storage option or restored from storage, use single-argument version.\n\n      Subsequent stores are incremental, i.e. only newly added nodes will be actually stored.\n\n      Storing already stored dbs into another storage is not supported (may change).",$APP.k(d3)?d3.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,
$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return W6},wnb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,U5,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,
3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,
Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,282,282,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n\n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n\n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n\n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n\n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n\n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n\n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n\n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n\n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(W6)?W6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return sib},Xlb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Lnb,"datascript/core.cljc",
49,1,562,562,$APP.Hd,null,$APP.k(sib)?sib.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return X6},omb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],
[$APP.iJ,enb,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,6,$APP.DJ,6,$APP.lJ,new $APP.G(null,5,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,
$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),$APP.fF,$APP.J(null,null,null,null,null)],null),1,367,367,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.hF],null),new $APP.G(null,3,5,$APP.H,[R5,$APP.hF,Q5],null),new $APP.G(null,4,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE],null),new $APP.G(null,5,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE],
null),new $APP.G(null,6,5,$APP.H,[R5,$APP.hF,Q5,$APP.vE,$APP.wE,$APP.xE],null)),'Similar to [[datoms]], but will return datoms starting from specified components and including rest of the database until the end of the index.\n\n   If no datom matches passed arguments exactly, iterator will start from first datom that could be considered “greater” in index order.\n\n   Usage:\n\n       (seek-datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 1 :name)\n       ; \x3d\x3e (#datascript/Datom [1 :name "Ivan"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       (seek-datoms db :eavt 2)\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n\n       ; no datom [2 :likes "fish"], so starts with one immediately following such in index\n       (seek-datoms db :eavt 2 :likes "fish")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])',
$APP.k(X6)?X6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return O6},Klb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,ujb,"datascript/core.cljc",
7,1,105,117,$APP.Hd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(O6)?O6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return Ykb},pmb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,Elb,"datascript/core.cljc",
15,1,735,735,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null)),null,$APP.k(Ykb)?Ykb.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),function(){var a=new $APP.Cd(function(){return x6},Omb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,
$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.iJ,unb,"datascript/core.cljc",59,1,454,454,$APP.Hd,"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.\n\n   For list of options, see [[empty-db]].\n\n   If you specify `:storage` option, conn will be stored automatically after each transaction",
$APP.k(x6)?x6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,a7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}()]),Gob=new $APP.h(null,7,[Tlb,function(){var a=new $APP.Cd(function(){return $APP.c2},Anb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.jK,
Tlb,"datascript/db.cljc",21,1,1124,1124,$APP.J(new $APP.G(null,1,5,$APP.H,[new $APP.h(null,1,[$APP.ZB,new $APP.G(null,2,5,$APP.H,[M5,U5],null)],null)],null)),null,$APP.k($APP.c2)?$APP.c2.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),lnb,
function(){var a=new $APP.Cd(function(){return $APP.h1},onb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.jK,lnb,"datascript/db.cljc",31,1,333,333,b6,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.pJ],null)),null,$APP.k($APP.h1)?$APP.h1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),dlb,function(){var a=new $APP.Cd(function(){return $APP.e1},ylb,$APP.gi([$APP.Dr,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$kb,$APP.jK,dlb,"datascript/db.cljc",15,1,179,181,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.zE],null)),null,$APP.k($APP.e1)?$APP.e1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),
$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),clb,function(){var a=new $APP.Cd(function(){return $APP.d1},$lb,$APP.gi([$APP.Dr,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$kb,$APP.jK,clb,"datascript/db.cljc",12,1,179,180,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.zE],null)),null,$APP.k($APP.d1)?$APP.d1.H:null])),b=$APP.n(a),c=$APP.se(a);
a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),S5,function(){var a=new $APP.Cd(function(){return g1},dnb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.Cm,$APP.U,$APP.M,$APP.lF],[$APP.jK,S5,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.DA,!1,
$APP.Qs,5,$APP.DJ,5,$APP.lJ,new $APP.G(null,3,5,$APP.H,[new $APP.G(null,3,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH],null),new $APP.G(null,4,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5,jlb],null)],null),$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH],null),new $APP.G(null,4,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5,jlb],null)),$APP.fF,$APP.J(null,null,null)],null),1,257,257,b6,
$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH],null),new $APP.G(null,4,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5],null),new $APP.G(null,5,5,$APP.H,[$APP.FH,$APP.AH,$APP.UH,N5,jlb],null)),null,$APP.k(g1)?g1.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,
d):$APP.iu.j(a,b,d)}(),$5,function(){var a=new $APP.Cd(function(){return $APP.z1},Amb,new $APP.h(null,8,[$APP.P,$APP.jK,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,672,$APP.Om,22,$APP.N,$5,$APP.lF,$APP.k($APP.z1)?$APP.z1.H:null,$APP.U,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?
e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),b6,function(){var a=new $APP.Cd(function(){return $APP.f1},Dmb,new $APP.h(null,8,[$APP.P,$APP.jK,$APP.M,null,$APP.Vl,"datascript/db.cljc",$APP.Wl,185,$APP.Om,10,$APP.N,b6,$APP.lF,$APP.k($APP.f1)?$APP.f1.H:null,$APP.U,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,b7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}()],null),Hob=new $APP.h(null,3,[Emb,function(){var a=new $APP.Cd(function(){return C6},hlb,$APP.gi([$APP.Qt,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.oI,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[!0,$APP.eJ,Emb,"datascript/impl/entity.cljc",21,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,3,$APP.DJ,3,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.re($APP.zE,
new $APP.h(null,1,[$APP.Cm,g6],null)),L5,$APP.bB],null)],null),$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.re($APP.zE,new $APP.h(null,1,[$APP.Cm,g6],null)),L5,$APP.bB],null)),$APP.fF,$APP.J(null,null)],null),1,165,165,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.zE,L5],null),new $APP.G(null,3,5,$APP.H,[$APP.re($APP.zE,new $APP.h(null,1,[$APP.Cm,g6],null)),L5,$APP.bB],null)),null,$APP.k(C6)?C6.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);
var d=new $APP.h(null,4,[$APP.P,Eob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),g6,function(){var a=new $APP.Cd(function(){return l3},Hmb,new $APP.h(null,8,[$APP.P,$APP.eJ,$APP.M,null,$APP.Vl,"datascript/impl/entity.cljc",$APP.Wl,48,$APP.Om,10,$APP.N,g6,$APP.lF,$APP.k(l3)?l3.H:null,$APP.U,$APP.Hd],null)),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?
null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,Eob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),elb,function(){var a=new $APP.Cd(function(){return wib},Llb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.eJ,elb,"datascript/impl/entity.cljc",14,1,147,147,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.WH],
null)),null,$APP.k(wib)?wib.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,Eob,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}()],null),d7,Iob=$APP.yj.g($APP.Uf),Job=$APP.yj.g($APP.Uf),Kob=$APP.yj.g($APP.Uf),Lob=$APP.yj.g($APP.Uf),Mob=$APP.B.j($APP.Uf,$APP.lr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));
d7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-store"),$APP.$q,$APP.Km,Mob,Iob,Job,Kob,Lob);var e7,Nob=$APP.yj.g($APP.Uf),Oob=$APP.yj.g($APP.Uf),Pob=$APP.yj.g($APP.Uf),Qob=$APP.yj.g($APP.Uf),Rob=$APP.B.j($APP.Uf,$APP.lr,$APP.Kj.D?$APP.Kj.D():$APP.Kj.call(null));e7=new $APP.ak($APP.kj.h("nbb.impl.datascript","-restore"),$APP.$q,$APP.Km,Rob,Nob,Oob,Pob,Qob);d7.ea(null,$APP.dA,function(a,b){var c=$APP.Dp(a);c=$APP.B.h(c,O5);return c.h?c.h(a,b):c.call(null,a,b)});var Sob=P2;
d7.ea(null,$APP.Km,function(a,b){return Sob.h?Sob.h(a,b):Sob.call(null,a,b)});P2=function(a,b){return d7.h(a,b)};e7.ea(null,$APP.dA,function(a,b){var c=$APP.Dp(a);c=$APP.B.h(c,f6);return c.h?c.h(a,b):c.call(null,a,b)});var Tob=Q2;e7.ea(null,$APP.Km,function(a,b){return Tob.h?Tob.h(a,b):Tob.call(null,a,b)});Q2=function(a,b){return e7.h(a,b)};
var Uob=$APP.iu.h(dob,new $APP.h(null,3,[$APP.Dr,aib,$APP.Cr,$APP.zi([e7,d7]),$APP.P,c7],null)),Vob=$APP.ui.l($APP.ku($APP.gi([$APP.re(Zlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.re($APP.BH,new $APP.h(null,1,[$APP.Cm,b6],null))],null)))],null)),$APP.re(gob,new $APP.h(null,4,[knb,!0,$APP.qJ,$APP.Tra,$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null))),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)),$APP.re(Plb,
new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J($APP.re(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.h(null,1,[$APP.Cm,tnb],null))))],null)),$APP.re(Smb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null)))],null)),$APP.re(eob,new $APP.h(null,4,[$APP.TG,!0,$APP.nA,new $APP.h(null,1,[$APP.Cr,new $APP.h(null,2,[$APP.re(O5,new $APP.h(null,1,[$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,3,5,$APP.H,[$APP.xH,e6,W5],null)],null),$APP.re(f6,new $APP.h(null,1,[$APP.M,"Read back and deserialize data stored under single `addr`"],null)),new $APP.G(null,1,5,$APP.H,[new $APP.G(null,2,5,$APP.H,[$APP.xH,J5],null)],null)],null)],null),$APP.EH,new $APP.h(null,2,[alb,new $APP.h(null,3,[$APP.N,O5,$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.xH,e6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null),wlb,new $APP.h(null,3,[$APP.N,f6,$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.xH,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),$APP.CG,$APP.J("@interface")],null)),$APP.re(Vnb,new $APP.h(null,2,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null))),$APP.oI,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,
2,5,$APP.H,[d6,$APP.bG],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null)),$APP.fF,$APP.J(null,null)],null)],null)),$APP.re(d6,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null)))],null)),$APP.re(O5,new $APP.h(null,3,[$APP.Dr,Enb,$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)",
$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.xH,e6,W5],null)))],null)),$APP.re(Jlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,3,5,$APP.H,[R5,cnb,Hnb],null)))],null)),$APP.re(f6,new $APP.h(null,3,[$APP.Dr,Enb,$APP.M,"Read back and deserialize data stored under single `addr`",$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.xH,J5],null)))],null)),$APP.re(Mlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null)))],
null)),$APP.re(zmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.bG],null)))],null)),$APP.re(Hlb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,olb],null)))],null)),$APP.re(Snb,new $APP.h(null,2,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null))),$APP.oI,new $APP.h(null,6,[$APP.DA,!1,$APP.Qs,2,$APP.DJ,2,$APP.lJ,new $APP.G(null,2,5,$APP.H,[new $APP.G(null,1,5,$APP.H,[R5],null),
new $APP.G(null,2,5,$APP.H,[R5,d6],null)],null),$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null)),$APP.fF,$APP.J(null,null)],null)],null)),$APP.re(pnb,new $APP.h(null,4,[knb,!0,$APP.qJ,$APP.vm,$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,1,5,$APP.H,[Ynb],null))),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)),$APP.re(Gmb,new $APP.h(null,1,[$APP.U,$APP.J($APP.Ak,$APP.J(new $APP.G(null,2,5,
$APP.H,[R5,$APP.$E],null)))],null))],[new $APP.h(null,3,[$APP.N,Alb,$APP.ju,bib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.re($APP.BH,new $APP.h(null,1,[$APP.Cm,b6],null))],null))],null)],null),new $APP.h(null,3,[$APP.N,Cmb,$APP.ju,function(a){return new R2(a,null,null,null)},$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null)),$APP.M,"Positional factory function for datascript.storage/StorageAdapter."],null)],null),new $APP.h(null,3,[$APP.N,
Rlb,$APP.ju,S2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J($APP.re(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.h(null,1,[$APP.Cm,tnb],null)))],null)],null),new $APP.h(null,3,[$APP.N,Bmb,$APP.ju,jib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null))],null)],null),new $APP.h(null,3,[$APP.N,Enb,$APP.ju,aib,$APP.mb,$APP.Uf],null),new $APP.h(null,3,[$APP.N,inb,$APP.ju,v6,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[d6],null),new $APP.G(null,
2,5,$APP.H,[d6,$APP.bG],null))],null)],null),new $APP.h(null,3,[$APP.N,Cnb,$APP.ju,T2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null))],null)],null),new $APP.h(null,3,[$APP.N,Ymb,$APP.ju,P2,$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[$APP.xH,e6,W5],null)),$APP.M,"Gives you a sequence of `[addr data]` pairs to serialize and store.\n\n     `addr`s are 64 bit integers.\n     `data`s are clojure-serializable data structure (maps, keywords, lists, integers etc)"],
null)],null),new $APP.h(null,3,[$APP.N,$mb,$APP.ju,W2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,3,5,$APP.H,[R5,cnb,Hnb],null))],null)],null),new $APP.h(null,3,[$APP.N,slb,$APP.ju,Q2,$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[$APP.xH,J5],null)),$APP.M,"Read back and deserialize data stored under single `addr`"],null)],null),new $APP.h(null,3,[$APP.N,llb,$APP.ju,lib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,$APP.bG],null))],null)],
null),new $APP.h(null,3,[$APP.N,qmb,$APP.ju,Y2,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[$APP.bG],null))],null)],null),new $APP.h(null,3,[$APP.N,Fnb,$APP.ju,cib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[d6,olb],null))],null)],null),new $APP.h(null,3,[$APP.N,vmb,$APP.ju,d3,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[R5],null),new $APP.G(null,2,5,$APP.H,[R5,d6],null))],null)],null),new $APP.h(null,3,[$APP.N,qnb,$APP.ju,function(a){var b=
$APP.Ll.h(a,X0);b=$APP.Be(a)?$APP.Eh.h($APP.Uf,b):b;return new R2(X0.g(a),null,$APP.Wf(b),null)},$APP.mb,new $APP.h(null,2,[$APP.U,$APP.J(new $APP.G(null,1,5,$APP.H,[Ynb],null)),$APP.M,"Factory function for datascript.storage/StorageAdapter, taking a map of keywords to field values."],null)],null),new $APP.h(null,3,[$APP.N,Nnb,$APP.ju,mib,$APP.mb,new $APP.h(null,1,[$APP.U,$APP.J(new $APP.G(null,2,5,$APP.H,[R5,$APP.$E],null))],null)],null)]),c7),O5,function(){var a=new $APP.Cd(function(){return d7},
Blb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.re(rlb,new $APP.h(null,1,[$APP.ou,!0],null)),O5,"nbb/impl/datascript.cljs",17,1,65,65,$APP.Hd,null,$APP.k(d7)?d7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,
b,d)}(),$APP.z([f6,function(){var a=new $APP.Cd(function(){return e7},Glb,$APP.gi([$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[$APP.re(rlb,new $APP.h(null,1,[$APP.ou,!0],null)),f6,"nbb/impl/datascript.cljs",19,1,66,66,$APP.Hd,null,$APP.k(e7)?e7.H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?$APP.eN.j(a,b,d):$APP.k(function(){var e=
$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}(),eob,Uob,mlb,function(){var a=new $APP.Cd(function(){return 1},vnb,$APP.gi([$APP.Qt,$APP.P,$APP.N,$APP.Vl,$APP.Zz,$APP.Om,$APP.Wl,$APP.EK,$APP.U,$APP.M,$APP.lF],[!0,$APP.EJ,mlb,"datascript/storage.cljs",25,1,31,31,$APP.Hd,null,$APP.k(1)?(1).H:null])),b=$APP.n(a),c=$APP.se(a);a=$APP.k(null)?null:$APP.N.g(c);var d=new $APP.h(null,4,[$APP.P,c7,$APP.N,a,$APP.U,$APP.U.g(c),$APP.M,$APP.M.g(c)],null);return $APP.k($APP.Uq.g(c))?
$APP.eN.j(a,b,d):$APP.k(function(){var e=$APP.kq.g(c);return $APP.k(e)?e:$APP.xq.g(c)}())?$APP.fN.j(a,b,d):$APP.iu.j(a,b,d)}()]));$APP.Yu(new $APP.h(null,1,[$APP.Kq,new $APP.h(null,4,[$APP.iJ,Fob,$APP.jK,Gob,$APP.EJ,Vob,$APP.eJ,Hob],null)],null));