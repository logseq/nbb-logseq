import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$node_process from"node:process";import*as esm_import$node_module from"node:module";import*as esm_import$node_fs from"node:fs";import*as esm_import$import_meta_resolve from"import-meta-resolve";import*as esm_import$node_path from"node:path";import*as esm_import$node_url from"node:url";var vMa,xMa,oMa,nMa,sMa,yMa,tMa,zMa,wMa;
$APP.mMa=function(a){a=$APP.Jd(a);a=$APP.js.h($APP.Af,a);a=$APP.qn.h(function(d){return $APP.iu($APP.Du(),d)},a);var b=$APP.n($APP.Oq),c=$APP.n($APP.wq);return $APP.Hu(a,new $APP.h(null,2,[$APP.P,b,$APP.Wl,c],null))};$APP.pMa=function(a,b){return nMa(oMa,a,b)};
$APP.VO=function(a,b){return Promise.resolve($APP.k($APP.n(qMa))?null:function(){var c=esm_import$node_path.resolve($APP.k(a)?a:"script.cljs"),d=$APP.k($APP.FB.g(b))?$APP.vi.j(b,$APP.FB,$APP.RK.g(esm_import$node_fs.readFileSync($APP.FB.g(b),"utf8"))):function(){var m;a:for(m=c;;){var p=esm_import$node_fs.existsSync(m);p=$APP.k(p)?esm_import$node_fs.lstatSync(m).isDirectory():p;if($APP.k(p)){p=esm_import$node_path.resolve(m,"nbb.edn");if($APP.k(esm_import$node_fs.existsSync(p))){m=p;break a}p=esm_import$node_path.dirname(m)}else p=
esm_import$node_path.dirname(m);if($APP.x.h(p,m)){m=null;break a}m=p}return $APP.k(m)?(p=$APP.RK.g(esm_import$node_fs.readFileSync(m,"utf8")),$APP.vi.l(b,$APP.FB,p,$APP.z([$APP.tJ,esm_import$node_path.dirname(m)]))):b}(),e=rMa.g?rMa.g(c):rMa.call(null,c),f=$APP.l.g(esm_import$node_url.pathToFileURL(c));$APP.Lu.require=e;$APP.Cj.F($APP.Nu,$APP.vi,$APP.yn,e);$APP.Cj.F($APP.Nu,$APP.vi,$APP.Ou,function(m){return esm_import$import_meta_resolve.resolve(m,f)});$APP.vg($APP.qN,d);return Promise.resolve(function(){var m=
function(){var E=$APP.Bb(sMa.g(d));return E?$APP.FB.g(d):E}();if($APP.k(m)){m=tMa.g(m);if($APP.k(m)){m=$APP.r(m);for(var p=null,u=0,t=0;;)if(t<u){var A=p.ha(null,t);$APP.Bb(esm_import$node_path.isAbsolute(A))?$APP.Bp(function(){var E=$APP.tJ.g(d);return $APP.k(E)?esm_import$node_path.resolve(E,A):A}()):$APP.Bp(A);t+=1}else if(m=$APP.r(m)){p=m;if($APP.Fe(p))m=$APP.dd(p),t=$APP.ed(p),p=m,u=$APP.ce(m),m=t;else{var C=$APP.v(p);$APP.Bb(esm_import$node_path.isAbsolute(C))?$APP.Bp(function(){var E=$APP.tJ.g(d);
return $APP.k(E)?esm_import$node_path.resolve(E,C):C}()):$APP.Bp(C);m=$APP.w(p);p=null;u=0}t=0}else break}else $APP.Bp(esm_import$node_process.cwd());return shadow_esm_import("./nbb_deps.js")}return $APP.Bp(esm_import$node_process.cwd())}()).then(function(){return $APP.vg(qMa,!0)})}())};$APP.uMa=function(a,b){return $APP.Nt(a,b)};
vMa=function(a,b){b=$APP.gu(a,$APP.al("(keys (ns-map '%s))","%s",b));b=$APP.fj.h(function(c){return["`",$APP.l.g(c)].join("")},b);b=["[",$APP.on.h(" ",b),"]"].join("");a=$APP.gu(a,b);return $APP.js.h(function(c){return $APP.jl($APP.l.g(c),"nbb.internal")},a)};
xMa=function(a,b){var c=$APP.Du();b=$APP.gl.h(b,/\//);$APP.y.j(b,0,null);var d=$APP.y.j(b,1,null),e=$APP.gu(c,$APP.xj.l($APP.z([$APP.R.g($APP.r($APP.K.l(new $APP.D(null,$APP.Sq,null,1,null),new $APP.D(null,$APP.df($APP.R.g($APP.r($APP.K.h(new $APP.D(null,wMa,null,1,null),new $APP.D(null,$APP.R.g($APP.r($APP.K.h(new $APP.D(null,$APP.epa,null,1,null),new $APP.D(null,$APP.R.g($APP.r($APP.K.h(new $APP.D(null,$APP.Bk,null,1,null),new $APP.D(null,a,null,1,null)))),null,1,null)))),null,1,null))))),null,
1,null),$APP.z([new $APP.D(null,$APP.R.g($APP.r($APP.K.l(new $APP.D(null,$APP.kJ,null,1,null),new $APP.D(null,$APP.R.g($APP.r($APP.K.h(new $APP.D(null,$APP.jua,null,1,null),new $APP.D(null,wMa,null,1,null)))),null,1,null),$APP.z([new $APP.D(null,wMa,null,1,null)])))),null,1,null)]))))])));if($APP.k(e)&&(c=$APP.k(d)?function(){var p=$APP.Fa(d,"."),u=$APP.gl.h(d,/\./);p=p?u:$APP.Ei(u);return new $APP.G(null,2,5,$APP.H,[[$APP.l.g(a),"/",$APP.r(p)?[$APP.on.h(".",p),"."].join(""):null].join(""),$APP.qg.j($APP.Ka,
e,p)],null)}():new $APP.G(null,2,5,$APP.H,[[$APP.l.g(a),"/"].join(""),e],null),$APP.k(c))){var f=$APP.y.j(c,0,null),m=$APP.y.j(c,1,null);c=function(){for(var p=m,u=$APP.Tg;;)if($APP.k(p)){var t=Object.getPrototypeOf(p);u=$APP.Fh.h(u,Object.getOwnPropertyNames(p));p=t}else return u}();return $APP.fj.h(function(p){return new $APP.G(null,2,5,$APP.H,[null,[$APP.l.g(f),$APP.l.g(p)].join("")],null)},c)}return null};
$APP.AMa=function(a){var b=$APP.Wf(a);a=$APP.B.h(b,$APP.P);try{var c=$APP.Du(),d=$APP.k(a)?$APP.uMa(c,$APP.lj.g(a)):null,e=$APP.Uf([$APP.Oq,$APP.k(d)?d:$APP.n($APP.Oq)]);$APP.Zp(e);try{var f=function(){var la=$APP.Am.g(b);return $APP.k(la)?la:$APP.$G.g(b)}();if($APP.k(f)){var m=$APP.Ha(f,"/"),p=m?function(){var la=$APP.gl.h(f,/\//);la=null==la?null:$APP.v(la);return null==la?null:$APP.lj.g(la)}():null,u=vMa(c,$APP.gu(c,"(ns-name *ns*)")),t=$APP.fj.h(function(la){return new $APP.G(null,3,5,$APP.H,
[$APP.Cf(la),$APP.Fi(la),yMa],null)},u),A=$APP.gu(c,"(let [m (ns-aliases *ns*)] (zipmap (keys m) (map ns-name (vals m))))"),C=$APP.Gi($APP.ti(A),$APP.ri(A)),E=$APP.Sn.g($APP.Pg.l(function(la){var xa=$APP.B.h(A,la);la=$APP.gu(c,$APP.al("(keys (ns-publics '%s))","%s",xa));return $APP.fj.h(function(sa){return new $APP.G(null,3,5,$APP.H,[$APP.l.g(xa),$APP.l.g(sa),zMa],null)},la)},$APP.z([$APP.ri(A)]))),I=$APP.fj.h(function(la){return new $APP.G(null,3,5,$APP.H,[$APP.l.g(la),null,zMa],null)},$APP.gu(c,
"(all-ns)")),Q=m?xMa(p,f):null,T=$APP.k(Q)?null:m?function(){var la=$APP.B.j(A,p,p),xa=$APP.gu(c,$APP.al("(and (find-ns '%s)\n                                                                                         (keys (ns-publics '%s)))","%s",la));return $APP.fj.h(function(sa){return new $APP.G(null,3,5,$APP.H,[$APP.l.g(la),$APP.l.g(sa),zMa],null)},xa)}():null,Z=$APP.K.l(t,E,$APP.z([I,T])),ba=$APP.un.h(function(la){var xa=$APP.y.j(la,0,null);var sa=$APP.y.j(la,1,null);la=$APP.y.j(la,2,null);la=
$APP.x.h(yMa,la)&&$APP.Ha(sa,f)?new $APP.G(null,2,5,$APP.H,[xa,sa],null):null;$APP.k(la)?xa=la:$APP.k(xa)?(la=[$APP.l.g($APP.B.h(C,$APP.lj.g(xa))),"/",$APP.l.g(sa)].join(""),la=$APP.Ha(la,f)?new $APP.G(null,2,5,$APP.H,[xa,la],null):null,$APP.k(la)?xa=la:(sa=[$APP.l.g(xa),"/",$APP.l.g(sa)].join(""),xa=$APP.Ha(sa,f)?new $APP.G(null,2,5,$APP.H,[xa,sa],null):null)):xa=null;return xa},Z),da=$APP.K.h(ba,Q),ja=$APP.df($APP.Jy.g($APP.fj.h(function(la){var xa=$APP.y.j(la,0,null);la=$APP.y.j(la,1,null);la=
new $APP.h(null,1,["candidate",$APP.l.g(la)],null);return $APP.k(xa)?$APP.vi.j(la,"ns",$APP.l.g(xa)):la},da)));return new $APP.h(null,2,["completions",ja,"status",new $APP.G(null,1,5,$APP.H,["done"],null)],null)}return new $APP.h(null,1,["status",new $APP.G(null,1,5,$APP.H,["done"],null)],null)}finally{$APP.aq()}}catch(la){return console.warn(la),new $APP.h(null,2,["completions",$APP.Tg,"status",new $APP.G(null,1,5,$APP.H,["done"],null)],null)}};oMa={};
nMa=function nMa(a,b,c){for(;;){if(b instanceof Promise)return b;if(oMa===a){if($APP.Ke(b))return $APP.uN(b,b,c,nMa);a=$APP.Tu(b,c)}else{b=Promise;var e=b.resolve;var f=$APP.DI.g(c);f=$APP.k(f)?f:$APP.ff;c=new $APP.h(null,1,[$APP.P,$APP.P.g(c)],null);c=f.h?f.h(a,c):f.call(null,a,c);return e.call(b,c)}}};$APP.BMa=new $APP.q(null,"socket-repl","socket-repl",-1615225633,null);$APP.CMa=new $APP.q(null,"repl","repl",1605132860,null);sMa=new $APP.F(null,"disableConfig","disableConfig",844586790);
yMa=new $APP.F(null,"unqualified","unqualified",-98904653);tMa=new $APP.F(null,"paths","paths",-1807389588);zMa=new $APP.F(null,"qualified","qualified",-2065109343);$APP.DMa=new $APP.q(null,"start-server!","start-server!",203437330,null);$APP.WO=new $APP.F(null,"classpath","classpath",299521985);wMa=new $APP.q(null,"resolved__34611__auto__","resolved__34611__auto__",1364335333,null);var rMa,qMa;rMa=function(){var a=esm_import$node_module.createRequire;return $APP.k(a)?a:function(){return function(){throw Error("createRequire is not defined, this is a no-op");}}}();qMa=$APP.Bj.g(!1);$APP.XO=function XO(a){switch(arguments.length){case 1:return XO.g(arguments[0]);case 2:return XO.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};$APP.XO.g=function(a){return $APP.XO.h(a,null)};
$APP.XO.h=function(a,b){b=$APP.fz.l(b,$APP.z([$APP.gz,!0]));var c=esm_import$node_path.resolve(a);$APP.vg($APP.GJa,c);return $APP.VO(c,b).then(function(){return $APP.Yu(c)})};$APP.XO.B=2;$APP.YO=function YO(a){switch(arguments.length){case 1:return YO.g(arguments[0]);case 2:return YO.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.l.g(arguments.length)].join(""));}};$APP.YO.g=function(a){return $APP.YO.h(a,null)};
$APP.YO.h=function(a,b){b=$APP.fz.l(b,$APP.z([$APP.gz,!0]));return $APP.VO(null,b).then(function(){return $APP.Wu(a)})};$APP.YO.B=2;export const loadFile=$APP.XO;export const loadString=$APP.YO;export const getClassPath=function(){return $APP.Ap()};export const addClassPath=function(a){return $APP.Bp(a)};export const version=function(){return $APP.kv()};export const registerModule=function(a,b){b=$APP.Uia($APP.Kk(b));return $APP.Cj.F($APP.Mu,$APP.vi,b,a)};export const printErrorReport=$APP.vN;